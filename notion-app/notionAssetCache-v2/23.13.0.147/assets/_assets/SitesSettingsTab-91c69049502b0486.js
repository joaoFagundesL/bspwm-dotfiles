"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9582],{81575:(e,t,i)=>{i.d(t,{AK:()=>g,Mc:()=>r,OS:()=>c,Td:()=>h,Uu:()=>a,XC:()=>l,ZK:()=>y,e8:()=>p,gV:()=>u,hc:()=>f,n0:()=>x,u0:()=>m,xi:()=>d});var o=i(97978),n=i(15010),s=i(35057);function r(e){o.j(e,"add_slack_integration")}function a(e){o.j(e,"remove_slack_integration")}function l(e,t){o.j(e,"slack_notification_create",t)}function d(e,t){o.j(e,"slack_notification_delete",t)}function c(e,t){o.j(e,"slack_notification_update",t)}function u(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_render_button",{subscription_tier:i,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id})}function p(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_render_invite_popup",{subscription_tier:i,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id})}function g(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_click_invite_button",{subscription_tier:i,domain_type:r,invited_user_count:t.invited_user_count,origin:t.origin,invite_token_query:t.inviteTokenQuery,invite_targets:t.inviteTargets,invite_flow_id:t.invite_flow_id})}function m(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_completed",{subscription_tier:i,domain_type:r,invited_user_count:t.invited_user_count,is_success:t.is_success,origin:t.origin,invite_flow_id:t.invite_flow_id,error:t.error,invite_stage:t.invite_stage})}function h(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_dismiss_popup",{subscription_tier:i,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id})}function f(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_click_select_all",{subscription_tier:i,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id,invited_user_count:t.invited_user_count,is_unselect:t.is_unselect,invite_token_query:t.invite_token_query})}function x(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_start_slack_integration",{subscription_tier:i,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from})}function y(e,t){const i=s.zt(),r=n.JF();o.j(e,"slack_imports_invite_complete_slack_integration",{subscription_tier:i,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from,is_success:t.is_success})}},27386:(e,t,i)=>{i.d(t,{Um:()=>u,ZP:()=>p,kN:()=>c});i(67294);var o=i(480),n=i(24405),s=i(34859),r=i(91754),a=i(61519),l=i(53336),d=i(85893);function c(e){return e?18:60}function u(){return(0,d.jsx)(a.Z,{size:37})}const p=function(e){let{children:t,controlRow:i,bannerText:a,controlRowPaddingTopBottom:u,removeBoxShadow:p,contentPaddingLeftRight:g,controlRowPaddingLeftRight:m,getPaddingTopBottom:h,disableScroller:f}=e;const x=(0,n.Fg)(),y=(0,o.O7)(),{device:b}=y,v=h?h():b.isMobile?18:36;return f?(0,d.jsxs)("div",{style:{paddingLeft:c(b.isMobile),paddingRight:c(b.isMobile)},children:[(0,d.jsx)("div",{style:{paddingTop:v,paddingBottom:v},children:t}),i&&(0,d.jsx)("div",{style:{paddingTop:u,paddingBottom:u,boxShadow:`0 -1px 0 ${x.regularDividerColor}`},children:i})]}):(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",backgroundColor:x.cardContentBackground},children:[a&&(0,d.jsx)(r.Z,{styleKey:r.v.Blue,isMobile:!1,children:a}),(0,d.jsx)(l.Z,{type:s.Z.All,style:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:g??c(b.isMobile),paddingRight:g??c(b.isMobile),paddingTop:a?15:v,paddingBottom:a?22:v},children:t}),i&&(0,d.jsx)("div",{style:{flexGrow:0,flexShrink:0,paddingLeft:m??c(b.isMobile),paddingRight:m??c(b.isMobile),paddingTop:u,paddingBottom:u,boxShadow:p?void 0:`0 -1px 0 ${x.regularDividerColor}`},children:i})]})}},90309:(e,t,i)=>{i.d(t,{Z:()=>a});i(67294);var o=i(24405),n=i(37810),s=i(72714),r=i(85893);function a(e){const{domainName:t,domainType:i}=e,a=(0,o.yK)((e=>({tag:{width:"fit-content",maxWidth:"98%",paddingLeft:6,paddingRight:6,borderRadius:3,background:e.buttonHoveredBackground,...n.Z.textOverflowStyle}})),[]);return(0,r.jsx)("div",{style:a.tag,children:s.Bk({domainName:t,domainType:i})})}},32081:(e,t,i)=>{i.d(t,{Z:()=>w});var o=i(67294),n=i(86628),s=i(24405),r=i(15145),a=i(45238),l=i(85893);const d=(0,a.IU)("home",{viewBox:"0 0 18 16",svg:(0,l.jsx)("path",{d:"M4.3584 15.9004H13.6074C14.6943 15.9004 15.3301 15.2646 15.3301 14.2188V7.93652L16.0752 8.55859C16.2598 8.71582 16.4717 8.83203 16.7041 8.83203C17.1484 8.83203 17.4834 8.55176 17.4834 8.11426C17.4834 7.86133 17.3809 7.64941 17.1826 7.47852L15.3301 5.92676V2.95996C15.3301 2.65234 15.1318 2.4541 14.8174 2.4541H13.751C13.4434 2.4541 13.2314 2.65234 13.2314 2.95996V4.16309L10.0664 1.50391C9.42383 0.957031 8.59668 0.957031 7.94727 1.50391L0.824219 7.48535C0.619141 7.64941 0.516602 7.88184 0.516602 8.10059C0.516602 8.50391 0.817383 8.83203 1.30273 8.83203C1.52832 8.83203 1.74023 8.71582 1.9248 8.55859L2.63574 7.9707V14.2188C2.63574 15.2715 3.27148 15.9004 4.3584 15.9004ZM10.9619 9.95996C10.9619 9.63867 10.75 9.42676 10.4287 9.42676H7.57129C7.25 9.42676 7.03809 9.63867 7.03809 9.95996V14.376H4.80273C4.38574 14.376 4.15332 14.1367 4.15332 13.7197V6.69238L8.67871 2.89844C8.88379 2.7207 9.12305 2.7207 9.33496 2.89844L13.8125 6.6582V13.7197C13.8125 14.1367 13.5801 14.376 13.1631 14.376H10.9619V9.95996Z",fill:"#ADACAA"})});var c=i(54851),u=i(39567),p=i(9291),g=i(84076),m=i(31278),h=i(76798),f=i(26388),x=i(84210),y=i(98742),b=i(98567),v=i(4023);function _(e){let{store:t,...i}=e;const n=(0,o.useCallback)((e=>(0,l.jsx)(b.E5,{store:t,events:e})),[t]);return(0,l.jsx)(f.ZP,{noStyle:!0,delayThreshold:400,placement:v.u.Bottom,alignment:v.v.Start,renderTooltip:n,...i})}const k=o.memo(_);var j=i(92083);function w(e){const{store:t,disableNavigationToPageOnClick:i,isPublicHomePage:a,style:d}=e,p=(0,n.VK)((()=>{if(t)return{icon:t.getIcon(),isEmptyPage:t.isEmptyPage(),url:(0,x.Hu)({store:t,pageVisitSource:r.tY.SiteSettings})}}),[t]),f=(0,o.useCallback)((e=>{e.metaKey||j.Z.setState({...j.Z.state,open:!1})}),[]),b=(0,s.yK)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden"},emptyPageIcon:{height:18,width:18,fill:e.accentColors.gray[500]},iconContainer:{position:"relative",width:20,height:20,marginRight:4},linkBox:{borderRadius:3,maxWidth:a?"88%":"100%"},linkIcon:{position:"absolute",width:10,height:10,right:0,bottom:0},pageRecordContainer:{display:"flex",alignItems:"center",padding:"2px 6px",...d},pageTitle:{wordBreak:"break-word",borderBottom:"0.05em solid rgba(55,53,47,.25)"}})),[a,d]);if(!t||!p)return null;const v=(0,l.jsxs)("div",{style:b.pageRecordContainer,children:[(0,l.jsxs)("div",{style:b.iconContainer,children:[p.icon?(0,l.jsx)(m.Z,{icon:p.icon,store:t,disabled:!0,size:16,isEmptyPage:p.isEmptyPage,emojiSize:20}):(0,c.S)(b.emptyPageIcon),(0,u.Y)(b.linkIcon)]}),(0,l.jsx)(h.Z,{store:t,style:b.pageTitle})]});return i?(0,l.jsxs)("div",{style:b.container,children:[v,(0,l.jsx)(M,{isPublicHomePage:a})]}):(0,l.jsxs)("div",{style:b.container,children:[(0,l.jsx)(k,{store:t,render:e=>(0,l.jsx)(g.Z,{href:null==p?void 0:p.url,style:b.linkBox,...(0,y.Z)(e,{onClick:f}),children:v})}),(0,l.jsx)(M,{isPublicHomePage:a})]})}function M(e){const{isPublicHomePage:t}=e,i=(0,s.yK)((()=>({homeIcon:{width:18,height:18,marginLeft:4}})),[]);return t?(0,l.jsx)(f.ZP,{renderTooltip:()=>(0,l.jsx)(p.FormattedMessage,{id:"SitesRecord.homePageTooltip",defaultMessage:"This is your homepage on the web"}),placement:f.ug.Bottom,alignment:f.v2.Center,originGap:6,render:e=>(0,l.jsx)("span",{...e,children:d(i.homeIcon)})}):null}},93872:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ne});var o=i(67294),n=i(86628),s=i(24405),r=i(9291),a=i(37810),l=i(61519),d=i(74523),c=i(27386),u=i(23189),p=i(4708),g=i(18514),m=i(77907),h=(i(57658),i(30120)),f=i(480),x=i(15145),y=i(7057),b=i(7189),v=i(40462),_=i(27714),k=i(18442),j=i(85354),w=i(14549),M=i(893),C=i(12714),S=i(64921),B=i(73063),F=i(36596),Z=i(50506),P=i(26388),I=i(64369),T=i(29302),L=i(40235),A=i(84210),D=i(32326),O=i(259),V=i(81236),E=i(6258),U=i(68973),K=i(18471),R=i(90309),H=i(32081),N=i(21202),W=i(79395),Y=i(90335),z=i(85893);function $(e){const{spaceStore:t,blockId:i,onDismiss:o,onUnpublish:r}=e,a=E.G.createChildStore(t,{table:N.iU,id:i}),l=(0,n.VK)((()=>Y.mk({spaceStore:t,store:a}).mostPermissivePublicItem),[t,a]),d=(0,s.yK)((()=>({container:{position:"relative",paddingLeft:2,paddingRight:2,paddingBottom:6,paddingTop:16,width:480}})),[]);return"none"===l.permissionItem.role?(o(),null):(0,z.jsx)("div",{style:d.container,children:(0,z.jsx)(W.Z,{store:a,mostPermissivePublicItem:l,permissionItemArgs:{location:"published_site_settings"},shouldAskForConfirmationOnPublish:!0,onUnpublish:r})})}const G=5e3;function J(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"3px 5px":0;return[{key:"page",header:(0,z.jsx)(r.FormattedMessage,{id:"sites.header.pageColumnHeader",defaultMessage:"Page"}),style:{width:"24%",padding:e}},{key:"domain",header:(0,z.jsx)(r.FormattedMessage,{id:"sites.header.domainColumnHeader",defaultMessage:"Domain"}),style:{width:"28%"}},{key:"published-by",header:(0,z.jsx)(r.FormattedMessage,{id:"sites.home.publishedByColumnHeader",defaultMessage:"Published by"}),style:{width:"20%",padding:e}},{key:"published-date",header:(0,z.jsx)(r.FormattedMessage,{id:"sites.home.publishedDateColumnHeader",defaultMessage:"Published date"}),style:{width:"16%",padding:e}}]}function q(e){let{column:t,onSortableColumnClick:i,header:o}=e;const r=(0,s.yK)((e=>({wrapper:{display:"flex"},text:{fontSize:a.Z.fontSize.UISmall.desktop,fontWeight:a.Z.fontWeight.regular,color:e.mediumTextColor},sortButton:{display:"flex",alignItems:"center",padding:"3px 5px",overflow:"hidden",maxWidth:"100%",borderRadius:4},sortIcon:{fill:e.mediumTextColor,width:12,height:12,marginLeft:4}})),[]),{sortColumn:l,sortAscending:d}=(0,n.VK)((()=>{const{sortColumn:e,sortAscending:t}=K.Z.state;return{sortColumn:e,sortAscending:t}}),[]),c=["page","published-or-created-by","published-date"].includes(t),u=()=>{if(t===l)return(0,b.K)({...r.sortIcon,...!d&&{transform:"rotate(180deg)"}})};return o&&c?(0,z.jsx)("div",{style:r.wrapper,children:(0,z.jsxs)(S.Z,{style:r.sortButton,onClick:()=>i(t),children:[o,u()]})}):o?(0,z.jsx)("div",{style:r.wrapper,children:o}):(0,z.jsx)(z.Fragment,{children:o})}function Q(e){const{spaceStore:t}=e,i=(0,f.O7)(),a=i.currentUser.id,l=(0,r.useIntl)(),[d,c]=(0,o.useState)(void 0),p=(0,n.VK)((()=>t.getPublicHomePage()),[t]);(0,o.useEffect)((()=>(U.mk(i,{spaceStore:t,currentUserId:a,limit:G}),()=>{U.Zg(t)})),[i,t,a,p]);const g=(0,s.yK)((()=>({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},header:{display:"flex",flexDirection:"column",flex:1},caption:{width:"80%",marginBottom:6},captionCTA:{marginBottom:6,padding:0,paddingLeft:0,paddingRight:0,backgroundColor:void 0,boxShadow:void 0,textAlign:"left",alignItems:"flex-start"},tableBox:{tableLayout:"fixed"},cell:{paddingRight:12,height:44},shimmerBox:{height:12,gap:16,display:"flex",borderRadius:6}})),[]),m=(0,n.VK)((()=>t.canAdmin()),[t]),x=(0,n.VK)((()=>{const e=K.Z.getSortedSitesForSpace(t.id,l);if(!e)return;const o=[];for(const n of e){const{store:e,publishedMetadata:s}=n,r=e.id,a=e.canAdmin(),d=t.getPublicContentDomain()||"",u=s.publishedTime?(0,y.ZW)(h.ou.fromMillis(s.publishedTime),"medium"):"",g=s.publishedBy,m=g?E.t1.createChildStore(e,g):void 0,f=null==m?void 0:m.getDisplayName(l),x=m instanceof E.U6?(0,z.jsx)(T.Z,{userStore:m,avatarSize:20,style:{width:"fit-content",maxWidth:"98%"}},`${r}-published-by`):(0,z.jsx)(X,{text:f},`${r}-published-by`);o.push({key:r,columns:[(0,z.jsx)(H.Z,{store:e,isPublicHomePage:r===p},r),(0,z.jsx)(R.Z,{domainName:d,domainType:"default"},`${r}-domain`),x,(0,z.jsx)(X,{text:u},`${r}-published-on`),(0,z.jsx)(ee,{store:e},`${r}-view-site`),(0,z.jsx)(te,{store:e},`${r}-copy-site-link`),(0,z.jsx)(ie,{disabled:!a,onClick:()=>{c(r),w.gV(i,{action:"configure_site"})}},`${r}-configure-site`)]})}return[...o.filter((e=>e.key===p)),...o.filter((e=>e.key!==p))]}),[t,p,l,i]),b=(0,o.useCallback)((()=>{c(void 0)}),[c]),v=(0,o.useMemo)((()=>Array.from({length:9}).map(((e,t)=>({columns:Array.from({length:5}).map(((e,t)=>(0,z.jsx)(F.Z,{style:g.shimmerBox},t))),key:`shimmerRow-${t}`})))),[g.shimmerBox]),_=!x,k=x&&0===x.length,j=(0,o.useCallback)((e=>{const{sortColumn:t,sortAscending:i}=K.Z.state,o=e!==t||!i;K.Z.setState({...K.Z.state,sortAscending:o,sortColumn:e})}),[]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(u.Z,{style:g.headerContainer,children:(0,z.jsxs)("div",{style:g.header,children:[(0,z.jsx)(r.FormattedMessage,{id:"sites.home.title",defaultMessage:"Published sites"}),m?(0,z.jsx)(O.V,{style:g.captionCTA,title:(0,z.jsx)(r.FormattedMessage,{id:"sites.learnAboutDomains.setDomainAndHomePage",defaultMessage:"You can set up a public domain and a home page in your <settings>workspace settings</settings>.",values:{settings:e=>(0,z.jsx)(D.x,{children:e})}})}):(0,z.jsx)(I.Z,{isSmall:!0,style:g.caption,children:(0,z.jsx)(r.FormattedMessage,{id:"sites.home.caption",defaultMessage:"See all pages you can access that are published to the web."})})]})}),_?(0,z.jsx)(L.Z,{columns:[...J(!0),{key:"configure",header:(0,z.jsx)(z.Fragment,{}),style:{width:"12%"}}],rows:v,tableStyle:g.tableBox,cellStyle:g.cell}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(L.Z,{columns:[...J(!1),{key:"view",header:(0,z.jsx)(z.Fragment,{}),style:{width:"4%"}},{key:"copy",header:(0,z.jsx)(z.Fragment,{}),style:{width:"4%"}},{key:"configure",header:(0,z.jsx)(z.Fragment,{}),style:{width:"4%"}}].map((e=>({key:e.key,header:(0,z.jsx)(q,{column:e.key,onSortableColumnClick:j,header:e.header}),style:e.style}))),rows:x,tableStyle:g.tableBox,cellStyle:g.cell}),k&&(0,z.jsx)(oe,{})]}),(0,z.jsx)(Z.Z,{open:Boolean(d),onDismiss:b,showCloseIcon:!0,render:()=>d?(0,z.jsx)($,{spaceStore:t,blockId:d,onDismiss:b,onUnpublish:()=>{K.Z.removeSiteFromSpace(t.id,d)}}):null})]})}function X(e){const{text:t}=e,i=(0,s.yK)((()=>({text:{width:"fit-content",maxWidth:"98%",...a.Z.textOverflowStyle}})),[]);return t?(0,z.jsx)("div",{style:i.text,children:t}):null}function ee(e){const{store:t}=e,i=(0,f.O7)(),n=(0,s.yK)((e=>({viewSiteButtonIcon:{width:18,height:18,fill:e.accentColors.gray[500]}})),[]),a=(0,o.useCallback)((()=>{const e=(0,A.Hu)({store:t,preferPublicLink:!0,getSpaceDomain:()=>{var e;return null===(e=V.Z.getData(i,{spaceId:t.getSpaceId()}))||void 0===e?void 0:e.domain},pageVisitSource:x.tY.SiteSettings});C.D({environment:i,url:e}),w.gV(i,{action:"view_site"})}),[t,i]);return(0,z.jsx)(P.ZP,{renderTooltip:()=>(0,z.jsx)(r.FormattedMessage,{id:"sites.viewSite.tooltip",defaultMessage:"View site"}),placement:P.ug.Bottom,render:e=>(0,z.jsx)(B.Z,{...e,ariaLabel:"View site",icon:v.o,iconStyle:n.viewSiteButtonIcon,onClick:a})})}function te(e){const{store:t}=e,i=(0,f.O7)(),n=(0,s.yK)((e=>({copySiteLinkButtonIcon:{width:16,height:16,fill:e.accentColors.gray[500]}})),[]),a=(0,o.useCallback)((()=>{const e=(0,A.Hu)({store:t,preferPublicLink:!0,getSpaceDomain:()=>{var e;return null===(e=V.Z.getData(i,{spaceId:t.getSpaceId()}))||void 0===e?void 0:e.domain},pageVisitSource:x.tY.SiteSettings});M.RD({environment:i,stringValue:e,copiedMessage:M.tq.copiedLinkToClipboard}),w.gV(i,{action:"copy_site_link"})}),[t,i]);return(0,z.jsx)(P.ZP,{renderTooltip:()=>(0,z.jsx)(r.FormattedMessage,{id:"sites.copySiteLink.tooltip",defaultMessage:"Copy link to site"}),placement:P.ug.Bottom,render:e=>(0,z.jsx)(B.Z,{...e,ariaLabel:"Copy link to site",icon:_.N,iconStyle:n.copySiteLinkButtonIcon,onClick:a})})}function ie(e){const{disabled:t,onClick:i}=e,o=(0,s.yK)((e=>({configureButtonIcon:{width:16,height:16,fill:e.accentColors.gray[500]}})),[]),n=t?(0,z.jsx)(r.FormattedMessage,{id:"sites.configureButton.noEditAccessTooltip",defaultMessage:"You do not have access to update the settings for this published site."}):(0,z.jsx)(r.FormattedMessage,{id:"sites.configureButton.tooltip",defaultMessage:"Configure site settings"});return(0,z.jsx)(P.ZP,{renderTooltip:()=>n,placement:P.ug.Bottom,render:e=>(0,z.jsx)(B.Z,{...e,ariaLabel:"Configure site settings",icon:k.H,iconStyle:o.configureButtonIcon,disabled:t,onClick:i})})}function oe(){const e=(0,s.yK)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:170,paddingBottom:170,borderBottom:1,borderBottomStyle:"solid",borderBottomColor:e.regularDividerColor},message:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},emptyIcon:{height:32,width:32,color:e.mediumIconColor,marginRight:6},learnMoreButton:{fontWeight:a.Z.fontWeight.regular}})),[]);return(0,z.jsxs)("div",{style:e.container,children:[(0,j.u)(e.emptyIcon),(0,z.jsx)(I.Z,{children:(0,z.jsx)(r.FormattedMessage,{id:"sites.results.empty",defaultMessage:"You have no published sites in this workspace"})}),(0,z.jsx)("div",{style:e.message}),(0,z.jsx)(d.Z,{buttonStyle:e.learnMoreButton,title:(0,z.jsx)(r.FormattedMessage,{id:"sites.caption.learnMore",defaultMessage:"Learn more about publishing"}),href:(0,g.UY)("guides.autogeneratedDomains"),analyticsFrom:"sites_settings"})]})}function ne(e){const{spaceStore:t}=e,i=(0,n.VK)((()=>(0,p.wf)()),[]),o=(0,s.yK)((()=>({headerContainer:{display:"flex"},titleContainer:{flex:1},learnMoreButton:{fontWeight:a.Z.fontWeight.regular}})),[]);return(0,z.jsxs)(c.ZP,{children:[(0,z.jsx)(u.Z,{large:!0,divider:"full",children:(0,z.jsxs)("div",{style:o.headerContainer,children:[(0,z.jsx)("div",{style:o.titleContainer,children:(0,z.jsx)(r.FormattedMessage,{id:"sites.heading.title",defaultMessage:"Sites"})}),(0,z.jsx)(d.Z,{buttonStyle:o.learnMoreButton,title:(0,z.jsx)(r.FormattedMessage,{id:"sites.heading.learnMore",defaultMessage:"Learn more"}),href:(0,g.UY)("guides.autogeneratedDomains"),analyticsFrom:"sites_settings"})]})}),i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(m.LazySitesDomainsSection,{spaceStore:t}),(0,z.jsx)(l.Z,{size:36,isHidden:!0})]}),(0,z.jsx)(Q,{spaceStore:t})]})}},56638:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(49085);class n extends o.default{getInitialState(){return{open:!1}}}const s=new n},87199:(e,t,i)=>{i.d(t,{h:()=>s,k:()=>n});var o=i(9291);const n=(0,o.defineMessages)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"},adminOnlyAction:{id:"subscriptions.adminOnlyAction",defaultMessage:"Only workspace owners can perform this action."},iosSubscriptionRestriction:{id:"subscriptions.iosSubscriptionRestriction",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."}}),s=(0,o.defineMessages)({trialTitle:{id:"nudges.trial.title",defaultMessage:"Notion for collaboration"},trialDescription:{id:"nudges.trial.description",defaultMessage:"Get 14 days of unlimited content creation with others"},trialCta:{id:"nudges.trial.cta",defaultMessage:"Try it for free"},trialTooltip:{id:"nudges.trial.tooltip",defaultMessage:"Use Notion as much as you want, with as many people as you like. You’ll receive a reminder when your trial is ending, and can cancel anytime."},approachingBlockLimitTitle:{id:"nudges.approachingBlockLimit.title",defaultMessage:"Upgrade to go unlimited"},approachingBlockLimitDescription:{id:"nudges.approachingBlockLimit.description",defaultMessage:"Continue using Notion to collaborate with others"},approachingBlockLimitCta:{id:"nudges.approachingBlockLimit.cta",defaultMessage:"Upgrade plan"},approachingBlockLimitTooltip:{id:"nudges.approachingBlockLimit.tooltip",defaultMessage:"You’re reaching the maximum number of free blocks given on your plan ({percent}%). You won’t be able to create more content unless you upgrade to the Plus plan."},reachedBlockLimitTitle:{id:"nudges.reachedBlockLimit.title",defaultMessage:"Keep using Notion"},reachedBlockLimitDescription:{id:"nudges.reachedBlockLimit.description",defaultMessage:"{spaceName} has used 100% of the free blocks in the workspace"},reachedBlockLimitCta:{id:"nudges.reachedBlockLimit.cta",defaultMessage:"Upgrade plan"},reachedBlockLimitTooltip:{id:"nudges.reachedBlockLimit.tooltip",defaultMessage:"You’ve reached the maximum number of free blocks for your plan (100%). You won’t be able to create more content unless you upgrade to the Plus plan."}})},44041:(e,t,i)=>{i.d(t,{y:()=>v});i(67294);var o=i(47425),n=i(9291),s=i(86572),r=i(47307),a=i(33929),l=i(52533),d=i(80444),c=i(92083),u=i(39343),p=i(87199),g=i(70060),m=i(88893),h=i(35057),f=i(88280),x=i(81023),y=i(64891),b=i(85893);async function v(e,t){var i;s.sA(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,h.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature&&(0,g.XA)(e))return void c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0});if(!t.addOnFeature&&(0,o.QM)(t.for))return;const v=(0,l.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,l.Y2)({environment:e})?(0,b.jsx)(n.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Visit on desktop to purchase Notion AI and go unlimited."}):(0,b.jsx)(n.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Unfortunately, additional AI responses cannot be purchased on this platform."});return void r.showErrorMessage(t)}if(!v)return}const _=d.default.state.currentSpaceStore;if(!_)return;if(!_.canAdmin())return;await x.bi(e);const k=f.subscriptionDataStoreInstance.state;if(!k)return;if("unsubscribed_admin"!==k.type&&"subscribed_admin"!==k.type)return void(t.dontOpenPlansOnCancel||c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}));if(m.ri(k))return void r.showErrorMessage(a.default.formatMessage(p.k.paymentMethodUnverified));if(m.Q6(k)){const e=(0,b.jsx)(n.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void r.showErrorMessage(e)}if(v)return void(e.mobileNative&&_.id&&e.mobileNative.openUpgradeModal(_.id));if("revenueCat"===(null===(i=k.customerData)||void 0===i?void 0:i.activeSubscriptionPlatform)){const e=(0,b.jsx)(n.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void r.showErrorMessage(e)}const j=m.XX(k);if(t.addOnFeature&&(0,u.Fk)(j)){const e=(0,b.jsx)(n.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});r.showErrorMessage(e)}else{if(j&&m.MM(k))return t.addOnFeature?void y.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:j.interval,pageSection:t.pageSection}):void y.af({environment:e,from:t.from,view:"plans",temporarySubscriptionTier:t.for,billingInterval:j.interval,pageSection:t.pageSection});{const i=(0,g.px)(e,t.for)?"ai_fifty_percent":void 0;x.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:i,isTrial:t.isTrial})}}}},32856:(e,t,i)=>{i.d(t,{D:()=>s});var o=i(86628),n=i(77080);function s(e){const{experimentId:t,groups:i,disableExposureLogging:s}=e,r=function(e){const{experimentId:t,disableExposureLogging:i,defaultGroup:s}=e;return(0,o.VK)((()=>n.default.getEligibleGroup({experimentId:t,defaultGroup:s??"control",disableExposureLogging:i})),[t,i,s])}({experimentId:t,disableExposureLogging:s});return i[r]}},91694:(e,t,i)=>{i.d(t,{Z:()=>x});i(67294);var o=i(480),n=i(86628),s=i(24405),r=i(47425),a=i(9291),l=i(31701),d=i(1898),c=i(37810),u=i(74136),p=i(26388),g=i(44041),m=i(70060),h=i(32856),f=i(85893);const x=function(e){let{subscriptionTier:t,mobileStyle:i,desktopStyle:x,analyticsName:y,onClick:b}=e;const v=(0,s.Fg)(),_=(0,o.O7)(),{device:k}=_,j=k.isIOS&&k.isNative,w=(0,n.VK)((()=>function(e,t){if(!(0,m.R$)())return{};switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?l.ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:c.Z.fontWeight.medium};default:return{}}}(t,v)),[t,v]);if(j)return null;let M;return"personal"===t?M=(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,r.eR)(t)?M=(0,f.jsx)(h.D,{experimentId:"upsell_colors",groups:{control:(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Plus",id:"upgradeButton.plus.text"}),on:(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"})}}):(0,r.NG)(t)?M=(0,f.jsx)(h.D,{experimentId:"upsell_colors",groups:{control:(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Business",id:"upgradeButton.business.text"}),on:(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"})}}):(0,r.wP)(t)?M=(0,f.jsx)(h.D,{experimentId:"upsell_colors",groups:{control:(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Enterprise",id:"upgradeButton.enterprise.text"}),on:(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"})}}):(0,d.t1)(t),k.isMobile?(0,f.jsx)(u.Z,{mobileStyle:i,children:M}):(0,f.jsx)(p.ZP,{delayThreshold:120,placement:p.ug.Bottom,renderTooltip:()=>(0,f.jsxs)("div",{style:{maxWidth:500},children:[(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"}),(0,f.jsx)("br",{}),(0,f.jsx)(a.FormattedMessage,{defaultMessage:"Click to learn more.",id:"upgradeButton.learnMore.tooltip"})]}),originGap:6,render:e=>(0,f.jsx)(u.Z,{desktopStyle:x,innerStyle:w,onClick:e=>function(e,t,i,o,n){g.y(o,{from:t,for:i}),n&&n(e)}(e,y,t,_,b),...e,children:M})})}},54669:(e,t,i)=>{i.d(t,{Z:()=>d});i(67294);var o=i(480),n=i(26388),s=i(98742),r=i(44041),a=i(91694),l=i(85893);const d=function(e){const t=(0,o.O7)(),{render:i,requireUpgradeToTier:d,analyticsName:c,renderUpgradeTooltip:u,onUpgradeClick:p,alwaysAllowClick:g,tooltipPlacement:m,upgradeButtonDesktopStyle:h,upgradeButtonMobileStyle:f}=e;let x,{onClick:y,renderTooltip:b}=e;return d&&(x=(0,l.jsx)(a.Z,{subscriptionTier:d,analyticsName:c,desktopStyle:{display:"inline-block",pointerEvents:"none",...h},mobileStyle:{display:"inline-block",pointerEvents:"none",...f}}),g||(y=e=>{r.y(t,{from:c,for:d}),p&&p(e)},b=u)),(0,l.jsx)(n.ZP,{renderTooltip:b||(()=>null),render:e=>i((0,s.Z)(e,{onClick:y}),x),disableTooltip:!b,placement:m})}},39343:(e,t,i)=>{i.d(t,{Fk:()=>a,U6:()=>d,nx:()=>l});var o=i(30120),n=i(13991),s=i(7057),r=i(95477);function a(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=o.ou.now().toSeconds()}function l(e){const t=function(e){if(!a(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=o.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,s.Yx)(t,"long",n.SP):void 0}function d(e){return e?r.default.trials[e.id].duration:r.default.trials.default.duration}},7189:(e,t,i)=>{i.d(t,{K:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.IU)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,n.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},13530:(e,t,i)=>{i.d(t,{s:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.IU)("historyForward",{viewBox:"0 0 14 14",svg:(0,n.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})})}}]);