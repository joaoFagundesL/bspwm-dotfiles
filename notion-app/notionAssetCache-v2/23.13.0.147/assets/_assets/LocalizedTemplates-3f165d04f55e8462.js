"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4801],{90149:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var t=s(67294),l=s(24405),n=s(9291),i=s(68785),d=s(53336),r=s(36360),o=s(72552),c=s(59377),u=s(77907),m=s(86628),p=s(77080);var h=s(34859),f=s(480),g=s(74194),x=s(28497),w=s(23650),j=(s(21703),s(54642)),M=s(47307),b=s(49085);class T extends b.default{getInitialState(){return{csv:"",successTemplates:[],skippedTemplates:[]}}}const C=new T;var y=s(85893);function v(){const[e,a]=(0,t.useState)(!1),s=(0,f.O7)(),i=(0,l.yK)((()=>({textInput:{background:"none",padding:"8px 14px"},formContainer:{display:"flex",flexDirection:"column",gap:"12px"},buttonContainer:{display:"flex",justifyContent:"flex-end"}})),[]),d=(0,m.VK)((()=>C.state.csv),[]),r=(0,t.useCallback)((async()=>{try{a(!0),await async function(e){const{environment:a,csv:s}=e;try{C.setState({...C.state,successTemplates:[],skippedTemplates:[]});const e=await j.submitTemplateDraftLocalizedBulk(a,{csv:s});if("success"===e.type){const{successTemplates:a,skippedTemplates:s}=e.data;return C.setState({csv:"",successTemplates:a,skippedTemplates:s}),!0}M.showError(e)}catch(t){t instanceof Error&&M.showErrorMessage((0,y.jsx)("span",{children:t.message}))}}({environment:s,csv:d})}catch(e){}finally{a(!1)}}),[d,s]),o=e||""===d;return(0,y.jsxs)("main",{style:i.formContainer,children:[(0,y.jsx)(w.w,{label:(0,y.jsx)(n.FormattedMessage,{id:"localizedTemplates.form.csvTextLabel",defaultMessage:"CSV Data (paste as text)"}),format:g.B.Default,textarea:!0,textareaElementAttributes:{rows:20},style:i.textInput,onChange:e=>{C.setState({...C.state,csv:e.target.value})},value:d}),(0,y.jsx)("section",{style:i.buttonContainer,children:(0,y.jsx)(x.z,{onClick:r,variant:"dark",isLoading:e,disabled:o,children:(0,y.jsx)(n.FormattedMessage,{id:"localizedTemplates.form.submit",defaultMessage:"Submit"})})})]})}var z=s(83694);const k="https://www.notion.so/notion/ecf7843fa604477d8322f397dc863371?v=47ec4180ba454231ad979730a44adc67&pvs=4";function L(){return(0,y.jsxs)("section",{children:[(0,y.jsx)(z.t,{size:"medium",header:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Bulk submit localized templates",id:"localizedTemplates.header"}),subHeader:null}),(0,y.jsx)("span",{children:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Instructions:",id:"localizedTemplates.instructions.header"})}),(0,y.jsxs)("ul",{children:[(0,y.jsx)("li",{children:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Export <a>this view</a> as a CSV and paste in the CSV as text to the input below (e.g. use TextEdit) and press submit.",id:"localizedTemplates.instructions.submit",values:{a:e=>(0,y.jsx)("a",{href:k,target:"_blank",children:e})}})}),(0,y.jsx)("li",{children:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Make sure that the <b>Original Slug</b> column is filled in with the <b>English slug</b> and that the <b>Duplication Link</b> column is filled in.",id:"localizedTemplates.instructions.requiredFields",values:{b:e=>(0,y.jsx)("b",{children:e})}})}),(0,y.jsx)("li",{children:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Default emoji will be the English emoji by default if not provided.",id:"localizedTemplates.instructions.emoji.default"})}),(0,y.jsx)("li",{children:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"If there is already a template with the same slug and locale, this tool will create a new draft for review with the new data, so this handles both creation and updates.",id:"localizedTemplates.instructions.sameSlugAndLocale"})}),(0,y.jsx)("li",{children:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"The tool will set the template creator and author field on Flowdash to the account running this tool.",id:"localizedTemplates.instructions.flowdash"})}),(0,y.jsx)("li",{children:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"If any of the column header names are changed, <b>please let Templates engineers know so we can update the tool to work.</b>",id:"localizedTemplates.instructions.columnTitleChanges",values:{b:e=>(0,y.jsx)("b",{children:e})}})})]})]})}var S=s(1898),D=s(40394),F=s(33929);const R=(0,n.defineMessages)({name:{id:"localizedTemplates.templates.skipped.name.header",defaultMessage:"Name"},slug:{id:"localizedTemplates.templates.skipped.slug.header",defaultMessage:"Slug"},locale:{id:"localizedTemplates.templates.skipped.locale.header",defaultMessage:"Locale"},errorMessage:{id:"localizedTemplates.templates.skipped.error.header",defaultMessage:"Error"}}),E={name:{id:"name",renderCell:e=>{let{name:a}=e;return(0,y.jsx)("span",{children:a})},headerTitle:F.default.formatMessage(R.name),widthData:{width:50},sortable:!1},defaultLocaleSlug:{id:"slug",renderCell:e=>{let{defaultLocaleSlug:a}=e;return(0,y.jsx)("span",{children:a})},headerTitle:F.default.formatMessage(R.slug),widthData:{width:50},sortable:!1},locale:{id:"locale",renderCell:e=>{let{locale:a}=e;return(0,y.jsx)("span",{children:a})},headerTitle:F.default.formatMessage(R.locale),widthData:{width:50},sortable:!1},errorMessage:{id:"flowdashUrl",renderCell:e=>{let{errorMessage:a}=e;return(0,y.jsx)("span",{children:a})},headerTitle:F.default.formatMessage(R.errorMessage),widthData:{width:150},sortable:!1}},I=(0,S.Yd)(E).map((e=>E[e]));function V(){const e=(0,l.yK)((()=>({skippedTemplatesContainer:{display:"flex",flexDirection:"column",gap:"6px"}})),[]),a=(0,m.VK)((()=>C.state.skippedTemplates),[]),s=(0,l.yK)((e=>(0,D.b)({columnRenderInfo:I,theme:e,containerMarginTop:0})),[]);if(0===a.length)return null;const t=a.map(((e,a)=>({...e,id:`${e.name}_${a}`,isClickable:!1})));return(0,y.jsxs)("section",{style:e.skippedTemplatesContainer,children:[(0,y.jsx)(z.t,{size:"medium",header:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Skipped templates",id:"localizedTemplates.templates.skipped"}),subHeader:null}),(0,y.jsx)(D.D,{allowHorizontalScroll:!0,hideHeaderRowPadding:!0,columnRenderInfo:I,rows:t,styles:s,renderNoRowsComponent:()=>null,showRowBorders:!0,maxHeight:400})]})}var K=s(31701),U=s(16354);const H=(0,n.defineMessages)({name:{id:"localizedTemplates.templates.success.name.header",defaultMessage:"Name"},slug:{id:"localizedTemplates.templates.success.slug.header",defaultMessage:"Slug"},locale:{id:"localizedTemplates.templates.success.locale.header",defaultMessage:"Locale"},flowdashUrl:{id:"localizedTemplates.templates.success.flowdashUrl.header",defaultMessage:"Flowdash URL"}}),B={name:{id:"name",renderCell:e=>{let{name:a}=e;return(0,y.jsx)("span",{children:a})},headerTitle:F.default.formatMessage(H.name),widthData:{width:50},sortable:!1},defaultLocaleSlug:{id:"slug",renderCell:e=>{let{defaultLocaleSlug:a}=e;return(0,y.jsx)("span",{children:a})},headerTitle:F.default.formatMessage(H.slug),widthData:{width:50},sortable:!1},locale:{id:"locale",renderCell:e=>{let{locale:a}=e;return(0,y.jsx)("span",{children:a})},headerTitle:F.default.formatMessage(H.locale),widthData:{width:50},sortable:!1},flowdashUrl:{id:"flowdashUrl",renderCell:e=>{let{flowdashUrl:a}=e;return(0,y.jsx)(U.Z,{href:a,external:!0,style:{color:K.Vx().blueColor},children:(0,y.jsx)("span",{children:a})})},headerTitle:F.default.formatMessage(H.flowdashUrl),widthData:{width:150},sortable:!1}},Z=(0,S.Yd)(B).map((e=>B[e]));function _(){const e=(0,l.yK)((()=>({successTemplatesContainer:{display:"flex",flexDirection:"column",gap:"6px"}})),[]),a=(0,m.VK)((()=>C.state.successTemplates),[]),s=(0,l.yK)((e=>(0,D.b)({columnRenderInfo:Z,theme:e,containerMarginTop:0})),[]);if(0===a.length)return null;const t=a.map(((e,a)=>({...e,id:`${e.name}_${a}`,isClickable:!1})));return(0,y.jsxs)("section",{style:e.successTemplatesContainer,children:[(0,y.jsx)(z.t,{size:"medium",header:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Successful templates",id:"localizedTemplates.templates.successful"}),subHeader:null}),(0,y.jsx)(D.D,{allowHorizontalScroll:!0,hideHeaderRowPadding:!0,columnRenderInfo:Z,rows:t,styles:s,renderNoRowsComponent:()=>null,showRowBorders:!0,maxHeight:400})]})}function N(){const{isStatsigReady:e,isFeatureEnabled:a}=function(e){const[a,s]=(0,t.useState)(!1);(0,t.useEffect)((()=>{p.default.waitUntilStatsigReady().then((()=>{s(!0)}))}),[]);const l=(0,m.VK)((()=>a&&p.default.checkGate(e)),[a,e]);return{isStatsigReady:a,isFeatureEnabled:l}}("enable_localized_templates"),s=(0,n.useIntl)(),f=(0,l.yK)((()=>({scroller:{height:"100dvh",paddingBottom:"40px"},center:{height:"100%",display:"flex",justifyContent:"center"},mainSection:{paddingLeft:"48px",paddingRight:"48px",display:"flex",flexDirection:"column",gap:"12px"}})),[]);return e?a?(0,y.jsx)(r.Z,{title:s.formatMessage({id:"localizedTemplates.document.title",defaultMessage:"Localized Templates | Notion"}),children:(0,y.jsx)(d.Z,{style:f.scroller,type:h.Z.Y,children:(0,y.jsxs)(c.PT,{children:[(0,y.jsx)(o.p,{}),(0,y.jsxs)("section",{style:f.mainSection,children:[(0,y.jsx)(L,{}),(0,y.jsx)(v,{}),(0,y.jsx)(_,{}),(0,y.jsx)(V,{})]})]})})}):(0,y.jsx)(u.LazyPageError,{route:{name:"notFound"},publicPageData:void 0}):(0,y.jsx)("div",{style:f.center,children:(0,y.jsx)(i.Z,{})})}},40745:(e,a,s)=>{s.d(a,{M:()=>n});s(67294);var t=s(45238),l=s(85893);const n=(0,t.IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,l.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},7189:(e,a,s)=>{s.d(a,{K:()=>n});s(67294);var t=s(45238),l=s(85893);const n=(0,t.IU)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,l.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})}}]);