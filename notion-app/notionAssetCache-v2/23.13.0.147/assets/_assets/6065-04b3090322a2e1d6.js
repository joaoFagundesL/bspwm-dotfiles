"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6065],{96065:(e,t,s)=>{s.d(t,{Z:()=>lt,s:()=>rt});s(57658),s(21703);var o=s(67294),a=s(480),n=s(86628),i=s(24405),r=s(92996),l=s(41892),c=s(6906),d=s(58573),u=s(42853),p=s(90199),g=s(47453),m=s(35840),h=s(54497),f=s(21202),S=s(9291),v=s(53965),y=s(1898),x=s(37810),M=s(88295),T=s(60870),j=s(13447),b=s(37181),I=s(51592),w=s(52275),P=s(61519),k=s(1743),Z=s(56940),A=s(68894),C=s(3386),V=s(16354),B=s(68785),F=s(78140),L=s(89728),N=s(31278),K=s(72495),O=s(14871),R=s(26388),q=s(64369),E=s(45653),W=s(60442),z=s(12457),H=s(28020),U=s(60709),D=s(98742),Q=s(44499),G=s(98165),X=s(58239),_=s(18514),Y=s(48779),$=s(95697),J=s(77907),ee=s(80444),te=s(62395),se=s(88632),oe=s(77080),ae=s(63334),ne=s(29798),ie=s(49085);class re extends ie.default{getInitialState(){return{chosenSpaceId:void 0}}getChosenSpaceId(){const{chosenSpaceId:e}=this.state,{currentSpaceStore:t}=ee.default.state;return e||(null==t?void 0:t.id)}getChosenSpaceStore(){var e;return null===(e=this.getChosenSpaceViewStore())||void 0===e?void 0:e.getSpaceStore()}getChosenSpaceViewStore(){const{chosenSpaceId:e}=this.state,{currentSpaceViewStore:t,currentUserRootStore:s}=ee.default.state;if(!e&&t)return t;if(e&&s){return s.getSpaceViewStores().find((t=>t.getSpaceId()===e))}}}const le=re;var ce=s(42330),de=s(6258),ue=s(72087),pe=s(30765),ge=s(32163),me=s(43765),he=s(23586),fe=s(75822),Se=s(85893);function ve(e){let{query:t,spaceId:s,menuListStore:o,requestStore:a,getAutocompleteItems:n}=e;return(0,Se.jsx)(he.Z,{request:{query:t,spaceId:s},render:(e,s)=>(0,Se.jsx)(ye,{sections:s,error:e,menuListStore:o,initialFocus:Boolean(t)?0:void 0}),requestStore:a,debounce:fe.vp,performRequest:n})}function ye(e){let{sections:t,error:s,menuListStore:o,initialFocus:a}=e;return s?(0,Se.jsx)(K.Z,{children:(0,Se.jsx)(me.Z,{title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Something went wrong.",id:"moveBlockMenu.errorOnMove.label"})})}):t&&0===t.length?(0,Se.jsx)(K.Z,{children:(0,Se.jsx)(me.Z,{title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"No results",id:"moveBlockMenu.noResults.label"})})}):(0,Se.jsx)(ge.Z,{type:ge.i.Vertical,initialFocus:a,sections:t||[],store:o})}var xe=s(6287),Me=s(75246),Te=s(29369),je=s(11470),be=s(76798),Ie=s(65598);function we(e){const{store:t,menuListItemProps:s,hidePath:o}=e,a=(0,n.VK)((()=>function(e){if((0,Ie.OY)(e)&&!e.canEdit())return(0,Se.jsx)(S.FormattedMessage,{id:"moveBlockMenu.needEditAccess.tooltip",defaultMessage:'You need "Can edit" access to "{parentName}" to move this page',values:{parentName:(0,Se.jsx)(be.Z,{store:e,shouldWrap:!0})}});if((0,Ie.Y)(e)&&!e.canAddOrRemoveTopLevelPages())return(0,Se.jsx)(S.FormattedMessage,{id:"moveBlockMenu.TeamSidebarLocked.tooltip",defaultMessage:"This teamspace has its sidebar locked. You must be a teamspace owner to move to this teamspace."})}(t)),[t]),r=Boolean(a),l=(0,i.yK)((e=>({disabledTooltip:{maxWidth:240},recordMenuItem:r?{color:e.mediumTextColor}:{}})),[r]);return(0,Se.jsx)(R.ZP,{placement:R.ug.Left,textWrap:!0,style:l.disabledTooltip,disableTooltip:!r,renderTooltip:()=>a,render:e=>(0,Se.jsx)(je.Z,{...(0,D.Z)(s,e),disabled:r,store:t,hidePath:o,style:l.recordMenuItem})})}var Pe=s(86176),ke=s(75024);function Ze(e){let{spaceStore:t,collectionStore:s,menuListItemProps:o}=e;const n=(0,a.O7)(),r=(0,i.yK)((e=>({caption:{color:e.lightTextColor,fontSize:(0,ke.yv)(n,"UISmall")}})),[n]);return(0,Se.jsx)(je.Z,{caption:(0,Se.jsx)("div",{style:r.caption,children:(0,Se.jsx)(Ae,{spaceStore:t,collectionStore:s})}),store:s,...o})}function Ae(e){let{spaceStore:t,collectionStore:s}=e;const o=(0,a.O7)(),i=(0,n.VK)((()=>function(e){let{environment:t,spaceStore:s,collectionStore:o}=e;const a=(0,I.tV)({environment:t,spaceStore:s,collectionStore:o});switch(a){case"team":return null;case"private":return(0,Se.jsx)(S.FormattedMessage,{id:"moveToHelpers.privatePageCaptionPrefix",defaultMessage:"Private"});case"shared":return(0,Se.jsx)(S.FormattedMessage,{id:"moveToHelpers.sharedPageCaptionPrefix",defaultMessage:"Shared"});default:(0,y.t1)(a)}}({environment:o,spaceStore:t,collectionStore:s})),[o,t,s]),r=(0,n.VK)((()=>(0,Pe.L)(s)),[s])&&(0,Se.jsx)(Pe.Z,{store:s,showFullPathInTooltip:!0});return r&&i?(0,Se.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[i,(0,Se.jsx)("div",{style:{paddingLeft:4,paddingRight:4},children:"/"}),r]}):r&&!i?r:(0,Se.jsx)(Se.Fragment,{children:i})}function Ce(e){let{spaceStore:t,value:s,showPath:o,isCreateIn:a,onAccept:n}=e;const i=function(e){let{spaceStore:t,value:s}=e;const{type:o}=s;switch(o){case"page":return de.G.createChildStore(t,{table:f.iU,id:s.id});case"collection":return de.NW.createChildStore(t,{table:xe.vF,id:s.id});case"space":return de.H2.createChildStore(t,{table:Me.bx,id:s.id});case"team":return de.zX.createChildStore(t,{table:Te.e0,id:s.id});case"space-private-pages":return;default:(0,y.t1)(o)}}({spaceStore:t,value:s});if(i)return(0,Q.Hn)()&&i instanceof de.NW?{key:i.id,render:e=>(0,Se.jsx)(Ze,{spaceStore:t,collectionStore:i,menuListItemProps:e}),action:()=>n(s)}:{key:i.id,render:e=>(0,Se.jsx)(we,{store:i,menuListItemProps:e,hidePath:!!a&&!o}),action:()=>n(s)}}var Ve=s(59054),Be=s(69327),Fe=s(41432),Le=s(16184),Ne=s(39567),Ke=s(73990),Oe=s(64921),Re=s(5210),qe=s(35026),Ee=s(74016);const We=100,ze=14,He=24;function Ue(e){return(e+1)*ze}function De(e){const{store:t,spaceStore:s,spaceViewStore:r,depth:l,isAlias:c}=e,d=(0,a.O7)(),u=(0,i.Fg)(),[g,m]=o.useState(!1),h=(0,i.yK)((e=>({noChildrenLabelItem:{paddingLeft:Ue(l)+He,fontSize:14,paddingBottom:6.5,color:e.lightTextColor},outlinerItem:{display:"flex",flexDirection:"row",fontSize:14,height:28,paddingLeft:Ue(l),color:e.regularTextColor,alignItems:"center"},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:22,height:18,marginRight:4,position:"relative"}})),[l]);function v(){const e=ce.ZP.state,s=e.isOpen?e.flowId:void 0;m(!g),Ke.w6(d,{flowId:s,is_toggled:!g,destination_type:t?t.table:"private_pages"})}const y=(0,n.VK)((()=>{if(t){const e=(0,Se.jsx)("div",{children:(0,Ne.Y)({position:"absolute",width:"50%",height:"50%",right:0,bottom:0})});return t instanceof de.zX?(0,Se.jsx)("div",{style:h.icon,children:(0,Se.jsx)(Ee.p,{disabled:!0,store:t,size:18})}):(0,Se.jsxs)("div",{style:h.icon,children:[(0,Se.jsx)(N.Z,{icon:t instanceof de.G?t.getIcon():void 0,isEmptyPage:t instanceof de.G&&t.isEmptyPage(),title:void 0,size:18,disabled:!0}),c&&e]})}return(0,Se.jsx)(E.Z,{size:16,userStore:(0,H.B7)(d),style:{marginLeft:3}})}),[t,h.icon,d,c]),x=(0,n.VK)((()=>t?t.table===Te.e0?"private"!==t.getTeamAccessLevel()?(0,Se.jsx)("div",{style:{maxWidth:"80%"},children:(0,Se.jsx)(be.Z,{store:t})}):(0,Se.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"80%"},children:[(0,Se.jsx)(be.Z,{store:t}),(0,Le.Q)({width:14,height:14,marginLeft:4,fill:u.mediumIconColor})]}):(0,Se.jsx)("div",{style:{maxWidth:"80%"},children:(0,Se.jsx)(be.Z,{store:t})}):(0,Se.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:7},children:[(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Private pages",id:"outliner.addToPrivatePages"}),(0,Se.jsx)("div",{style:{marginLeft:2},children:(0,p.b)({width:14,height:14,fill:u.mediumIconColor,marginLeft:4})})]})),[t,u.mediumIconColor]),M=(0,n.VK)((()=>{const e=new Set([Fe.Ti.page,Fe.Ti.collectionViewPage,Fe.Ti.collectionView,Fe.Ti.alias]),s=new Set([Fe.Ti.factory]);let o=[];return t?t instanceof de.zX?o=t.getTeamPagesStores():t instanceof de.G&&(o=(0,qe.Q2)(t,s,e)):o=r.getPrivatePages(d),o}),[t,r,d]);const T=0!==M.length?(0,Se.jsx)(Qe,{spaceStore:s,spaceViewStore:r,itemStores:M,depth:l+1,onAccept:e.onAccept,targets:e.targets}):(0,Se.jsx)("div",{style:h.noChildrenLabelItem,children:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"No pages inside",id:"outliner.NoPagesInside.placeholder"})});return(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(Oe.Z,{onClick:function(){e.moveToPagesOnly&&(null==t?void 0:t.table)!==f.iU?v():t?t instanceof de.G?e.onAccept({type:"page",id:t.id,spaceId:s.id}):e.onAccept({type:"team",id:t.id,spaceId:s.id}):e.onAccept({type:"space-private-pages",spaceId:s.id})},children:(0,Se.jsxs)("div",{style:h.outlinerItem,children:[(0,Se.jsx)(Re.Z,{isSidebar:!0,fill:!0,icon:"chevron",open:g,color:u.mediumIconColor,onClick:v}),y,x]})}),g&&l<We&&T]})}function Qe(e){const{spaceStore:t,spaceViewStore:s,itemStores:o,depth:a}=e,r=(0,n.VK)((()=>{const n=o?v.oA(o.map((o=>{if(o instanceof de.zX&&o.canAddOrRemoveTopLevelPages()||o instanceof de.G&&(0,Q.Xk)(o,e.targets)&&o.canEdit()){const n=o instanceof de.G&&o.getType()===Fe.Ti.alias,i=n?o.getAliasTargetStore():void 0,r=i instanceof de.G?i:o;return(0,Se.jsx)(De,{spaceStore:t,spaceViewStore:s,store:r,depth:a,onAccept:e.onAccept,targets:e.targets,isAlias:n,moveToPagesOnly:e.moveToPagesOnly},o.id)}}))):[];return e.addedItems?[...e.addedItems,...n]:n}),[o,e.addedItems,e.moveToPagesOnly,e.targets,e.onAccept,t,s,a]),l=(0,i.yK)((e=>({sectionHeader:{color:e.mediumTextColor,fontSize:12,fontWeight:x.Z.fontWeight.medium,padding:"12px 14px 4px 14px"}})),[]);return(0,Se.jsxs)(k.Z,{debugName:"MoveToOutliner",capture:!0,children:[e.title&&(0,Se.jsx)("div",{style:l.sectionHeader,children:(0,Se.jsx)(q.Z,{isSmall:!0,children:e.title})}),(0,Se.jsx)("div",{children:r})]})}function Ge(e){const{spaceStore:t,spaceViewStore:s,targets:o,moveToPagesOnly:r}=e,l=(0,n.VK)((()=>ee.default.state.currentUserStore),[]),c=(0,a.O7)(),d=(0,S.useIntl)(),u=(0,i.yK)((()=>({modal:{height:374,maxHeight:"70vh",paddingBottom:12},body:{width:"100%"}})),[]),[p]=(0,Ve.r5)((async()=>t&&l?await(0,$.qX)({environment:c,spaceStore:t,currentUserId:l.id}):[]),[c,t,l]),g=(0,n.VK)((()=>{if(!p.value)return;const e=s.getTeamsStores().filter((e=>e.canAddOrRemoveTopLevelPages()));return e.length>=7?e:v.mN([...e,...p.value||[]],(e=>e.id)).filter((e=>e.canAddOrRemoveTopLevelPages())).slice(0,7)}),[s,p.value]),m=(0,n.VK)((()=>Xe({spaceStore:t,targets:o})),[t,o]),h=(0,n.VK)((()=>s.getWorkspacePages().filter((e=>(0,Q.Xk)(e,o)&&e.canEdit()))),[s,o]),f=(0,n.VK)((()=>{if(_e({environment:c,targets:o,chosenSpaceStore:t}))return(0,Se.jsx)(De,{spaceStore:t,spaceViewStore:s,store:void 0,depth:0,onAccept:e.onAccept,targets:e.targets,moveToPagesOnly:r},"MoveToModal private item")}),[c,r,e,t,s,o]);return t&&s?(0,Se.jsx)("div",{style:u.modal,children:(0,Se.jsx)("div",{style:u.body,children:(0,Se.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,Se.jsx)(Qe,{spaceStore:t,spaceViewStore:s,itemStores:m,addedItems:[f],moveToPagesOnly:r,depth:0,title:d.formatMessage({defaultMessage:"Suggested",id:"moveToModal.suggestedSection.title"}),onAccept:e.onAccept,targets:e.targets}),g&&g.length>0&&(0,Se.jsx)(Qe,{spaceStore:t,spaceViewStore:s,itemStores:g,moveToPagesOnly:r,depth:0,title:d.formatMessage({defaultMessage:"Teamspaces",id:"moveToModal.teamsSection.title"}),onAccept:e.onAccept,targets:e.targets}),h.length>0&&(0,Se.jsx)(Qe,{spaceStore:t,spaceViewStore:s,itemStores:h,moveToPagesOnly:r,depth:0,title:d.formatMessage({defaultMessage:"Workspace",id:"moveToModal.workspaceSection.title"}),onAccept:e.onAccept,targets:e.targets})]})})}):null}function Xe(e){let{spaceStore:t,targets:s}=e,o=Be.Z.getWithoutSubscribing(t.id).map((e=>{let{store:t}=e;return t})).filter((e=>e.pathIsAccessibleAndAlive()&&!s.some((t=>"block"===t.table&&t.id===e.id))));const a=s.filter((e=>"block"===e.getParentTable())).map((e=>e.getParentId())),n=a.length===s.length,i=[...new Set(a)];return n&&1===i.length&&(o=o.filter((e=>e.id!==i[0]))),o.slice(0,7)}function _e(e){let{environment:t,targets:s,chosenSpaceStore:o}=e;const a=(0,Y.Cx)(o),n=s.every((e=>e.isTopLevelPrivatePage({spaceStore:o,environment:t})));return!a&&!n}var Ye=s(84169),$e=s(73063),Je=s(43568),et=s(40215);const tt=(0,s(45238).IU)("boxedPerson",{viewBox:"0 0 26 25",svg:(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)("path",{d:"M21.719 19.406h-2.004V21.2c0 2.414-1.219 3.633-3.68 3.633H4.27c-2.438 0-3.668-1.219-3.668-3.633V9.34c0-2.413 1.23-3.632 3.668-3.632h2.015V3.914C6.285 1.5 7.515.281 9.953.281H21.72c2.46 0 3.68 1.219 3.68 3.633v11.86c0 2.414-1.22 3.632-3.68 3.632Zm-.024-1.886c1.172 0 1.817-.633 1.817-1.852V4.02c0-1.22-.645-1.852-1.817-1.852H9.988c-1.16 0-1.816.633-1.816 1.852v1.687h7.863c2.461 0 3.68 1.207 3.68 3.633v8.18h1.98Zm-5.683 5.425c1.16 0 1.816-.633 1.816-1.851V9.445c0-1.218-.656-1.851-1.816-1.851H4.305c-1.16 0-1.817.633-1.817 1.851v11.649c0 1.218.657 1.851 1.817 1.851h11.707Z"}),(0,Se.jsx)("path",{d:"M10.24 14.855c1.176 0 2.164-1.042 2.164-2.39 0-1.316-1-2.32-2.165-2.32s-2.17 1.02-2.164 2.33c0 1.338.993 2.38 2.164 2.38ZM6.661 19.85h7.15c.6 0 .966-.285.966-.757 0-1.386-1.757-3.287-4.539-3.287-2.787 0-4.538 1.901-4.538 3.287 0 .472.36.757.961.757Z"})]})});function st(e){const{onClick:t,databaseType:s}=e,o=(0,a.O7)(),n=(0,i.yK)((e=>({modal:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:32,marginBottom:32},icon:{width:20,fill:e.mediumTextColor},title:{marginTop:6,fontWeight:x.Z.fontWeight.semibold,color:e.mediumTextColor},subtitle:{marginTop:2,marginLeft:14,marginRight:14,textAlign:"center"},button:{fontWeight:x.Z.fontWeight.semibold,fontSize:(0,ke.yv)(o,"UISmall")}})),[o]),r=(0,I.sN)(s),l=(0,I.Q_)(s);return(0,Se.jsxs)("div",{style:n.modal,children:[tt(n.icon),(0,Se.jsx)(q.Z,{isSmall:!0,style:n.title,children:(0,Se.jsx)(S.FormattedMessage,{id:"moveToModalTypedEmptyState.title",defaultMessage:"No other {singleItemName} databases",values:{singleItemName:r}})}),(0,Se.jsx)(q.Z,{isSmall:!0,isMultiline:!0,style:n.subtitle,children:(0,Se.jsx)(S.FormattedMessage,{id:"moveToModalTypedEmptyState.subtitle",defaultMessage:"Try adding {pluralItemName} to another teamspace",values:{pluralItemName:l}})}),(0,Se.jsx)(L.Z,{isBlue:!0,onClick:t,style:n.button,children:(0,Se.jsx)(S.FormattedMessage,{id:"moveToModalTypedEmptyState.button",defaultMessage:"Move somewhere else"})})]})}const ot=7;function at(e){let{spaceStore:t,spaceViewStore:s,targets:o,menuListStore:l,onAccept:d}=e;const u=(0,a.O7)(),p=(0,i.yK)((()=>({modal:{maxHeight:"70vh"},loadingShimmer:{padding:16}})),[]),g=(0,n.VK)((()=>s.getTeamsStores().map((e=>e.id))),[s]),m=(0,et.F)({environment:u,spaceStore:t,parentStore:t,joinedTeamIds:g,moveToTargets:o,overrideDatabaseType:void 0}),h=(0,n.VK)((()=>m.success?m.typedDatabases.map((e=>function(e){const{store:t,spaceStore:s,onAccept:o}=e,a={key:t.id,render:e=>(0,Se.jsx)(Ze,{spaceStore:s,collectionStore:t,menuListItemProps:e}),action:()=>o({type:"collection",id:t.id,spaceId:s.id})};return a}({store:e,spaceStore:t,onAccept:d}))):[]),[m,t,d]),f=(0,n.VK)((()=>ce.ZP.getTargetsDatabaseType()),[]);if(!m.success)return(0,Se.jsx)("div",{style:p.loadingShimmer,children:(0,Se.jsx)(Je.Z,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]})});if(!f)throw new Error("Trying to show typed moveTo modal when database type is not available.");if(0===h.length)return(0,Se.jsx)(st,{databaseType:f,onClick:()=>{ce.ZP.state.isOpen&&ce.ZP.setState({...ce.ZP.state,variant:r.br})}});const v=(0,I.sN)(f),y=[{key:"suggested",render:e=>(0,Se.jsx)(K.Z,{...e,title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveToModalTyped.suggestedMenuSection.title",values:{typedItemName:(0,c.Z)(v)}}),right:(0,Se.jsx)(nt,{typedItemName:v})}),items:h.slice(0,ot)}];return(0,Se.jsx)("div",{style:p.modal,children:(0,Se.jsx)(ge.Z,{initialFocus:0,type:ge.i.Vertical,sections:y||[],store:l})})}function nt(e){let{typedItemName:t}=e;const s=(0,i.yK)((e=>({icon:{width:13,height:13,fill:e.mediumIconColor},iconButton:{height:18,width:18,padding:0,marginTop:-4,marginBottom:-4,marginRight:-4}})),[]),o=(0,S.useIntl)();return(0,a.Fy)().isMobile?null:(0,Se.jsx)(R.ZP,{placement:R.ug.Bottom,style:{width:220},textWrap:!0,renderTooltip:()=>(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"{typedItemName} properties will be kept when moving to these locations",id:"moveTypedMenu.tooltip",values:{typedItemName:v.kC(t)}}),render:e=>(0,Se.jsx)($e.Z,{ariaLabel:o.formatMessage({id:"moveToModalTyped.helpIcon.ariaLabel",defaultMessage:"Help icon for moving typed pages."}),icon:Ye.m,iconStyle:s.icon,style:s.iconButton,...e})})}const it=5,rt=(0,S.defineMessages)({createSubpage:{id:"moveToOrCreateMenu.createSubpage.description",defaultMessage:"Create a new sub-page where your cursor is, inside the current block."},newPageIn:{id:"moveToOrCreateMenu.newPageIn.description",defaultMessage:"Create a new page inside any existing page, then link to it in one go."},turnInto:{id:"moveToOrCreateMenu.turnInto.description",defaultMessage:"Turn blocks into new pages inside any existing database or page."},privatePagesTitle:{defaultMessage:"Private Pages",id:"moveBlockMenu.privatePagesMenuTitle"}});const lt=function(e){let{targets:t,isCreateIn:s,onAccept:l,isAddTo:u,isTurnIntoPage:p,parentBlockId:g,autocompleteQuery:m,onAutocompleteQueryChange:h,onMouseEnter:x,onCancel:M,desktopWidth:j,captureSelection:b,restoreSelection:w,ignoreSelectionAreaStore:P}=e;const A=(0,S.useIntl)(),V=(0,i.Fg)(),B=(0,a.O7)(),L=(0,n.qz)(void 0,ne.Z),N=(0,n.qz)(void 0,ue.Z),O=(0,n.qz)(void 0,le),R=(0,n.qz)(P,ae.Z),q=(0,n.VK)((()=>t.every((e=>e.isNavigableBlock()))),[t]),E=(0,o.useCallback)((e=>async function(e,t,s,o,a,n,i,l,u,p,g,m){const{currentUserRootStore:h,mainEditorCurrentBlockStore:x,currentSpaceStore:M}=ee.default.state,{query:j}=e,b=g.getChosenSpaceStore();if(!(h&&b&&x&&M))return[];const w=(0,X.lX)({spaceStore:b,currentUserId:t.currentUser.id}),[P,k,Z,A]=await async function(e,t,s,o,a){const n=[],i=[],r=[];let l=[];if(t&&ct()){const i=await J.deps.searchActions.loader(),l=await i.searchPageIds({environment:a,query:t,limit:20,spaceId:e.id,requireEditPermissions:!1,excludeTemplates:!1,source:"move_to_menu",boostRecentlyViewedPages:!0});for(const t of l.results){const a=de.G.createChildStore(e.getPagesStore(),{table:f.iU,id:t});if((0,Q.Xk)(a,s)){const e={blockId:a.id,isEditable:a.canEdit()};ut(a,o)?r.push(e):n.push(e)}}}else{l=(await T.I0(e,e.id)).map((t=>{const s=de.G.createChildStore(e.getPagesStore(),{table:f.iU,id:t});return{blockId:s.id,isEditable:s.canEdit()}})),l=l.filter((t=>{let{blockId:a}=t;const n=de.G.createChildStore(e.getPagesStore(),{table:f.iU,id:a});if((0,Q.Xk)(n,s)){const e={blockId:n.id,isEditable:n.canEdit()};return!ut(n,o)||(r.push(e),!1)}}));const t=H.Xb(a);for(const e of t)if((0,Q.Xk)(e,s)){const t={blockId:e.id,isEditable:e.canEdit()};ut(e,o)?r.push(t):i.push(t)}}return[n,i,r,l]}(b,j,o,a,t),C=await w;if((0,Q.Hn)())return await async function(e,t,s,o,a,n,i,l){const{chosenSpaceStore:u,savedQuickAddParent:p,query:g,blockResults:m,recentPageResults:h}=e,{typedSuggestedMenuSection:f,typedSuggestedResults:x}=await async function(e,t,s,o,a){if(!ce.ZP.state.isOpen||ce.ZP.state.variant===r.br||!te.n.state)throw new Error("Trying to render section when it's either not open, untyped, or typed but uninitialized (i.e. the typed databases are not fetched yet)");const n=ce.ZP.getTargetsDatabaseType(),i=(0,I.sN)(n),{typedDatabases:l}=te.n.state;let u;u=oe.default.checkGate("typed_move_to_improved_search")?await async function(e,t,s,o,a){const{databaseType:n,query:i,searchSessionId:r}=e,l=ht(a);if(!l)return[];const c=await J.deps.searchActions.loader(),d=(await c.searchCollectionsWithRecents({environment:t,query:i,limit:20,databaseType:n,parentStore:l,spaceStore:l,collectionViewBlockStore:void 0,searchSessionId:r})).results,u=d.map((e=>Ce({spaceStore:l,value:{type:"collection",id:e,spaceId:l.id},showPath:!0,isCreateIn:s,onAccept:s?o:e=>pt(e,o,t)}))).filter(y.$K);return u}({query:e,databaseType:n?[n]:void 0,searchSessionId:ce.ZP.state.flowId},t,s,o,a):function(e,t,s,o){const{query:a,typedDatabases:n}=e,i=ht(o);if(!i||!a||!n)return[];const r=(0,d.ZP)(a,n,(e=>{const t=String(e.getName())||"",s=(0,G.u3)(e);return[t,s instanceof de.zX&&s.getName()||""].join(" ")}));return r.map((e=>Ce({spaceStore:i,value:{type:"collection",id:e.id,spaceId:i.id},showPath:!0,isCreateIn:t,onAccept:s}))).filter(y.$K)}({query:e,typedDatabases:l},s,o,a);const p={key:"suggested",render:e=>(0,Se.jsx)(K.Z,{...e,title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveBlockMenu.typedSuggestedSection.title",values:{typedItemName:(0,c.Z)(i)}}),right:(0,Se.jsx)(nt,{typedItemName:i})}),items:u.slice(0,it)};return{typedSuggestedMenuSection:p,typedSuggestedResults:l}}(g,t,s,o,i);if(ce.ZP.state.isOpen&&"aggregated_type"===ce.ZP.state.moveToContext)return[f].filter((e=>e.items.length>0));let M=(0,Q.XQ)({recentPageResults:h,blockResults:m,suggestedPages:x});const T=new Set((0,Q.qB)(a));T.size>0&&(M=M.filter((e=>!T.has(e.blockId))));const j=v.mN(v.VS(v.oA([St({query:g,savedQuickAddParent:p},n,s,o,i),...M.map((e=>{let{blockId:t}=e;return Ce({spaceStore:u,value:{type:"page",id:t,spaceId:u.id},showPath:!g,isCreateIn:s,onAccept:o})}))])),(e=>e.key)),b=v.oA(yt(g,s,o,i,l)).slice(0,it),w=f.items.length>0,P={key:"teams",render:e=>(0,Se.jsx)(K.Z,{...e,desktopStyle:{paddingTop:w?0:6,paddingBottom:6},title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Teamspaces",id:"typedMoveBlockMenu.teamsSection.title"})}),items:b},k=f.items.length>0&&0===P.items.length;return[f,P,{key:"pages",render:e=>(0,Se.jsx)(K.Z,{...e,desktopStyle:{paddingTop:k?0:6,paddingBottom:6},title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Pages",id:"typedMoveBlockMenu.pagesSection.title"})}),items:j}].filter((e=>e.items.length>0))}({chosenSpaceStore:b,savedQuickAddParent:C,query:j,blockResults:P,recentPageResults:A},t,a,n,o,i,g,m);if(a)return function(e,t,s,o,a,n,i,r,l,c,d,u,p,g,m){const h=[],f=new Set,y=e=>{if(!e)return!1;const{key:t}=e;return!f.has(t)&&(f.add(t),!0)},x=v.oA([dt({query:t},i,c,d,u,r,p)]);!x.length||Boolean(l)||Boolean(r)||h.push({key:"defaults",render:e=>(0,Se.jsx)(K.Z,{...e}),items:x});const M=v.oA([...n.slice(0,5).map((t=>{let{blockId:s}=t;return Ce({spaceStore:e,value:{type:"page",id:s,spaceId:e.id},showPath:!Boolean(l)&&!Boolean(r),isCreateIn:p,onAccept:d})})),...s.slice(0,10).map((s=>{let{blockId:o}=s;return Ce({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!t,isCreateIn:p,onAccept:d})})),...o.slice(0,10).map((s=>{let{blockId:o}=s;return Ce({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!t,isCreateIn:p,onAccept:d})}))].slice(0,20).filter(y));M.length>0&&h.push({key:"blocks",render:e=>(0,Se.jsx)(K.Z,{...e,title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title"}),topBorder:h.length>0&&!Boolean(l)&&!Boolean(r)}),items:M});const T=v.oA(yt(t,p,d,g,m).filter(y));T.length>0&&(0,$.bq)()&&h.push({key:"teams",render:e=>(0,Se.jsx)(K.Z,{...e,isTitleUppercase:!0,title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"}),topBorder:h.length>0}),items:T});const j=v.oA(a.slice(0,5).map((t=>{let{blockId:s}=t;return Ce({spaceStore:e,value:{type:"page",id:s,spaceId:e.id},showPath:!0,isCreateIn:p,onAccept:d})})).filter(y));j.length>0&&h.push({key:"templates",render:e=>(0,Se.jsx)(K.Z,{...e,isTitleUppercase:!0,title:r?(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Add from template",id:"moveBlockMenu.addFromTemplate.title"}):(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Move to template",id:"moveBlockMenu.moveToTemplate.title"}),topBorder:h.length>0}),items:j});x.length&&(Boolean(l)||Boolean(r))&&h.push({key:"defaults",render:e=>(0,Se.jsx)(K.Z,{...e,topBorder:h.length>0}),items:x});return h}(b,j,P,k,Z,A,t,i,l,o,n,u,a,g,m);return function(e,t,s,o,a,n,i,r,l,c,d,u,p,g,m,h){const f=function(e,t,s,o,a,n,i,r,l){const c=0===e.length&&t?Xe({spaceStore:t,targets:a}):[],d={key:"suggested",render:e=>(0,Se.jsx)(K.Z,{...e,title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title"})}),items:v.oA([vt({query:e,chosenSpaceStore:t},s,o,n,a,i,l),...c.filter((e=>(0,Q.Xk)(e,a))).map((e=>Ce({spaceStore:t,value:{type:"page",id:e.id,spaceId:t.id},showPath:!1,isCreateIn:r,onAccept:i})))])};return d}(s,e,r,l,c,d,u,p,h),y=[...i.slice(0,3),...o.slice(0,20)],x={key:"pages",render:e=>(0,Se.jsx)(K.Z,{...e,title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Pages",id:"moveBlockMenu.pagesSection.title"})}),items:v.mN(v.VS(v.oA([St({query:s,savedQuickAddParent:t},g,p,u,m),...y.map((t=>{let{blockId:o}=t;return Ce({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!s,isCreateIn:p,onAccept:u})}))])),(e=>e.key))},M={key:"teams",render:e=>(0,Se.jsx)(K.Z,{...e,title:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"})}),items:v.oA(yt(s,p,u,m,h)).slice(0,10)};return[f,M,x].filter((e=>e.items.length>0))}(b,C,j,P,0,0,A,t,s,o,p,n,a,i,g,m)}(e,B,V,t,s,l,u,p,g,A,O,q)),[B,V,t,s,l,u,p,g,A,O,q]),W=(0,n.VK)((()=>ce.ZP.state.isOpen),[]),z=(0,n.VK)((()=>!N.state.ready&&m.length>0),[N,m]),D=(0,n.VK)((()=>ct()),[]),_=(0,a.MO)(),Y=(0,n.VK)((()=>(0,Q.Hn)()),[]);if(!u&&!s&&!W)return(0,Se.jsx)(Se.Fragment,{});let se,ie;return se=D?_?(0,Se.jsx)(Tt,{autocompleteQuery:m,onAutocompleteQueryChange:h,isAddTo:u,isTurnIntoPage:p,moveToSpaceMenuStore:O,menuListStore:L,isLoading:z}):(0,Se.jsx)(K.Z,{isInput:!0,children:(0,Se.jsx)(Tt,{autocompleteQuery:m,onAutocompleteQueryChange:h,isAddTo:u,isTurnIntoPage:p,moveToSpaceMenuStore:O,menuListStore:L,isLoading:z})}):void 0,ie=_?{onMouseEnter:x,menuType:U.og.Modal,title:p?(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Add to another page",id:"moveBlockMenu.mobileNewPageInj.label"}):u?(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Add new page in",id:"moveBlockMenu.mobileAddTo.label"}):(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:(0,Se.jsx)(S.FormattedMessage,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:M,header:se}:{onMouseEnter:x,menuType:U.og.Popup,width:j,header:se},(0,Se.jsxs)(k.Z,{debugName:"MoveToOrCreateMenu",capture:!0,allowMenuList:!0,allowEsc:!0,allowTabUntab:!1,allowUndo:!1,children:[(0,Se.jsx)(C.Z,{debugName:"MoveToOrCreateMenu",capture:!0,onEsc:M}),(0,Se.jsx)(Z.Z,{store:R,capture:b,ignoreBlockSelection:!1,restoreSelection:w,render:()=>{var e;const o=!Boolean(m)&&!_||Y&&!Boolean(m);return(0,Se.jsx)(F.Z,{...ie,footer:(0,Se.jsx)(Mt,{isCreateIn:s,isAddTo:u,moveToSpaceMenuStore:O,allTargetsAreNavigable:q}),children:o?(0,Se.jsx)(xt,{onAccept:l,targets:t,moveToSpaceMenuStore:O,menuListStore:L,allTargetsAreNavigable:q}):(0,Se.jsx)(ve,{query:m,spaceId:null===(e=ht(O))||void 0===e?void 0:e.id,menuListStore:L,requestStore:N,getAutocompleteItems:E})})}})]})};function ct(){return se.Z.state.online}function dt(e,t,s,o,a,n,i){if(!n||!i)return;if(e.query)return;const r=ee.default.state.mainEditorCurrentBlockStore;if(!r)return;const c=a?de.G.createChildStore(r,{table:f.iU,id:a}):void 0,d=M.gt(c);return d?{key:d.pageStore.id,render:e=>{const o=t=>(0,Se.jsx)(w.Z,{...(0,D.Z)(t||{},e),icon:(0,g.R)({width:14}),title:s.length>1?(0,Se.jsx)(S.FormattedMessage,{id:"moveBlockMenu.currentPage.pluralAddTitle",defaultMessage:"New sub-pages"}):(0,Se.jsx)(S.FormattedMessage,{id:"moveBlockMenu.currentPage.singleAddTitle",defaultMessage:"New sub-page"})});return t.device.isPhone?o():(0,Se.jsx)(R.ZP,{renderTooltip:()=>(0,Se.jsx)(W.Z,{imageURL:l.Z.images.tooltips.pageMenu.newSubpagePng,imageWidth:140,imageHeight:100,caption:(0,Se.jsx)(S.FormattedMessage,{...rt.createSubpage})}),placement:R.ug.Right,delayThreshold:0,render:e=>o(e)})},action:()=>o(d.createInValue)}:void 0}function ut(e,t){return!!t&&e.isTemplate()}function pt(e,t,s){var o;t(e);const a=ce.ZP.getTargetsDatabaseType(),n=null===(o=ee.default.state.currentSpaceStore)||void 0===o?void 0:o.id;"collection"===e.type&&n&&j.createAndCommit({userAction:"TypedMoveToMenu.handleClick",environment:s,perform:t=>{b.zq({transaction:t,dbType:a,collectionId:e.id})}})}function gt(e){return{width:10,marginLeft:4,fill:e.lightIconColor}}function mt(e){var t;return!!e&&e.getChosenSpaceId()!==(null===(t=ee.default.state.currentSpaceStore)||void 0===t?void 0:t.id)}function ht(e){return e.getChosenSpaceStore()??ee.default.state.currentSpaceStore}function ft(e){return e.getChosenSpaceViewStore()??ee.default.state.currentSpaceViewStore}function St(e,t,s,o,a){const{query:n,savedQuickAddParent:i}=e,r=ht(a);if(r)return t&&!n&&"space"===i.type||"page"===i.type?Ce({spaceStore:r,value:i,showPath:!0,isCreateIn:s,onAccept:o}):void 0}function vt(e,t,s,o,a,n,i){var r;const{query:l,chosenSpaceStore:c}=e,u=rt.privatePagesTitle,g=o.formatMessage(u).replace(/<[^>]*>/g,""),m=l?null===(r=(0,d.C6)(l,g))||void 0===r?void 0:r.score:void 0,h=l&&(m||0)>=d.V5;if((!l||h)&&i&&(!c||_e({environment:t,targets:a,chosenSpaceStore:c})))return{key:"private",render:e=>(0,Se.jsx)(w.Z,{icon:(0,Se.jsx)(E.Z,{size:22,userStore:(0,H.B7)(t)}),title:(0,Se.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,Se.jsx)("span",{children:(0,Se.jsx)(S.FormattedMessage,{...u})}),(0,$.bq)()&&(0,Se.jsx)("div",{style:{marginLeft:2},children:(0,p.b)({width:14,height:14,fill:s.mediumIconColor})})]}),...e}),action:()=>{n({type:"space-private-pages"})}}}function yt(e,t,s,o,a){if(e&&!a)return[];const n=ht(o),i=ft(o);if(!n||!i)return[];let r=i.getTeamsStores();return e&&(r=(0,d.ZP)(e,r,(e=>e.getName()||""))),r.map((e=>Ce({spaceStore:n,value:{type:"team",id:e.id,spaceId:n.id},showPath:!1,isCreateIn:t,onAccept:s}))).filter(y.$K)}function xt(e){let{onAccept:t,targets:s,moveToSpaceMenuStore:o,menuListStore:i,allTargetsAreNavigable:r}=e;const l=(0,a.O7)(),c=(0,n.VK)((()=>ht(o)),[o]),d=(0,n.VK)((()=>ft(o)),[o]),u=(0,n.VK)((()=>(0,Q.Hn)()),[]),p=(0,n.VK)((()=>(0,Y.Cx)(c)),[c]);return d&&c?u?(0,Se.jsx)(at,{spaceStore:c,spaceViewStore:d,onAccept:e=>pt(e,t,l),targets:s,menuListStore:i}):(0,Se.jsx)(Ge,{spaceStore:c,spaceViewStore:d,onAccept:t,targets:s,moveToPagesOnly:!r||p}):null}function Mt(e){let{isCreateIn:t,isAddTo:s,moveToSpaceMenuStore:o,allTargetsAreNavigable:r}=e;const l=(0,S.useIntl)(),c=(0,i.Fg)(),d=(0,a.O7)(),{currentUserRootStore:p,currentSpaceStore:g}=(0,n.VK)((()=>ee.default.state),[]),m=(0,n.VK)((()=>o.getChosenSpaceStore()),[o]),h=(0,n.VK)((()=>r&&!(null!=g&&g.getDisableMoveToSpace())&&!t&&!s),[r,g,t,s]),f=(0,n.VK)((()=>null==p?void 0:p.getSpaceViewStores()),[p]),y=(0,n.VK)((()=>v.mN(v.oA(null==f?void 0:f.map((e=>{const t=e.getSpaceStore();return!(0,Y.Cx)(t)&&t}))),(e=>e.id))),[f]);if(!p||!m||!g)return null;if(!h)return null;const x={menuTitle:l.formatMessage({defaultMessage:"Workspaces",id:"moveBlockMenu.spaceSwitcher.menuTitle"}),items:y,selectedItem:m,onSelect:e=>{o.setState({chosenSpaceId:e.id})},getKey:e=>e.id,renderItem:e=>(0,Se.jsx)(w.Z,{...e,checkState:e.value.id===m.id,title:(0,Y.rn)(d,e.value),icon:(0,Se.jsx)(N.Z,{icon:(0,Y.Wd)(d,e.value),isEmptyPage:!1,size:20,disabled:!0,title:(0,Y.rn)(d,e.value)})}),renderOrigin:e=>(0,Se.jsxs)(L.Z,{isSmall:!0,style:{fontWeight:"normal",fontSize:12,flexShrink:1},...e,children:[(0,Se.jsx)(N.Z,{disabled:!0,icon:m.getIcon(),isEmptyPage:!1,size:16,title:m.getName(),style:{marginRight:4}}),(0,Se.jsx)(pe.s,{children:(0,Y.rn)(d,m)}),(0,u.i)(gt(c))]}),width:150};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(P.Z,{vertical:!1,size:1}),(0,Se.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"4px"},children:(0,Se.jsx)(O.Z,{...x},"space-switcher")})]})}function Tt(e){let{isLoading:t,autocompleteQuery:s,onAutocompleteQueryChange:o,isAddTo:l,isTurnIntoPage:c,moveToSpaceMenuStore:d,menuListStore:u}=e;const p=(0,S.useIntl)(),g=(0,i.Fg)(),f=(0,a.O7)(),{device:v}=f,y=(0,n.VK)((()=>(0,Q.Hn)()&&ce.ZP.state.isOpen&&ce.ZP.state.variant===r.ii&&!te.n.state),[]),M=(0,n.VK)((()=>function(e){let{intl:t,isAddTo:s,isTurnIntoPage:o,moveToSpaceMenuStore:a}=e;if(mt(a))return t.formatMessage({defaultMessage:"Duplicate page…",id:"moveToMenuRenderer.duplicateToSpace.label"});if((0,Q.Hn)()){const e=(0,I.sN)(ce.ZP.getTargetsDatabaseType());return t.formatMessage({defaultMessage:"Move {typedItemName} to…",id:"moveToMenuRenderer.moveTo.typedLabel"},{typedItemName:e})}return o?t.formatMessage({defaultMessage:"Search page to add in…",id:"moveToMenuRenderer.addNewPageIn.label"}):s?t.formatMessage({defaultMessage:"Search page to add to…",id:"moveToMenuRenderer.addTo.label"}):t.formatMessage({defaultMessage:"Move page to…",id:"moveToMenuRenderer.moveTo.teamLabel"})}({intl:p,isAddTo:l,isTurnIntoPage:c,moveToSpaceMenuStore:d})),[p,l,c,d]),T=(0,n.VK)((()=>mt(d)),[d]);return(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(A.ZP,{onCancel:()=>{ce.ZP.state.isOpen&&ce.ZP.setState({...ce.ZP.state,isOpen:!1})},disabled:y,focus:!v.isMobile||void 0,focusAfterAnimation:!0,value:s,onChange:e=>{o(e.target.value),u.setState({...u.state,focus:{section:0,indexLocal:0,indexGlobal:0}})},placeholder:M,inputLeft:(0,Se.jsx)(A.f_,{icon:m.R}),inputRight:(0,Se.jsx)(z.Z,{show:t,showDelay:400,showHold:0,render:e=>e&&(0,Se.jsx)(B.Z,{style:{marginRight:2}})}),style:{marginBottom:-2}}),T&&(0,Se.jsxs)(q.Z,{isMultiline:!0,isSecondaryColor:!1,style:{background:g.accentColors.gray[30],marginTop:12,marginLeft:12,marginRight:12,padding:8,borderRadius:6},children:[(0,h.t)({fill:g.accentColors.orange[400],width:14,height:14,marginRight:4,alignSelf:"center",display:"inline-block",verticalAlign:"text-bottom"}),(0,Se.jsx)("span",{children:(0,Se.jsx)(S.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.message",defaultMessage:"You can only duplicate pages into another workspace — not move them."})}),(0,Se.jsx)(V.Z,{href:(0,_.UY)("guides.duplicateToSpace"),style:{color:g.accentColors.gray[500],fontWeight:x.Z.fontWeight.semibold,marginTop:4},children:(0,Se.jsx)(S.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.learnMoreLink",defaultMessage:"Learn more"})})]})]})}},63334:(e,t,s)=>{s.d(t,{Z:()=>n});var o=s(49085);class a extends o.default{getInitialState(){return{}}}const n=a},30765:(e,t,s)=>{s.d(t,{s:()=>c});var o=s(67294),a=s(480),n=s(24405),i=s(37810),r=s(26388);var l=s(85893);function c(e){let{children:t,style:s}=e;const{isSafari:c}=(0,a.Fy)(),d=(0,o.useRef)(null),u=function(e){const[t,s]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:t}=e;if(!t)return void s(!1);const o="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;s(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==o||o.observe(t),()=>null==o?void 0:o.unobserve(t)}),[]),t}(d),p=(0,n.yK)((()=>({overflowText:{...i.Z.textOverflowStyle,...s}})),[s]);return(0,l.jsx)(r.ZP,{delayThreshold:500,placement:r.ug.Bottom,forceVisibleState:!(c||!u)&&void 0,renderTooltip:()=>u?t:void 0,render:e=>(0,l.jsx)("div",{ref:d,style:p.overflowText,...e,children:t})})}}}]);