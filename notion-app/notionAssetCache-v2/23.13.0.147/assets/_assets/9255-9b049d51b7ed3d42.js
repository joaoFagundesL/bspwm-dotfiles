"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9255],{49386:(e,t,a)=>{a.d(t,{_p:()=>dt,q6:()=>ct,Qi:()=>Wt,IK:()=>Be,Dw:()=>Oe,TH:()=>He,cO:()=>Qe,Bj:()=>tt,fK:()=>nt,mS:()=>Xe,OH:()=>rt,yN:()=>Ee});a(52262),a(24506),a(30541),a(67294);var n=a(41432),o=a(17397),i=a(6695),s=a(68626),r=a(9999),l=a(82477),c=a(70622),d=a(53376),u=a(40745),m=a(22771),g=a(84197),f=a(64330),p=a(45238),b=a(85893);const M=(0,p.IU)("editPage",{viewBox:"0 0 16 16",svg:(0,b.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM5.97656 7.44922C6.40723 7.44922 6.79004 7.05957 6.79004 6.51953C6.79004 5.97949 6.41406 5.58984 5.97656 5.58984C5.55273 5.58984 5.18359 5.97949 5.18359 6.51953C5.18359 7.05957 5.55273 7.44922 5.97656 7.44922ZM10.0098 7.44922C10.4404 7.44922 10.8232 7.05957 10.8232 6.51953C10.8232 5.97949 10.4404 5.58984 10.0098 5.58984C9.5791 5.58984 9.2168 5.97949 9.2168 6.51953C9.2168 7.05957 9.58594 7.44922 10.0098 7.44922ZM7.99316 11.4277C9.42871 11.4277 10.3926 10.4775 10.3926 10.0195C10.3926 9.85547 10.2285 9.78027 10.0713 9.84863C9.57227 10.1084 8.99121 10.416 7.99316 10.416C7.00195 10.416 6.41406 10.1084 5.91504 9.84863C5.76465 9.77344 5.60059 9.85547 5.60059 10.0195C5.60059 10.4775 6.56445 11.4277 7.99316 11.4277Z"})});var y=a(27714),v=a(62208),S=a(21158),C=a(54855),k=a(84199);const h=(0,p.IU)("quote",{viewBox:"0 0 20 20",svg:(0,b.jsx)("path",{d:"M9.061 9.12c.987 0 1.79-.675 1.79-1.7 0-.973-.662-1.626-1.56-1.626-.438 0-.802.163-1.04.498.23-.995 1.003-1.656 2.065-1.708.304-.022.527-.238.527-.527 0-.35-.29-.557-.683-.557-1.67 0-3.163 1.425-3.163 3.334 0 1.388.891 2.286 2.064 2.286zm-4.648 0c.988 0 1.79-.675 1.79-1.7 0-.973-.661-1.626-1.56-1.626-.445 0-.801.163-1.039.498.23-.995 1.002-1.649 2.072-1.708.296-.022.512-.238.512-.527 0-.35-.29-.557-.676-.557-1.678 0-3.163 1.425-3.163 3.334 0 1.388.891 2.286 2.064 2.286zM12.84 4.83h4.165a.66.66 0 00.668-.66.664.664 0 00-.668-.662H12.84a.664.664 0 00-.668.661c0 .371.297.66.668.66zm0 3.89h4.165a.66.66 0 00.668-.66.66.66 0 00-.668-.661H12.84a.66.66 0 00-.668.66c0 .372.297.661.668.661zm-9.852 3.89h14.017a.66.66 0 00.668-.66.66.66 0 00-.668-.66H2.988c-.371 0-.66.289-.66.66 0 .371.289.66.66.66zm0 3.891h14.017a.664.664 0 00.668-.66.66.66 0 00-.668-.662H2.988c-.371 0-.66.29-.66.661 0 .364.289.661.66.661z"})});var N=a(70663),w=a(18442),L=a(91427),P=a(60291);const x=(0,p.IU)("timeBy",{viewBox:"0 0 30 30",svg:(0,b.jsx)("path",{d:"M14 25H16V15H14C13.919 15.164 13.209 15.698 12 15.909V17.94C12.743 17.85 13.416 17.652 14 17.388V25ZM25 4C25 2.343 23.657 1 22 1C20.343 1 19 2.343 19 4H11C11 2.343 9.657 1 8 1C6.343 1 5 2.343 5 4H1V29H29V4H25ZM21 4C21 3.449 21.448 3 22 3C22.552 3 23 3.449 23 4V6C23 6.551 22.552 7 22 7C21.448 7 21 6.551 21 6V4ZM7 4C7 3.449 7.448 3 8 3C8.552 3 9 3.449 9 4V6C9 6.551 8.552 7 8 7C7.448 7 7 6.551 7 6V4ZM27 27H3V13H27V27ZM27 11H3V6H5C5 7.657 6.343 9 8 9C9.657 9 11 7.657 11 6H19C19 7.657 20.343 9 22 9C23.657 9 25 7.657 25 6H27V11Z"})});var I=a(37888),j=a(15157),A=a(89101),D=a(9291),_=a(53965),F=a(59301),T=a(51365),V=a(893),Z=a(42274),R=a(31781),B=a(96802),z=a(96313),O=a(65770),E=a(27153),H=a(72711),U=a(9953),q=a(42858),J=a(24677),G=a(64964),K=a(13447),$=a(68422),W=a(61202),Y=a(29657),X=a(75330),Q=a(10906),ee=a(78030),te=a(93405),ae=a(52275),ne=a(72495),oe=a(69872),ie=a(74962),se=a(72187),re=a(19037),le=a(28020),ce=a(65183),de=a(33929),ue=a(77907),me=a(74948),ge=a(44534),fe=a(83960),pe=a(80444),be=a(77080),Me=a(64424),ye=a(21797),ve=a(95554),Se=a(52922),Ce=a(82763),ke=a(35067),he=a(93685),Ne=a(29768),we=a(62967),Le=a(20422),Pe=a(42784),xe=a(2295),Ie=a(12988),je=a(6471),Ae=a(41670),De=a(11732);const _e=(0,D.defineMessages)({fixLegacyTransclusion:{id:"action.fixLegacyTransclusion.name",defaultMessage:"Fix legacy transclusion"},newPageInName:{id:"action.newPageIn.name",defaultMessage:"Turn into page in"},insertBelowName:{id:"action.insertBelow.name",defaultMessage:"Insert below"},copyDirectLinkName:{id:"action.copyDirectLink.name",defaultMessage:"Copy link to original"},openasPageName:{id:"action.openasPage.name",defaultMessage:"Open as page"},copyLinksName:{id:"action.copyLinks.name",defaultMessage:"Copy links to all"},viewOriginalName:{id:"action.viewOriginal.name",defaultMessage:"View original"},downloadName:{id:"action.download.name",defaultMessage:"Download"},replaceName:{id:"action.replace.name",defaultMessage:"Replace"},turnSimpleTableIntoCollection:{id:"action.turnIntoCollection.title",defaultMessage:"Turn into database"},editPropertyName:{id:"action.editProperty.name",defaultMessage:"Edit property"},clearDateName:{id:"action.clearDate.name",defaultMessage:"Clear date"},turnintoInlineName:{id:"action.turnintoInline.name",defaultMessage:"Turn into inline"},turnintoPageName:{id:"action.turnintoPage.name",defaultMessage:"Turn into page"},turnCollectionIntoSimpleTable:{id:"action.turnintoSimpleTable.name",defaultMessage:"Turn into simple table"},mergewithCSVName:{id:"action.mergewithCSV.name",defaultMessage:"Merge with CSV"},mergewithCSVCaption:{id:"action.mergewithCSV.caption",defaultMessage:"Header row required"},lockDatabaseName:{id:"action.lockDatabaseName.name",defaultMessage:"Lock database"},unlockDatabaseName:{id:"action.unlockDatabaseName.name",defaultMessage:"Unlock database"},lockDatabaseViewsName:{id:"action.lockDatabaseViewsName.name",defaultMessage:"Lock views"},unlockDatabaseViewsName:{id:"action.unlockDatabaseViews.name",defaultMessage:"Unlock views"},lockWikiName:{id:"action.lockWikiName.name",defaultMessage:"Lock wiki"},reloadPreview:{id:"action.reloadPreview",defaultMessage:"Reload preview"},unlockWikiName:{id:"action.unlockWikiName.name",defaultMessage:"Unlock wiki"},turnPreviewIntoMention:{id:"action.turnPreviewIntoMention",defaultMessage:"Turn into mention"},reloadSyncedPage:{id:"action.reloadSyncedPage",defaultMessage:"Sync page"},addtoFavoritesName:{id:"action.addtoFavorites.name",defaultMessage:"Add to Favorites"},configureName:{id:"action.configure.name",defaultMessage:"Configure"},editIconName:{id:"action.editIcon.name",defaultMessage:"Icons"},wrapCodeKeywords:{id:"action.wrapCode.fuzzySearchKeywords",defaultMessage:"Wrap Code"},wrapCodeLabel:{id:"action.wrapCode.label",defaultMessage:"Wrap code"},languageModeName:{id:"action.languageMode.name",defaultMessage:"Set language"},formatCodeLabel:{id:"action.formatCode.label",defaultMessage:"Format code"},workAtNotion:{id:"action.workAtNotion.name",defaultMessage:"Work at Notion"},quoteSizeSection:{id:"action.section.quoteSize",defaultMessage:"Quote size"},quoteSizeDefault:{id:"action.quoteSize.default",defaultMessage:"Default"},quoteSize:{id:"action.quoteSize.name",defaultMessage:"Quote size"},quoteSizeLarge:{id:"action.quoteSize.large",defaultMessage:"Large"},listFormatDefault:{id:"action.listFormat.letters.default",defaultMessage:"Default"},listFormatSection:{id:"action.listFormat.sectionName",defaultMessage:"List format"},listFormat:{id:"action.listFormat.name",defaultMessage:"List format"},listFormatNumbers:{id:"action.listFormat.numbers.name",defaultMessage:"Numbers"},listFormatLetters:{id:"action.listFormat.letters.name",defaultMessage:"Letters"},listFormatRoman:{id:"action.listFormat.letters.roman",defaultMessage:"Roman numerals"},listFormatDisc:{id:"action.listFormat.disc.name",defaultMessage:"Disc"},listFormatCircle:{id:"action.listFormat.circle.name",defaultMessage:"Circle"},listFormatSquare:{id:"action.listFormat.square.name",defaultMessage:"Square"},alignmentName:{id:"action.alignment.name",defaultMessage:"Align"},cropImage:{id:"action.cropImage",defaultMessage:"Crop image"}}),Fe=[re.MaU,re.ffD(re.sRS),re.ffD(re.cWe),re.or([re.O4s,re.ffD(re.OPg)]),...we.kv],Te=(0,we.cN)({key:"fixLegacyTransclusion",displayName:_e.fixLegacyTransclusion,analyticsName:_e.fixLegacyTransclusion.defaultMessage,svg:P.b,validators:[re.szW,re.U7o,...Fe],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;O.Y({environment:a,store:t[0]})}}),Ve=(0,we.MV)({key:"turn into section",displayName:we.RE.turnIntoName,analyticsName:we.RE.turnIntoName.defaultMessage,svg:v.z,validators:[re.J5S,re.ffD(re.OPg),re.wFS,re.XQy,re.Vc5],subActions:()=>[{key:0,title:void 0,render:e=>(0,b.jsx)(ne.Z,{...e}),actions:De.g.actions}]}),Ze=(0,we.cN)({key:"new page in section",displayName:_e.newPageInName,analyticsName:_e.newPageInName.defaultMessage,closeParentMenu:!0,svg:C.a,hideFromSlashActionMenu:!0,validators:[re.J5S,re.ffD(re.OPg),re.ffD(re.P99("page")),re.XQy,re.wFS],render:(e,t,a)=>{const{onFocus:n,onAccept:o}=a;return(0,b.jsx)(ue.LazyNewPageInMenu,{...e,title:_e.newPageInName,blocksToTransform:t.blocks,onFocus:n,onAccept:o?()=>o(Ze,t,void 0):void 0})},action:()=>{}}),Re=(0,we.cN)({key:"insert below",displayName:_e.insertBelowName,analyticsName:_e.insertBelowName.defaultMessage,svg:u.M,validators:[re.J5S,re.Eok,re.tqC],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;K.createAndCommit({userAction:"actionRegistry.insertBelow",environment:a,perform:e=>{q.ZJ({environment:a,blocks:t,transaction:e})}})}}),Be=(0,we.cN)({key:"copy direct link to content housed within block",displayName:_e.copyDirectLinkName,analyticsName:_e.copyDirectLinkName.defaultMessage,svg:y.N,validators:[re.jlf,re.U7o,re.ffD(re.OOd),re.ffD(re.Fxc),re.or([re.Cjo,re.$H4,re.P99(n.Ti.bookmark),re.P99(n.Ti.externalObjectInstance),re.P99(n.Ti.externalObjectInstancePage),re.K5G,re.p5B])],closeParentMenu:!0,action:(e,t)=>{V.IK({...e,event:t})}}),ze=(0,we.cN)({key:"open collection as page",displayName:_e.openasPageName,analyticsName:_e.openasPageName.defaultMessage,svg:S.h,validators:[re.vjj,re.ffD(re.O4s),re.ffD(re.LHu)],closeParentMenu:!0,action:e=>q.YP(e)}),Oe=(0,we.cN)({key:"copy links to blocks",displayName:_e.copyLinksName,analyticsName:_e.copyLinksName.defaultMessage,svg:y.N,validators:[re.jlf,re.ECq,re.ffD(re.uY7)],closeParentMenu:!0,action:(e,t)=>{V.Dw({...e,event:t})}}),Ee=(0,we.cN)({key:"view original",displayName:_e.viewOriginalName,analyticsName:_e.viewOriginalName.defaultMessage,svg:r.J,validators:[re.U7o,re.or([re.Cjo,re.xDy([re.$H4,re.ffD(re.OOd)])])],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;R.qL(a,{store:t[0],from:"view_original"})}}),He=(0,we.cN)({key:"download source",displayName:_e.downloadName,analyticsName:_e.downloadName.defaultMessage,svg:f.a,validators:[re.U7o,re.or([re.$H4,re.Cjo]),re.or([re.VBw,re.OOd]),re.ffD(re.Fxc)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;R.TH({environment:a,store:t[0]})}}),Ue=(0,we.cN)({key:"replace source",displayName:_e.replaceName,analyticsName:_e.replaceName.defaultMessage,svg:N.h,validators:[re.J5S,re.U7o,re.or([re.$H4,re.Cjo]),re.NZn],closeParentMenu:!0,action:e=>{let{blocks:t}=e;R.x1({store:t[0]})}}),qe=(0,we.cN)({key:"turn into collection",displayName:_e.turnSimpleTableIntoCollection,analyticsName:_e.turnSimpleTableIntoCollection.defaultMessage,svg:v.z,validators:[re.J5S,re.ffD(re.b47),re._nA,re.XQy,re.ffD(re.US8)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;return K.createAndCommit({userAction:"actionRegistry.turnSimpleTableIntoCollection",environment:a,perform:e=>{ge.HM.turnIntoCollection({environment:a,editorMode:"default",simpleTableStore:t[0],transaction:e}),J.ZH(a),ge.HM.clearSelection()}})}}),Je=[re.J5S,re.ffD(re.p1d),re.AKv,re.ffD(re.YGm),re.FXl,re.EYw];const Ge=(0,we.MV)({key:"edit property",displayName:_e.editPropertyName,analyticsName:_e.editPropertyName.defaultMessage,svg:k.N,validators:Je,subActions:e=>{let{blocks:t}=e;const a=t.at(0);if(!a)return[];const n=(0,Q.fm)(a),o=a.getAssociatedCollectionStore();if(!o)return[];const s=(null==n?void 0:n.normalizedSchemaStore.state)??o.getSchema(),r=o.getFormat(),l=i.iB(r,s,void 0,i.j5.Collection);if(!l.collection_page_properties)return[];l.collection_page_properties.unshift({property:"title"});const c=_.oA(l.collection_page_properties.map((e=>{const a=s[e.property];if(a&&(0,ce.Sb)({propertySchema:a,property:e.property,blockStores:t,collectionSchema:s}))return function(e){const{property:t,propertySchema:a}=e,n=a.name;return{key:`Edit Property ${n} ${t}`,displayName:n,analyticsName:"Edit property",searchName:n,validators:Je,closeParentMenu:!0,action:(e,n)=>{let{blocks:o,originRect:i,environment:s}=e;"checkbox"===a.type?K.createAndCommit({userAction:"actionRegistry.createEditPropertyAction",environment:s,perform:e=>{T.vO({stores:o,property:t,transaction:e})}}):i&&T.bA({environment:s,store:o[0],additionalStores:o.slice(1),property:t,format:ee.C.Page,rect:{..._.Go(i),width:200},preventClearSelection:!0,blockPropertyValueOverlayStore:le._H(),collectionContextStore:(0,Q.fm)(o[0])})},render:e=>(0,b.jsx)(oe.Z,{...e,propertySchema:a,format:oe.L.Name})}}({property:e.property,propertySchema:a})})));return[{key:0,title:void 0,render:e=>(0,b.jsx)(ne.Z,{...e}),actions:c}]}}),Ke=(0,we.cN)({key:"clear date",displayName:_e.clearDateName,analyticsName:_e.clearDateName.defaultMessage,svg:x,validators:[re.J5S,re.ffD(re.OPg),re.or([re.j2U("timeline"),re.j2U("calendar")])],closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;const n=(0,Q.fm)(a[0]);if(!n)return;const o=null==n?void 0:n.collectionViewStore();if(!o)return;const i=n.normalizedSchemaStore.state;K.createAndCommit({userAction:"actionRegistry.clearDate",environment:t,perform:e=>{Y.k2({stores:a,collectionViewStore:o,schema:i,transaction:e})}})}}),$e=(0,we.cN)({key:"view collection view inline",displayName:_e.turnintoInlineName,analyticsName:_e.turnintoInlineName.defaultMessage,svg:v.z,validators:[re.Mgm,re.ffD(re.O4s),re.k5s,re.ffD(re.b47),re.ffD(re.f7f),re.Vc5],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;return K.createAndCommit({userAction:"actionRegistry.viewCollectionViewInline",environment:a,perform:e=>{$.Cj({environment:a,blocks:t,blockType:"collection_view",transaction:e}),J.ZH(a)}})}}),We=(0,we.cN)({key:"view collection view as page",displayName:_e.turnintoPageName,analyticsName:_e.turnintoPageName.defaultMessage,svg:v.z,validators:[re.vjj,re.ffD(re.O4s),re.k5s,re.ffD(re.b47),re.ffD(re.OPg),re.ffD(re.K5G)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;return K.createAndCommit({userAction:"actionRegistry.turnCollectionViewIntoCollectionViewPage",environment:a,perform:e=>{$.Cj({environment:a,blocks:t,blockType:"collection_view_page",transaction:e})}})}}),Ye=(0,we.cN)({key:"turn into simple table",displayName:_e.turnCollectionIntoSimpleTable,analyticsName:_e.turnCollectionIntoSimpleTable.defaultMessage,svg:v.z,validators:[re.vjj,re.dM3("table"),re.ffD(re.O4s),re.k5s,re.ffD(re.b47),re.TKz,re.iJI,re.ffD(re.K5G)],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:a}=e;const n=t[0],o=n.useCrdt(),i=await ge.g$.getPagesInCollectionForSimpleTableTransform({environment:a,collectionViewBlockStore:n});if(i.some((e=>e.useCrdt()!==o)))return G.oV({label:o?"Cannot turn database with non-CRDT pages into simple table on CRDT page":"Cannot turn database with CRDT pages into simple table on non-CRDT page"}),void s.log({level:"info",from:"blockActionRegistry",type:"crdt:turnCollectionIntoSimpleTableUseCrdtMismatch",data:{miscDataToConvertToString:{collectionViewBlockUseCrdt:o}}});K.createAndCommit({userAction:"actionRegistry.turnCollectionIntoSimpleTable",environment:a,perform:e=>{ge.HM.turnIntoSimpleTable({environment:a,editorMode:"default",collectionViewBlockStore:n,pageStores:i,transaction:e}),J.ZH(a),ge.HM.clearSelection()}})}}),Xe=(0,we.cN)({key:"merge with csv",displayName:_e.mergewithCSVName,analyticsName:_e.mergewithCSVName.defaultMessage,validators:[re.YGm,re.k5s,re.Ggh,re.YZb,re.ffD(re.OPg),re.ffD(re.ESL),re.ffD(re.K5G),re.ffD(re.uY7)],closeParentMenu:!0,render:e=>(0,b.jsx)(te.Z,{...e,svg:m.J,title:(0,b.jsx)(D.FormattedMessage,{..._e.mergewithCSVName}),tooltipText:(0,b.jsx)(D.FormattedMessage,{..._e.mergewithCSVCaption})}),action:e=>{let{blocks:[t],environment:a}=e;X.mS({environment:a,store:t})}}),Qe=(0,we.N$)({key:"database lock",displayName:_e.lockDatabaseName,label:de.default.formatMessage(_e.lockDatabaseName),isEnabled:e=>e.isLocked(),validators:[re.YGm,re.plk,re.ffD(re.f7f),re.k5s,re.ffD(re.uY7)],action:(e,t,a)=>U.sW({store:t.getFormatStore(),data:{block_locked:!t.isLocked(),block_locked_by:e.currentUser.id},transaction:a}),afterAction:()=>null}),et=(0,we.cN)({key:"database unlock",displayName:_e.unlockDatabaseName,analyticsName:_e.unlockDatabaseName.defaultMessage,svg:I.U,validators:[re.YGm,re.plk,re.ffD(re.f7f),re.k5s,re.p1d],closeParentMenu:!1,action:e=>{let{blocks:t,environment:a}=e;const n=t[0];H.bo({environment:a,store:n,lock:!1})}}),tt=(0,we.N$)({key:"database views lock",displayName:_e.lockDatabaseViewsName,label:de.default.formatMessage(_e.lockDatabaseViewsName),isEnabled:e=>e.isLocked(),validators:[re.YGm,re.ffD(re.plk),re.k5s,re.ffD(re.uY7)],action:(e,t,a)=>U.sW({store:t.getFormatStore(),data:{block_locked:!t.isLocked(),block_locked_by:e.currentUser.id},transaction:a}),afterAction:()=>null}),at=(0,we.cN)({key:"database views unlock",displayName:_e.unlockDatabaseViewsName,analyticsName:_e.unlockDatabaseViewsName.defaultMessage,svg:I.U,validators:[re.YGm,re.ffD(re.plk),re.k5s,re.p1d],closeParentMenu:!1,action:(e,t)=>{let{blocks:a,environment:n}=e;const o=a[0];H.bo({environment:n,store:o,lock:!1})}}),nt=(0,we.N$)({key:"wiki lock",displayName:_e.lockWikiName,label:de.default.formatMessage(_e.lockWikiName),isEnabled:e=>e.isLocked(),validators:[re.YGm,re.plk,re.f7f,re.k5s,re.ffD(re.uY7)],action:(e,t,a)=>U.sW({store:t.getFormatStore(),data:{block_locked:!t.isLocked(),block_locked_by:e.currentUser.id},transaction:a}),afterAction:()=>null}),ot=(0,we.cN)({key:"wiki unlock",displayName:_e.unlockWikiName,analyticsName:_e.unlockWikiName.defaultMessage,svg:I.U,validators:[re.YGm,re.plk,re.f7f,re.k5s,re.p1d],closeParentMenu:!1,action:e=>{let{blocks:t,environment:a}=e;const n=t[0];H.bo({environment:a,store:n,lock:!1})}});function it(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[re.J5S,re.ffD(re.OPg),re.ffD(re.nJQ),re.U7o,e?re.or([re.rol("external_object_instance"),re.p5B]):re.rol("external_object_instance"),re.ffD(re.HBU)]}const st=(0,we.cN)({key:"reload link preview",displayName:_e.reloadPreview,analyticsName:_e.reloadPreview.defaultMessage,svg:P.b,validators:it(!1),closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;if(0===a.length)return;const n=a[0];n.isExternalObjectInstanceBlockStore()&&W.qK({environment:t,from:"page_more_menu",store:n,spaceId:n.getSpaceId()})}}),rt=(0,we.cN)({key:"turn preview into mention",displayName:_e.turnPreviewIntoMention,analyticsName:_e.turnPreviewIntoMention.defaultMessage,svg:v.z,validators:it(!0),closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;0!==a.length&&K.createAndCommit({userAction:"actionRegistry.turnPreviewIntoMention",environment:t,perform:e=>{a[0].isType("alias")?z.az({block:a[0],transaction:e}):W.sz({environment:t,block:a[0],transaction:e})}})}});function lt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,we.cN)({key:"add to favorites",displayName:_e.addtoFavoritesName,analyticsName:_e.addtoFavoritesName.defaultMessage,svg:L.e,validators:[...e,re.jlf,re.DFt,re.U7o,re.ffD(re.UI7),re.ffD(re.xDy([re.uqO,re.cWe])),re.NZn],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;const{currentSpaceViewStore:n}=pe.default.state;if(n){const e=t[0];K.createAndCommit({userAction:"actionRegistry.addToFavorites",environment:a,perform:t=>{me.bookmarkPage({spaceViewStore:n,store:e,transaction:t})}})}}})}const ct=lt([re.tqC]),dt=lt(),ut=(0,we.cN)({key:"reload synced page",displayName:_e.reloadSyncedPage,analyticsName:_e.reloadSyncedPage.defaultMessage,svg:P.b,validators:[re.J5S,re.ffD(re.OPg),re.ffD(re.nJQ),re.U7o,re.rol("external_object_instance_page")],closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;if(0===a.length)return;const n=a[0];n.isExternalObjectInstancePageBlockStore()&&W.qK({environment:t,from:"page_more_menu",store:n,spaceId:n.getSpaceId(),bypassCache:!0})}}),mt=(0,we.cN)({key:"configure",displayName:_e.configureName,analyticsName:_e.configureName.defaultMessage,svg:w.H,validators:[re.J5S,re.U7o,re.zX6],closeParentMenu:!0,action:e=>q.jQ(e)}),gt=(0,we.cN)({key:"edit icon",displayName:_e.editIconName,analyticsName:_e.editIconName.defaultMessage,svg:M,validators:[re.J5S,re.ffD(re.OPg),re.lrK],closeParentMenu:!0,action:e=>{let{environment:t,originRect:a,blocks:n}=e;const o=e=>{var t;return e.isType("button")?null===(t=e.getAutomationStore())||void 0===t?void 0:t.getIconStore():e.getIconStore()},i=(e,a)=>{n.forEach((a=>{const n=o(a);n&&K.createAndCommit({userAction:"actionRegistry.editIcon",environment:t,perform:t=>{U.sO({store:n,value:e,transaction:t})}})})),a&&a.keepVisible||E.Z()},s=n.find((e=>(e=>{var t;return e.isType("button")?null===(t=o(e))||void 0===t?void 0:t.getValue():e.hasIcon()})(e))),r=n.every((e=>e.isType("callout"))),l=[{type:"emoji",title:(0,b.jsx)(D.FormattedMessage,{defaultMessage:"Emojis",id:"recordIcon.emojiTab.title"}),onChange:i},{type:"icon",title:(0,b.jsx)("div",{style:{display:"flex",gap:4},children:(0,b.jsx)(D.FormattedMessage,{defaultMessage:"Icons",id:"recordIcon.iconTab.title"})}),onChange:i}];E.$(t,{recordIconLoggingData:{source:"bulk_block_selection"},originGap:4,originRect:a,popupWidth:se.FZ,popupHeight:se.kX,isSmallWidth:!1,title:de.default.getIntl().formatMessage({defaultMessage:"Page icon",id:"recordIcon.emojiModalMenu.title"}),onDelete:s?()=>{n.forEach((e=>{const a=o(e);a&&K.createAndCommit({userAction:"actionRegistry.editIcon",environment:t,perform:e=>{U.sO({store:a,value:void 0,transaction:e})}})})),E.Z()}:void 0,currentTab:"emoji",isCallout:r,tabs:l,disableClearSelection:!0})}}),ft=(0,we.N$)({key:"code wrap",displayName:_e.wrapCodeKeywords,label:de.default.formatMessage(_e.wrapCodeLabel),isEnabled:e=>Boolean(e.getFormat().code_wrap),validators:[re.U7o,re.P99("code")],action:(e,t,a)=>B.FH({stores:[t],update:{code_wrap:!t.getFormat().code_wrap},transaction:a}),afterAction:(e,t)=>{j.Z.set({userId:t.currentUser.id,key:fe.T.localCodeWrapPreferenceKey,value:e})}}),pt=(0,D.defineMessages)({ABAP:{id:"action.languageMode.abap",defaultMessage:"ABAP"},Agda:{id:"action.languageMode.agda",defaultMessage:"Agda"},Arduino:{id:"action.languageMode.arduino",defaultMessage:"Arduino"},Assembly:{id:"action.languageMode.nasm",defaultMessage:"Assembly"},Bash:{id:"action.languageMode.bash",defaultMessage:"Bash"},BASIC:{id:"action.languageMode.basic",defaultMessage:"Basic"},BNF:{id:"action.languageMode.bnf",defaultMessage:"BNF"},C:{id:"action.languageMode.c",defaultMessage:"C"},"C#":{id:"action.languageMode.csharp",defaultMessage:"C#"},"C++":{id:"action.languageMode.cplusplus",defaultMessage:"C++"},Clojure:{id:"action.languageMode.clojure",defaultMessage:"Clojure"},CoffeeScript:{id:"action.languageMode.coffeescript",defaultMessage:"CoffeeScript"},Coq:{id:"action.languageMode.coq",defaultMessage:"Coq"},CSS:{id:"action.languageMode.css",defaultMessage:"CSS"},Dart:{id:"action.languageMode.dart",defaultMessage:"Dart"},Dhall:{id:"action.languageMode.dhall",defaultMessage:"Dhall"},Diff:{id:"action.languageMode.diff",defaultMessage:"Diff"},Docker:{id:"action.languageMode.docker",defaultMessage:"Docker"},EBNF:{id:"action.languageMode.ebnf",defaultMessage:"EBNF"},Elixir:{id:"action.languageMode.elixir",defaultMessage:"Elixir"},Elm:{id:"action.languageMode.elm",defaultMessage:"Elm"},Erlang:{id:"action.languageMode.erlang",defaultMessage:"Erlang"},"F#":{id:"action.languageMode.fsharp",defaultMessage:"F#"},Flow:{id:"action.languageMode.flow",defaultMessage:"Flow"},Fortran:{id:"action.languageMode.fortran",defaultMessage:"Fortran"},Gherkin:{id:"action.languageMode.gherkin",defaultMessage:"Gherkin"},GLSL:{id:"action.languageMode.glsl",defaultMessage:"GLSL"},Go:{id:"action.languageMode.go",defaultMessage:"Go"},GraphQL:{id:"action.languageMode.graphql",defaultMessage:"Graphql"},Groovy:{id:"action.languageMode.groovy",defaultMessage:"Groovy"},Haskell:{id:"action.languageMode.haskell",defaultMessage:"Haskell"},HTML:{id:"action.languageMode.html",defaultMessage:"HTML"},Idris:{id:"action.languageMode.idris",defaultMessage:"Idris"},Java:{id:"action.languageMode.java",defaultMessage:"Java"},JavaScript:{id:"action.languageMode.javascript",defaultMessage:"JavaScript"},JSON:{id:"action.languageMode.json",defaultMessage:"JSON"},Julia:{id:"action.languageMode.julia",defaultMessage:"Julia"},Kotlin:{id:"action.languageMode.kotlin",defaultMessage:"Kotlin"},LaTeX:{id:"action.languageMode.latex",defaultMessage:"LaTeX"},Less:{id:"action.languageMode.less",defaultMessage:"LESS"},Lisp:{id:"action.languageMode.lisp",defaultMessage:"Lisp"},LiveScript:{id:"action.languageMode.livescript",defaultMessage:"LiveScript"},"LLVM IR":{id:"action.languageMode.llvm",defaultMessage:"LLVM IR"},Lua:{id:"action.languageMode.lua",defaultMessage:"Lua"},Makefile:{id:"action.languageMode.makefile",defaultMessage:"Makefile"},Markdown:{id:"action.languageMode.markdown",defaultMessage:"Markdown"},Markup:{id:"action.languageMode.markup",defaultMessage:"Markup"},MATLAB:{id:"action.languageMode.matlab",defaultMessage:"MATLAB"},Mathematica:{id:"action.languageMode.mathematica",defaultMessage:"Mathematica"},Mermaid:{id:"action.languageMode.mermaid",defaultMessage:"Mermaid"},Nix:{id:"action.languageMode.nix",defaultMessage:"Nix"},"Notion Formula":{id:"action.languageMode.notionFormula",defaultMessage:"Notion Formula"},"Objective-C":{id:"action.languageMode.objectiveC",defaultMessage:"Objective-C"},OCaml:{id:"action.languageMode.ocaml",defaultMessage:"OCaml"},Pascal:{id:"action.languageMode.pascal",defaultMessage:"Pascal"},Perl:{id:"action.languageMode.perl",defaultMessage:"Perl"},PHP:{id:"action.languageMode.php",defaultMessage:"PHP"},"Plain Text":{id:"action.languageMode.plaintext",defaultMessage:"Plain Text"},PowerShell:{id:"action.languageMode.powershell",defaultMessage:"Powershell"},Prolog:{id:"action.languageMode.prolog",defaultMessage:"Prolog"},Protobuf:{id:"action.languageMode.protobuf",defaultMessage:"Protobuf"},PureScript:{id:"action.languageMode.purescript",defaultMessage:"PureScript"},Python:{id:"action.languageMode.python",defaultMessage:"Python"},R:{id:"action.languageMode.r",defaultMessage:"R"},Racket:{id:"action.languageMode.racket",defaultMessage:"Racket"},Reason:{id:"action.languageMode.reason",defaultMessage:"Reason"},Ruby:{id:"action.languageMode.ruby",defaultMessage:"Ruby"},Rust:{id:"action.languageMode.rust",defaultMessage:"Rust"},Sass:{id:"action.languageMode.sass",defaultMessage:"Sass"},Scala:{id:"action.languageMode.scala",defaultMessage:"Scala"},Scheme:{id:"action.languageMode.scheme",defaultMessage:"Scheme"},Scss:{id:"action.languageMode.scss",defaultMessage:"SCSS"},Shell:{id:"action.languageMode.shell",defaultMessage:"Shell"},Solidity:{id:"action.languageMode.solidity",defaultMessage:"Solidity"},SQL:{id:"action.languageMode.sql",defaultMessage:"SQL"},Swift:{id:"action.languageMode.swift",defaultMessage:"Swift"},TOML:{id:"action.languageMode.toml",defaultMessage:"TOML"},TypeScript:{id:"action.languageMode.typescript",defaultMessage:"TypeScript"},"VB.Net":{id:"action.languageMode.vbdotnet",defaultMessage:"VB.Net"},Verilog:{id:"action.languageMode.verilog",defaultMessage:"Verilog"},VHDL:{id:"action.languageMode.vhdl",defaultMessage:"VHDL"},"Visual Basic":{id:"action.languageMode.visualbasic",defaultMessage:"Visual Basic"},WebAssembly:{id:"action.languageMode.webassembly",defaultMessage:"WebAssembly"},XML:{id:"action.languageMode.xml",defaultMessage:"XML"},YAML:{id:"action.languageMode.yaml",defaultMessage:"YAML"},"Java/C/C++/C#":{id:"action.languageMode.cstyle",defaultMessage:"Java/C/C++/C#"}}),bt=[re.J5S,re.ffD(re.OPg),re.Eok,re.rol("code"),re.ffD(re.O4s)],Mt=(0,we.$J)({key:"code block languageMode actions",title:_e.languageModeName,render:e=>(0,b.jsx)(ne.Z,{...e}),actions:o.X0.map((e=>(0,we.cN)({key:`set language ${e} action`,displayName:pt[e],analyticsName:`set language ${e}`,validators:bt,closeParentMenu:!0,action:t=>{let{environment:a,blocks:n}=t;j.Z.set({userId:a.currentUser.id,key:fe.T.localLanguagePreferenceKey,value:e}),K.createAndCommit({userAction:"actionRegistry.languageModeActions",environment:a,perform:t=>{Z.E5({language:e,blocks:n,transaction:t})}})},render:t=>(0,b.jsx)(ae.Z,{...t,title:e})})))}),yt=(0,we.MV)({key:"languageMode section",displayName:_e.languageModeName,analyticsName:_e.languageModeName.defaultMessage,validators:bt,subActions:()=>[Mt]}),vt=(0,we.cN)({key:"format code",displayName:_e.formatCodeLabel,closeParentMenu:!0,analyticsName:_e.formatCodeLabel.defaultMessage,validators:[re.U7o,re.P99("code"),re.GzT],action:async e=>{let{blocks:t,environment:a}=e;const n=t[0];await Z.Cn({codeBlock:n,environment:a})}}),St=(0,we.cN)({key:"work at notion",analyticsName:_e.workAtNotion.defaultMessage,closeParentMenu:!0,displayName:_e.workAtNotion,validators:[re.P99("code"),re.vM3],action:()=>{window&&window.open(A._j.careers)}}),Ct=[re.J5S,re.ffD(re.OPg),re.rol("quote")];function kt(e){return t=>{j.Z.set({userId:t.environment.currentUser.id,key:fe.l.localSizePreferenceKey,value:e}),K.createAndCommit({userAction:"actionRegistry.createQuoteSizeAction",environment:t.environment,perform:a=>{B.FH({stores:t.blocks,update:{quote_size:e},transaction:a})}})}}const ht=(0,we.$J)({key:"quote size actions",title:_e.quoteSizeSection,render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[(0,we.cN)({key:"quote size default",displayName:_e.quoteSizeDefault,analyticsName:_e.quoteSizeDefault.defaultMessage,validators:Ct,closeParentMenu:!0,action:kt(void 0)}),(0,we.cN)({key:"quote size large",displayName:_e.quoteSizeLarge,analyticsName:_e.quoteSizeLarge.defaultMessage,validators:Ct,closeParentMenu:!0,action:kt("large")})]}),Nt=(0,we.MV)({key:"quote size",displayName:_e.quoteSize,analyticsName:_e.quoteSize.defaultMessage,svg:h,validators:Ct,subActions:()=>[ht]}),wt=[re.J5S,re.ffD(re.OPg),re.rol("numbered_list"),re.J8b("numbered_list")],Lt=[re.J5S,re.ffD(re.OPg),re.rol("bulleted_list"),re.J8b("bulleted_list")],Pt=(0,we.MV)({key:"number format",displayName:_e.listFormat,analyticsName:_e.listFormat.defaultMessage,svg:k.N,validators:wt,subActions:()=>[It]});function xt(e){return t=>{K.createAndCommit({userAction:"actionRegistry.createListFormatAction",environment:t.environment,perform:a=>{B.FH({stores:t.blocks,update:{list_format:e},transaction:a})}})}}const It=(0,we.$J)({key:"text color actions",title:_e.listFormatSection,render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[(0,we.cN)({key:"list format default",displayName:_e.listFormatDefault,analyticsName:_e.listFormatDefault.defaultMessage,validators:wt,closeParentMenu:!0,action:xt(void 0)}),(0,we.cN)({key:"list format numbers",displayName:_e.listFormatNumbers,analyticsName:_e.listFormatNumbers.defaultMessage,validators:wt,closeParentMenu:!0,action:xt("numbers")}),(0,we.cN)({key:"list format letters",displayName:_e.listFormatLetters,analyticsName:_e.listFormatLetters.defaultMessage,validators:wt,closeParentMenu:!0,action:xt("letters")}),(0,we.cN)({key:"list format roman numerals",displayName:_e.listFormatRoman,analyticsName:_e.listFormatRoman.defaultMessage,validators:wt,closeParentMenu:!0,action:xt("roman")})]});function jt(e){return t=>{K.createAndCommit({userAction:"actionRegistry.createBulletListFormatAction",environment:t.environment,perform:a=>{B.FH({stores:t.blocks,update:{bullet_list_format:e},transaction:a})}})}}const At=(0,we.$J)({key:"bullet list format actions",title:_e.listFormatSection,render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[(0,we.cN)({key:"list format default",displayName:_e.listFormatDefault,analyticsName:_e.listFormatDefault.defaultMessage,validators:Lt,closeParentMenu:!0,action:jt(void 0)}),(0,we.cN)({key:"list format disc",displayName:_e.listFormatDisc,analyticsName:_e.listFormatDisc.defaultMessage,validators:Lt,closeParentMenu:!0,action:jt("disc")}),(0,we.cN)({key:"list format circle",displayName:_e.listFormatCircle,analyticsName:_e.listFormatCircle.defaultMessage,validators:Lt,closeParentMenu:!0,action:jt("circle")}),(0,we.cN)({key:"list format square",displayName:_e.listFormatSquare,analyticsName:_e.listFormatSquare.defaultMessage,validators:Lt,closeParentMenu:!0,action:jt("square")})]}),Dt=(0,we.MV)({key:"bulleted format",displayName:_e.listFormat,analyticsName:_e.listFormat.defaultMessage,svg:k.N,validators:Lt,subActions:()=>[At]}),_t=[re.jlf,re.J5S,re.or([re.xDy([re.U7o,re.Cjo,re.k6d]),re.xDy([re.P99(n.Ti.text),re.QLY("text_align")])]),re.NZn],Ft=(0,we.MV)({key:"alignment",displayName:_e.alignmentName,analyticsName:_e.alignmentName.defaultMessage,svg:c.$,validators:_t,subActions:()=>[Zt]});function Tt(e){return t=>{K.createAndCommit({userAction:"actionRegistry.createAlignmentFormatAction",environment:t.environment,perform:a=>{if(t.blocks&&t.blocks.length>0)for(const n of t.blocks)B.hc({environment:t.environment,store:n,alignment:e,transaction:a})}})}}const Vt=(0,D.defineMessages)({leftAlign:{id:"action.alignment.left.name",defaultMessage:"Left"},centerAlign:{id:"action.alignment.center.name",defaultMessage:"Center"},rightAlign:{id:"action.alignment.right.name",defaultMessage:"Right"}}),Zt=(0,we.$J)({key:"alignment format actions",title:_e.alignmentName,render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[(0,we.cN)({key:"alignment format left",displayName:Vt.leftAlign,analyticsName:"Align left",validators:_t,closeParentMenu:!0,svg:c.$,action:Tt("left")}),(0,we.cN)({key:"alignment format center",displayName:Vt.centerAlign,analyticsName:"Align center",validators:_t,closeParentMenu:!0,svg:l.L,action:Tt("center")}),(0,we.cN)({key:"alignment format right",displayName:Vt.rightAlign,analyticsName:"Align right",validators:_t,closeParentMenu:!0,svg:d.g,action:Tt("right")})]}),Rt=(0,we.cN)({key:"edit image",displayName:_e.cropImage,analyticsName:_e.cropImage.defaultMessage,svg:g.J,validators:[re.J5S,re.Jji,re.YZb,re.QLY("image_cropping"),re.NZn],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;const n=t[0],o=n.getOriginalImageSource();o&&(Me.Z.openModal({blockStore:n,originalSource:o}),F.Z(a,{from:"blockmenu"}))}}),Bt={key:"block menu primary",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[Se.N,ke.G,Ne.o1,Ne.vh,Te,Ve,Ze,Re,ie.f]},zt={key:"block menu navigation",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[Be,ze,...Ie.ej,Ce.H,Ce.K,Oe]},Ot={key:"block menu secondary",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[Qe,et,tt,at,nt,ot,Le.d,Ee,He,Ue,mt,Ae.B,Ae.L9,qe,je.$,je.g,Ge,Ke,$e,We,Ye,Xe,st,rt,ut,xe.A,dt]},Et={key:"block menu dictate",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[he.j]},Ht={key:"block menu comment",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[ve.UI,ve.VJ,ve.Bt]},Ut={key:"block menu color",render:e=>(0,b.jsx)(ne.Z,{...e,topBorder:!0}),actions:[ye.Tr,gt]},qt={key:"code block menu style",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[ft,yt,vt,St]},Jt={key:"block menu quote",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[Nt]},Gt={key:"block menu number",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[Pt]},Kt={key:"block menu bullet",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[Dt]},$t={key:"block alignment",render:e=>(0,b.jsx)(ne.Z,{...e}),actions:[Ft,Rt]},Wt=be.default.checkGate("alt_text_image_blocks")?[Pe.ww,Ht,$t,Bt,Et,zt,Ot,Ut,qt,Jt,Gt,Kt]:[Pe.ww,Bt,Et,zt,Ot,Ht,Ut,qt,Jt,Gt,Kt,$t]},42784:(e,t,a)=>{a.d(t,{ww:()=>m});a(67294);var n=a(38491),o=a(55863),i=a(52423),s=a(72495),r=a(19037),l=a(62967),c=a(85893);const d=(0,l.cN)({key:"mobile undo",displayName:l.RE.undoName,analyticsName:l.RE.undoName.defaultMessage,svg:o.s,validators:[r.jlf,r.Mnk,r.ffD(r.Eok)],closeParentMenu:!0,action:e=>{let{environment:t}=e;return i.Yw(t)}}),u=(0,l.cN)({key:"mobile redo",displayName:l.RE.redoName,analyticsName:l.RE.redoName.defaultMessage,svg:n.N,validators:[r.Mnk,r.ffD(r.Eok)],closeParentMenu:!0,action:e=>{let{environment:t}=e;return i.KX(t)}}),m=(0,l.$J)({key:"mobile revision actions",render:e=>(0,c.jsx)(s.Z,{...e}),actions:[d,u]})},76463:(e,t,a)=>{a.d(t,{P0:()=>P,RN:()=>A,VG:()=>I,Yw:()=>x,jX:()=>D,k2:()=>_,lz:()=>L,v2:()=>j});var n=a(87479),o=a(72141),i=a(45953),s=a(21202),r=a(77420),l=a(75246),c=a(19889),d=a(9291),u=a(1898),m=a(47307),g=a(33929),f=a(46654),p=a(6258),b=a(54642),M=a(92625),y=a(76464),v=a(9953),S=a(64964),C=a(28014),k=a(13447),h=a(61202);const N=(0,d.defineMessages)({duplicatingTemplate:{id:"botActions.duplicatingTemplate.loadingMessage",defaultMessage:"Duplicating template..."},duplicatingTemplateError:{id:"botActions.duplicateTemplateAndShareWithBot.snackbar.failure",defaultMessage:"Failed to duplicate template for to your workspace"}});function w(e,t){const{environment:a,spaceStore:n,spaceRole:o}=t,i=function(e){const{name:t,spaceStore:a,userId:n,icon:o,type:i}=e,s=Date.now(),r={name:t,created_at:s,created_by_table:c.KJ,created_by_id:n,alive:!0,icon:o,space_id:a.id,last_edited_at:s,last_edited_by_id:n,last_edited_by_table:c.KJ};switch(i){case"guest":return{...r,type:"guest",capabilities:e.capabilities,parent_table:l.bx,parent_id:a.id,integration_id:void 0};case"scim":return{...r,type:"scim",parent_table:c.KJ,parent_id:n};default:(0,u.t1)(i)}}(t),s=v.ae({environment:a,table:r.cZ,value:i,inMemoryRecordCache:a.defaultRecordCache.inMemoryRecordCache,transaction:e});return y.ep({environment:a,store:n,permissionItems:[{type:"bot_permission",role:o,bot_id:s.id}],transaction:e}),{botStore:s}}function L(e){const{environment:t}=e,{serverCommitResult:a,performResult:{botStore:n}}=k.createAndCommit({userAction:"botActions.createSpaceBot",environment:t,perform:t=>w(t,e)});return{botStore:n,transactionPromise:a}}async function P(e){const{environment:t,botId:a,onSuccess:n}=e,o=await b.deleteBot(t,{botId:a});"failed"===o.type?m.showError(o):"success"===o.type&&n&&(await h.pJ({environment:t}),n())}async function x(e){const{environment:t,table:a,id:n,type:o}=e,i=await b.getBots(t,{table:a,id:n,type:o});if("failed"===i.type)throw m.showError(i),i;return{botIds:i.data.botIds,recordMap:i.data.recordMap}}async function I(e){const{environment:t,botId:a}=e,n=await b.getBotToken(t,{botId:a});if("failed"!==n.type)return n.data.token;m.showError(n)}function j(e){const{botValue:t,store:a,environment:o}=e,{id:i,parent_id:s,parent_table:r,capabilities:l}=t,c={type:"bot_permission",bot_id:i,parent_id:s,parent_table:r,role:(0,n.uH)(l)};k.createAndCommit({userAction:"TopbarMoreButton.handleAddingConnection",environment:o,perform:e=>{y.ep({environment:o,store:a,permissionItems:[c],transaction:e})}})}function A(e){const{botId:t,store:a,environment:n}=e,i=a.getPermissionItems().filter((0,u.AO)((e=>(0,o.FB)(e)?{true:e}:{false:e})));for(const o of i)if(o.bot_id===t){const e={...o,role:"none"};k.createAndCommit({userAction:"TopbarMoreButton.handleRemovingConnection",environment:n,perform:t=>{y.ep({environment:n,store:a,permissionItems:[e],transaction:t})}})}}function D(e){const{currentSpaceStore:t,environment:a,pages:n,botStore:o,addPermission:i}=e;if(!t)return;const r=(0,f.zT)({botStore:o,addPermission:i});n.forEach((e=>{const n=p.t1.createChildStore(t,{table:s.iU,id:e});k.createAndCommit({userAction:"botActions.updateBlockPermissionsForBot",environment:a,perform:e=>{y.ep({environment:a,store:n,permissionItems:[r],transaction:e})}})}))}async function _(e){const{environment:t,spaceStore:a,spaceViewStore:n,templatePageId:o,botValue:s,pages:l}=e;if(!a)return;const c=p.t1.createChildStore(a,{table:r.cZ,id:s.id});if(o)return await async function(e){const{environment:t,spaceStore:a,spaceViewStore:n,templatePageId:o,botStore:s}=e;if(!a||!n)return;try{M.j({message:N.duplicatingTemplate});const e=await b.loadBlockSubtree(t,{block:{id:o,spaceId:a.id},shallow:!1});if("failed"===e.type)return;const r=i.PF.create(e.data.subtreeRecordMap),{performResult:l}=k.createAndCommit({userAction:"botActions.duplicateTemplateAndShareWithBot",environment:t,perform:e=>{const i=C.cc({environment:t,recordMap:r,copyPageId:o,isPrivate:!0,spaceStore:a,spaceViewStore:n,transaction:e,allowCopyExternalObjectInstances:!1}),l=n.getPrivatePageIds();l.length>0&&v.sW({store:n,data:{private_pages:[i.id,...l]},transaction:e});const c=(0,f.zT)({botStore:s,addPermission:!0});return y.ep({environment:t,store:i,permissionItems:[c],transaction:e}),i}});return l}catch(r){S.oV({label:g.default.formatMessage(N.duplicatingTemplateError)})}finally{M.x()}}({environment:t,templatePageId:o,botStore:c,spaceStore:a,spaceViewStore:n});D({environment:t,currentSpaceStore:a,botStore:c,pages:l,addPermission:!0})}},29657:(e,t,a)=>{a.d(t,{$o:()=>J,Fv:()=>z,IL:()=>W,J4:()=>E,KA:()=>R,Nf:()=>Z,_p:()=>X,cQ:()=>G,f$:()=>O,fX:()=>q,j2:()=>V,k2:()=>$,mg:()=>Q,mz:()=>U,oP:()=>B,tF:()=>Y,td:()=>H,x:()=>K});a(57658);var n=a(30120),o=a(1302),i=a(15145),s=a(92996),r=a(94714),l=a(53877),c=a(42875),d=a(15157),u=a(53965),m=a(1898),g=a(36610),f=a(8406),p=a(54569),b=a(75134),M=a(5149),y=a(96802),v=a(9953),S=a(79978),C=a(75754),k=a(26999),h=a(24677),N=a(993),w=a(98104),L=a(13447),P=a(75330),x=a(10906),I=a(75079),j=a(88632),A=a(77080),D=a(6258),_=a(27724),F=a(81023),T=a(4430);function V(e){const{collectionViewStore:t,collectionContextStore:a,timelineState:n,environment:o}=e,i=o.currentUser.id,s=(0,T.B8)(t.id),r=(0,T.pQ)(t,o),l=a.permissionScopes.state,c=u.Ds((()=>{if(n.destroyed)return;const e={zoomLevel:n.zoomLevel.state,centerTimestamp:(0,T.al)(n)};d.Z.set({userId:i,key:s,value:e})}),1e3),m=u.Ds((()=>{if(n.destroyed||!j.Z.state.online||!o.currentUser.isLoggedIn()||!l.canConfigureBlock)return;const e={zoomLevel:n.zoomLevel.state,centerTimestamp:(0,T.al)(n)},a=t.getFormat().timeline_preference;u.Xy(a,e)||L.createAndCommit({userAction:"collectionTimelineViewActions.setRemotePreference",environment:o,perform:a=>{y.FH({stores:[t],update:{timeline_preference:e},transaction:a})}})}),5e3);n.savePreference=()=>{c(),m()},Z({timelineState:n,environment:o,...r})}function Z(e){const{timelineState:t,zoomLevel:a,centerTimestamp:n,environment:i}=e,{savePreference:s}=t,r=i.WindowSizeStore.state.width+2*T.Ge,l=(0,T.x2)(a,r),c=n-l/2,d=n+l/2;t.zoomLevel.setState(a),t.currentRange.setState({startTimestamp:c,endTimestamp:d}),o.default.afterNextFlush((()=>{R({timelineState:t,centerTimestamp:n}),s&&s()}))}function R(e){const{timelineState:t,centerTimestamp:a}=e,{horizontalScroller:n,outerSizeObserver:o}=t;if(!n)return;const i=t.zoomLevel.state,{startTimestamp:s,endTimestamp:r}=t.currentRange.state,l=o.rect.state.width;if(l===(0,T.e$)(i,r-s))return;const c=(0,T.e$)(i,a-s)-l/2;n.scrollLeft=c,t.scrollLeft.setState(c)}function B(e){const{environment:t,store:a,query:n,date:o,schema:i,transaction:s}=e,{timeline_by:r}=n;if(!r)return;const l=a.getAssociatedCollectionStore(),c=(null==l?void 0:l.getMappedProperty(r))??r,d=n.timeline_by_end?(null==l?void 0:l.getMappedProperty(n.timeline_by_end))??n.timeline_by_end:void 0,u=(0,T.TW)({store:a,dateValue:o,query:n,schema:(null==l?void 0:l.getSchema())??i}),m=a.getPropertyValue(c),g=d?a.getPropertyValue(d):void 0;return v.sW({store:a.getPropertiesStore(),data:u,transaction:s}),b.H({environment:t,store:a,dateProperty:{id:c,newValue:(null==u?void 0:u[c])??[],oldValue:m},otherDateProperty:d?{id:d,newValue:(null==u?void 0:u[d])??[],oldValue:g}:void 0}),a}function z(e){var t;const{environment:a,timelineState:o,collectionStore:i,collectionContextStore:s,store:r,query:d,groupFormat:u,transaction:m}=e,g=o.zoomLevel.state,f=(0,T.al)(o),{snapUnit:b,getDateRangePlaceholderDuration:M}=T.BJ[g],{timeline_by:y}=d;if(!y)return;const v=null===(t=s.groupsStore.getGroupState(u))||void 0===t?void 0:t.resultsStore.state;if(!v)return;const S=n.ou.fromMillis(f),C=(0,T.DS)(S,b),k=(0,T.DS)(M(S),b),h=(0,T.AZ)({startValue:(0,l.Lg)((0,c.r)()),snapUnit:b,desiredStart:C,desiredEnd:k});return B({environment:a,store:r,query:d,schema:i.getSchema(),date:h,transaction:m}),p.$T({environment:a,collectionStore:i,before:!0,store:v[0],insertStores:[r],collectionContextStore:s,groupsPointer:u?[u]:[],transaction:m}),r}function O(e){const{type:t,timelineState:a,store:n,startX:o,query:i,schema:s,intl:r,environment:l}=e,{horizontalScroller:c}=a,{startTimestamp:d}=a.currentRange.state;if(!c)return;h.Ys({environment:l,store:n});const m=c.scrollLeft,{stores:g}=_.default.state,f=u.oA(g.map((e=>{const t=(0,T.bk)({store:e,query:i,schema:s,userId:l.currentUser.id,intl:r});if(t)return{startValue:t,store:e}})));a.dragState.setState({type:t,startStore:n,stores:f.map((e=>{let{store:t}=e;return t})),startValues:f.map((e=>{let{startValue:t}=e;return t})),temporaryValues:f.map((e=>{let{startValue:t}=e;return t})),startX:o,startStartTimestamp:d,startScrollLeft:m})}function E(e){const{timelineState:t,store:a,startX:n,startY:o,schema:i,collectionContextStore:s,verticalScroller:r}=e,{horizontalScroller:l}=t,{startTimestamp:c}=t.currentRange.state;if(!l||!r)return;const d=l.scrollLeft,u=r.scrollTop,m=(0,T.YE)(s,a,i);t.drawState.setState({startStore:a,startDependencyRelationPointers:m,temporaryDependencyRelationPointers:[...m],startX:n,startY:o,startScrollLeft:d,startScrollTop:u,startStartTimestamp:c,xOffsetPx:0,yOffsetPx:0,tryToCompleteDrawnArrow:!1})}function H(e){const{timelineState:t,currentX:a}=e,{horizontalScroller:n}=t,o=t.zoomLevel.state,i=t.dragState.state,{startTimestamp:s}=t.currentRange.state;if(!i||!n)return;const{type:r,startStartTimestamp:c,startValues:d,startScrollLeft:g,startX:f,startStore:p,stores:b}=i,M=T.BJ[o],{snapUnit:y}=M,v=n.scrollLeft-g+(a-f)+(0,T.e$)(o,s-c),S=(0,T.x2)(o,v),C=d[b.indexOf(p)];let k;if(r===T.px.LeftResizer){const{start:e}=(0,T.XO)(C,y),t=e.plus(S);k=d.map((e=>{const a=(0,T.AZ)({startValue:e,snapUnit:y,desiredStart:t});return(0,l.gW)(a)}))}else if(r===T.px.RightResizer){const{end:e}=(0,T.XO)(C,y),t=e.plus(S);k=d.map((e=>{const a=(0,T.AZ)({startValue:e,snapUnit:y,desiredEnd:t});return(0,l.Qq)(a)}))}else r===T.px.ItemDrag?k=d.map((e=>{const{start:t,end:a}=(0,T.XO)(e,y),n=t.plus(S),o=n.plus(a.valueOf()-t.valueOf());return(0,T.AZ)({startValue:e,snapUnit:y,desiredStart:n,desiredEnd:o})})):(0,m.t1)(r);u.Xy(i.temporaryValues,k)||t.dragState.setState({...i,temporaryValues:k})}function U(e){const{timelineState:t,currentX:a,currentY:n,verticalScroller:o}=e,i=t.drawState.state,s=t.zoomLevel.state,{startTimestamp:r}=t.currentRange.state,{horizontalScroller:l}=t;if(!i||!l||!o)return;const{startDependencyRelationPointers:c,startStore:d,startX:m,startY:g,startScrollLeft:f,startScrollTop:p,startStartTimestamp:b}=i,M=l.scrollLeft,y=o.scrollTop,v=M-f+(a-m)+(0,T.e$)(s,r-b),S=y-p+(n-g),C=t.hoveredItem.state;if(C&&C!==d&&!c.some((e=>e.id===C.id))){const e=[...c,{table:"block",id:C.id,spaceId:C.getSpaceId()}];u.Xy(i.temporaryDependencyRelationPointers,e)||t.drawState.setState({...i,temporaryDependencyRelationPointers:e,xOffsetPx:void 0,yOffsetPx:void 0})}else t.drawState.setState({...i,temporaryDependencyRelationPointers:[...c],xOffsetPx:v,yOffsetPx:S})}function q(e){const{environment:t,collectionContextStore:a,timelineState:n,query:o,schema:i,transaction:s}=e,r=n.dragState.state,{timeline_by:l}=o;if(!r||!l)return;const{temporaryValues:c,stores:d}=r;c.forEach(((e,n)=>{const r=d[n];B({environment:t,store:r,query:o,schema:i,transaction:s,date:e}),f.rv({environment:t,collectionContextStore:a,block_id:r.id,property:l,property_type:"date",from:"timeline"})})),n.dragState.setState(void 0)}function J(e){var t;const{timelineState:a,environment:n,transaction:o,collectionContextStore:i,isFullScreen:s,isRootChild:r}=e,l=a.drawState.state,c=a.dateRangePlaceholder.state;if(!l)return;const{startStore:d,startDependencyRelationPointers:u,temporaryDependencyRelationPointers:m}=l;if(!d)return void a.drawState.setState(void 0);let p;if(c.active){const{date:e,store:t,parentStore:s,groupFormat:r,newTimelineItemProps:l,existingTimelineItemProps:u}=c;if(t&&u){const{query:a,schema:i}=u;B({environment:n,store:t,query:a,schema:i,date:e,transaction:o}),p={table:"block",id:t.id,spaceId:d.getSpaceId()}}else if(l){const{query:a,schema:c,isFullScreen:u,canEditTimelineItems:m,subitemPath:g}=l,f=Q({environment:n,date:e,store:t,parentStore:s,query:a,schema:c,isFullScreen:u,groupFormat:r,canEditTimelineItems:m,collectionContextStore:i,subitemPath:g,transaction:o,from:"timeline_complete_draw"});f&&(p={table:"block",id:f.id,spaceId:d.getSpaceId()})}a.dateRangePlaceholder.setState({active:!1})}else p=m.find((e=>!u.includes(e)));const b=(0,T._e)(i);if(b){const{property:e}=b;p&&(S.hE({environment:n,propertyWithInverse:b,sourceStore:d,destStore:D.G.createChildStore(d,p),position:{type:"after"},transaction:o}),f.rv({environment:n,collectionContextStore:i,block_id:d.id,property:e,property_type:"relation",from:"timeline",isFromBulkActionsToolbar:!1,isUnthrottled:!0})),a.drawState.setState(void 0)}else M.wl({item:{type:A.default.checkGate("dependency_date_shifting_by_space")?"dependencies":"arrowsBy"},collectionSettingsStore:i.settingsStore}),a.drawState.setState({...l,tryToCompleteDrawnArrow:!0});const y=null===(t=p)||void 0===t?void 0:t.id;y&&g.LE(n,{...(0,I.Pn)(i),...(0,T.Ii)({environment:n,collectionContextStore:i,timelineState:a,isFullScreen:s,isRootChild:r}),dependenciesPropertyID:null==b?void 0:b.property,blockedByStoreID:d.id,blockingStoreID:y})}function G(e){const{timelineState:t,environment:a}=e;t.dragState.state&&(t.dragState.setState(void 0),h.ZH(a))}function K(e){const{timelineState:t,environment:a}=e;t.drawState.state&&(t.drawState.setState(void 0),h.ZH(a))}function $(e){const{stores:t,collectionViewStore:a,schema:n,transaction:o}=e,i=a.getType(),s=a.getQuery(n),r=[];s&&("calendar"===i?s.calendar_by&&r.push(s.calendar_by):"timeline"===i&&(s.timeline_by&&r.push(s.timeline_by),s.timeline_by_end&&r.push(s.timeline_by_end)));for(const l of t)for(const e of r)N.sO({environment:l.environment,editorMode:"default",store:l.getNormalizedPropertyStore(e),value:void 0,transaction:o})}function W(e){const{dependency:t,collectionContextStore:a,environment:n,timelineState:o,isFullScreen:i,isRootChild:s}=e,r=(0,T._e)(a),l=a.collectionStore();if(!r||!l)return;const{property:c}=r,{store:d,relationPointer:u}=t,m=d.getSchema()[c];m&&"relation"===m.type&&(L.createAndCommit({userAction:"CollectionTimelineDependenciesOverlay.handleRemoveRelation",environment:n,perform:e=>{S.Bl({environment:n,propertyWithInverse:r,sourceStore:d,destStore:D.G.createChildStore(d,u),transaction:e}),f.rv({environment:n,block_id:u.id,property:c,property_type:m.type,from:"timeline",collectionContextStore:a,isFromBulkActionsToolbar:!1,isUnthrottled:!0})}}),g.lf(n,{...(0,I.Pn)(a),...(0,T.Ii)({environment:n,collectionContextStore:a,timelineState:o,isFullScreen:i,isRootChild:s}),dependenciesPropertyID:c,blockedByStoreID:d.id,blockingStoreID:u.id}))}function Y(e){const{collectionViewStore:t,newProperty:a,transaction:n}=e;y.FH({stores:[t],update:{timeline_arrows_by:{property:a}},transaction:n})}function X(e){var t;const{collectionContextStore:a,relationPropertyId:n,transaction:o}=e,i=a.collectionStore();if(!i)return;const l=n?i.getSchema()[n]:void 0,c="relation"===(null==l?void 0:l.type)&&l.property&&"relation"===(null===(t=i.getSchema()[l.property])||void 0===t?void 0:t.type)?l.property:void 0;y.FH({stores:[i],update:{collection_default_arrows_by:n,...i.getFormat().app_config_uri===r.iS?{app_uri_map:{...i.getFormat().app_uri_map?i.getFormat().app_uri_map:{},[s.Es.BlockingRelation]:n,[s.Es.BlockedRelation]:c}}:{}},transaction:o})}function Q(e){const{environment:t,transaction:a,date:n,parentStore:o,query:s,schema:r,isFullScreen:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,from:m}=e;if(!F.M_(t))return;const g=c?[c]:[],f=u.groupsStore.getGroupState(g);if(!f)return;if(o)return function(e){const{environment:t,transaction:a,date:n,store:o,parentStore:s,query:r,schema:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,subitemPath:m}=e;if(!o||!s)return;const g=c?[c]:[],f=p.yk({environment:t,collectionContextStore:u,groupsPointer:g,store:o,before:!1,collectionStore:s,transaction:a,subitemPath:m,subitemInsertDirection:"into"});if(f){if(B({environment:t,store:f,query:r,schema:l,date:n,transaction:a}),t.device.isMobile)C._c({environment:t,store:f,pageVisitSource:i.tY.Create});else if(f&&d){const e=f.getBlockTitleStore();w.N_({store:e})}return f}}(e);u.searchQuery.state&&P.Ug({searchQuery:"",collectionContextStore:u,isFullScreen:l});const b=p.IW({environment:t,collectionContextStore:u,groupsPointer:g,shouldCoerce:!0,initializeDefaultTemplate:!0,transaction:a,from:m});if(!b)return;const M=b.coercionSucceeded,y=b.newStore;if(B({environment:t,store:y,query:s,schema:r,date:n,transaction:a}),t.device.isMobile)C._c({environment:t,store:y,pageVisitSource:i.tY.Create});else if(M&&d){const e=y.getBlockTitleStore();w.NX({store:e})}else k.CH({environment:t,store:y,peekMode:(0,x.kr)(u),resultsStore:null==f?void 0:f.resultsStore,collectionContextStore:u,pageVisitSource:i.tY.Create});return y}},15025:(e,t,a)=>{a.d(t,{VR:()=>u,ac:()=>d,zq:()=>c});a(67294);var n=a(24405),o=a(13148),i=a(98519),s=a(9291),r=a(85893);function l(e){const{enabled:t,labelIfEnabled:a,labelIfDisabled:o}=e,i=(0,n.yK)((e=>({container:{color:t?e.mediumTextColor:e.lightTextColor}})),[t]);return(0,r.jsxs)("div",{style:i.container,children:[m(t)," ",t?a:o]})}function c(e){const t="none"!==e;return[(0,r.jsx)(l,{enabled:t&&e.read_content,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,r.jsx)(l,{enabled:t&&e.insert_content,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,r.jsx)(l,{enabled:t&&e.update_content,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,r.jsx)(l,{enabled:t&&e.insert_comment,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,r.jsx)(l,{enabled:t&&e.read_comment,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function d(e){return[(0,r.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,r.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function u(e){return[(0,r.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,r.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,r.jsx)(s.FormattedMessage,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function m(e){const t={width:12,display:"inline",verticalAlign:"middle"};return e?(0,i.k)(t):(0,o.U)(t)}},84015:(e,t,a)=>{a.d(t,{_:()=>c});a(67294);var n=a(480),o=a(87479),i=a(9291),s=a(15025),r=a(28992),l=a(85893);function c(e){const{role:t}=e,a=(0,i.useIntl)(),{device:c}=(0,n.O7)(),d=(0,s.zq)(t);return(0,l.jsx)(r.Z,{...e,title:a.formatMessage((0,o.Gx)(t,void 0).label),shouldWrapCaption:!0,style:c.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,l.jsx)("div",{children:d})})}},69255:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});a(57658);var n=a(67294),o=a(480),i=a(86628),s=a(77657),r=a(62208),l=a(60291),c=a(77420),d=a(9291),u=a(1898),m=a(49386),g=a(13447),f=a(61202),p=a(60709),b=a(77907),M=a(30874),y=a(93405),v=a(78140),S=a(32163),C=a(72495),k=a(85893);const h=function(e){const{titleForReloadMenuOption:t,store:a,parentBlockStore:h,onAccept:N,onDismiss:w,extraSecondaryItemKey:L,token:P}=e,x=(0,o.O7)(),{value:I}=(0,b.useDependency)(b.deps.markdownLinkifyIt),{value:j}=(0,b.useDependency)(b.deps.tinyMceMicrosoftWordPasteFilter),A=(0,n.useCallback)((e=>{const t={blocks:[a],environment:x,publicEditMode:void 0,lazyDependencies:{markdownLinkifyIt:I,tinyMceMicrosoftWordPasteFilter:j}};return{key:e.key,render:(a,n)=>e.render(a,t,{onAccept:N,onFocus:n.onFocus}),action:a=>{let{event:n}=a;return e.action(t,n)}}}),[N,x,a,I,j]),D=[];(0,i.VK)((()=>{const e=a.getFormat().bot_id,t=M.Z.getBotsAsRecordMap();if(e&&!0===M.Z.state.loaded){const a=t.getValue({table:c.cZ,id:e});if(a&&a.integration_id&&a.integration_id===s.U9)return!1}return!0}),[a])&&D.push({key:0,render:e=>(0,k.jsx)(C.Z,{...e,style:{paddingTop:0,paddingBottom:0}}),items:[{key:"reload external instance object",render:e=>(0,k.jsx)(y.Z,{...e,title:t,svg:l.b}),action:()=>{a&&(a.isExternalObjectInstanceBlockStore()||a.isExternalObjectInstancePageBlockStore())&&f.qK({environment:x,from:"page_more_menu",store:a,spaceId:a.getSpaceId()})}}]});const _=(0,i.VK)((()=>{switch(L){case"preview_to_mention":return[A(m.OH)];case"mention_to_preview":if(!a.isExternalObjectInstanceBlockStore())return[];const e={key:"turn preview into block",render:e=>(0,k.jsx)(y.Z,{...e,title:(0,k.jsx)(d.FormattedMessage,{id:"hoverPreviewOverlay.action.turnPreviewIntoPreview",defaultMessage:"Turn into preview"}),svg:r.z}),action:()=>{h&&P&&g.createAndCommit({userAction:"HoverPreviewOverlay.transformExternalObjectInstanceMentionIntoBlock",environment:x,perform:e=>{f.aV({block:a,parentStore:h,transaction:e,token:P}),e.postSubmitCallbacks.push((e=>{e||null==w||w()}))}})}};return[e];default:(0,u.t1)(L)}}),[L,A,a,h,P,x,w]);return D.push({key:1,render:e=>(0,k.jsx)(C.Z,{...e,style:{paddingTop:0,paddingBottom:0}}),items:[..._,A(m.IK)]}),(0,k.jsx)(v.Z,{menuType:p.og.Popup,children:(0,k.jsx)(S.Z,{type:S.i.Vertical,initialFocus:void 0,onAccept:N,sections:D,style:{paddingTop:3,paddingBottom:3}})})}},69872:(e,t,a)=>{a.d(t,{L:()=>u,Z:()=>m});a(67294);var n=a(480),o=a(24405),i=a(12396),s=a(98519),r=a(65183),l=a(52275),c=a(28992),d=a(85893);let u=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});const m=function(e){const{propertySchema:t,format:a,locked:m}=e,g=(0,o.Fg)(),f=(0,n.O7)(),{name:p,type:b,icon:M}=t,y=a===u.Name?p:r.SO[b];return m?(0,d.jsx)(c.Z,{title:y,icon:(0,d.jsx)(i.ZP,{icon:M,type:b,size:f.device.isMobile?18:16,theme:g,style:{fill:g.regularIconColor}}),...e}):(0,d.jsx)(l.Z,{title:y,icon:(0,d.jsx)(i.ZP,{icon:M,type:b,size:f.device.isMobile?18:16,theme:g,style:{fill:g.regularIconColor,marginLeft:6,marginRight:2}}),right:e.selected?(0,s.k)({width:14,height:14}):null,...e})}},74962:(e,t,a)=>{a.d(t,{Z:()=>rt,f:()=>ot});a(57658);var n=a(67294),o=a(75553),i=a(72141),s=a(77420),r=a(9291),l=a(1898),c=a(62967),d=a(54642),u=a(893),m=a(480),g=a(86628),f=a(24405),p=a(15145),b=a(45238),M=a(85893);const y=(0,b.IU)("disconnect",{viewBox:"0 0 16 16",svg:(0,M.jsx)("path",{d:"M6.45508 4.50977L7.28906 5.34375L8.7041 3.4707L7.67871 5.7334L9.45605 7.51074H11.083L10.3857 8.43359L11.2539 9.30859L12.7852 7.36035C12.9082 7.20996 12.9697 7.06641 12.9697 6.90234C12.9697 6.61523 12.751 6.41016 12.4502 6.41016H8.54688L10.5703 1.05078C10.8506 0.298828 10.0645 -0.0976562 9.58594 0.517578L6.45508 4.50977ZM12.874 13.6631C13.0859 13.875 13.4346 13.875 13.6396 13.6631C13.8516 13.458 13.8584 13.1025 13.6396 12.8906L3.10547 2.35645C2.90039 2.15137 2.53809 2.14453 2.33301 2.35645C2.12793 2.56152 2.12793 2.92383 2.33301 3.12891L12.874 13.6631ZM3.0166 9.12402C3.0166 9.4043 3.23535 9.61621 3.53613 9.61621H7.44629L5.41602 14.9688C5.13574 15.7207 5.92188 16.1172 6.40039 15.5088L9.52441 11.5166L8.69043 10.6895L7.28223 12.5488L8.30078 10.293L6.5166 8.51562H4.89648L5.60059 7.59277L4.72559 6.71777L3.20801 8.65918C3.08496 8.81641 3.0166 8.95996 3.0166 9.12402Z"})});var v=a(18442),S=a(39248),C=a(74181),k=a(21202),h=a(75754),N=a(15070),w=a(80444),L=a(52275),P=a(70301);function x(e){const{bot:t}=e,a=(0,g.VK)((()=>w.default.state.currentUserRootStore),[]);return t&&a?(0,M.jsx)(L.Z,{...e,icon:(0,M.jsx)(P.Z,{botValue:t}),title:(0,N.Mh)(t)}):null}const I=n.forwardRef(x);var j=a(93405),A=a(68894),D=a(68785),_=a(28992),F=a(43765),T=a(31278),V=a(76798),Z=a(26388),R=a(84015),B=a(41892),z=a(24600),O=a(84210),E=a(98742),H=a(28187),U=a(42402),q=a(60442);function J(e){return(0,g.VK)((()=>{var t;return{isDefined:e.isDefined(),channel:null===(t=e.getKeyStore("channel").getValue())||void 0===t?void 0:t.replace(/^#/,"")}}),[e])}function G(){return(0,M.jsx)(q.Z,{imageURL:B.Z.images.tooltips.pageUpdates.slackPng,imageHeight:100,caption:(0,M.jsx)(r.FormattedMessage,{defaultMessage:"Connect a Slack channel to get updates about this page and pages within it.",id:"topbar.updatesButton.slackIntegrationButton.tooltip"})})}function K(){return(0,M.jsx)(q.Z,{imageURL:B.Z.images.tooltips.pageUpdates.slackPng,imageHeight:100,caption:(0,M.jsx)(r.FormattedMessage,{defaultMessage:"Disconnect a Slack channel to stop getting updates about this page and pages within it.",id:"topbar.updatesButton.slackIntegrationButton.disconnectTooltip"})})}const $=(0,n.forwardRef)((function(e,t){const{blockStore:a,...n}=e,{blockStore:o,slackIntegrationStore:i}=(0,H.Jk)(a),{isDefined:s,channel:l}=J(i),c=(0,g.VK)((()=>(0,O.ZP)({store:o,pageVisitSource:p.tY.LinkInPage})),[o]);return s?(0,M.jsx)(Z.ZP,{placement:Z.ug.Left,render:e=>(0,M.jsx)(j.Z,{...(0,E.Z)(e,n),svg:z.P,title:l,caption:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(r.FormattedMessage,{defaultMessage:"Based on",id:"topbar.updatesButton.slackIntegrationButton.activeTitle"})," ",(0,M.jsx)(U.Z,{href:c,children:(0,M.jsx)(V.Z,{store:o,style:{display:"inline"}})})]}),ref:t}),renderTooltip:K}):null})),W=(0,n.forwardRef)((function(e,t){const{blockStore:a,...n}=e,{slackIntegrationStore:o}=(0,g.VK)((()=>(0,H.Jk)(a)),[a]),{isDefined:i,channel:s}=J(o);return i?(0,M.jsx)(Z.ZP,{placement:Z.ug.Left,render:e=>(0,M.jsx)(j.Z,{svg:z.P,title:s,caption:(0,M.jsx)(r.FormattedMessage,{defaultMessage:"Connected to Slack channel",id:"topbar.updatesButton.slackIntegrationButton.connectedCaption"}),...(0,E.Z)(e,n)}),renderTooltip:K,ref:t}):null}));var Y=a(87479),X=a(60709),Q=a(48019),ee=a(78140),te=a(40721),ae=a(72495),ne=a(42782);const oe=(0,n.forwardRef)((function(e,t){const{context:a,parent:o,isSharedDirectly:i,botStore:s,botPermissionSourcePage:r,originConnectionLabel:l,...c}=e,d=(0,m.O7)(),u=(0,g.VK)((()=>w.default.state.currentSpaceStore),[]),f=a.blocks[0],p=(0,g.VK)((()=>f.canAdmin()&&(null==u?void 0:u.canRead())),[f,u]),{botCapabilities:b,botName:y}=(0,g.VK)((()=>({botCapabilities:s.getCapabilities(),botName:s.getName()})),[s]);return(0,n.createElement)(ne.Z,{...c,key:s.id,renderOrigin:e=>(0,M.jsx)(L.Z,{...e,title:l,icon:(0,M.jsx)(P.Z,{botStore:s,showActiveDot:!0,style:{position:"relative"}})}),renderExtension:(e,t)=>{let n;return n=d.device.isPhone?{menuType:X.og.Modal,right:(0,M.jsx)(te.DoneMenuText,{}),onClickRight:t.close,...e}:{menuType:X.og.Popup,width:220,...e},(0,M.jsx)(ee.Z,{...n,children:(0,M.jsx)(Q.Z,{context:a,initialFocus:0,onAccept:o.onAccept,sections:[ie({isSharedDirectly:i,botCapabilities:b,botPermissionSourcePage:r}),...p?[se({isSharedDirectly:i,botId:s.id,botName:y})]:[]]})})},onFocus:o.onFocus,focused:c.focused,openOnFocus:!1,ref:t})}));function ie(e){const{botCapabilities:t,isSharedDirectly:a,botPermissionSourcePage:n}=e,o=(0,Y.uH)(t);return{key:"active connection capabilities section",render:e=>(0,M.jsx)(ae.Z,{...e,topBorder:!1}),actions:[...a?[]:[$e(n)],We(o)]}}function se(e){const{isSharedDirectly:t,botId:a,botName:n}=e;return{key:"active connection disconnect section",render:e=>(0,M.jsx)(ae.Z,{...e}),actions:t?[Ye(a,n)]:[Xe(a)]}}const re=(0,b.IU)("connections",{viewBox:"0 0 16 14",svg:(0,M.jsx)("g",{children:(0,M.jsx)("path",{d:"M2.825 5.581A2.32 2.32 0 112.832.939a2.32 2.32 0 01-.007 4.642zm10.343 0A2.32 2.32 0 1113.175.94a2.32 2.32 0 01-.007 4.641zM2.825 4.331c.609 0 1.073-.473 1.073-1.074 0-.602-.464-1.067-1.073-1.067a1.05 1.05 0 00-1.06 1.067c0 .601.465 1.073 1.06 1.073zm10.343 0c.608 0 1.066-.473 1.066-1.074 0-.602-.458-1.067-1.066-1.067-.595 0-1.066.465-1.066 1.067a1.06 1.06 0 001.066 1.073zm-6.89-.466a.595.595 0 110-1.19.595.595 0 010 1.19zm1.722 0a.595.595 0 110-1.19.595.595 0 010 1.19zm1.723 0a.595.595 0 010-1.19.6.6 0 01.594.596.6.6 0 01-.594.594zm1.675 3.131a.594.594 0 01-.595-.588c0-.328.266-.595.595-.595a.592.592 0 010 1.183zm-6.795 0a.594.594 0 01-.595-.588.595.595 0 011.19 0 .594.594 0 01-.595.588zm5.502 1.429a.595.595 0 010-1.19.6.6 0 01.595.595.6.6 0 01-.595.595zm-4.21 0a.595.595 0 010-1.19.6.6 0 01.594.595.6.6 0 01-.594.595zM8 13.196a2.327 2.327 0 01-2.317-2.33 2.32 2.32 0 014.642 0A2.328 2.328 0 018 13.195zm0-1.258c.608 0 1.066-.471 1.066-1.073 0-.595-.458-1.06-1.066-1.06a1.05 1.05 0 00-1.066 1.06A1.06 1.06 0 008 11.938z"})})});var le=a(59753),ce=a(9844),de=a(36610),ue=a(41623),me=a(48779),ge=a(77907),fe=a(6258);const pe=(0,n.forwardRef)((function(e,t){const{context:a,parent:o,alreadyConnectedIntegrationIds:i,alreadyConnectedBotIds:r,originButtonLabel:c,...d}=e,u=a.blocks[0],f=(0,m.O7)(),p=(0,g.VK)((()=>w.default.state.currentSpaceStore),[]),b=(0,g.VK)((()=>null==p?void 0:p.getBotSettingsStore().getValue()),[p]),y=(0,g.VK)((()=>null!=b&&b.integration_restrictions&&null!=b&&b.integration_approval_statuses?Object.keys(b.integration_approval_statuses):[]),[b]),[v,S]=(0,n.useState)(""),[k,h]=(0,n.useState)({status:"loading"}),N=(0,ge.useDependency)(ge.deps.searchActions);(0,n.useEffect)((()=>{if("resolved"!==N.status)return;const e=N.value;Promise.all([async function(t){return await e.searchSpaceBots({environment:f,query:t})}(v),async function(e){const t=await ge.deps.searchActions.loader();return await t.searchInstallableIntegrations({query:e,environment:f,spaceId:null==p?void 0:p.id,botSettings:b})}(v)]).then((e=>{let[t,a]=e;const n=new Set,o=function(e){const{alreadyConnectedBotIds:t,alreadyConnectedIntegrationIds:a,botValues:n,environment:o}=e,i=[];for(const r of n){const e=r.id,n=t.has(e)||r.integration_id&&a.has(r.integration_id),l=le.kk.fromValue(s.cZ,r),c=(0,ue.Nq)(o,l)||(0,me.Fn)(o)&&(0,ue.f_)(l);!n&&c&&i.push(r)}return i}({alreadyConnectedBotIds:r,alreadyConnectedIntegrationIds:i,botValues:t,environment:f}).map((e=>(e.integration_id&&n.add(e.integration_id),{table:s.cZ,value:e})));let c=a.map((e=>{if(p){const t=fe.t1.createChildStore(p,{id:e,table:ce.K2}),a=t.computeWithRecordValues((e=>{let{getRecordValueAndSubscribe:a}=e;return a(t)}));if(a&&!(0,C.VM)(a)){return{table:ce.K2,value:a}}}})).filter(l.$K).filter((e=>!(n.has(e.value.id)||i.has(e.value.id))));if(C.Cb.name.toLowerCase().includes(v.toLowerCase())){const e={table:"legacy_integration",value:C.Cb};c=[...c,e]}const d=[...o,...c].sort(((e,t)=>{var a,n;const o=null===(a=e.value.name)||void 0===a?void 0:a.toLowerCase(),i=null===(n=t.value.name)||void 0===n?void 0:n.toLowerCase();return o&&i?o<i?-1:o>i?1:0:0}));h({results:d,status:"ready"})})).catch((e=>h({status:"error"})))}),[v,p,r,b,y,f,i,u,N.status,N.value]);return(0,M.jsx)(ne.Z,{...d,renderOrigin:(e,t)=>(0,M.jsx)(j.Z,{...e,ref:t,title:c,svg:re}),renderExtension:(e,t)=>{const n=f.device.isMobile?{menuType:X.og.Modal,right:(0,M.jsx)(te.DoneMenuText,{}),onClickRight:t.close,...e}:{menuType:X.og.Popup,width:220,...e},o=f.device.isMobile?{menuType:X.og.Modal,topbarStyle:{height:0}}:{menuType:X.og.Popup,width:220,maxHeight:"16vh",...e},i=Boolean(u.canAdmin()&&(null==p?void 0:p.canRead()));return(0,M.jsx)(ee.Z,{...n,onClick:e=>{e.stopPropagation()},children:(0,M.jsx)(Q.Z,{initialFocus:0,context:a,onAccept:()=>{de.sS(f)},sections:[...i?[be(v,S),""===v?Me({searchResults:k,resultsMenuProps:o}):ve({searchResults:k,resultsMenuProps:o})]:[],Se(i,C.Cb)]})})},onFocus:o.onFocus,focused:d.focused,openOnFocus:!0,ref:t})}));function be(e,t){return{key:"search connections section",render:e=>(0,M.jsx)(ae.Z,{...e,isInput:!0}),actions:[Ee(e,t)]}}function Me(e){const{searchResults:t,resultsMenuProps:a}=e,n=new Set;return{key:"search initial connections section",render:e=>(0,M.jsx)(ye,{...e,resultsMenuProps:a}),actions:[..."ready"===t.status?t.results.map((e=>"bot"===e.table?(e.value.integration_id&&n.add(e.value.integration_id),Ue(e.value)):tt(e)?(0,H.F6)()&&!(0,H.SG)()?void 0:Je(e.value):qe(e.value))).filter(l.$K):"loading"===t.status?[Oe()]:[He()]]}}function ye(e){const{resultsMenuProps:t,...a}=e,o=(0,n.useRef)(null),i=(0,n.useCallback)((()=>{var e;const t=null===(e=o.current)||void 0===e||null===(e=e.querySelector('[role="menuitem"]'))||void 0===e?void 0:e.clientHeight,a=window.innerHeight<600?3:7;o.current&&t&&(o.current.style.maxHeight=a*t+.5*t+"px")}),[]);return(0,n.useEffect)((()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)})),[i]),(0,M.jsx)(ee.Z,{...t,innerRef:o,children:(0,M.jsx)(ae.Z,{...a,isInput:!0,topBorder:!1,style:{margin:0,paddingTop:0,paddingBottom:0}})})}function ve(e){const{searchResults:t,resultsMenuProps:a}=e;let n=[];return n="error"===t.status?[He()]:"loading"===t.status?[Oe()]:"ready"===t.status&&t.results.length>0?t.results.map((e=>e.table===s.cZ?Ue(e.value):tt(e)?(0,H.F6)()&&!(0,H.SG)()?void 0:Je(e.value):qe(e.value))).filter(l.$K):[{key:"connections search error",displayName:ke.default.formatMessage(Be.connectionNoSearchResultsLabel),analyticsName:Be.connectionNoSearchResultsLabel.defaultMessage,searchName:Be.connectionNoSearchResultsLabel.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,ze],render:e=>(0,M.jsx)(F.Z,{title:ke.default.formatMessage(Be.connectionNoSearchResultsLabel)}),action:()=>{}}],{key:"connections search results",render:e=>(0,M.jsx)(ye,{...e,resultsMenuProps:a}),actions:n}}function Se(e,t){const a=e,n=!(0,H.F6)()||(0,H.SG)();return{key:"manage connections section",render:t=>(0,M.jsx)(ae.Z,{...t,style:{marginTop:e?6:0}}),actions:[...!a&&n?[Je(t)]:[],{key:"manage connections",displayName:ke.default.formatMessage(Be.manageConnectionsLabel),analyticsName:Be.manageConnectionsLabel.defaultMessage,searchName:Be.manageConnectionsLabel.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,Ce.ffD(Ce.tqC)],render:e=>(0,M.jsx)(j.Z,{...e,title:ke.default.formatMessage(Be.manageConnectionsLabel),svg:v.H}),action:()=>{we.r$({currentTab:"connected_apps",openedFrom:"topbar"})}}]}}var Ce=a(19037),ke=a(33929),he=a(76463),Ne=a(47307),we=a(91376),Le=a(76464),Pe=a(12714),xe=a(99405),Ie=a(95477),je=a(91924),Ae=a(81575),De=a(47839),_e=a(15356),Fe=a(9953),Te=a(31120),Ve=a(13447);const Ze=(0,r.defineMessages)({somethingWentWrong:{defaultMessage:"Something went wrong.",id:"slackActions.dialogError.loginWithSlack.errorMessage"},titleMessage:{defaultMessage:"Slack login",id:"slackActions.loginPopupModal.title"},removeIntegrationMessage:{id:"slackIntegrationButton.removeIntegrationConfirmationDialog.prompt",defaultMessage:"Are you sure you want to remove Slack integration?"},removeIntegrationConfirmationLabel:{id:"slackIntegrationButton.removeIntegrationConfirmationDialog.removeButton.label",defaultMessage:"Remove"}});async function Re(e){let{environment:t,blockId:a,intl:n}=e;Ae.Mc(t),await async function(e){const{environment:t,blockId:a,intl:n}=e,o=(0,je.eC)(t);let i=(0,xe.GD)(Ie.default.domainBaseUrl,{blockId:a,authType:o,userId:t.currentUser.id});if(i=o.redirectToAuth?i:await(0,je.HU)(t,i),t.device.isElectron)return void De.openExternalUrl(i);const s=await _e.M(t,{width:530,height:530,url:i,titleMessage:Ze.titleMessage});if(!s)return void Ne.showErrorMessage(n.formatMessage(Ze.somethingWentWrong));const r=(0,xe.Wj)({url:s,isMobile:t.device.isMobile,baseUrl:Ie.default.domainBaseUrl,publicDomainName:Ie.default.publicDomainName,protocol:Ie.default.protocol,currentUrl:window.location.href});"slackAuthCallback"===r.name&&Te.YU({route:r,environment:t})}({environment:t,blockId:a,intl:n})}const Be=(0,r.defineMessages)({connectionLoadingLabel:{id:"topbar.connectionsSection.connectionLoading.label",defaultMessage:"Connections loading"},connectionSearchPlaceholderLabel:{id:"topbar.connectionsSection.topbarMoreConnectionsSubMenu.label",defaultMessage:"Search for connections..."},connectionSearchErrorLabel:{id:"topbar.connectionsSection.connectionSearchError.label",defaultMessage:"Something went wrong"},connectionNoSearchResultsLabel:{id:"topbar.connectionsSection.noSearchResults.label",defaultMessage:"No results"},connectionSearchResultLabel:{id:"topbar.connectionsSection.connectionSearchResult.label",defaultMessage:"{name}"},slackEmptyLabel:{id:"topbar.connectionSection.slackEmpty.label",defaultMessage:"Slack"},slackConnectedLabel:{id:"topbar.connectionSection.slackConnected.label",defaultMessage:"Connected to Slack channel"},manageConnectionsLabel:{id:"topbar.connectionsSection.manageConnections.label",defaultMessage:"Manage connections"},connectToLabel:{id:"topbar.connectionsSection.connectTo.label",defaultMessage:"Connect to"},addConnectionsLabel:{id:"topbar.connectionsSection.addConnections.label",defaultMessage:"Add connections"},fromParentPageLabel:{id:"topbar.connectionsSection.fromParenPage.label",defaultMessage:"From"},capabilitiesLabel:{id:"topbar.connectionsSection.capabilities.label",defaultMessage:"Capabilities"},disconnectLabel:{id:"topbar.connectionSection.disconnectIntegration.label",defaultMessage:"Disconnect"},disconnectConfirmationLabel:{id:"topbar.connectionSection.disconnectIntegrationConfirmation.label",defaultMessage:"{botName} will be removed from this page and all child pages. Continue?"},restrictionLabel:{id:"topbar.connectionSection.restrictIntegration.label",defaultMessage:"Restrict"},restrictionConfirmationLabel:{id:"topbar.connectionSection.restrictIntegrationConfirmation.label",defaultMessage:"Are you sure you want to remove this permission and restrict access? This page will no longer share settings from the parent page."},restrictionAcceptLabel:{id:"topbar.connectionSection.restrictAccept.label",defaultMessage:"Restrict access"},connectionLabel:{id:"topbar.connectionSection.connectionIntegration.label",defaultMessage:"{connectionName}"},connectionBotConfirmlabel:{id:"topbar.connectionSection.connectBotConfirmation.label",defaultMessage:"{botName} will have access to this and all child pages. Continue?"},connectionIntegrationConfirmlabel:{id:"topbar.connectionSection.connectIntegrationConfirmation.label",defaultMessage:"{integrationName} is developed by a third party partner and you will be redirected outside of Notion to authorize this connection. Continue?"}}),ze=Ce.ffD(Ce.xDy([Ce.tqC,Ce.ffD(Ce.xDy([Ce.zzA,Ce.J5S]))]));function Oe(){return{key:"connections loading",displayName:ke.default.formatMessage(Be.connectionLoadingLabel),analyticsName:Be.connectionLoadingLabel.defaultMessage,searchName:Be.connectionLoadingLabel.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,ze],render:e=>(0,M.jsx)(_.Z,{...e,icon:(0,M.jsx)(D.Z,{}),title:ke.default.formatMessage(Be.connectionLoadingLabel)}),action:()=>{}}}function Ee(e,t){return{key:"search connections input",analyticsName:Be.connectionSearchPlaceholderLabel.defaultMessage,displayName:ke.default.formatMessage(Be.connectionSearchPlaceholderLabel),searchName:Be.connectionSearchPlaceholderLabel.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,ze],render:()=>(0,M.jsx)(A.ZP,{value:e,onChange:e=>t(e.target.value),placeholder:ke.default.formatMessage(Be.connectionSearchPlaceholderLabel),focus:!0}),action:()=>{}}}function He(){return{key:"connections search error",displayName:ke.default.formatMessage(Be.connectionSearchErrorLabel),analyticsName:Be.connectionSearchErrorLabel.defaultMessage,searchName:Be.connectionSearchErrorLabel.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,ze],render:e=>(0,M.jsx)(F.Z,{title:ke.default.formatMessage(Be.connectionSearchErrorLabel)}),action:()=>{}}}function Ue(e){const{id:t,name:a}=e,n=ke.default.formatMessage(Be.connectionSearchResultLabel,{name:a});return{key:`${t}`,displayName:n,analyticsName:n,searchName:a,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,ze],render:(t,a)=>(0,M.jsx)(I,{...t,bot:e,focused:t.focused,onClick:async()=>{await Qe(a.blocks[0],a.environment,e)},ref:t.ref}),action:async t=>{await Qe(t.blocks[0],t.environment,e)}}}function qe(e){const{id:t,name:a,info:n}=e,o=ke.default.formatMessage(Be.connectionLabel,{connectionName:a});return{key:`${t}`,displayName:o,analyticsName:o,searchName:a,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,ze,Ce.ffD(Ce.tqC)],render:e=>(0,M.jsx)(L.Z,{...e,title:o,icon:(0,M.jsx)("img",{src:n.icon,style:{width:18,height:"auto"},ref:e.ref})}),action:async t=>{let{environment:a}=t;e.id!==C.T0&&await async function(e,t){const{id:a,name:n}=e,o=await Ne.confirmUserAction({message:ke.default.formatMessage(Be.connectionIntegrationConfirmlabel,{integrationName:n})}),i=(0,S.E)(a,n);o&&Pe.D({environment:t,url:i,targetSelf:!1})}(e,a)}}}function Je(e){const t=ke.default.formatMessage(Be.slackEmptyLabel);return{key:"slack empty",displayName:t,analyticsName:Be.slackEmptyLabel.defaultMessage,searchName:t,closeParentMenu:!0,validators:[Ce.Ggh,Ce.J5S,Ce.YPq,Ce.tJc,Ce.OFQ,Ce.ffD(Ce.Fxc)],render:a=>(0,M.jsx)(Z.ZP,{placement:Z.ug.Left,render:n=>(0,M.jsx)(L.Z,{...(0,E.Z)(n,a),title:t,icon:(0,M.jsx)("img",{src:e.info.icon,style:{height:18}})}),renderTooltip:G}),action:e=>{var t;Re({environment:e.environment,blockId:null===(t=e.blocks)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id,intl:ke.default.getIntl()})}}}function Ge(){const e=ke.default.formatMessage(Be.slackConnectedLabel);return{key:"slack connected inherited",displayName:e,analyticsName:Be.slackConnectedLabel.defaultMessage,searchName:e,closeParentMenu:!0,validators:[Ce.Ggh,Ce.J5S,Ce.urk,Ce.ffD(Ce.Fxc)],render:(e,t,a)=>(0,M.jsx)($,{blockStore:t.blocks[0],...e}),action:e=>{}}}function Ke(){const e=ke.default.formatMessage(Be.slackConnectedLabel);return{key:"slack connected on block",displayName:e,analyticsName:Be.slackConnectedLabel.defaultMessage,searchName:e,closeParentMenu:!0,validators:[Ce.Ggh,Ce.J5S,Ce.Rd2,Ce.ffD(Ce.Fxc)],render:(e,t,a)=>(0,M.jsx)(W,{blockStore:t.blocks[0],...e}),action:e=>{const{slackIntegrationStore:t}=(0,H.Jk)(e.blocks[0]);!function(e,t,a){Ne.showDialog({message:a.formatMessage(Ze.removeIntegrationMessage),showCancel:!0,keepFocus:!0,items:[{label:a.formatMessage(Ze.removeIntegrationConfirmationLabel),color:"red",onAccept:()=>{Ae.Uu(e),Ve.createAndCommit({userAction:"slackActions.handleRemoveSlackIntegration",environment:e,perform:e=>{Fe.sW({store:t,data:{enabled:!1},transaction:e})}})}}]})}(e.environment,t,ke.default.getIntl())}}}function $e(e){const t=ke.default.formatMessage(Be.fromParentPageLabel);return{key:"from parent page",displayName:t,analyticsName:t,searchName:t,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S],action:()=>{},render:(t,a)=>{let{blocks:n}=a;const o=n[0],i=fe.G.createChildStore(o,{table:k.iU,id:e.blockId});return(0,M.jsx)(et,{parentBlockStore:i})}}}function We(e){const t=ke.default.formatMessage(Be.capabilitiesLabel);return{key:"capabilities",displayName:t,analyticsName:t,searchName:t,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S],action:()=>{},render:()=>(0,M.jsx)(R._,{role:e})}}function Ye(e,t){const a=ke.default.formatMessage(Be.disconnectLabel);return{key:"disconnect integration",displayName:a,analyticsName:a,searchName:Be.disconnectLabel.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S],action:async a=>{let{blocks:n,environment:o}=a;const i=n[0];await async function(e,t,a,n){const o=await Ne.confirmUserAction({message:ke.default.formatMessage(Be.disconnectConfirmationLabel,{botName:n})});o&&he.RN({botId:a,store:e,environment:t})}(i,o,e,t)},render:e=>(0,M.jsx)(j.Z,{...e,svg:y,title:a,focused:!0})}}function Xe(e){const t=ke.default.formatMessage(Be.disconnectLabel),a=ke.default.formatMessage(Be.restrictionLabel);return{key:"restrict page from permission model",displayName:a,analyticsName:a,searchName:Be.restrictionLabel.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S],action:async t=>{let{blocks:a,environment:n}=t;const o=a[0];await async function(e,t,a){if(await Ne.confirmUserAction({message:ke.default.formatMessage(Be.restrictionConfirmationLabel),acceptLabel:ke.default.formatMessage(Be.restrictionAcceptLabel)})){const n={type:"bot_permission",role:"none",bot_id:e};Ve.createAndCommit({userAction:"TopbarMoreConnections.restrictPagePermissions",environment:a,perform:e=>{Le.Pk({environment:a,store:t,permissionItem:n,shouldInherit:!0,transaction:e})}})}}(e,o,n)},render:e=>(0,M.jsx)(j.Z,{...e,svg:y,title:t,focused:!0})}}async function Qe(e,t,a){await Ne.confirmUserAction({message:ke.default.formatMessage(Be.connectionBotConfirmlabel,{botName:a.name})})&&he.v2({botValue:a,store:e,environment:t})}function et(e){const{parentBlockStore:t}=e,a=(0,g.VK)((()=>t.getIcon()),[t]),o=(0,g.VK)((()=>t.isEmptyPage()),[t]),i=(0,m.O7)(),s=(0,f.Fg)(),[l,c]=(0,n.useState)("transparent"),d=i.device.isMobile?{fontSize:14,paddingLeft:4}:{fontSize:12,paddingLeft:4};return(0,M.jsx)(F.Z,{...e,title:(0,M.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[(0,M.jsx)(r.FormattedMessage,{id:"topbar.connectionSection.parentPage.label",defaultMessage:"From"}),(0,M.jsxs)("span",{style:{display:"flex",alignItems:"center",padding:2,borderRadius:2,marginLeft:2,cursor:"pointer",backgroundColor:l,color:s.regularTextColor,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:()=>{h._c({environment:i,store:t,pageVisitSource:p.tY.LinkInPage})},onMouseEnter:()=>{c(s.selectLightGray[100])},onMouseLeave:()=>{c("transparent")},onMouseDown:()=>{c(s.selectLightGray[200])},onMouseUp:()=>{c(s.selectLightGray[100])},children:[(0,M.jsx)(T.Z,{disabled:!0,icon:a,isEmptyPage:o,size:12,style:{margin:"0px 2px"}}),(0,M.jsx)(V.Z,{store:t})]})]}),textWrapperStyle:d})}function tt(e){return"legacy_integration"===e.table&&e.value.id===C.Cb.id}var at=a(46654);const nt=(0,r.defineMessages)({copyPublicApiObject:{id:"action.copyPublicApiObject",defaultMessage:"Copy API object (Dev)"}}),ot=(0,c.cN)({key:"copy public API object",displayName:nt.copyPublicApiObject,analyticsName:nt.copyPublicApiObject.defaultMessage,validators:[Ce.U7o,Ce.QLY("public_api_dev_mode")],closeParentMenu:!1,svg:o.U,action:async e=>{let{environment:t,blocks:a}=e;const n=await d.getPublicApiObject(t,{id:a[0].id});let o;o="success"===n.type?JSON.stringify(n.data,void 0,2):JSON.stringify(n.error,void 0,2),u.RD({environment:t,stringValue:o,copiedMessage:u.tq.copiedApiObjectToClipboard})}});function it(e,t,a){const n=function(e){var t;const a=e.blocks[0],n=(0,at.YO)(a).filter((0,l.AO)((e=>(0,i.FB)(e.permissionItem)?{true:{...e,permissionItem:e.permissionItem}}:{false:e})));if(0===n.length)return{status:"no bots"};const o=new Map,r=null===(t=w.default.state.currentSpaceStore)||void 0===t?void 0:t.id,c=n.map((e=>{let{from:t,permissionItem:n}=e;const i=fe.t1.createChildStore(a,{table:s.cZ,id:n.bot_id,spaceId:r});if("block"===t.table)return o.set(n.bot_id,t),i})).filter(l.$K);if(c.every((e=>e.isReady()))){const t=c.filter((t=>t.isDefined()&&Boolean((0,ue.Nq)(e.environment,t.getModel()))));if((0,me.Fn)(e.environment)){const e=t.map((e=>e.getIntegrationId())),a=new Set(e),n=c.filter((e=>!(!e.isDefined()||a.has(e.getIntegrationId())||!Boolean((0,ue.f_)(e.getModel()))||(a.add(e.getIntegrationId()),0))));t.push(...n)}return{status:"ready",botStores:t,botIdToSharedPageIds:o}}return{status:"loading"}}(e),{status:o}=n;if("no bots"===o||"loading"===o)return n;{const{botStores:e,botIdToSharedPageIds:o}=n;return{status:"ready",botActions:e.map((e=>{if(e.isDefined()){const n=e.getIntegrationId();n&&t.add(n);const i=o.get(e.id);if(i)return a.add(e.id),function(e){const{botStore:t,botPermissionSourcePage:a}=e,{id:n}=t,o=t.getName(),i=ke.default.formatMessage(Be.connectionLabel,{connectionName:o});return{key:`${n}`,displayName:i,analyticsName:i,searchName:i,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,Ce.ffD(Ce.uY7)],action:()=>{},render:(e,n,o)=>{const s=n.blocks[0].id===a.blockId;return(0,M.jsx)(oe,{...e,context:n,parent:o,isSharedDirectly:s,botStore:t,botPermissionSourcePage:a,originConnectionLabel:i})}}}({botStore:e,botPermissionSourcePage:i})}})).filter(l.$K)}}}function st(e){const t=new Set,a=new Set,n=it(e,t,a),o=function(e,t){const a=Be.connectToLabel,n=ke.default.formatMessage(a);return{key:"add connections action",displayName:n,analyticsName:a.defaultMessage,searchName:a.defaultMessage,closeParentMenu:!1,validators:[Ce.Ggh,Ce.J5S,ze,Ce.ffD(Ce.uY7)],action:()=>{},render:(a,o,i)=>(0,M.jsx)(pe,{...a,context:o,parent:i,alreadyConnectedIntegrationIds:e,alreadyConnectedBotIds:t,originButtonLabel:n})}}(t,a);if("no bots"===n.status)return{loadingAction:[],connectedActions:[],searchSubMenu:o};if("loading"===n.status)return{loadingAction:[Oe()],connectedActions:[],searchSubMenu:o};{const{botActions:e}=n;return{loadingAction:[],connectedActions:e,searchSubMenu:o}}}function rt(e){const{loadingAction:t,connectedActions:a,searchSubMenu:n}=st(e);return{key:"topbar connections",render:e=>(0,M.jsx)(ae.Z,{...e,topBorder:!0,title:(0,M.jsx)(r.FormattedMessage,{id:"topbar.connectionSection.label",defaultMessage:"Connections"})}),actions:[...t,...[Ge(),Ke()],...a,n,ot]}}},41623:(e,t,a)=>{a.d(t,{Nq:()=>o,f_:()=>i,yh:()=>s});var n=a(15070);function o(e,t){const a=t.getAlive(),o=(0,n.hA)(t),i=Boolean(!t.getIntegrationId()),s=Boolean(t.getIntegrationId()),r=Boolean(e.currentUser.id===t.getParentId());return a&&o&&(s&&r||i)}function i(e){return e.getAlive()&&(0,n.hA)(e)&&Boolean(e.getIntegrationId())}function s(e){const{externalIntegrationStoreState:t,integrationId:a}=e;if(!t.loaded)return;const o=t.externalAuthentications.map((e=>{let{parent_id:t}=e;return t})),i=new Set(o),s=t.bots.filter((e=>e.alive&&i.has(e.id)&&(0,n.U9)(e)&&e.integration_id===a));return s.length?s[0]:void 0}},22771:(e,t,a)=>{a.d(t,{J:()=>i});a(67294);var n=a(45238),o=a(85893);const i=(0,n.IU)("arrowsConverging",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.47949 13.2667C4.27441 13.2667 4.11263 13.2006 3.99414 13.0684C3.88021 12.9408 3.82324 12.7881 3.82324 12.6104C3.82324 12.3552 3.9349 12.1569 4.1582 12.0157L4.70508 11.667C4.94206 11.5075 5.20866 11.2956 5.50488 11.0313C5.80566 10.7624 6.09277 10.4594 6.36621 10.1221C6.64421 9.78488 6.87207 9.42485 7.0498 9.04204C7.22754 8.65923 7.31641 8.27414 7.31641 7.88677V4.46196H8.67676V7.88677C8.67676 8.27414 8.76562 8.65923 8.94336 9.04204C9.12109 9.42485 9.34668 9.78716 9.62012 10.129C9.89355 10.4662 10.1807 10.767 10.4814 11.0313C10.7822 11.2956 11.0511 11.5075 11.2881 11.667L11.835 12.0157C12.0583 12.1569 12.1699 12.3552 12.1699 12.6104C12.1699 12.7972 12.1107 12.9522 11.9922 13.0752C11.8737 13.2028 11.7119 13.2667 11.5068 13.2667C11.3109 13.2667 11.1195 13.2051 10.9326 13.0821L10.5771 12.8428C10.3447 12.6879 10.0941 12.4942 9.8252 12.2618C9.56087 12.0248 9.30339 11.7741 9.05273 11.5098C8.80208 11.2455 8.58333 10.9903 8.39648 10.7442C8.20964 10.4981 8.07975 10.2839 8.00684 10.1016H7.98633C7.91341 10.2839 7.78125 10.5004 7.58984 10.751C7.40299 10.9971 7.18424 11.2523 6.93359 11.5167C6.68294 11.7764 6.42318 12.0248 6.1543 12.2618C5.88997 12.4942 5.64388 12.6879 5.41602 12.8428L5.06055 13.0821C4.8737 13.2051 4.68001 13.2667 4.47949 13.2667ZM6.29102 5.36431C6.02669 5.36431 5.86263 5.28228 5.79883 5.11821C5.73503 4.95415 5.77832 4.76502 5.92871 4.55083L7.5625 2.26079C7.68555 2.08306 7.83138 1.99647 8 2.00103C8.16862 2.00103 8.31445 2.08761 8.4375 2.26079L10.0576 4.55767C10.2126 4.7673 10.2559 4.95415 10.1875 5.11821C10.1237 5.28228 9.96191 5.36431 9.70215 5.36431H6.29102Z"})})},62208:(e,t,a)=>{a.d(t,{z:()=>i});a(67294);var n=a(45238),o=a(85893);const i=(0,n.IU)("loop",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M5.80371 3.12305C5.81006 3.50391 6.05762 3.74512 6.47656 3.74512H11.3643C11.9546 3.74512 12.2783 4.0498 12.2783 4.66553V11.2925L11.377 10.3149L10.8628 9.80078C10.5962 9.54688 10.2344 9.52783 9.96777 9.78809C9.71387 10.0483 9.72021 10.4229 9.98047 10.6831L12.145 12.8413C12.6211 13.311 13.167 13.311 13.6431 12.8413L15.8076 10.6831C16.0679 10.4229 16.0742 10.0483 15.8203 9.78809C15.5537 9.52783 15.1919 9.54688 14.9253 9.80078L14.4111 10.3149L13.5161 11.2861V4.56396C13.5161 3.20557 12.8052 2.50098 11.4341 2.50098H6.47656C6.05762 2.50098 5.79736 2.74219 5.80371 3.12305ZM0.186035 7.05859C0.446289 7.3252 0.808105 7.30615 1.07471 7.0459L1.59521 6.53809L2.48389 5.56689V12.2891C2.48389 13.6475 3.19482 14.3521 4.56592 14.3521H9.52344C9.94238 14.3521 10.2026 14.1108 10.1963 13.73C10.1899 13.3428 9.94238 13.1079 9.52344 13.1079H4.64209C4.05176 13.1079 3.72803 12.7969 3.72803 12.1812V5.5542L4.62305 6.53809L5.14355 7.0459C5.40381 7.30615 5.77197 7.3252 6.03223 7.05859C6.29248 6.79834 6.28613 6.43018 6.01953 6.16992L3.85498 4.01172C3.37891 3.53564 2.83936 3.53564 2.36328 4.01172L0.19873 6.16992C-0.0678711 6.43018 -0.0742188 6.79834 0.186035 7.05859Z"})})},21158:(e,t,a)=>{a.d(t,{h:()=>i});a(67294);var n=a(45238),o=a(85893);const i=(0,n.IU)("openAsPage",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.22605 12.855C3.36623 12.9952 3.55957 13.0822 3.77226 13.0725L8.83802 13.0338C9.04103 13.0338 9.24405 12.9468 9.36973 12.8212C9.67425 12.5166 9.65975 12.1058 9.36973 11.8157C9.21988 11.6659 9.05553 11.6079 8.86702 11.6127L6.79818 11.6417L5.26105 11.7577L6.39215 10.7136L10.7087 6.39712L11.7528 5.26603L11.6319 6.80799L11.6029 8.87683C11.6029 9.06051 11.6561 9.22969 11.8059 9.37954C12.096 9.66956 12.5117 9.67923 12.8162 9.3747C12.9419 9.24902 13.0289 9.04601 13.024 8.84782L13.0675 3.77723C13.0724 3.56938 12.9902 3.3712 12.85 3.23102C12.7098 3.09084 12.5165 3.0135 12.3038 3.0135L7.23805 3.06184C7.03987 3.05701 6.83685 3.14401 6.71117 3.26969C6.40665 3.57422 6.41631 3.98992 6.70634 4.27994C6.85618 4.42979 7.02536 4.48296 7.20905 4.48296L9.27789 4.45396L10.8198 4.33311L9.68392 5.37237L5.36739 9.6889L4.32814 10.8248L4.44415 9.28769L4.47315 7.21886C4.47799 7.03034 4.41998 6.86599 4.27013 6.71615C3.98011 6.42612 3.56924 6.41162 3.26472 6.71615C3.13904 6.84182 3.05203 7.04484 3.05203 7.24786L3.00853 12.3088C3.0037 12.5263 3.08587 12.7148 3.22605 12.855Z"})})},84199:(e,t,a)=>{a.d(t,{N:()=>i});a(67294);var n=a(45238),o=a(85893);const i=(0,n.IU)("properties",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"})})},91427:(e,t,a)=>{a.d(t,{e:()=>i});a(67294);var n=a(45238),o=a(85893);const i=(0,n.IU)("star",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.2627 14.7637C3.58398 15.0098 3.98047 14.9277 4.44531 14.5928L8 11.9814L11.5547 14.5928C12.0195 14.9277 12.4229 15.0098 12.7441 14.7637C13.0586 14.5244 13.127 14.1279 12.9424 13.5879L11.541 9.41113L15.1299 6.83398C15.5879 6.50586 15.7861 6.14355 15.6562 5.76074C15.5264 5.38477 15.1641 5.2002 14.5967 5.20703L10.1943 5.23438L8.85449 1.03711C8.68359 0.490234 8.40332 0.196289 8 0.196289C7.60352 0.196289 7.32324 0.490234 7.14551 1.03711L5.80566 5.23438L1.40332 5.20703C0.835938 5.2002 0.480469 5.38477 0.350586 5.76074C0.220703 6.14355 0.412109 6.50586 0.876953 6.83398L4.46582 9.41113L3.05762 13.5879C2.87305 14.1279 2.94141 14.5244 3.2627 14.7637ZM4.45898 13.1162C4.45215 13.1025 4.45215 13.0957 4.45898 13.0615L5.75781 9.39062C5.87402 9.05566 5.83301 8.84375 5.52539 8.63867L2.3125 6.4375C2.28516 6.42383 2.27148 6.41016 2.27832 6.38965C2.29199 6.37598 2.30566 6.36914 2.33984 6.36914L6.22949 6.45801C6.58496 6.47168 6.7627 6.35547 6.86523 6.01367L7.96582 2.28125C7.97266 2.24023 7.98633 2.2334 8 2.2334C8.02051 2.2334 8.02734 2.24023 8.04102 2.28125L9.13477 6.01367C9.2373 6.35547 9.42188 6.47168 9.77051 6.45801L13.6602 6.36914C13.7012 6.36914 13.7148 6.37598 13.7217 6.38965C13.7285 6.41016 13.7217 6.41699 13.6875 6.4375L10.4814 8.63867C10.167 8.85059 10.126 9.05566 10.2422 9.39062L11.541 13.0615C11.5547 13.0957 11.5547 13.1025 11.541 13.1162C11.5273 13.1367 11.5137 13.123 11.4863 13.1094L8.40332 10.7305C8.12305 10.5117 7.87695 10.5117 7.60352 10.7305L4.52051 13.1094C4.49316 13.123 4.47266 13.1367 4.45898 13.1162Z"})})},37888:(e,t,a)=>{a.d(t,{U:()=>i});a(67294);var n=a(45238),o=a(85893);const i=(0,n.IU)("unlocked",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.49023 14.7227H8.89551C9.94824 14.7227 10.4746 14.1963 10.4746 13.0479V8.20801C10.4746 7.22363 10.085 6.69727 9.29883 6.57422V4.83105C9.29883 3.22461 10.3174 2.35645 11.541 2.35645C12.7646 2.35645 13.79 3.22461 13.79 4.83105V6.28711C13.79 6.76562 14.0703 7.01855 14.4395 7.01855C14.8018 7.01855 15.082 6.7793 15.082 6.28711V4.96094C15.082 2.36328 13.3525 1.1123 11.541 1.1123C9.72949 1.1123 8 2.36328 8 4.96094V6.54004H2.49023C1.43066 6.54004 0.911133 7.06641 0.911133 8.20801V13.0479C0.911133 14.1963 1.43066 14.7227 2.49023 14.7227ZM2.68848 13.5059C2.3877 13.5059 2.2373 13.3623 2.2373 13V8.25586C2.2373 7.89355 2.3877 7.76367 2.68848 7.76367H8.7041C9.00488 7.76367 9.14844 7.89355 9.14844 8.25586V13C9.14844 13.3623 9.00488 13.5059 8.7041 13.5059H2.68848ZM7.99316 21.1123C6.5918 21.1123 5.2793 21.8779 4.75293 23.375L5.78516 24.4141C5.94922 23.0811 6.87891 22.3564 7.99316 22.3564C9.2168 22.3564 10.2422 23.2246 10.2422 24.8311V26.54H7.9248L9.1416 27.7637H11.0078C11.3086 27.7637 11.4521 27.8936 11.4521 28.2559V30.0742L12.7783 31.4072V28.208C12.7783 27.2031 12.3682 26.6768 11.541 26.5674V24.9609C11.541 22.3633 9.81152 21.1123 7.99316 21.1123ZM13.749 35.126C13.9609 35.3379 14.3164 35.3379 14.5215 35.126C14.7266 34.9072 14.7334 34.5723 14.5215 34.3535L2.46973 22.3154C2.25781 22.1035 1.90918 22.0967 1.69043 22.3154C1.48535 22.5205 1.48535 22.876 1.69043 23.0811L13.749 35.126ZM4.79395 34.7227H11.1992C11.5 34.7227 11.7598 34.6816 11.9785 34.5928L10.8711 33.4922C10.8096 33.499 10.7549 33.5059 10.6865 33.5059H4.99219C4.69141 33.5059 4.54102 33.3623 4.54102 33V28.2559C4.54102 27.9004 4.68457 27.7637 4.97852 27.7637H5.14258L4.04883 26.6631C3.48828 26.8818 3.21484 27.3809 3.21484 28.208V33.0479C3.21484 34.1963 3.73438 34.7227 4.79395 34.7227Z"})})},39248:(e,t,a)=>{a.d(t,{E:()=>r});var n=a(7032),o=a(18265),i=a(89101);function s(e,t){const a=t.trim().toLowerCase(),n=(0,o.Of)(a).replace(/\./g,"-");return n?`${n}-${e}`:e}function r(e,t){if(!(0,n.e)(e))return`${i._j.integrations}/${e}`;const a=s(e,void 0===t?"":t);return`${i._j.integrations}/${a}`}}}]);