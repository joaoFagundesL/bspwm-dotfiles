"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5835],{13713:(e,t,i)=>{i.d(t,{B:()=>f,Z:()=>x});i(67294);var n=i(13991),o=i(480),r=i(86628),s=i(24405),a=i(66897),l=i(7057),d=i(9291),c=i(83420),u=i(33929),p=i(4023),C=i(16011),g=i(28992),h=i(72495),m=i(26388),v=i(64369),y=i(85893);function f(e){const t=e.getCreatedByPointer(),i=e.getCreatedTime(),o=e.getLastEditedByPointer(),r=e.getLastEditedTime(),s=u.default.getIntl();if(t&&i&&r&&o){const a=(0,c.ue)({parentStore:e,pointer:t}),d=(0,l.$b)(i,n.SP,s),u=(0,c.ue)({parentStore:e,pointer:o}),p=(0,l.$b)(r,n.SP,s);if(!u)return;return{createdBy:a,createdTime:d,lastEditedBy:u,lastEditedTime:p}}}const x=function(e){let{isPageMoreButton:t,hideTopBorder:i,store:n}=e;const l=(0,r.VK)((()=>f(n)),[n]),{device:c}=(0,o.O7)(),x=(0,r.VK)((()=>c.isPhone),[c]),S=u.default.getIntl(),P=(0,s.yK)((()=>({menuItem:{paddingTop:x?8:i?0:6,paddingBottom:x?8:16}})),[i,x]);return(0,y.jsx)(h.Z,{topBorder:!t&&!i,style:{paddingTop:t?0:8,paddingBottom:t?0:8},children:(0,y.jsx)(g.Z,{style:l?void 0:P.menuItem,shouldWrapTitle:!0,title:l?(0,y.jsx)(m.ZP,{placement:p.u.Right,render:e=>(0,y.jsxs)("div",{...e,children:[(0,y.jsx)(v.Z,{isSmall:!0,isSecondaryColor:!0,isMobile:c.isPhone,isMultiline:!0,style:{marginBottom:4},children:(0,y.jsx)(d.FormattedMessage,{id:"blockAuthorInfo.label",defaultMessage:"Last edited by {author}",values:{author:l.lastEditedBy.asActor?(0,a.$4)(S,l.lastEditedBy):void 0}})}),(0,y.jsx)(v.Z,{isSmall:!0,isSecondaryColor:!0,isMobile:c.isPhone,children:l.lastEditedTime})]}),renderTooltip:()=>(0,y.jsx)(C.Z,{store:n,compactFormat:!0})}):void 0,loading:!l})})}},74092:(e,t,i)=>{i.d(t,{Z:()=>l});i(67294);var n=i(480),o=i(24405),r=i(39567),s=i(31278),a=i(85893);function l(e){const{icon:t,isAlias:i,isEmptyPage:l}=e,d=function(){const e=(0,n.O7)();return(0,o.yK)((t=>({wrap:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:e.device.isMobile?28:22,height:e.device.isMobile?24:18,position:"relative"},pageLinkInicator:{position:"absolute",width:"50%",height:"50%",right:0,bottom:-1,fill:"dark"===t.mode?t.regularTextColor:"#3E3C38",stroke:"dark"===t.mode?t.sidebarBackground:"white",strokeWidth:"dark"===t.mode?"1.85px":"1.5px"}})),[e])}();return(0,a.jsxs)("div",{style:d.wrap,children:[(0,a.jsx)(s.Z,{disabled:!0,icon:t,isEmptyPage:l,size:19}),i&&(0,a.jsx)("div",{children:(0,r.Y)(d.pageLinkInicator)})]})}},83336:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(67294),o=i(480),r=i(45238),s=i(85893);const a=(0,r.IU)("docMagnifyingGlass",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M4.87695 14.1426C4.25195 14.1426 3.77734 13.9805 3.45312 13.6562C3.13281 13.332 2.97266 12.8535 2.97266 12.2207V3.38477C2.97266 2.75586 3.13281 2.2793 3.45312 1.95508C3.77734 1.62695 4.25195 1.46289 4.87695 1.46289H11.123C11.748 1.46289 12.2207 1.625 12.541 1.94922C12.8613 2.27344 13.0215 2.75195 13.0215 3.38477V9.30273C12.8652 9.13086 12.6895 8.97656 12.4941 8.83984C12.2988 8.70312 12.0918 8.59375 11.873 8.51172V3.45508C11.873 3.18555 11.7988 2.97852 11.6504 2.83398C11.5059 2.68555 11.2969 2.61133 11.0234 2.61133H4.97656C4.69531 2.61133 4.48242 2.68555 4.33789 2.83398C4.19727 2.97852 4.12695 3.18555 4.12695 3.45508V12.1621C4.12695 12.4355 4.19727 12.6426 4.33789 12.7832C4.48242 12.9238 4.69531 12.9941 4.97656 12.9941H7.40234C7.48438 13.2129 7.5918 13.4199 7.72461 13.6152C7.86133 13.8105 8.01562 13.9863 8.1875 14.1426H4.87695ZM5.86133 4.99609C5.74805 4.99609 5.65625 4.95898 5.58594 4.88477C5.51562 4.81055 5.48047 4.72266 5.48047 4.62109C5.48047 4.51953 5.51562 4.43359 5.58594 4.36328C5.65625 4.29297 5.74805 4.25781 5.86133 4.25781H10.1445C10.25 4.25781 10.3379 4.29297 10.4082 4.36328C10.4824 4.43359 10.5195 4.51953 10.5195 4.62109C10.5195 4.72266 10.4824 4.81055 10.4082 4.88477C10.3379 4.95898 10.25 4.99609 10.1445 4.99609H5.86133ZM5.86133 6.99414C5.74805 6.99414 5.65625 6.95898 5.58594 6.88867C5.51562 6.81445 5.48047 6.72461 5.48047 6.61914C5.48047 6.51758 5.51562 6.43164 5.58594 6.36133C5.65625 6.29102 5.74805 6.25586 5.86133 6.25586H10.1445C10.25 6.25586 10.3379 6.29102 10.4082 6.36133C10.4824 6.43164 10.5195 6.51758 10.5195 6.61914C10.5195 6.72461 10.4824 6.81445 10.4082 6.88867C10.3379 6.95898 10.25 6.99414 10.1445 6.99414H5.86133ZM10.4434 14.1426C9.9707 14.1426 9.53906 14.0254 9.14844 13.791C8.75781 13.5605 8.44336 13.25 8.20508 12.8594C7.9707 12.4688 7.85352 12.0371 7.85352 11.5645C7.85352 11.0879 7.9707 10.6543 8.20508 10.2637C8.44336 9.86914 8.75781 9.55664 9.14844 9.32617C9.53906 9.0918 9.9707 8.97461 10.4434 8.97461C10.9199 8.97461 11.3535 9.0918 11.7441 9.32617C12.1348 9.55664 12.4453 9.86719 12.6758 10.2578C12.9102 10.6484 13.0273 11.084 13.0273 11.5645C13.0273 12.0371 12.9102 12.4688 12.6758 12.8594C12.4453 13.25 12.1348 13.5605 11.7441 13.791C11.3535 14.0254 10.9199 14.1426 10.4434 14.1426ZM10.4434 13.252C10.752 13.252 11.0332 13.1758 11.2871 13.0234C11.5449 12.8711 11.75 12.666 11.9023 12.4082C12.0547 12.1543 12.1309 11.873 12.1309 11.5645C12.1309 11.252 12.0547 10.9688 11.9023 10.7148C11.75 10.4609 11.5449 10.2578 11.2871 10.1055C11.0332 9.94922 10.752 9.87109 10.4434 9.87109C10.1309 9.87109 9.8457 9.94922 9.58789 10.1055C9.33398 10.2578 9.12891 10.4609 8.97266 10.7148C8.82031 10.9688 8.74414 11.252 8.74414 11.5645C8.74414 11.873 8.82031 12.1543 8.97266 12.4082C9.12891 12.666 9.33398 12.8711 9.58789 13.0234C9.8457 13.1758 10.1309 13.252 10.4434 13.252ZM13.5078 15.209C13.3398 15.209 13.1895 15.1426 13.0566 15.0098L11.4629 13.416L12.2715 12.6719L13.8594 14.2598C13.9141 14.3105 13.957 14.3711 13.9883 14.4414C14.0195 14.5117 14.0352 14.582 14.0352 14.6523C14.0352 14.8125 13.9844 14.9453 13.8828 15.0508C13.7812 15.1562 13.6562 15.209 13.5078 15.209Z"})});var l=i(21202),d=i(9291),c=i(53965),u=i(66324),p=i(75754),C=i(73744),g=i(35026),h=i(74948),m=i(6258),v=i(20755),y=i(84787),f=i(32163),x=i(72495),S=i(86628),P=i(24405),j=i(23903),b=i(34040),M=i(13447),Z=i(98742),V=i(4023),w=i(80444),I=i(88632),k=i(13713),B=i(16011),L=i(52275),A=i(73063),T=i(76798),K=i(26388),E=i(74092);function O(e){const t=(0,d.useIntl)(),{isPinned:i,store:n,spaceViewStore:r,type:a}=e,l=(0,o.O7)(),c=(0,o.MO)(),p=(0,S.VK)((()=>I.Z.state.online),[]),C=(0,S.VK)((()=>w.default.state.currentUserSettingsStore),[]),g=(0,P.yK)((e=>({pinned:{width:c?18:16,height:c?18:16,fill:e.mediumIconColor},unpinned:{width:c?18:16,height:c?18:16,fill:e.mediumIconColor}})),[c]);return(0,s.jsx)(A.Z,{icon:i?b._:j.P,style:p?void 0:{cursor:"default"},iconStyle:i?g.unpinned:g.pinned,onClick:()=>{C&&M.createAndCommit({userAction:"OutlinerViewAllMenuListItem2.onClick",environment:l,perform:e=>{i?(h.unpinSharedPage({environment:l,store:n,spaceViewStore:r,userSettingsStore:C,transaction:e}),u.An(l,{type:a,from:"sidebar_dropdown_menu"})):(h.pinSharedPage({environment:l,store:n,spaceViewStore:r,userSettingsStore:C,transaction:e}),u.qY(l,{type:a}))}})},disabled:!p,ariaLabel:t.formatMessage({defaultMessage:"Pin or unpin page",id:"outlinerViewAllPopover.pinButton.ariaLabel"})})}const z=n.forwardRef(((e,t)=>{const{store:i,timestamp:n,actorPointer:r,type:a,...l}=e,d=(0,S.VK)((()=>i.getIcon()),[i]),c=(0,S.VK)((()=>i.isEmptyPage()),[i]),u=(0,o.O7)();return(0,S.VK)((()=>{(0,k.B)(i)}),[i]),(0,s.jsx)(K.ZP,{placement:V.u.Right,render:n=>(0,s.jsx)(L.Z,{...(0,Z.Z)(l,n),ref:t,title:(0,s.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,s.jsx)(T.Z,{store:i})}),icon:(0,s.jsx)(E.Z,{icon:d,isEmptyPage:c,isAlias:!1}),right:(l.focused||e.isPinned||u.device.isMobile)&&(0,s.jsx)("div",{style:{display:"flex"},children:"shared"===e.type&&(0,s.jsx)(O,{...e})})}),renderTooltip:()=>(0,s.jsx)(B.Z,{store:i})})}));var H=i(27556);function F(e){const{sections:t}=e,i=1===t.length;return t.map(((t,n)=>{let{key:o,pages:r}=t;return{key:o,items:U({...e,pages:r}),render:e=>(0,s.jsx)(x.Z,{...e,topBorder:0!==n,title:i?void 0:(0,g.BY)({section:o,isFirst:0===n})})}}))}function U(e){const{environment:t,spaceStore:i,pages:n,visiblePageIds:o,onClose:r,type:a,state:d}=e,c=o.length;return n.map((n=>{let{blockId:v,timestamp:y,authorPointer:f,index:x}=n;const S=m.G.createChildStore(i,{table:l.iU,id:v}),P=o.includes(v);return{key:v,action:e=>{let{event:i}=e;const n=C.DJ(i);n||r(),p._c({environment:t,store:S,openInNew:n,pageVisitSource:(0,g.N)(a)}),t.device.isPhone&&h.close(),u._f(t,{type:a,queryStringLength:d.query.length,selectedItemIndex:x})},render:t=>(0,s.jsx)(z,{...t,...e,store:S,timestamp:y,actorPointer:f,isPinned:P,spaceId:i.id,pinnedAmount:c})}}))}const _=function(e){const{sections:t,onClose:i,state:r,menuListStore:l,setState:u,renderSections:p,...C}=e,g=(0,o.O7)(),h=c.Cn(t,(e=>e.pages.length)),m=Math.min(h,r.numPagesShown),S=(0,n.useMemo)((()=>{let e=m;return t.map((t=>{const i={...t,pages:t.pages.slice(0,e)};return e=Math.max(0,e-t.pages.length),i}))}),[m,t]);return 0===t.length?(0,s.jsx)(x.Z,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(v.Z,{icon:a,title:(0,s.jsx)(d.FormattedMessage,{defaultMessage:"No matches",id:"outlinerViewAllPopover.search.noMatchesTitle"}),description:(0,s.jsx)(d.FormattedMessage,{defaultMessage:"Try checking for typos",id:"outlinerViewAllPopover.search.noMatchesDescription"})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{type:f.i.Vertical,initialFocus:void 0,sections:p?p(S):F({...C,setState:u,state:r,environment:g,onClose:i,sections:S,menuListStore:l}),store:l}),(0,s.jsx)(y.Z,{fetchSize:m,resultSize:h,loading:!1,onLoadMore:()=>{u({query:r.query,numPagesShown:Math.min(h,m+H.uO)})}})]})}},27556:(e,t,i)=>{i.d(t,{Ke:()=>n.LazyOutlinerViewAllButton,k4:()=>o,uO:()=>r,vJ:()=>n.LazyOutlinerViewAllPopup});var n=i(77907);const o=30,r=20},83420:(e,t,i)=>{i.d(t,{TL:()=>C,nc:()=>p,ue:()=>u});i(21703);var n=i(66897),o=i(68626),r=i(54368),s=i(77420),a=i(19889),l=i(52629),d=i(1898),c=i(6258);function u(e){const{parentStore:t,pointer:i}=e,o=(0,c.Kv)(t,i).getValue();if(o)return(0,n.LU)({table:i.table,value:o})}function p(e){const{parentStore:t,pointer:i}=e;if(i.table===s.cZ)return c.Qx.createChildStore(t,i);if(i.table===a.KJ){const e=c.U6.createChildStore(t,i),n=e.isDefined()&&e.getValue();return(e.pointer.id!==i.id||e.pointer.table!==i.table||n&&n.id!==i.id)&&o.log({from:"PresenceContainer.tsx",level:"warning",type:"FetchedPointerMismatch",error:(0,l.Ui)(new Error("Value returned by getActorStore does not match avatar actor")),data:{miscDataToConvertToString:{parentStorePointer:t.pointer,requestedPointer:i,fetchedPointer:e.pointer,fetchedId:n?n.id:null}}}),e}if(i.table===r.y0)return c.fg.createChildStore(t,i);(0,d.t1)(i)}function C(e){return e.table===s.cZ?(0,n.ON)(e.getValue()):e.table===a.KJ?(0,n.m3)(e.getValue()):e.table===r.y0?(0,n.I4)(e.getValue()):void(0,d.t1)(e)}},90683:(e,t,i)=>{i.d(t,{a:()=>l});i(67294);var n=i(66897),o=i(1898),r=i(70301),s=i(45653),a=i(85893);function l(e){const{actor:t}=e,i={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n.YU)(t)?(0,a.jsx)(r.Z,{botValue:t.asActor,...i}):(0,n.$S)(t)?(0,a.jsx)(s.Z,{userValue:t.asActor,...i}):(0,n.Iq)(t)?(0,a.jsx)(s.Z,{userValue:void 0,...i}):void(0,o.t1)(t)}},23903:(e,t,i)=>{i.d(t,{P:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.IU)("pin",{viewBox:"0 0 13 19",svg:(0,o.jsx)("path",{d:"M1.25 12.875h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.304-3.359-4.109L8.617 4c.992-.648 1.93-1.383 2.328-1.914.211-.266.305-.531.305-.758 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .227.093.492.297.758.398.531 1.343 1.266 2.328 1.914L3.46 7.664C1.42 8.47.1 10.125.1 11.774c0 .664.446 1.101 1.149 1.101zm4.922-5.719c-.5 0-.984.047-1.438.14l.235-3.874c.008-.11-.008-.149-.086-.188-1.172-.601-2.078-1.312-2.14-1.468-.063-.102 0-.164.085-.164h6.68c.086 0 .148.062.086.164-.063.156-.969.867-2.14 1.468-.071.04-.095.079-.079.188l.234 3.875a7.177 7.177 0 00-1.437-.14zm-4.61 4.54c-.18 0-.257-.102-.226-.313.172-1.406 1.969-3.086 4.836-3.086 2.86 0 4.656 1.68 4.828 3.086.031.21-.047.312-.227.312h-9.21z"})})},34040:(e,t,i)=>{i.d(t,{_:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.IU)("pinFilled",{viewBox:"0 0 13 19",svg:(0,o.jsx)("path",{d:"M.102 11.773c0 .665.445 1.102 1.148 1.102h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.39-3.515-4.187L8.46 4c1.14-.648 2.078-1.383 2.484-1.906.203-.266.305-.531.305-.766 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .234.093.5.297.766.406.523 1.343 1.258 2.484 1.906l-.258 3.586C1.422 8.383.102 10.125.102 11.773z"})})}}]);