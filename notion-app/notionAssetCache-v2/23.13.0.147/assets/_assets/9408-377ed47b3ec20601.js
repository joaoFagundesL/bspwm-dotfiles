"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9408],{8493:(e,t,o)=>{o.r(t),o.d(t,{ExperimentalHorizontalTemplatePicker:()=>$});var n=o(67294),a=o(26263),r=o(480),i=o(97511),s=o(86628),l=o(24405),c=o(41432),d=o(53877),m=o(42875),u=o(45238),p=o(85893);const C=(0,u.IU)("bookClosed",{viewBox:"0 0 16 16",svg:(0,p.jsx)("path",{d:"M2.39844 16.7422L12.5156 16.7422C12.8594 16.7422 13.1406 16.4688 13.1406 16.1172C13.1406 15.8438 12.9531 15.6016 12.7031 15.5156C11.7188 15.125 11.5156 13.8516 12.4844 12.875C12.7812 12.5781 13.1406 12.1953 13.1406 11.4141L13.1406 2.45312C13.1406 0.828125 12.3359 0 10.7188 0L2.42188 0C0.804688 0 0 0.820312 0 2.45312L0 14.3281C0 15.9375 0.8125 16.7422 2.39844 16.7422ZM1.25781 12.2266L1.25781 2.47656C1.25781 1.69531 1.67188 1.25781 2.47656 1.25781L10.6562 1.25781C11.4688 1.25781 11.8828 1.69531 11.8828 2.47656L11.8828 11.2422C11.8828 11.6641 11.6406 11.9062 11.2031 11.9062L2.53125 11.9062C2.02344 11.9062 1.60156 12.0156 1.25781 12.2266ZM2.46875 15.4844C1.67969 15.4844 1.25781 15.0625 1.25781 14.3203C1.25781 13.6172 1.75781 13.1641 2.53906 13.1641L10.5547 13.1641C10.6562 13.1641 10.75 13.1562 10.8281 13.1406C10.4609 13.9531 10.5234 14.8125 10.9375 15.4844ZM2.17969 12.5781L3.20312 12.5781L3.20312 0.953125L2.17969 0.953125Z"})});var g=o(96711),f=o(42696),h=o(56666);const M=(0,u.IU)("listBulletIndent",{viewBox:"0 0 16 16",svg:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M8.33594 11.0703L19.0156 11.0703C19.3672 11.0703 19.6406 10.7969 19.6406 10.4453C19.6406 10.0859 19.3672 9.8125 19.0156 9.8125L8.33594 9.8125C7.98438 9.8125 7.71094 10.0859 7.71094 10.4453C7.71094 10.7969 7.98438 11.0703 8.33594 11.0703Z"}),(0,p.jsx)("path",{d:"M4.88281 11.4297C5.42969 11.4297 5.86719 10.9844 5.86719 10.4453C5.86719 9.89844 5.42969 9.46094 4.88281 9.46094C4.34375 9.46094 3.89844 9.89844 3.89844 10.4453C3.89844 10.9844 4.34375 11.4297 4.88281 11.4297Z"}),(0,p.jsx)("path",{d:"M6.38281 6.35156L17.0625 6.35156C17.4141 6.35156 17.6875 6.07031 17.6875 5.71875C17.6875 5.36719 17.4141 5.09375 17.0625 5.09375L6.38281 5.09375C6.03125 5.09375 5.75781 5.36719 5.75781 5.71875C5.75781 6.07031 6.03125 6.35156 6.38281 6.35156Z"}),(0,p.jsx)("path",{d:"M2.9375 6.70312C3.47656 6.70312 3.92188 6.26562 3.92188 5.71875C3.92188 5.17188 3.47656 4.73438 2.9375 4.73438C2.39062 4.73438 1.95312 5.17188 1.95312 5.71875C1.95312 6.26562 2.39062 6.70312 2.9375 6.70312Z"}),(0,p.jsx)("path",{d:"M4.4375 1.625L15.1094 1.625C15.4609 1.625 15.7422 1.35156 15.7422 1C15.7422 0.640625 15.4609 0.367188 15.1094 0.367188L4.4375 0.367188C4.07812 0.367188 3.80469 0.640625 3.80469 1C3.80469 1.35156 4.07812 1.625 4.4375 1.625Z"}),(0,p.jsx)("path",{d:"M0.984375 1.97656C1.53125 1.97656 1.96875 1.53906 1.96875 1C1.96875 0.453125 1.53125 0.015625 0.984375 0.015625C0.4375 0.015625 0 0.453125 0 1C0 1.53906 0.4375 1.97656 0.984375 1.97656Z"})]})});var v=o(26789),y=o(11751),k=o(70203),w=o(9291),b=o(53965),x=o(15828),T=o(1898),L=o(81193),I=o(19785),S=o(9953),j=o(59389),P=o(993),Z=o(98104),E=o(13447),H=o(92022),V=o(36420),F=o(68688),D=o(14976),B=o(19124),R=o(77907),_=o(2275),G=o(77080),z=o(29798),N=o(24666),O=o(81023),A=o(73420),W=o(32163),K=o(53437),U=o(64369),q=o(40698),X=o(59658);const Q=8;function $(e){const{store:t,menuListStore:o,editorWidth:a}=e,c=(0,r.O7)(),d=(0,q.b6)(q.Im,["table"]),m=function(e){const{environment:t,store:o}=e,n=(0,w.useIntl)(),a=(0,l.Fg)(),r=(0,s.VK)((()=>(0,D.Xh)(o.getTitleValue(),o)),[o]),c=(0,i.l)(),d=(0,s.VK)((()=>null==c?void 0:c.publicEditModeStore.state),[null==c?void 0:c.publicEditModeStore]),m=(0,s.VK)((()=>(0,B.GD)(d)),[d]);return{name:n.formatMessage(J.writeWithAi),type:"ai",iconFn:e=>(0,y.t)({...e,fill:"dark"===a.mode?a.accentColors.purple[700]:a.accentColors.purple[400]}),shouldShow:()=>m,onClick:()=>{E.createAndCommit({userAction:"ExperimentalHorizontalTemplatePicker.genericHelpMeWriteNewPageWithAI",environment:t,perform:e=>{j.eV({environment:t,store:o,transaction:e,preventTextSelection:!1,onTextSelection(){(0,H.openHelpMeWriteGenericPopup)({environment:t,title:r})}})}})}}}({environment:c,store:t}),u=function(){const e=(0,w.useIntl)(),t=(0,l.Fg)(),o=(0,i.l)(),n=(0,s.VK)((()=>null==o?void 0:o.publicEditModeStore.state),[null==o?void 0:o.publicEditModeStore]),a=(0,s.VK)((()=>(0,F.d)(n)),[n]);return{name:e.formatMessage(J.dictate),type:"dictation",iconFn:e=>(0,v.q)({...e,width:10,fill:"dark"===t.mode?t.accentColors.red[700]:t.accentColors.red[400]}),shouldShow:()=>a,onClick:async(e,t)=>{const{dictationActions:o}=await R.deps.dictation.loader();o.startDictation({environment:e,pageBlock:t})}}}(),k=function(e){const t=(0,w.useIntl)(),o=(0,l.Fg)(),n=ae(),{onClick:a,onMouseEnter:r,onMouseLeave:i}=ne(e,"ExperimentalHorizontalTemplatePicker.createTodoList",Y);return{name:t.formatMessage(J.todoTemplateTitle),type:"todo",iconFn:e=>(0,g.V)({...e,fill:o.icon.blue}),shouldShow:()=>n,onClick:a,onMouseEnter:r,onMouseLeave:i}}(t),x=function(e){const t=(0,w.useIntl)(),o=(0,l.Fg)(),n=ae(),{onClick:a,onMouseEnter:r,onMouseLeave:i}=ne(e,"ExperimentalHorizontalTemplatePicker.createOutline",ee);return{name:t.formatMessage(J.outlineTemplateTitle),type:"outline",iconFn:e=>M({...e,fill:o.icon.green}),shouldShow:()=>n,onClick:a,onMouseEnter:r,onMouseLeave:i}}(t),I=function(e){const t=(0,w.useIntl)(),o=(0,l.Fg)(),n=ae(),{onClick:a,onMouseEnter:r,onMouseLeave:i}=ne(e,"ExperimentalHorizontalTemplatePicker.createJournal",te);return{name:t.formatMessage(J.journalTemplateTitle),type:"journal",iconFn:e=>C({...e,fill:o.icon.orange}),shouldShow:()=>n,onClick:a,onMouseEnter:r,onMouseLeave:i}}(t),S=function(e){const t=(0,w.useIntl)(),o=(0,l.Fg)(),n=ae(),{onClick:a,onMouseEnter:r,onMouseLeave:i}=ne(e,"ExperimentalHorizontalTemplatePicker.createTable",oe);return{name:t.formatMessage(J.tableTemplateTitle),type:"simple-table",iconFn:e=>(0,f.t)({...e,fill:o.icon.red}),shouldShow:()=>n,onClick:a,onMouseEnter:r,onMouseLeave:i}}(t),P=[m,k,x,I,S,u,q.pd,q.K0,...d].filter((e=>e.shouldShow(c))),Z=b.zu(q.Im,...d),[_,G]=function(e){const{store:t,editorWidth:o,initialVisible:a,initialOverflow:i}=e,s=(0,r.O7)(),c=(0,w.useIntl)(),d=(0,l.yK)((e=>({item:{padding:"6px 14px 6px 10px",border:`1px solid ${e.stroke.regular}`,borderRadius:100},itemFocused:{background:e.tint.regular},icon:{width:16,marginLeft:2,marginRight:2,fill:e.lightIconColor}})),[]),[m,u]=n.useState([]),[C,g]=n.useState(void 0),[f,M]=n.useState(a.length);(0,n.useEffect)((()=>{if(!(o&&m.every(T.$K)&&C))return;let e=0,t=0;for(;t<a.length&&(e+=m[t]+Q,!(e+C>o));)t++;M(t)}),[m,o,a.length,C]);const v=a.slice(0,f).map(((e,o)=>{const n={key:e.type,render:n=>{var a;return(0,p.jsx)(V.n,{onSizeChange:e=>{if(m[o]===e.width)return;const t=[...m];t[o]=e.width,u(t)},children:(0,p.jsx)("div",{children:(0,p.jsx)(X.Z,{...n,onMouseEnter:o=>{var a;null===(a=e.onMouseEnter)||void 0===a||a.call(e,s,t),n.onMouseEnter(o)},onMouseLeave:o=>{var n;null===(n=e.onMouseLeave)||void 0===n||n.call(e,s,t)},format:"experimental-new-page",title:(0,p.jsx)(U.Z,{children:e.name}),type:e.type,icon:null===(a=e.iconFn)||void 0===a?void 0:a.call(e,d.icon),locked:!1})})})},action:o=>{O.M_(s)&&(L.rN(s,{template_name:e.name,is_keyboard:"keydown"===o.event.type,from:e.from}),e.onClick(s,t))}};return n})),[y,k]=n.useState(!1),b={key:"more",render:e=>(0,p.jsx)(K.ZP,{origin:(0,p.jsx)(V.n,{onSizeChange:e=>g(e.width),children:(0,p.jsx)("div",{children:(0,p.jsx)(X.Z,{...e,format:"experimental-new-page",title:(0,p.jsx)(U.Z,{children:c.formatMessage(J.more)}),type:"more",icon:(0,h.o)(d.icon),locked:!1})})}),alignmentToOrigin:K.ZP.Alignment.Start,placementToOrigin:K.ZP.Placement.Top,originGap:4,open:y,popupType:K.ZP.PopupType.Popup,onDismiss:()=>k(!1),render:()=>(0,p.jsx)(re,{store:t,items:[...a.slice(f),...i]})}),action:e=>{k(!0)}};return[v,b]}({store:t,editorWidth:a,initialVisible:P,initialOverflow:Z});return(0,p.jsx)(W.Z,{type:W.i.Horizontal,store:o,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,isEnterOnHoverEmpty:!0,disableKeyboard:!0,sections:[{key:"Get started",render:e=>(0,p.jsxs)(A.sg,{gap:12,children:[(0,p.jsx)(U.Z,{isSecondaryColor:!0,children:(0,p.jsx)(w.FormattedMessage,{defaultMessage:"Get started",id:"PageEditor.horizontalTemplatePicker.getStarted.label"})}),(0,p.jsx)("div",{style:{cursor:"pointer"},children:(0,p.jsx)(A.X2,{gap:Q,children:e.children})})]},e.key),items:[..._,G]}]})}const J=(0,w.defineMessages)({writeWithAi:{defaultMessage:"Write with AI",id:"newpage.templates.writeWithAi"},dictate:{defaultMessage:"Dictate",id:"newpage.templates.dictateIntoNewPage"},more:{defaultMessage:"More",id:"newpage.templates.more"},todoTemplateTitle:{defaultMessage:"To-do list",id:"newpage.templates.todo"},todoTemplateBlockTitle:{defaultMessage:"To-do",id:"newpage.templates.todoBlockTitle"},outlineTemplateTitle:{defaultMessage:"Outline",id:"newpage.templates.outline"},outlineTemplateBlockTitle:{defaultMessage:"Bullet",id:"newpage.templates.outlineBlockTitle"},journalTemplateTitle:{defaultMessage:"Journal",id:"newpage.templates.journal"},journalTemplateBlockTitle:{defaultMessage:"Write thoughts from your day here and add photos",id:"newpage.templates.journalBlockTitle"},tableTemplateTitle:{defaultMessage:"Table",id:"newpage.templates.table"}});function Y(e){let{store:t,intl:o,environment:n,transaction:a}=e;P.sO({environment:n,editorMode:"default",store:t.getBlockTitleStore(),value:[[o.formatMessage(J.todoTemplateTitle)]],transaction:a});for(let r=0;r<5;r++){const e=S.j4({environment:n,type:c.Ti.toDo,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),properties:{title:[[o.formatMessage(J.todoTemplateBlockTitle)]]},permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:t,childStore:e,transaction:a})}}function ee(e){let{store:t,intl:o,environment:n,transaction:a}=e;P.sO({environment:n,editorMode:"default",store:t.getBlockTitleStore(),value:[[o.formatMessage(J.outlineTemplateTitle)]],transaction:a});const r=S.j4({environment:n,type:c.Ti.bulletedList,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),properties:{title:[[o.formatMessage(J.outlineTemplateBlockTitle)]]},permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:t,childStore:r,transaction:a});for(let i=0;i<3;i++){const e=S.j4({environment:n,type:c.Ti.bulletedList,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),properties:{title:[[o.formatMessage(J.outlineTemplateBlockTitle)]]},permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});if(I.jG({parentStore:r,childStore:e,transaction:a}),0===i)for(let r=0;r<2;r++){const r=S.j4({environment:n,type:c.Ti.bulletedList,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),properties:{title:[[o.formatMessage(J.outlineTemplateBlockTitle)]]},permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:e,childStore:r,transaction:a})}}}function te(e){let{store:t,intl:o,environment:n,transaction:a}=e;const r=d.Lg((0,m.r)()),i=(0,k.YCD)((0,k.pZr)({...r,date_format:"relative"}));P.sO({environment:n,editorMode:"default",store:t.getBlockTitleStore(),value:[i],transaction:a});const s=S.j4({environment:n,type:c.Ti.text,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),properties:{title:[[o.formatMessage(J.journalTemplateBlockTitle)]]},permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:t,childStore:s,transaction:a});const l=S.j4({environment:n,type:c.Ti.columnList,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:t,childStore:l,transaction:a});for(let d=0;d<2;d++){const e=S.j4({environment:n,type:c.Ti.column,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:l,childStore:e,transaction:a});const o=S.j4({environment:n,type:c.Ti.image,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:e,childStore:o,transaction:a})}}function oe(e){let{store:t,intl:o,environment:n,transaction:a}=e;P.sO({environment:n,editorMode:"default",store:t.getBlockTitleStore(),value:[[o.formatMessage(J.tableTemplateTitle)]],transaction:a});const r=[(0,x.ZP)(),(0,x.ZP)(),(0,x.ZP)(),(0,x.ZP)()],i=S.j4({environment:n,type:c.Ti.table,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),permissions:t.getPermissionItems(),useCrdt:t.useCrdt(),format:{table_block_column_order:r,table_block_column_header:!0}});I.jG({parentStore:t,childStore:i,transaction:a});for(let s=0;s<5;s++){const e=S.j4({environment:n,type:c.Ti.tableRow,inMemoryRecordCache:t.inMemoryRecordCache,transaction:a,spaceId:t.getSpaceId(),permissions:t.getPermissionItems(),useCrdt:t.useCrdt()});I.jG({parentStore:i,childStore:e,transaction:a})}}function ne(e,t,o){const i=(0,r.O7)(),l=(0,w.useIntl)(),c=(0,s.VK)((()=>"variant_b"===G.default.getEligibleGroup({experimentId:"horizon_1_quick_templates",defaultGroup:"control"})),[]),d=(0,n.useRef)(new a.Z({name:t,isTemporaryData:!0})),m=(0,n.useRef)(void 0),u=e=>{m.current||(m.current=N.default.state,Z.ZH({device:i.device})),E.createAndCommit({userAction:t,environment:i,perform:t=>{const n=e.getContentStores();for(const e of n)I.zo({block:e,transaction:t});o({store:e,intl:l,environment:i,transaction:t})}})},p=()=>{_.MQ.setState(!1),i.defaultRecordCache.inMemoryRecordCache.removeCacheOverride(d.current),d.current=new a.Z({name:t,isTemporaryData:!0}),m.current&&(N.default.setState(m.current),m.current=void 0)};return{onClick:()=>{p(),u(e)},...c?{onMouseEnter:()=>{_.MQ.setState(!0),i.defaultRecordCache.inMemoryRecordCache.addCacheOverride(d.current);const t=e.clone(d.current);u(t)},onMouseLeave:p}:{}}}function ae(){return(0,s.VK)((()=>"control"!==G.default.getEligibleGroup({experimentId:"horizon_1_quick_templates",defaultGroup:"control"})),[])}function re(e){const{store:t,items:o}=e,a=(0,r.O7)(),i=(0,n.useMemo)((()=>new z.Z),[]),s=(0,l.yK)((e=>({menu:{width:200,cursor:"pointer",padding:"6px 4px"},icon:{width:16,marginLeft:2,marginRight:2,fill:e.regularIconColor}})),[]),c=o.filter((e=>e.shouldShow(a))).map((e=>{const o={key:e.name,render:t=>{var o;return(0,p.jsx)(X.Z,{...t,format:"experimental-new-page-submenu",title:(0,p.jsx)(U.Z,{children:e.name}),type:e.type,icon:null===(o=e.iconFn)||void 0===o?void 0:o.call(e,s.icon),locked:!1})},action:o=>{O.M_(a)&&(L.rN(a,{template_name:e.name,is_keyboard:"keydown"===o.event.type,from:e.from}),e.onClick(a,t))}};return o}));return(0,p.jsx)(W.Z,{type:W.i.Vertical,store:i,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,isEnterOnHoverEmpty:!0,disableKeyboard:!0,sections:[{key:"Items",render:e=>(0,p.jsx)("div",{style:s.menu,children:(0,p.jsx)(A.sg,{children:e.children},e.key)}),items:c}]})}},40698:(e,t,o)=>{o.d(t,{Im:()=>V,K0:()=>S,b6:()=>F,dQ:()=>L,pd:()=>j,re:()=>I,ss:()=>Z});o(57658);var n=o(15145),a=o(35013),r=o(21321),i=o(69628),s=o(17948),l=o(42696),c=o(10405),d=o(7220),m=o(54855),u=o(46783),p=o(73426),C=o(9291),g=o(7032),f=o(57549),h=o(75754),M=o(59389),v=o(13447),y=o(33929),k=o(89014),w=o(67940),b=o(92083),x=o(29949);const T=(0,C.defineMessages)({emptyWithIcon:{defaultMessage:"Empty page with icon",id:"templatePickerHelpers.basicTemplateItems.emptyWithIcon"},empty:{defaultMessage:"Empty page",id:"templatePickerHelpers.basicTemplateItems.empty"},templates:{defaultMessage:"Templates",id:"templatePickerHelpers.basicTemplateItems.templates"},import:{defaultMessage:"Import",id:"templatePickerHelpers.basicTemplateItems.import"}}),L={name:y.default.formatMessage(T.empty),iconFn:m.a,type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{v.createAndCommit({userAction:"templatePickerHelpers.emptyTemplateItems",environment:e,perform:o=>{M.eV({environment:e,store:t,transaction:o})}})}},I={name:y.default.formatMessage(T.templates),type:"templates",iconFn:e=>(0,p.i)(e),shouldShow:()=>!0,onClick:()=>{x.Z.open({cloneTo:"current_page",analyticsFrom:"newPage"})}},S={name:y.default.formatMessage(T.templates),type:"templates",iconFn:e=>(0,u.w)(e),shouldShow:()=>!0,onClick:()=>{x.Z.open({cloneTo:"current_page",analyticsFrom:"newPage"})}},j={name:y.default.formatMessage(T.import),type:"import",iconFn:d.l,shouldShow:()=>!0,onClick:(e,t)=>{const o=(0,g.ZP)();w.Z.setState({flowId:o}),f.Sy(e,{from:"new_page",flowId:o}),b.Z.setState({...b.Z.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0})}},P=(0,C.defineMessages)({pageWithIcon:{defaultMessage:"Page with icon",id:"templatePickerHelpers.mobileBasicTemplateItems.pageWithIcon"},emptyPage:{defaultMessage:"Empty page",id:"templatePickerHelpers.mobileBasicTemplateItems.emptyPage"}}),Z=[{name:y.default.formatMessage(P.pageWithIcon),type:"page_with_icon",shouldShow:()=>!0,onClick:(e,t)=>{v.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:o=>{M.T_({environment:e,store:t,transaction:o})}})}},{name:y.default.formatMessage(P.emptyPage),type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{v.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:o=>{M.eV({environment:e,store:t,transaction:o})}})}}],E=(0,C.defineMessages)({table:{defaultMessage:"Table",id:"templatePickerHelpers.databaseTemplateNames.table"},board:{defaultMessage:"Board",id:"templatePickerHelpers.databaseTemplateNames.board"},list:{defaultMessage:"List",id:"templatePickerHelpers.databaseTemplateNames.list"},calendar:{defaultMessage:"Calendar",id:"templatePickerHelpers.databaseTemplateNames.calendar"},gallery:{defaultMessage:"Gallery",id:"templatePickerHelpers.databaseTemplateNames.gallery"},timeline:{defaultMessage:"Timeline",id:"templatePickerHelpers.databaseTemplateNames.timeline"},tableView:{defaultMessage:"Table view",id:"templatePickerHelpers.databaseTemplateNames.tableView"},boardView:{defaultMessage:"Board view",id:"templatePickerHelpers.databaseTemplateNames.boardView"},listView:{defaultMessage:"List view",id:"templatePickerHelpers.databaseTemplateNames.listView"},calendarView:{defaultMessage:"Calendar view",id:"templatePickerHelpers.databaseTemplateNames.calendarView"},galleryView:{defaultMessage:"Gallery view",id:"templatePickerHelpers.databaseTemplateNames.galleryView"},timelineView:{defaultMessage:"Timeline view",id:"templatePickerHelpers.databaseTemplateNames.timelineView"}});function H(e){const{environment:t,store:o,viewType:a}=e;v.createAndCommit({userAction:"templatePickerHelpers.handleClickForViewType",environment:t,perform:e=>{M.Ud({environment:t,store:o,viewType:a,transaction:e}),h._c({environment:t,store:o,pageVisitSource:n.tY.LinkInPage});const r=o.getCollectionViewStores()[0];r&&(0,k.u)(r.id,{viewType:a})}})}const V=[{name:y.default.formatMessage(E.table),type:"table",iconFn:l.t,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>H({environment:e,store:t,viewType:"table"})},{name:y.default.formatMessage(E.board),type:"board",iconFn:a.i,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>H({environment:e,store:t,viewType:"board"})},{name:y.default.formatMessage(E.list),type:"list",iconFn:s.O,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>H({environment:e,store:t,viewType:"list"})},{name:y.default.formatMessage(E.timeline),type:"timeline",iconFn:c._,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>H({environment:e,store:t,viewType:"timeline"})},{name:y.default.formatMessage(E.calendar),type:"calendar",iconFn:r.N,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>H({environment:e,store:t,viewType:"calendar"})},{name:y.default.formatMessage(E.gallery),type:"gallery",iconFn:i.n,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>H({environment:e,store:t,viewType:"gallery"})}];function F(e,t){const o=new Map(e.map((e=>[e.type,e])));return t.reduce(((e,t)=>(o.has(t)&&e.push(o.get(t)),e)),[])}},59658:(e,t,o)=>{o.d(t,{Z:()=>y});o(67294);var n=o(480),a=o(97511),r=o(86628),i=o(24405),s=o(49271),l=o(53523),c=o(45238),d=o(85893);const m=(0,c.IU)("repeatDisabled",{viewBox:"0 0 16 14",svg:(0,d.jsxs)("svg",{children:[(0,d.jsx)("path",{d:"M1.11621 8.32422C0.888346 8.32422 0.69694 8.24674 0.541992 8.0918C0.391602 7.93685 0.316406 7.74772 0.316406 7.52441V6.77246C0.316406 6.08431 0.469076 5.49186 0.774414 4.99512C1.08431 4.49837 1.51953 4.11784 2.08008 3.85352C2.64518 3.58464 3.31283 3.4502 4.08301 3.4502H9.23047V1.95312C9.23047 1.76628 9.28288 1.62272 9.3877 1.52246C9.49251 1.41764 9.63607 1.36523 9.81836 1.36523C9.90495 1.36523 9.9847 1.37891 10.0576 1.40625C10.1305 1.43359 10.1966 1.47233 10.2559 1.52246L13.0107 3.83301C13.1566 3.9515 13.2272 4.09277 13.2227 4.25684C13.2227 4.4209 13.152 4.56217 13.0107 4.68066L10.2559 6.99121C10.1966 7.03678 10.1305 7.07552 10.0576 7.10742C9.9847 7.13477 9.90495 7.14844 9.81836 7.14844C9.63607 7.14844 9.49251 7.09603 9.3877 6.99121C9.28288 6.88639 9.23047 6.74284 9.23047 6.56055V5.00195H3.98047C3.34245 5.00195 2.83659 5.17741 2.46289 5.52832C2.09375 5.87923 1.90918 6.35319 1.90918 6.9502V7.52441C1.90918 7.74772 1.83171 7.93685 1.67676 8.0918C1.52181 8.24674 1.33496 8.32422 1.11621 8.32422ZM14.8906 7.54492C15.1094 7.54492 15.2962 7.6224 15.4512 7.77734C15.6061 7.92773 15.6836 8.11686 15.6836 8.34473V9.09668C15.6836 9.78483 15.5286 10.3773 15.2188 10.874C14.9134 11.3708 14.4782 11.7536 13.9131 12.0225C13.348 12.2868 12.6803 12.4189 11.9102 12.4189H6.7627V13.9229C6.7627 14.1051 6.71029 14.2464 6.60547 14.3467C6.50521 14.4515 6.36393 14.5039 6.18164 14.5039C6.09505 14.5039 6.01302 14.4902 5.93555 14.4629C5.86263 14.4355 5.79655 14.3968 5.7373 14.3467L2.98242 12.0361C2.84115 11.9222 2.77051 11.7832 2.77051 11.6191C2.77051 11.4505 2.84115 11.307 2.98242 11.1885L5.7373 8.87793C5.79655 8.8278 5.86263 8.78906 5.93555 8.76172C6.01302 8.73438 6.09505 8.7207 6.18164 8.7207C6.36393 8.7207 6.50521 8.77311 6.60547 8.87793C6.71029 8.97819 6.7627 9.12174 6.7627 9.30859V10.8604H12.0127C12.6553 10.8604 13.1611 10.6872 13.5303 10.3408C13.904 9.98991 14.0908 9.51595 14.0908 8.91895V8.34473C14.0908 8.11686 14.166 7.92773 14.3164 7.77734C14.4714 7.6224 14.6628 7.54492 14.8906 7.54492Z",fill:"#C7C6C4"}),(0,d.jsx)("path",{d:"M4 2L12 14",stroke:"white",strokeWidth:"3",strokeLinecap:"round"}),(0,d.jsx)("path",{d:"M4 2L12 14",stroke:"#C7C6C4",strokeLinecap:"round"})]})});var u=o(9291),p=o(31701),C=o(37810),g=o(19124),f=o(77080),h=o(64921),M=o(52275),v=o(73420);const y=function(e){let{format:t,className:o,icon:n,title:a,isDefault:r,recurrence:i,recurrenceDisabled:s,right:l,focused:c,onClick:m,onMouseMove:u,onMouseEnter:p,onMouseLeave:C,locked:g,type:f}=e;return"collection-overlay"===t?(0,d.jsx)(w,{className:o,icon:n,format:t,title:a,isDefault:r,recurrence:i,recurrenceDisabled:s,right:l,focused:c,onClick:m,onMouseMove:u,onMouseEnter:p,onMouseLeave:C,locked:g,type:f}):"phone-modal"===t?(0,d.jsx)(b,{icon:n,format:t,title:a,isDefault:r,recurrence:i,focused:c,onClick:m}):"experimental-new-page"===t?(0,d.jsx)(L,{focused:c,onClick:m,onMouseMove:u,onMouseEnter:p,onMouseLeave:C,icon:n,title:a}):"experimental-new-page-submenu"===t?(0,d.jsx)(I,{focused:c,onClick:m,onMouseMove:u,onMouseEnter:p,onMouseLeave:C,icon:n,title:a}):(0,d.jsx)(T,{focused:c,onClick:m,onMouseMove:u,onMouseEnter:p,onMouseLeave:C,icon:n,format:t,title:a,isDefault:r,recurrence:i,recurrenceDisabled:s,right:l})};function k(e){let{format:t,title:o,isDefault:n,recurrence:a,recurrenceDisabled:s}=e;const c=(0,i.Fg)(),g=(0,r.VK)((()=>f.default.checkGate("recurrence_queue_task_improvements")),[]);return"collection-overlay"!==t?(0,d.jsx)(d.Fragment,{children:o}):(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o,(0,d.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n&&(0,d.jsx)("span",{style:{fontSize:12,fontWeight:C.Z.fontWeight.medium,color:c.mediumTextColor},children:(0,d.jsx)(u.FormattedMessage,{defaultMessage:"DEFAULT",id:"database.templatePickerMenuItem.default"})}),a&&(0,l.N)({width:14,color:p.ZP.blue,marginLeft:8}),s&&g&&m({width:14,height:12.25,color:p.ZP.lightIconColor,marginLeft:8})]})]})}function w(e){let{className:t,icon:o,format:a,title:r,isDefault:i,recurrence:s,recurrenceDisabled:l,right:c,focused:m,onClick:u,onMouseMove:p,onMouseEnter:C,onMouseLeave:g,locked:f,type:h}=e;const v=(0,n.O7)(),{device:y}=v;return(0,d.jsx)(M.Z,{className:t,icon:o,title:(0,d.jsx)(k,{format:a,title:r,isDefault:i,recurrence:s,recurrenceDisabled:l}),right:c,focused:m,onClick:u,onMouseMove:p,onMouseEnter:C,onMouseLeave:g,showDragHandle:!y.isMobile&&!f,dragHandleDisabled:"empty_page"===h})}function b(e){let{icon:t,format:o,title:n,isDefault:a,recurrence:r,focused:i,onClick:s}=e;return(0,d.jsx)(M.Z,{icon:t,title:(0,d.jsx)(k,{format:o,title:n,isDefault:a,recurrence:r}),focused:i,onClick:s,showDragHandle:!1})}function x(e,t,o){const{device:n}=e;return{...s.ZD,display:"flex",alignItems:"center",flexGrow:1,height:n.isMobile?36:32,fontSize:16,borderRadius:4,paddingLeft:8,marginBottom:2,color:o?t.mediumTextColor:t.lightTextColor}}function T(e){let{focused:t,onClick:o,onMouseMove:s,onMouseEnter:l,onMouseLeave:c,icon:m,format:u,title:p,isDefault:C,recurrence:f,recurrenceDisabled:M,right:v}=e;const y=(0,i.Fg)(),w=(0,n.O7)(),b=(0,a.l)(),T=(0,r.VK)((()=>{const e=null==b?void 0:b.publicEditModeStore.state;return(0,g.GD)(e)}),[b]);return(0,d.jsxs)(h.Z,{style:x(w,y,T),hovered:t,onClick:o,onMouseMove:s,onMouseEnter:l,onMouseLeave:c,hoveredStyle:{background:y.buttonHoveredBackground,color:y.regularTextColor},pressedStyle:{background:y.buttonPressedBackground},children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",width:24,height:24,marginRight:10},children:m}),(0,d.jsx)(k,{format:u,title:p,isDefault:C,recurrence:f,recurrenceDisabled:M}),v&&(0,d.jsx)("div",{style:{marginLeft:"auto",marginRight:4},children:v})]})}function L(e){const{focused:t,onClick:o,onMouseMove:n,onMouseEnter:a,onMouseLeave:r,icon:s,title:l}=e,c=(0,i.yK)((e=>({item:{display:"flex",alignItems:"center",padding:"6px 14px 6px 10px",border:`1px solid ${e.stroke.regular}`,borderRadius:100},itemFocused:{background:e.tint.regular}})),[]);return(0,d.jsx)("div",{onClick:o,onMouseMove:n,onMouseEnter:a,onMouseLeave:r,style:{...c.item,...t?c.itemFocused:{}},children:(0,d.jsxs)(v.X2,{gap:4,alignItems:"center",children:[s,l]})})}function I(e){const{focused:t,onClick:o,onMouseMove:n,onMouseEnter:a,onMouseLeave:r,icon:s,title:l}=e,c=(0,i.yK)((e=>({item:{display:"flex",alignItems:"center",padding:"4px 10px 4px 8px"},itemFocused:{background:e.tint.regular}})),[]);return(0,d.jsx)("div",{onClick:o,onMouseMove:n,onMouseEnter:a,onMouseLeave:r,style:{...c.item,...t?c.itemFocused:{}},children:(0,d.jsxs)(v.X2,{gap:8,alignItems:"center",children:[s,l]})})}},36420:(e,t,o)=>{o.d(t,{n:()=>l,y:()=>s});o(21703);var n=o(67294),a=(o(77744),o(26249));let r,i;function s(e){r=r??new Map,i=i??function(e){let t=!1,o=[];return new ResizeObserver((n=>{o=o.concat(n),t||(t=!0,window.requestAnimationFrame((()=>{const n=new Set;[...o].reverse().filter((e=>{const t=n.has(e.target);return n.add(e.target),!t})).forEach((t=>{const o=e.get(t.target);null==o||o.forEach((e=>{const o=t.borderBoxSize[0];e({width:o.inlineSize,height:o.blockSize})}))})),o=[],t=!1})))}))}(r);const[t,o]=(0,n.useState)(void 0),s=(0,n.useCallback)((e=>{o((t=>(0,a.Z)(t,e)?t:e))}),[]);return(0,n.useLayoutEffect)((()=>{const t=e.current;if(!t)return;i.observe(t);const o=[...r.get(t)??[],s];return r.set(t,o),()=>{i.unobserve(t);const e=(r.get(t)??[]).filter((e=>e!==s));0===e.length?r.delete(t):r.set(t,e)}}),[s,e]),t}function l(e){const{children:t,onSizeChange:o}=e,a=(0,n.useRef)(null),r=s(a);(0,n.useEffect)((()=>{o&&r&&o(r)}),[r,o]);const i=n.Children.only(t);return n.cloneElement(i,{ref:a})}},68688:(e,t,o)=>{o.d(t,{d:()=>i});var n=o(48779),a=o(80444),r=o(77080);function i(e){if(!r.default.checkGate("dictation"))return!1;if(!window.isSecureContext)return!1;const t=a.default.state.currentSpaceStore;if((0,n.Cx)(t))return!1;const o=null==t?void 0:t.canRead();return!(e&&e.hasPublicPermission&&!o)}},67940:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(49085),a=o(7032);class r extends n.default{getInitialState(){return{flowId:void 0}}getOrCreateFlowId(){const e=this.state.flowId||(0,a.ZP)();return this.state.flowId&&this.setState({flowId:e}),e}}const i=new r},96711:(e,t,o)=>{o.d(t,{V:()=>r});o(67294);var n=o(45238),a=o(85893);const r=(0,n.IU)("checkboxSquareChecked",{viewBox:"0 0 14 14",svg:(0,a.jsx)("path",{d:"M2.85742 13.4561H11.1357C12.6123 13.4561 13.3779 12.6904 13.3779 11.2344V2.91504C13.3779 1.45215 12.6123 0.693359 11.1357 0.693359H2.85742C1.38086 0.693359 0.615234 1.45215 0.615234 2.91504V11.2344C0.615234 12.6973 1.38086 13.4561 2.85742 13.4561ZM2.93945 12.1162C2.30371 12.1162 1.95508 11.7812 1.95508 11.1182V3.02441C1.95508 2.36133 2.30371 2.0332 2.93945 2.0332H11.0537C11.6826 2.0332 12.0381 2.36133 12.0381 3.02441V11.1182C12.0381 11.7812 11.6826 12.1162 11.0537 12.1162H2.93945ZM6.26855 10.3115C6.51465 10.3115 6.72656 10.1885 6.87012 9.96973L9.92578 5.19141C10.0146 5.04785 10.0967 4.88379 10.0967 4.72656C10.0967 4.3916 9.7959 4.16602 9.47461 4.16602C9.26953 4.16602 9.08496 4.27539 8.94141 4.50781L6.24121 8.8418L4.96973 7.22168C4.80566 7.00977 4.6416 6.93457 4.43652 6.93457C4.10156 6.93457 3.8418 7.20117 3.8418 7.54297C3.8418 7.70703 3.90332 7.85742 4.01953 8.00098L5.63281 9.96973C5.81738 10.209 6.01562 10.3115 6.26855 10.3115Z"})})},64275:(e,t,o)=>{o.d(t,{D:()=>r});o(67294);var n=o(45238),a=o(85893);const r=(0,n.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},26789:(e,t,o)=>{o.d(t,{q:()=>r});o(67294);var n=o(45238),a=o(85893);const r=(0,n.IU)("microphone",{viewBox:"0 0 17 25",svg:(0,a.jsx)("path",{d:"M0.20752 12.0743C0.20752 13.5496 0.511882 14.853 1.12061 15.9845C1.72933 17.116 2.57438 18.0219 3.65576 18.7023C4.73714 19.3826 5.98324 19.7908 7.39404 19.9269V22.129H3.45166C3.17236 22.129 2.93245 22.2257 2.73193 22.4191C2.53141 22.6196 2.43115 22.8595 2.43115 23.1388C2.43115 23.4109 2.53141 23.6437 2.73193 23.837C2.93245 24.0376 3.17236 24.1378 3.45166 24.1378H13.313C13.5923 24.1378 13.8322 24.0376 14.0327 23.837C14.2332 23.6437 14.3335 23.4109 14.3335 23.1388C14.3335 22.8595 14.2332 22.6196 14.0327 22.4191C13.8322 22.2257 13.5923 22.129 13.313 22.129H9.37061V19.9269C10.7814 19.7908 12.0239 19.3826 13.0981 18.7023C14.1795 18.0219 15.0246 17.116 15.6333 15.9845C16.242 14.853 16.5464 13.5496 16.5464 12.0743V9.94739C16.5464 9.66809 16.4461 9.43176 16.2456 9.2384C16.0522 9.04504 15.8159 8.94836 15.5366 8.94836C15.2573 8.94836 15.0174 9.04504 14.8169 9.2384C14.6164 9.43176 14.5161 9.66809 14.5161 9.94739V11.9991C14.5161 13.2166 14.2583 14.2837 13.7427 15.2003C13.2271 16.1098 12.5109 16.8152 11.5942 17.3165C10.6776 17.8178 9.60693 18.0685 8.38232 18.0685C7.16488 18.0685 6.09424 17.8178 5.17041 17.3165C4.24658 16.8152 3.52686 16.1098 3.01123 15.2003C2.50277 14.2837 2.24854 13.2166 2.24854 11.9991V9.94739C2.24854 9.66809 2.14827 9.43176 1.94775 9.2384C1.74723 9.04504 1.50374 8.94836 1.21729 8.94836C0.94515 8.94836 0.708822 9.04504 0.508301 9.2384C0.30778 9.43176 0.20752 9.66809 0.20752 9.94739V12.0743ZM8.38232 15.8448C9.10563 15.8448 9.75016 15.6766 10.3159 15.34C10.8888 14.9962 11.3364 14.5236 11.6587 13.922C11.9881 13.3204 12.1528 12.6222 12.1528 11.8273V4.59778C12.1528 3.80286 11.9881 3.10461 11.6587 2.50305C11.3364 1.90149 10.8888 1.43241 10.3159 1.09583C9.75016 0.752075 9.10563 0.5802 8.38232 0.5802C7.65902 0.5802 7.0109 0.752075 6.43799 1.09583C5.87223 1.43241 5.42464 1.90149 5.09521 2.50305C4.76579 3.10461 4.60107 3.80286 4.60107 4.59778V11.8273C4.60107 12.6222 4.76579 13.3204 5.09521 13.922C5.42464 14.5236 5.87223 14.9962 6.43799 15.34C7.0109 15.6766 7.65902 15.8448 8.38232 15.8448Z"})})},53523:(e,t,o)=>{o.d(t,{N:()=>r});o(67294);var n=o(45238),a=o(85893);const r=(0,n.IU)("repeat",{viewBox:"0 0 16 14",svg:(0,a.jsx)("path",{d:"M1.185 7.317a.689.689 0 00.697-.704v-.601c0-1.19.806-1.942 2.064-1.942H9.23v1.573c0 .328.199.52.527.52a.66.66 0 00.403-.144l2.68-2.236c.253-.212.26-.547 0-.765L10.16.782A.62.62 0 009.757.64c-.328 0-.527.184-.527.52v1.53H4.05C1.875 2.69.48 3.9.48 5.875v.738c0 .397.308.704.705.704zm13.624-.649a.689.689 0 00-.698.704v.608c0 1.19-.806 1.942-2.064 1.942H6.763V8.35c0-.329-.199-.52-.527-.52a.66.66 0 00-.403.144l-2.68 2.242c-.26.212-.26.547 0 .759l2.68 2.242a.66.66 0 00.403.143c.328 0 .527-.191.527-.52v-1.544h5.181c2.174 0 3.569-1.21 3.569-3.179v-.745a.695.695 0 00-.704-.704z"})})},46783:(e,t,o)=>{o.d(t,{w:()=>r});o(67294);var n=o(45238),a=o(85893);const r=(0,n.IU)("templates",{viewBox:"0 0 20 20",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,a.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,a.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},73426:(e,t,o)=>{o.d(t,{i:()=>r});o(67294);var n=o(45238),a=o(85893);const r=(0,n.IU)("templatesColor",{viewBox:"0 0 20 20",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),(0,a.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),(0,a.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"})]})})}}]);