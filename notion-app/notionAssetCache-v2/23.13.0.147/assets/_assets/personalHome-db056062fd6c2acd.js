"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7078],{58188:(e,t,n)=>{n.d(t,{Lg:()=>p,N:()=>u,aG:()=>c});var o=n(13493),r=n(29369),i=n(13447),a=n(75330),s=(n(77907),n(30806)),l=n(44496),d=n(80444);n(72711);function c(e){const{environment:t,currentSpaceViewStore:n,...o}=e;if(!n.getModel())return;const r=!(0,l.q)(n)[e.feature];i.createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,perform:t=>{i.applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:r}},transaction:t})}}),(0,s.cY)({environment:t,show:r,...o})}function u(e){let{environment:t,option:n,from:o,userAction:r}=e;const a=d.default.state.currentSpaceViewStore;if(!a)return!1;const l=a.getOnAppStartStore().getValue();return i.createAndCommit({userAction:r,environment:t,perform:e=>{i.applyOperation({store:a,operation:{pointer:a.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,s.BX)({environment:t,oldValue:l,newValue:n,from:o}),!0}function p(e){const{environment:t,selectedStore:n,currentSpaceViewStore:l,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),p=d.collectionViewBlockStore();if(!(u&&c&&p&&l))return;const m=l.getTeamsStores(),h=n.table===r.e0?m.indexOf(n)+1:0,g=n.table===r.e0?n.id:void 0;i.createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",perform:e=>{i.applyOperation({store:c,operation:{pointer:{id:c.id,table:o.np},path:["format","collection_view_source","teamId"],command:"set",args:g},transaction:e}),a.mc({environment:t,collectionViewBlockStore:p,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1})}}),(0,s.Ay)({environment:t,teamId:g,index:h})}},10912:(e,t,n)=>{n.d(t,{Z:()=>k});n(57658),n(67294);var o=n(83355),r=n(27531),i=n(86628),a=n(24405),s=n(41432),l=n(80951),d=n(95538),c=n(21202),u=n(1898),p=n(10906),m=n(12457),h=n(17311),g=n(35328),f=n(6258),v=n(9672),y=n(12981),C=n(43568),x=n(81865),S=n(35541),w=n(85893);function j(e){return"number"==typeof e}class b extends o.Z{constructor(){super(...arguments),this.renderContentBlock=e=>{const{store:t,renderAdditionalBlocks:n,rendererBlockStyle:o}=this.props,i=f.G.createChildStore(t,{table:c.iU,id:e}),a=i.getType(),s=n&&void 0!==a,l=this.blockIdsToRenderStore.state,d="table_row"===a?i.getParentBlockStore():i,u=s?d&&(0,S.u)({store:d,restrictedBlockIds:l,tableRenderMode:this.getTableRenderMode()}):(0,v.h)(i);if(u)return(0,w.jsx)(r.D,{value:this.restrictedContentStore,children:(0,w.jsx)(u,{store:i,disabled:!0,disableCommentMenu:!0,disableHoverMenu:!0,hideContent:(0,g.BX)(i),style:{fontSize:12,opacity:.8,pointerEvents:"none",...o},isQuickFind:!0,numberedListCounterStore:this.createComputedStore((()=>({depth:0,numberedListBlockIdsWithFormat:z(e,this.numberedLists)})))})},e)},this.coverStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:t=!1,startBlockId:n}=this.props,{ThemeStore:o}=this.environment,r=n?(0,p.wK)({rootStore:e,renderAdditionalBlocks:t,startBlockId:n,tableRenderMode:this.getTableRenderMode()}):(0,p.NU)({rootStore:e,renderAdditionalBlocks:t,theme:o.state.mode});return r.image?r.image:!(this.props.showLoadingShimmer&&0===r.blockIds.length&&!r.isDefined)&&r.blockIds})),this.restrictedContentStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:t=!1,startBlockId:n}=this.props,o=(0,p.wK)({rootStore:e,renderAdditionalBlocks:t,startBlockId:n,tableRenderMode:this.getTableRenderMode()});return o.image?void 0:o.blockIds})),this.blockIdsToRenderStore=this.createComputedStore((()=>{const e=this.coverStore.state,t=this.restrictedContentStore.state;return e&&Array.isArray(e)?e.filter((e=>!t||t.includes(e))):[]})),this.numberedLists=this.createComputedStore((()=>{const{store:e}=this.props,t=this.coverStore.state,n=[];if(Array.isArray(t)){let o=0;for(;o<t.length;){let r=t[o],i=f.G.createChildStore(e,{table:c.iU,id:r});if(i.getType()===s.Ti.numberedList){const a=[{blockId:r,idx:1}],l=[{id:r,format:void 0,depth:a.length-1,index:a[0].idx}];for(o+=1;o<t.length&&(r=t[o],i=f.G.createChildStore(e,{table:c.iU,id:r}),i.getType()===s.Ti.numberedList);){{const e=i.getParentId();if(i.getParentId()===a[a.length-1].blockId)a.push({blockId:r,idx:1});else{let t=a[a.length-1].idx;for(;a.length>0&&a[a.length-1].blockId!==e;)t=a[a.length-1].idx,a.pop();a.push({blockId:r,idx:t+1})}l.push({id:r,format:void 0,depth:a.length-1,index:a[a.length-1].idx})}o+=1}n.push(l)}else o+=1}}return n}))}didUpdate(e){this.props.coverFormat.type!==e.coverFormat.type&&this.props.onLoadProxiedImage()}renderComponent(){const{coverFormat:e}=this.props;return"page_cover"===e.type?(0,w.jsx)(O,{store:this.props.store,coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,imageCoverWrapStyle:this.props.imageCoverWrapStyle,coverWidth:this.props.coverWidth,onLoadProxiedImage:this.props.onLoadProxiedImage,style:this.props.style,variant:this.props.variant,coverAspectFormat:this.props.coverAspectFormat,coverPosition:this.props.coverPosition,showEmptyGalleryCover:this.props.showEmptyGalleryCover,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle}):"page_content"===e.type?this.renderPageContent():"property"===e.type?(0,w.jsx)(B,{store:this.props.store,coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,imageCoverWrapStyle:this.props.imageCoverWrapStyle,onLoadProxiedImage:this.props.onLoadProxiedImage,coverWidth:this.props.coverWidth,style:this.props.style,variant:this.props.variant,coverAspectFormat:this.props.coverAspectFormat,coverPosition:this.props.coverPosition,showEmptyGalleryCover:this.props.showEmptyGalleryCover,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle,property:e.property}):void 0}renderPageContent(){const e=this.coverStore.state,t=this.restrictedContentStore.state,n=this.props.renderAdditionalBlocks&&this.props.store.isCollectionView();if(!1===e)return(0,w.jsx)(H,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,loadingShimmerStyle:this.props.loadingShimmerStyle});if(e){if(!Array.isArray(e))return n?(0,w.jsxs)("div",{style:D(this.props.variant,this.environment,this.theme,this.props.coverHeight,this.props.coverSizeFormat,this.props.coverContentFadedOverlay,this.props.contentWrapStyle,this.props.isCompactView),children:[(0,w.jsx)(x.Z,{url:e.url,onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),isAuthenticated:!0,permissionRecord:e.pointer,width:Z(),render:(e,t)=>{if(t)return(0,w.jsx)(y.Z,{style:{...I(),...R({renderCollectionImage:!0},this.props.variant,this.theme,this.props.coverHeight,this.props.coverSizeFormat),...V(),objectPosition:`center ${100*(1-M(this.props.store,this.props.coverPosition))}%`},placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"end"},src:t})}}),(0,w.jsx)(K,{variant:this.props.variant}),(0,w.jsx)("div",{style:A(this.theme,this.props.coverContentFadedOverlayStyle)})]}):(0,w.jsxs)("div",{style:L(this.props.coverHeight,this.props.coverSizeFormat,this.props.imageCoverWrapStyle),children:[(0,w.jsx)(x.Z,{url:e.url,onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),isAuthenticated:!0,permissionRecord:e.pointer,width:Z(this.props.coverWidth,this.props.coverSizeFormat),render:(e,t)=>{if(t)return(0,w.jsx)(y.Z,{style:{...I(this.props.style),...R({renderCollectionImage:!1},this.props.variant,this.theme,this.props.coverHeight,this.props.coverSizeFormat),...V(this.props.coverAspectFormat),objectPosition:`center ${100*(1-M(this.props.store,this.props.coverPosition))}%`},src:t,loading:"lazy"})}}),(0,w.jsx)(K,{variant:this.props.variant})]});if(e.length>0)return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{style:D(this.props.variant,this.environment,this.theme,this.props.coverHeight,this.props.coverSizeFormat,this.props.coverContentFadedOverlay,this.props.contentWrapStyle,this.props.isCompactView),children:[t?e.filter((e=>t.indexOf(e)>=0)).map(this.renderContentBlock):e.map(this.renderContentBlock),this.props.coverContentFadedOverlay&&(0,w.jsx)("div",{style:A(this.theme,this.props.coverContentFadedOverlayStyle)})]})});if(this.props.showEmptyGalleryCover)return(0,w.jsx)(_,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle??D(this.props.variant,this.environment,this.theme,this.props.coverHeight,this.props.coverSizeFormat,this.props.coverContentFadedOverlay,this.props.contentWrapStyle,this.props.isCompactView)})}else if(this.props.showEmptyGalleryCover)return(0,w.jsx)(_,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle})}getTableRenderMode(){return this.props.renderAdditionalBlocks&&this.props.startBlockId?"table":"image"}}b.displayName="CollectionItemCover";const k=b;function M(e,t){if(j(t))return t;if(e.getFormatStore().isDefined()){const{page_cover_position:t,card_cover_position:n}=e.getFormat();if(j(n))return n;if(j(t))return t}return.5}function I(e){return e||{}}function T(e,t){if(e)return e;switch(t){case"large":return h.Z.card.desktop.large.height;case"small":return h.Z.card.desktop.small.height;default:return h.Z.card.desktop.medium.height}}function Z(e,t){return e||(0,p.rD)(t)}function V(e){return{objectFit:void 0===e?"cover":e}}function L(e,t,n){return{height:T(e,t),position:"relative",pointerEvents:"none",overflow:"hidden",...n}}function _(e){let{coverHeight:t,coverSizeFormat:n,emptyGalleryCoverStyle:o}=e;return(0,w.jsx)("div",{style:{height:T(t,n),...o}})}function H(e){let{coverHeight:t,coverSizeFormat:n,loadingShimmerStyle:o}=e;return(0,w.jsx)("div",{style:{height:T(t,n),...o},children:(0,w.jsx)(m.Z,{show:!0,showDelay:100,showHold:0,render:e=>e?(0,w.jsx)(C.Z,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]}):void 0})})}function P(e,t,n,o,r){const{ThemeStore:i}=t,a="dark"===i.state.mode,s=r?n.lightDividerColor:n.regularDividerColor;switch(e){case"default":return{};case"gallery":return{background:n.collectionGalleryPreviewCardCover,padding:"8px 8px 0",boxShadow:a?"transparent":`inset 0 -1px 0 0 ${s}`,...o};default:(0,u.t1)(e)}}function A(e,t){return{width:"100%",height:40,position:"absolute",bottom:0,left:0,background:`linear-gradient(to bottom, transparent, ${e.accentColors.gray[30]} 100%)`,...t}}function F(e,t){switch(e){case"default":return{border:`1px solid ${t.stroke.regular}`,borderTopLeftRadius:4,borderTopRightRadius:4,borderBottomRightRadius:4,borderBottomLeftRadius:4};case"gallery":return{borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1};default:(0,u.t1)(e)}}function K(e){let{variant:t}=e;const n=(0,a.Fg)();switch(t){case"default":return null;case"gallery":return(0,w.jsx)("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:`1px solid ${n.regularDividerColor}`}});default:(0,u.t1)(t)}return null}function D(e,t,n,o,r,i,a,s){return{height:T(o,r),pointerEvents:"none",overflow:"hidden",position:i?"relative":"static",...P(e,t,n,a,s),...a}}function E(e,t,n,o){return{width:"100%",height:T(n,o),...F(e,t),objectPosition:"center"}}function O(e){let{store:t,coverHeight:n,coverSizeFormat:o,imageCoverWrapStyle:r,coverWidth:s,onLoadProxiedImage:l,style:d,variant:c,coverAspectFormat:u,coverPosition:p,showEmptyGalleryCover:m,emptyGalleryCoverStyle:h}=e;const g=(0,a.Fg)(),f=(0,i.VK)((()=>{var e;return null===(e=t.getCover())||void 0===e?void 0:e.cover}),[t]),v=(0,i.VK)((()=>t.pointer),[t]),C=(0,i.VK)((()=>M(t,p)),[p,t]);return f?(0,w.jsxs)("div",{style:L(n,o,r),children:[(0,w.jsx)(x.Z,{url:f,isAuthenticated:!0,permissionRecord:v,width:Z(s,o),onFinishedLoadingProxyUrl:e=>l(e),render:(e,t)=>{if(t)return(0,w.jsx)(y.Z,{style:{...I(d),...E(c,g,n,o),...V(u),objectPosition:`center ${100*(1-C)}%`},src:t,loading:"lazy"})}}),(0,w.jsx)(K,{variant:c})]}):m?(0,w.jsx)(_,{coverHeight:n,coverSizeFormat:o,emptyGalleryCoverStyle:h}):null}function B(e){let{property:t,store:n,coverHeight:o,coverSizeFormat:r,imageCoverWrapStyle:s,onLoadProxiedImage:c,coverWidth:u,style:p,variant:m,coverAspectFormat:h,coverPosition:g,showEmptyGalleryCover:f,emptyGalleryCoverStyle:v}=e;const C=(0,a.Fg)(),S=(0,i.VK)((()=>(0,l.g)(n.getPropertyValue(t)).find((e=>(0,d.SR)({url:e.url})))),[t,n]),j=(0,i.VK)((()=>n.pointer),[n]),b=(0,i.VK)((()=>M(n,g)),[g,n]);return S?(0,w.jsxs)("div",{style:L(o,r,s),children:[(0,w.jsx)(x.Z,{onFinishedLoadingProxyUrl:e=>c(e),url:S.url,isAuthenticated:!0,permissionRecord:j,width:Z(u,r),render:(e,t)=>{if(t)return(0,w.jsx)(y.Z,{style:{...I(p),...E(m,C,o,r),...V(h),objectPosition:`center ${100*(1-b)}%`},src:t,loading:"lazy"})}}),(0,w.jsx)(K,{variant:m})]}):f?(0,w.jsx)(_,{coverHeight:o,coverSizeFormat:r,emptyGalleryCoverStyle:v}):null}function R(e,t,n,o,r){const{renderCollectionImage:i}=e;return{...E(t,n,o,r),objectPosition:"center center",...i&&{height:void 0,border:`1px solid ${n.lightDividerColor}`,borderBottom:"none",borderBottomLeftRadius:0,borderBottomRightRadius:0}}}function z(e,t){const n=t.state;for(const o of n)if(o.find((t=>t.id===e)))return o;return[]}},36420:(e,t,n)=>{n.d(t,{n:()=>l,y:()=>s});n(21703);var o=n(67294),r=(n(77744),n(26249));let i,a;function s(e){i=i??new Map,a=a??function(e){let t=!1,n=[];return new ResizeObserver((o=>{n=n.concat(o),t||(t=!0,window.requestAnimationFrame((()=>{const o=new Set;[...n].reverse().filter((e=>{const t=o.has(e.target);return o.add(e.target),!t})).forEach((t=>{const n=e.get(t.target);null==n||n.forEach((e=>{const n=t.borderBoxSize[0];e({width:n.inlineSize,height:n.blockSize})}))})),n=[],t=!1})))}))}(i);const[t,n]=(0,o.useState)(void 0),s=(0,o.useCallback)((e=>{n((t=>(0,r.Z)(t,e)?t:e))}),[]);return(0,o.useLayoutEffect)((()=>{const t=e.current;if(!t)return;a.observe(t);const n=[...i.get(t)??[],s];return i.set(t,n),()=>{a.unobserve(t);const e=(i.get(t)??[]).filter((e=>e!==s));0===e.length?i.delete(t):i.set(t,e)}}),[s,e]),t}function l(e){const{children:t,onSizeChange:n}=e,r=(0,o.useRef)(null),i=s(r);(0,o.useEffect)((()=>{n&&i&&n(i)}),[i,n]);const a=o.Children.only(t);return o.cloneElement(a,{ref:r})}},40863:(e,t,n)=>{n.d(t,{$G:()=>w,BO:()=>v,Ft:()=>p,Lh:()=>S,YG:()=>m,du:()=>f,y$:()=>g});n(57658);var o=n(30120),r=n(30823),i=n(40506),a=n(53877),s=n(42875),l=n(59753),d=n(9291),c=n(53965),u=n(28020);function p(e){const{collectionContextStore:t}=e,n=t.collectionViewStore();if(!n)return;const o=t.normalizedSchemaStore.state,r=n.getQuery(o);if(!r||!r.calendar_by)return;const i=t.dateRangeStart.state,l=t.dateRangeEnd.state,d=(0,a.hT)(i,(0,s.r)()),c=(0,a.hT)(l,(0,s.r)());return h({calendarBy:r.calendar_by,dateRangeStartDate:d,dateRangeEndDate:c})}function m(e){const{collectionContextStore:t,startOfDay:n}=e,r=t.collectionViewStore();if(!r)return;const i=t.normalizedSchemaStore.state,l=r.getQuery(i);if(!l||!l.calendar_by)return;const d=o.ou.fromMillis(n).endOf("day").valueOf(),c=(0,a.hT)(n,(0,s.r)()),u=(0,a.hT)(d,(0,s.r)());return h({calendarBy:l.calendar_by,dateRangeStartDate:c,dateRangeEndDate:u})}function h(e){const{dateRangeStartDate:t,dateRangeEndDate:n,calendarBy:o}=e;return{type:"results",filter:{operator:"and",filters:[{property:o,filter:{operator:"date_is_on_or_after",use_end:!0,value:{type:"exact",value:t}}},{property:o,filter:{operator:"date_is_on_or_before",value:{type:"exact",value:n}}}]},limit:5e3}}function g(e){var t;const{collectionContextStore:n,results:o,getRecordValue:r,intl:l}=e,d=n.collectionViewStore(),p=n.normalizedQueryStore.state,m=n.normalizedSchemaStore.state,h=p?p.calendar_by:void 0,g=n.dateRangeStart.state,C=n.dateRangeEnd.state,x=(null===(t=n.collectionViewStore())||void 0===t?void 0:t.getFormat().calendar_show_weekends)??!0,S=u.AK.state,w=(0,s.r)(),j=n.getCurrentUserId();if(!(d&&p&&h&&m))return;const b=c.oA(o.map((e=>v({blockStore:e,calendarBy:h,schema:m,getRecordValue:r,userId:j,intl:l})))),k={};o.forEach(((e,t)=>{k[e.id]=t}));0===(p.sort||[]).length&&b.sort(((e,t)=>{const n=e.start.valueOf(),o=t.start.valueOf();if(n===o){return k[e.id]-k[t.id]}return n-o}));const M=x?(0,a.em)(g,S,w):(0,a.Ty)(g,S,w),I=x?(0,a.gQ)(C,S,w):(0,a.Kw)(C,S,w);let T=M;const Z=[];do{const e=x?(0,a.gQ)(T.valueOf(),S,w):(0,a.Kw)(T.valueOf(),S,w),t={},n=b.filter((t=>(0,i.b8)(T.valueOf(),e.valueOf(),t.start.valueOf(),t.end?t.end.valueOf():void 0))).map((n=>{const{id:o,start:r,end:i,includeTime:a,timeZone:s}=n,{startColumn:l,columnCount:d}=f({startUnixTimestampMS:r.valueOf(),endUnixTimestampMS:i?i.valueOf():void 0,startOfWeekUnixTimestampMS:T.valueOf(),endOfWeekUnixTimestampMS:e.valueOf()}),c=y(l,d,t);return{id:o,start:r.valueOf(),end:i?i.valueOf():void 0,row:c,includeTime:a,timeZone:s}}));Z.push({start:T.valueOf(),end:e.valueOf(),items:n}),T=x?(0,a.em)(T.plus({week:1}).plus({hour:25}).valueOf(),S,w):(0,a.Ty)(T.plus({week:1}).plus({hour:25}).valueOf(),S,w)}while(T<I);return Z}function f(e){const t=o.ou.fromMillis(e.startUnixTimestampMS),n=e.endUnixTimestampMS?o.ou.fromMillis(e.endUnixTimestampMS):void 0,r=o.ou.fromMillis(e.startOfWeekUnixTimestampMS),i=o.ou.fromMillis(e.endOfWeekUnixTimestampMS),a=t.startOf("day"),s=o.ou.max(r,a),l=Math.ceil(s.diff(r,"days").get("days"));let d=1;if(n){const e=n.endOf("day"),t=o.ou.min(i,e);d=Math.ceil(t.diff(s,"days").get("days"))}return{start:t,end:n,startOfWeek:r,endOfWeek:i,startColumn:l,columnCount:d}}function v(e){const{blockStore:t,calendarBy:n,schema:o,getRecordValue:i,intl:d,userId:c}=e,u=t.getAssociatedCollectionStore(),p=t.getModel();if(!p)return;const m=(0,r.FT)({property:n,schema:o,block:p,getRecordModel:l.om.fromGetRecordValueFn(i),propertyMapping:null==u?void 0:u.getPropertyMapping(),collectionRequestContext:{userId:c,userTimeZone:(0,s.r)(),depth:0,intl:d,visitedProperties:new Set,resultCache:new Map}}).next().value;if("date"!==m.type)return;const h=m.value,g=h&&(0,a.NK)(h,(0,s.r)());if(!h||!g)return;return{id:p.id,start:g.start,end:g.end,includeTime:"datetime"===h.type||"datetimerange"===h.type,timeZone:"datetime"===h.type||"datetimerange"===h.type?h.time_zone:void 0}}function y(e,t,n){let o=0;for(;;){let r=!1;for(let i=0;i<t;i++)C(n,e+i,o)&&(r=!0);if(!r)break;o++}for(let r=0;r<t;r++)x(n,e+r,o);return o}function C(e,t,n){return Boolean(e[n]&&e[n][t])}function x(e,t,n){e[n]||(e[n]={}),e[n][t]=!0}const S=(0,d.defineMessages)({week:{defaultMessage:"Week",id:"calendar.viewRanges.week"},month:{defaultMessage:"Month",id:"calendar.viewRanges.month"}});function w(e){const t=(null==e?void 0:e.attendees)||[];return e.hasParticipants&&t.filter((e=>!e.self&&!e.resource)).every((e=>"declined"===e.responseStatus))}},94660:(e,t,n)=>{n.d(t,{IJ:()=>d,PL:()=>l,W4:()=>c,gA:()=>p,p8:()=>u});n(89101);var o=n(62992),r=n(1898),i=n(18265),a=n(34517),s=n(6258);function l(e,t){return e.filter((e=>{const n=e.getCopiedFromPointer();return Boolean(n&&(0,o.J)(n)&&Boolean(t&&t(n.id)))}))}const d=5;function c(e){const t=window.location.href;return i.SK(t,{tg:e.templateGalleryItem})}function u(){const e=window.location.href;let t;return t=i.iO(e,"tg"),t=i.iO(t,"np"),t=i.iO(t,"pjm"),t}function p(e){let t,n;return e instanceof s.j$?(t=e.getAppTemplateURI(),n=e.getBlockId()):"type"in e?"preset"===e.type?(t=e.uri,n=void 0):"pageTemplate"===e.type?(t=void 0,n=e.template.rootId):(0,r.t1)(e):(t=void 0,n=e.rootId),t&&a.presetUriToHumanReadableName[t]?a.presetUriToHumanReadableName[t]:n}},27068:(e,t,n)=>{n.d(t,{K_:()=>d,N8:()=>c,YD:()=>l,nJ:()=>s});var o=n(9953),r=n(13447),i=n(37181),a=n(80444);function s(e){const{currentUserSettingsStore:t}=a.default.state;t&&r.createAndCommit({userAction:"SidebarPersonalHomeButton.markAsSeen",environment:e,perform:e=>{i.d2({userSettingsStore:t,transaction:e,data:{seen_personal_home:!0}})}})}function l(e){const{environment:t,newSeenWelcomeHomeValue:n}=e,i=a.default.state.currentSpaceViewStore;i&&r.createAndCommit({userAction:"SidebarPersonalHomeSettings.markWelcomeAnimationAsSeen",environment:t,perform:e=>{const t=i.getSettingsStore().getKeyStore("personal_home").getKeyStore("seen_welcome_animation");o.sO({store:t,transaction:e,value:n})}})}function d(e){const{environment:t,tipType:n,completed:o}=e,{currentUserSettingsStore:s}=a.default.state;if(!s)return;const l=s.getPersonalHomeTipsSettings(),d={...l,progress_data:{...l.progress_data,[n]:{completed:o}}};r.createAndCommit({userAction:"LearnHomePanel.updateProgress",environment:t,perform:e=>{i.d2({userSettingsStore:s,transaction:e,data:{personal_home_tips_settings:d}})}})}function c(e){const{environment:t,hide:n}=e,{currentUserSettingsStore:o}=a.default.state;if(!o)return;const s={...o.getPersonalHomeTipsSettings(),hide_completed:n};r.createAndCommit({userAction:"LearnHomePanel.hideCompleted",environment:t,perform:e=>{i.d2({userSettingsStore:o,transaction:e,data:{personal_home_tips_settings:s}})}})}},55535:(e,t,n)=>{n.d(t,{W:()=>a,Z:()=>l});var o=n(67294),r=n(51077),i=n(85893);const a=16;function s(e){let{icon:t,style:n,size:o=a}=e;return(0,i.jsx)(r.Z,{type:"notion_icon",size:o,icon:`/icons/${t}_lightgray.svg`,largeIcon:!0,style:n})}const l=o.memo(s)},84198:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(67294),r=n(480),i=n(86628),a=n(24405),s=n(37810),l=n(26388),d=n(75024),c=n(50334),u=n(61931),p=n(49085);class m extends p.default{getInitialState(){return!1}}var h=n(22863),g=n(55535),f=n(85893);function v(e){let{icon:t,title:n,tooltip:o,hasRightElement:i}=e;const c=(0,r.O7)(),u=(0,a.yK)((e=>({panelTitleAndIcon:{display:"flex",alignItems:"center",fontSize:(0,d.yv)(c,"UISmall"),fontWeight:s.Z.fontWeight.medium,color:e.text.secondary,flexShrink:0,maxWidth:i?200:"100%"},title:{...s.Z.textOverflowStyle},panelIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:g.W,height:g.W,marginRight:8,marginTop:1}})),[c,i]);return n?(0,f.jsx)(l.ZP,{renderTooltip:()=>o,disableTooltip:!o,placement:l.ug.Top,alignment:l.v2.Start,render:e=>(0,f.jsxs)("div",{style:u.panelTitleAndIcon,...e,children:[(0,f.jsx)("div",{style:u.panelIconContainer,children:t}),(0,f.jsx)("span",{style:u.title,children:n})]})}):null}const y=function(e){let{children:t,title:n,icon:s,tooltip:l,panelStyle:d,headerStyle:p,rightStyle:g,actions:y,right:C,disableRightFadeIn:x}=e;const S=(0,r.MO)(),w=Boolean(n),j=Boolean(C),b=(0,i.qz)(void 0,m),k=(0,o.useMemo)((()=>({isHoveredOnPanelStore:b})),[b]),M=(0,o.useCallback)((()=>b.setState(!0)),[b]),I=(0,o.useCallback)((()=>b.setState(!1)),[b]),T=(0,a.yK)((e=>({panel:{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:S?12:6,padding:u.A5,paddingBottom:20,background:e.home.tile.background,boxShadow:(0,u._U)({isPhone:S,theme:e}),...u.MI,...d},headerContainer:{flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center",height:u.jX,marginTop:-u.A5,...p},rightActions:{display:"flex",flexDirection:"row",alignItems:"center"},actions:{paddingLeft:6}})),[S,d,p]);return(0,f.jsx)(c.L8,{value:k,children:(0,f.jsxs)("div",{style:T.panel,onMouseEnter:M,onMouseLeave:I,children:[(w||j)&&(0,f.jsxs)("div",{style:T.headerContainer,children:[(0,f.jsx)(v,{title:n,icon:s,tooltip:l,hasRightElement:j}),(j||y)&&(0,f.jsxs)("div",{style:T.rightActions,children:[j&&(0,f.jsx)(h.Z,{force:x?"forceShow":void 0,additionalStyles:g,children:C}),y&&(0,f.jsx)(h.Z,{additionalStyles:T.actions,children:y})]})]}),t]})})}},22863:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(67294),r=n(24405),i=n(1898),a=n(86628),s=n(50334);var l=n(85893);const d=function(e){let{additionalStyles:t,transitionMs:n,force:d,children:c}=e;const u=function(){var e;const t=null===(e=(0,o.useContext)(s.uU))||void 0===e?void 0:e.isHoveredOnPanelStore;return(0,a.VK)((()=>Boolean(null==t?void 0:t.getState())),[t])}(),p=(0,r.yK)((()=>{let e;switch(d){case"forceShow":e=1;break;case"forceHide":e=0;break;case void 0:e=u?1:0;break;default:(0,i.t1)(d)}return{hoverStyle:{opacity:e,transition:`opacity ${(0,i.$K)(n)?n:200}ms ease-in`,...t}}}),[t,d,u,n]);return(0,l.jsx)("div",{style:p.hoverStyle,children:c})}},50334:(e,t,n)=>{n.d(t,{L8:()=>i,uU:()=>r});const o=(0,n(67381).Q)({displayName:"HomePanelContext",legacyContextKey:"homePanelContext",modernContextDefaultValue:{isHoveredOnPanelStore:void 0}}),r=o.context,i=o.Provider;o.legacyPropTypes},44496:(e,t,n)=>{n.d(t,{q:()=>r});const o={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1};function r(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...o,...t}}},74873:(e,t,n)=>{n.d(t,{GK:()=>l,Ju:()=>C,NZ:()=>d,az:()=>a,ml:()=>s});n(57658);var o=n(1898),r=n(80444);const i=10,a=["creative","internal_communication","eng","product_design","project_or_program_management","product","marketing","sales_or_success","support","finance","hr","it_admin","knowledge_management","operations","educator","student"],s=["life","work","school"],l=["singleplayer","multiplayer"];function d(e){let{userPersonaValue:t,userUseCases:n,spaceSurveyData:r}=e;const i=[h(t),...g({userUseCases:n}),...f({spaceSurveyData:r}),v({workspaceType:p()})].filter(o.$K);let a;for(const o of i)a=a?u(a,o):o;return void 0===a?{type:"space_type",persona:"singleplayer"}:a}const c={space_type:0,space_intent:1,function:2};function u(e,t){return c[e.type]>=c[t.type]?e:t}function p(){const{currentSpaceStore:e}=r.default.state,t=null==e?void 0:e.getModel(),n=null==e?void 0:e.getMemberCountFromPublicSpaceData();return t&&n?n<=1?"singleplayer":n<i?"multiplayer_small":"multiplayer":"singleplayer"}const m={student:{type:"function",persona:"student"},educator:{type:"function",persona:"educator"},creative:{type:"function",persona:"creative"},finance:{type:"function",persona:"finance"},internalCommunication:{type:"function",persona:"internal_communication"},projectProgramMgmt:{type:"function",persona:"project_or_program_management"},itAdmin:{type:"function",persona:"it_admin"},knowledgeManagement:{type:"function",persona:"knowledge_management"},marketing:{type:"function",persona:"marketing"},eng:{type:"function",persona:"eng"},programmer:{type:"function",persona:"eng"},hr:{type:"function",persona:"hr"},hr_recruiting:{type:"function",persona:"hr"},product:{type:"function",persona:"product"},product_manager:{type:"function",persona:"product"},productDesign:{type:"function",persona:"product_design"},designer:{type:"function",persona:"product_design"},marketing_sales:{type:"function",persona:"sales_or_success"},sales:{type:"function",persona:"sales_or_success"},support:{type:"function",persona:"support"},customer_support:{type:"function",persona:"support"},operations_hr:{type:"function",persona:"operations"},operations:{type:"function",persona:"operations"},personal:{type:"space_intent",persona:"life"},media:void 0,entrepreneur:void 0,freelancer:void 0,founderCeo:void 0,other:void 0,unfilled:void 0};function h(e){return e?m[e]:void 0}function g(e){let{userUseCases:t}=e;const n=[];for(const r of t??[])switch(r){case"personal_notes_to_dos":n.push({type:"space_intent",persona:"life"});continue;case"team_docs_knowledge_base":case"team_project_management":n.push({type:"space_intent",persona:"work"});continue;case"ai":case"docs":case"wikis":case"notes":case"project":case"goals":case"ai":case"other":continue;default:(0,o.t1)(r)}return n}function f(e){let{spaceSurveyData:t}=e;const n=[],r=function(e){var t;let{spaceSurveyData:n}=e;const r=null==n||null===(t=n.intent)||void 0===t?void 0:t.value;if(r)switch(r){case"personal":case"life":return"life";case"team":case"work":return"work";case"school":return"school";default:(0,o.t1)(r)}}({spaceSurveyData:t});if(r&&n.push({type:"space_intent",persona:r}),null!=t&&t.use_cases)for(const i of t.use_cases.value)switch(i){case"personal_notes_to_dos":n.push({type:"space_intent",persona:"life"});continue;case"team_docs_knowledge_base":case"team_project_management":n.push({type:"space_intent",persona:"work"});continue;case"ai":case"docs":case"wikis":case"notes":case"project":case"goals":case"ai":case"other":continue;default:(0,o.t1)(i)}return n}function v(e){let{workspaceType:t}=e;if(!t)return;return y({workspaceType:t})?{type:"space_type",persona:"multiplayer"}:{type:"space_type",persona:"singleplayer"}}function y(e){let{workspaceType:t}=e;switch(t){case"multiplayer":case"multiplayer_small":return!0;case"singleplayer":return!1;default:(0,o.t1)(t)}}function C(){return y({workspaceType:p()})}},12823:(e,t,n)=>{n.r(t),n.d(t,{PersonalHomeContainer:()=>kr});var o=n(67294),r=n(480),i=n(86628),a=n(24405),s=n(49902),l=n(53336),d=n(14542),c=n(96809),u=n(12981),p=n(68785),m=n(32854),h=n(81865),g=n(85893);function f(e){const t=(0,r.O7)(),n=(0,r.Fy)().isMobile,[s,l]=(0,o.useState)(),f=(0,i.VK)((()=>e.store.getCover()),[e.store]),v=(0,i.VK)((()=>c.Z),[]),y=(0,i.VK)((()=>v.state.loadingMode!==d.LU&&v.state.loadingMode!==d.SS),[v]),C=(0,i.VK)((()=>"uploading"===v.state.loadingMode&&v.state.uploadProgress||0),[v]),x=(0,i.VK)((()=>t.WindowSizeStore.state.paddingTop),[t.WindowSizeStore]),S=(0,a.yK)((e=>({background:{position:"absolute",width:"100%",height:"100%",marginTop:n?x:void 0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundImage:`url(${s}`,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},loadingContainer:{...u.I,top:8,right:8,height:28},loadingSpinner:{width:16,height:16,marginRight:4},percentageIndicator:{minWidth:30,textAlign:"right"}})),[s,n,x]);return f?(0,g.jsx)(h.Z,{url:f.cover,isAuthenticated:!0,permissionRecord:f.pointer,render:(e,t)=>(l(t),(0,g.jsx)("div",{role:"img",style:S.background,onLoad:()=>{v.setState({loadingMode:"loaded"})},children:y&&(0,g.jsxs)("div",{style:S.loadingContainer,children:[(0,g.jsx)(p.Z,{style:S.loadingSpinner}),(0,g.jsx)("div",{style:S.percentageIndicator,children:(0,g.jsx)(m.Z,{percentage:C})})]})}))}):null}var v=n(94043),y=n(34859),C=n(80444),x=n(77080),S=n(27068),w=n(44496),j=n(94841),b=n(61931),k=n(30120),M=n(70203),I=n(9291),T=n(31701),Z=n(1898),V=n(37810),L=n(69150),_=n(89728),H=n(26388),P=n(60682),A=n(14976),F=n(993),K=n(98104),D=n(13447),E=n(49085);class O extends E.default{getInitialState(){return{open:!1}}}const B=new O;function R(e){let{environment:t}=e;B.reset(),K.ZH(t)}var z=n(78140),U=n(53437),W=n(64369),N=n(65187),G=n(60709),$=n(75024);function Y(e){let{origin:t}=e;const n=(0,r.O7)(),o=(0,i.VK)((()=>B.state.open),[]),a=(0,i.VK)((()=>C.default.state.currentUserSettingsStore),[]),s=(0,r.MO)();return a?(0,g.jsx)(U.ZP,{popupType:s?U.ZP.PopupType.SlideUp:U.ZP.PopupType.Popup,open:o,origin:t,placementToOrigin:U.ZP.Placement.Bottom,alignmentToOrigin:U.ZP.Alignment.Center,originGap:4,onDismiss:()=>R({environment:n}),render:()=>(0,g.jsx)(q,{userSettingsStore:a})}):null}function q(e){let{userSettingsStore:t}=e;const[n,s]=(0,o.useState)(!1),l=(0,r.O7)(),d=(0,I.useIntl)(),c=(0,i.VK)((()=>{var e;return null===(e=C.default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(d)}),[d]),u=(0,r.MO)(),p=(0,o.useCallback)((()=>s(!0)),[]),m=(0,o.useCallback)((()=>s(!1)),[]),h=(0,o.useCallback)((()=>R({environment:l})),[l]),f=(0,o.useCallback)((()=>function(e){let{environment:t}=e;const n=B.state;if(!n.open)return;const o=n.originalNickname;R({environment:t});const{currentUserSettingsStore:r}=C.default.state;if(!r)return;const i=r.getNicknameStore();D.createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",perform:e=>{F.sO({environment:t,editorMode:"default",store:i,value:o,transaction:e})}})}({environment:l})),[l]),v=(0,a.yK)((e=>({menu:{width:300},menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.regularTextColor,fontSize:(0,$.yv)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:n?e.outlineBlueInputBoxShadow:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,n]),y=(0,i.VK)((()=>t.getSettingsStore().getKeyStore("nickname")),[t]);let x;return x=u?{menuType:G.og.ActionSheet}:{menuType:G.og.Popup,width:300},(0,g.jsx)(z.Z,{...x,children:(0,g.jsxs)("div",{style:v.menuContainer,children:[(0,g.jsx)(W.Z,{isSecondaryColor:!0,children:(0,g.jsx)(I.FormattedMessage,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,g.jsx)("div",{style:v.inputContainer,children:(0,g.jsx)(N.Z,{style:v.input,store:y,disabled:!1,onEsc:f,onFocus:p,onBlur:m,onEnter:h,placeholder:c,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,inPageFind:{type:"none"}})})]})})}const J=o.memo(Y);function Q(e){var t;let{nickname:n}=e;const s=(0,r.O7)(),l=(0,a.Fg)(),d=o.useRef(null),c=o.useRef();c.current=null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect();const u=(0,i.VK)((()=>B.state.open),[]),p=(0,i.VK)((()=>{var e;return null===(e=C.default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),m=(0,i.VK)((()=>{var e;const t=C.default.state.currentUserSettingsStore,o=null===(e=C.default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(t&&o)return(0,A.IY)({environment:s,textValue:n&&o?{value:n,spaceId:o}:void 0,parentStore:t,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:l,emojiType:(0,P.e_)(s),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[s,n,l]),h=(0,o.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...V.Z.textOverflowStyle,color:void 0,lineHeight:void 0})),[]),f=(0,a.yK)((()=>({hiddenButton:{...h,width:0,overflow:void 0,pointerEvents:"none",color:"transparent",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},visibleButton:{...h,textShadow:"none"}})),[h]);return p?(0,g.jsx)(J,{origin:(0,g.jsx)(H.ZP,{originRect:c.current,render:e=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{hovered:!1,style:f.hiddenButton,children:m}),(0,g.jsx)(_.Z,{...e,ref:d,hovered:u,style:f.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;K.Z5({store:t,selection:{startIndex:0,endIndex:(0,M.eeV)(t.getValue()).length}}),B.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:p}),onMouseEnter:t=>{var n;null===(n=e.onMouseEnter)||void 0===n||n.call(e,t),L.Z.setState({isHovered:!1})},children:m})]}),renderTooltip:()=>(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const X=o.memo(Q);function ee(e){let{marginTop:t,marginHorizontal:n,allPanelsLoaded:s,showWelcomeAnimation:l}=e;const[d,c]=o.useState(!1),u=(0,I.useIntl)(),p=(0,r.MO)(),{name:m,loaded:h}=(0,i.VK)((()=>function(e){let{currentUserStore:t,currentUserSettingsStore:n,intl:o}=e;if(null==n||!n.isReady())return{name:void 0,loaded:!1};const r=n.getNickname();if(r&&te(r))return{name:r,loaded:!0};const i=null==t?void 0:t.getDisplayName(o),a=Boolean(null==t?void 0:t.isReady());return{name:i?[[i]]:void 0,loaded:a}}({currentUserStore:C.default.state.currentUserStore,currentUserSettingsStore:C.default.state.currentUserSettingsStore,intl:u})),[u]),f=(0,i.VK)((()=>{var e;return(null===(e=C.default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]),v=(0,i.VK)((()=>{const e=C.default.state.currentSpaceViewStore;return e&&(0,j.Al)(e)}),[]),y=(0,i.VK)((()=>Boolean(null==v?void 0:v.hasCover())),[v]);(0,o.useEffect)((()=>{const e=setTimeout((()=>{l&&!d&&c(!0)}),500);return()=>{clearTimeout(e)}}),[d,l]);const x=h&&f,S=function(){const e=k.ou.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),w=function(e){let{timeOfDay:t,name:n}=e;if("morning"===t)return n?(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,g.jsx)(g.Fragment,{children:" "}),NoShrink:e=>(0,g.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return n?(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,g.jsx)(g.Fragment,{children:" "}),NoShrink:e=>(0,g.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return n?(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,g.jsx)(g.Fragment,{children:" "}),NoShrink:e=>(0,g.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,Z.t1)(t)}({timeOfDay:S,name:te(m)?(0,g.jsx)(X,{nickname:m}):void 0}),b=(0,g.jsx)(I.FormattedMessage,{id:"personalHomeHeader.initialWelcomeText",defaultMessage:"Welcome home"}),M=function(e){switch(e){case"morning":case"afternoon":return"🌤️";case"evening":return"🌓";default:(0,Z.t1)(e)}}(S),_=(0,a.yK)((e=>{const o={width:"100%",height:"100%",marginTop:t,zIndex:1,paddingLeft:2*n,paddingRight:2*n,pointerEvents:"none",transition:"all 0.5s ease-in-out 2.75s"},r=l&&!s;return{container:{width:"100%",height:"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:d||!l?1:0,transition:"opacity 0.5s ease-in-out"},greetingTextContainer:{...o,opacity:r?0:1,transform:r?"translateY(12px)":"translateY(0px)"},welcomeTextContainer:{...o,opacity:r?1:0,transform:r?"translateY(0px)":"translateY(-12px)",position:"absolute"},headerText:{width:"100%",height:"100%",fontSize:p?24:30,lineHeight:1.2,fontWeight:V.Z.fontWeight.semibold,color:y?T.ZP.white:e.regularTextColor,textShadow:y?"0px 1px 24px rgba(0, 0, 0, 0.33)":"",display:"flex",alignItems:"center",justifyContent:p?"start":"center"},greetingTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column",textShadow:y?"0px 1px 24px rgba(0, 0, 0, 0.33)":""},mobileIconContainer:{fontSize:30}}}),[t,n,s,l,d,p,y]),H=(0,g.jsx)("div",{style:_.headerText,children:(0,g.jsxs)("span",{style:_.greetingTextSpan,children:[M," ",w]})}),P=(0,g.jsxs)("div",{style:_.mobileGreetingContainer,children:[(0,g.jsx)("div",{style:_.mobileIconContainer,children:M}),(0,g.jsx)("div",{style:_.headerText,children:(0,g.jsx)("span",{style:_.greetingTextSpan,children:w})})]}),A=(0,g.jsx)("div",{style:_.greetingTextContainer,children:p?P:H}),F=(0,g.jsx)("div",{style:_.welcomeTextContainer,children:(0,g.jsx)("div",{style:_.headerText,children:b})});return x?(0,g.jsxs)("div",{style:_.container,onMouseEnter:()=>{L.Z.setState({isHovered:!0})},onMouseLeave:()=>{L.Z.setState({isHovered:!1})},children:[A,F]}):null}function te(e){return!!(0,Z.$K)(e)&&0!==(0,M.eeV)(e).length}const ne=o.memo(ee);n(57658);var oe=n(32603),re=n(43250),ie=n(95697),ae=n(30806),se=n(74873),le=n(59054),de=n(69651),ce=n(54642),ue=n(9953);const pe={all_day_events:!0,events_without_location:!0,events_without_participants:!0};function me(e){const{currentSpaceViewStore:t}=C.default.state;return(null==t?void 0:t.getHomeCalendarFilter(e))??pe[e]}function he(e){let{event:t,eventFilters:n}=e;return(!1!==n.all_day_events||!t.isAllDay)&&(!(!1===n.events_without_participants&&!t.hasParticipants)&&!(!1===n.events_without_location&&!t.hasConferencingOrLocation))}var ge=n(45578),fe=n.n(ge);class ve{get length(){return this.orderedKeys.length}constructor(e,t){this.orderedKeys=void 0,this.keysToValues=void 0,this.orderedKeys=e.map(t),this.keysToValues={};for(const n of e)this.keysToValues[t(n)]=n}append(e,t){let{keepOrdering:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keepOrdering:!1};if(e in this.keysToValues){if(this.keysToValues[e]=t,n)return;this.orderedKeys=[...this.orderedKeys.filter((t=>t!==e)),e]}else this.orderedKeys.push(e),this.keysToValues[e]=t}delete(e){this.orderedKeys=this.orderedKeys.filter((t=>t!==e)),delete this.keysToValues[e]}get(e){return this.keysToValues[e]}getOrderedValues(){return this.orderedKeys.map((e=>this.keysToValues[e]))}hasKey(e){return e in this.keysToValues}}const ye={Calendar:e=>{let{id:t,accountId:n}=e;return`${n}:${t}`},Account:e=>{let{id:t}=e;return t},Event:e=>{let{accountId:t,calendarId:n,id:o}=e;return`${t}:${n}:${o}`}};var Ce=n(77349);function xe(e){let{eventStartDate:t,eventEndDateInclusive:n,minDate:o,maxDateInclusive:r}=e;const i=function(e){let{startAndEndDaysRange:t,minAndMaxDaysRange:n}=e;if(t.end<n.min)return;if(t.start>n.max)return;const{start:o,end:r}=t,{min:i,max:a}=n,s=o<i?i:o,l=r>a?a:r;return{start:s,end:l}}({startAndEndDaysRange:{start:we(t),end:we(n)},minAndMaxDaysRange:{min:we(o),max:we(r)}});if(!i)return[];const{start:a,end:s}=i;return Se(a,s)}function Se(e,t){const n=we(t);let o=we(e);const r=[];for(;o<=n;)r.push(o),o=we((0,Ce.Z)(new Date(o),1).toISOString());return r}function we(e){return e.split("T")[0]}function je(e){let{botId:t,accounts:n,calendars:o,events:r}=e;return{botId:t,accounts:new ve(n,ye.Account),calendars:new ve(o,ye.Calendar),events:new ve(r.map(be).filter(Z.$K),ye.Event)}}function be(e){var t,n,o,r,i,a;let s;const l=ke(null===(t=e.start)||void 0===t?void 0:t.timeZone),d=ke(null===(n=e.end)||void 0===n?void 0:n.timeZone),c=(null===(o=e.start)||void 0===o?void 0:o.date)??(null===(r=e.start)||void 0===r?void 0:r.dateTime)??void 0,u=(null===(i=e.end)||void 0===i?void 0:i.date)??(null===(a=e.end)||void 0===a?void 0:a.dateTime)??void 0;if(c&&u)return s=e.isAllDay?{isAllDay:!0,start:{date:we(c),timeZone:l},end:{date:we(u),timeZone:d}}:{isAllDay:!1,start:{dateTime:c,timeZone:l},end:{dateTime:u,timeZone:d}},{...e,...s}}function ke(e){return e??void 0}function Me(e){let{event:t,calendar:n,minDate:o,maxDateInclusive:r,eventFilters:i}=e;if(function(e){switch(e.responseStatus){case"declined":return!0;case"needsAction":case"tentative":case"accepted":case void 0:return!1;default:(0,Z.t1)(e.responseStatus)}}(t))return!1;if(function(e){return!e.selected}(n))return!1;if(!he({event:t,eventFilters:i}))return!1;const{start:a,end:s}=function(e){return e.isAllDay?{start:e.start.date,end:e.end.date}:{start:we(e.start.dateTime),end:we(e.end.dateTime)}}(t);return!(a>r||s<o)&&he({event:t,eventFilters:i})}var Ie=n(19013),Te=n(16218),Ze=n(83946),Ve=n(13882);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function _e(e,t){if((0,Ve.Z)(2,arguments),"object"!==Le(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,Ie.Z)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,Te.Z)(n,t.month)),null!=t.date&&n.setDate((0,Ze.Z)(t.date)),null!=t.hours&&n.setHours((0,Ze.Z)(t.hours)),null!=t.minutes&&n.setMinutes((0,Ze.Z)(t.minutes)),null!=t.seconds&&n.setSeconds((0,Ze.Z)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,Ze.Z)(t.milliseconds)),n)}function He(){return{timeMin:Date.now(),timeMax:_e((0,Ce.Z)(Date.now(),7),{hours:23,minutes:59}).getTime()}}class Pe extends E.default{getInitialState(){return{}}getCalendarMap(){var e;return null===(e=this.getStateForCurrentSpaceView())||void 0===e?void 0:e.calendars}getEvents(){var e;const t=null===(e=this.getStateForCurrentSpaceView())||void 0===e?void 0:e.events;return t?t.getOrderedValues():[]}getCalendarAndAccountIds(){const e=this.getCalendarMap();return e?e.getOrderedValues().map((e=>{let{id:t,accountId:n}=e;return{calendarId:t,accountId:n}})):[]}getStateForCurrentSpaceView(){const{currentSpaceViewStore:e}=C.default.state;if(e)return this.state[e.id]}getCurrentCalendars(){var e;return null===(e=this.getStateForCurrentSpaceView())||void 0===e||null===(e=e.calendars)||void 0===e?void 0:e.getOrderedValues()}}const Ae=new Pe;async function Fe(e){let{environment:t,currentSpaceViewStore:n,botId:o,forceRefetch:r}=e;if(!n||!n.isReady()||!n.canRead())return!1;const i=Ae.state[n.id];if(!r&&(null==i?void 0:i.botId)===o)return!0;const a=await ce.getCalendarEvents(t,{botId:o,...He(),orderBy:"startTime"});if("success"!==a.type)return!1;const{accounts:s,calendars:l,events:d}=a.data;return Ae.update((e=>({...e,[n.id]:je({botId:o,accounts:s,calendars:l,events:d})}))),!0}var Ke=n(77657),De=n(30874);function Ee(){return(0,i.VK)((()=>{var e,t;const n=De.Z.bots.state.filter((e=>e.integration_id===Ke.Dv)),o=null===(e=C.default.state.currentSpaceViewStore)||void 0===e?void 0:e.getSelectedCalendarBotId(),r=null===(t=n[0])||void 0===t?void 0:t.id;if(!o)return r;const i=n.find((e=>e.id===o));return(null==i?void 0:i.id)??r}),[])}var Oe=n(84198),Be=n(54497),Re=n(40863),ze=n(84437);function Ue(e){let{time:t,showAmPm:n,locale:o}=e;const r=function(e){return k.ou.fromObject({hour:13}).setLocale(e).toLocaleParts(k.ou.TIME_SIMPLE).some((e=>"dayPeriod"===e.type))}(o),i=0!==t.minute||!r,a={...k.ou.TIME_SIMPLE,hour:"numeric",minute:i?"2-digit":void 0};return r&&!n?t.setLocale(o).toLocaleParts(a).filter((e=>"dayPeriod"!==e.type)).map((e=>e.value.trim())).join(""):t.toLocaleString({...a,hour12:r},{locale:o}).replace(" ","")}var We=n(97466);const Ne=4,Ge=7;function $e(e){let{event:t}=e;const n=(0,i.VK)((()=>{var e;const n=null===(e=Ae.getCalendarMap())||void 0===e?void 0:e.get(ye.Calendar({id:t.calendarId,accountId:t.accountId}));return null==n?void 0:n.color}),[t]),o=(0,a.yK)((e=>{const o=t.color??n,r="dark"===e.mode?null==o?void 0:o.dark.backgroundPrimary:null==o?void 0:o.light.backgroundPrimary;return{container:{width:Ne,borderRadius:3,...Ye({event:t,color:r??e.blueColor})}}}),[n,t]);return n?(0,g.jsx)("div",{style:o.container}):null}function Ye(e){let{event:t,color:n}=e;const o=(0,We.Fq)(n,.2),r=`repeating-linear-gradient(-45deg, ${n}, ${n} 2px,${o} 2px, ${o} 4px)`;if(t.isAllDay)return{borderRadius:"50%",alignSelf:"center",marginLeft:(Ne-Ge)/2,marginRight:(Ne-Ge)/2,width:Ge,height:Ge,background:n};if("outOfOffice"===t.eventType)return{background:o};switch(t.responseStatus){case"accepted":return{background:(0,Re.$G)(t)?r:n};case"tentative":return{background:r};case"needsAction":return{border:`1px dashed ${n}`,background:o};case"declined":return{background:o};case void 0:return{background:t.hasParticipants?o:n};default:(0,Z.t1)(t.responseStatus)}}const qe=o.memo($e);var Je=n(45238);const Qe=(0,Je.IU)("zoomLogo",{viewBox:"0 0 13 9",svg:(0,g.jsx)("path",{d:"M1.94727 8.49316C1.42318 8.49316 1.01628 8.35645 0.726562 8.08301C0.440104 7.81283 0.296875 7.41895 0.296875 6.90137V2.07227C0.296875 1.55794 0.444987 1.16081 0.741211 0.880859C1.04069 0.597656 1.44271 0.456055 1.94727 0.456055H7.13281C7.6569 0.456055 8.05566 0.597656 8.3291 0.880859C8.60579 1.16081 8.74414 1.55794 8.74414 2.07227V6.87695C8.74414 7.39128 8.59928 7.78841 8.30957 8.06836C8.02311 8.35156 7.61784 8.49316 7.09375 8.49316H1.94727ZM9.45703 6.03223V2.93164L11.1367 1.49121C11.2376 1.40332 11.3385 1.33496 11.4395 1.28613C11.5436 1.23405 11.6462 1.20801 11.7471 1.20801C11.9456 1.20801 12.1068 1.27311 12.2305 1.40332C12.3542 1.53027 12.416 1.70117 12.416 1.91602V7.05273C12.416 7.26758 12.3542 7.4401 12.2305 7.57031C12.1068 7.70052 11.9456 7.76562 11.7471 7.76562C11.6462 7.76562 11.5436 7.73958 11.4395 7.6875C11.3353 7.63542 11.2344 7.56706 11.1367 7.48242L9.45703 6.03223Z"})});var Xe=n(12714),et=n(11066);function tt(e){var t,n;let{event:i}=e;const s=(0,r.O7)(),l=(0,a.yK)((e=>({button:{fontSize:(0,$.yv)(s,"UIRegular"),fontWeight:V.Z.fontWeight.medium,color:e.blueColor,background:"light"===e.mode?T.ZP.blueWithAlpha(.1):T.ZP.blueWithAlpha(.2),display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:4,lineHeight:1.2,height:28,padding:8},icon:{fill:e.blueColor,width:15,height:12,marginRight:4}})),[s]),d=(0,o.useCallback)((()=>{var e,t;null!==(e=i.conferencing)&&void 0!==e&&e.url&&Xe.D({environment:s,url:null===(t=i.conferencing)||void 0===t?void 0:t.url})}),[s,null===(t=i.conferencing)||void 0===t?void 0:t.url]);return null!==(n=i.conferencing)&&void 0!==n&&n.url?(0,g.jsxs)(et.Z,{style:l.button,onClick:d,children:[Qe(l.icon),"zoom"===i.conferencing.providerName?(0,g.jsx)(I.FormattedMessage,{id:"notionCalendarEvent.joinZoomButton",defaultMessage:"Join Zoom"}):(0,g.jsx)(I.FormattedMessage,{id:"notionCalendarEvent.joinButton",defaultMessage:"Join"})]}):(0,g.jsx)(g.Fragment,{})}function nt(e){let{event:t}=e;const n=t.summary,o=(0,i.VK)((()=>{var e;const n=null===(e=Ae.getCalendarMap())||void 0===e?void 0:e.get(ye.Calendar({id:t.calendarId,accountId:t.accountId}));return null==n?void 0:n.color}),[t]),r=(0,a.yK)((e=>{const n=t.color??o;return{container:{display:"flex",flexDirection:"row",gap:6},title:{fontWeight:V.Z.fontWeight.medium,...V.Z.textOverflowStyle},icon:{fill:"dark"===e.mode?null==n?void 0:n.dark.backgroundPrimary:null==n?void 0:n.light.backgroundPrimary,width:12,marginTop:1}}}),[o,t.color]),s=(0,Re.$G)(t);return n?(0,g.jsxs)("div",{style:r.container,children:[s&&(0,Be.t)(r.icon),(0,g.jsx)(W.Z,{style:r.title,children:n})]}):null}function ot(e){let{event:t}=e;const n=(0,I.useIntl)(),o=(0,a.yK)((e=>({timeAndLocationText:{...V.Z.textOverflowStyle}})),[]);if(t.isAllDay)return null;const r=function(e){let{start:t,end:n,locale:o}=e;const r=k.ou.fromISO(t),i=k.ou.fromISO(n),a=function(e){let{start:t,end:n}=e;if(n.diff(t).as("hours")>12)return!0;return t.hour<12!==n.hour<12}({start:r,end:i});return`${Ue({time:r,showAmPm:a,locale:o})}-${Ue({time:i,showAmPm:!0,locale:o})}`}({start:t.start.dateTime,end:t.end.dateTime,locale:n.locale}),i=[r,t.location].filter(Z.$K).join(" ⸱ ");return(0,g.jsx)(W.Z,{style:o.timeAndLocationText,isSecondaryColor:!0,children:i})}const rt=function(e){var t;let{event:n,allSquashedEvents:s}=e;const l=function(e){if(e.isAllDay)return!1;const t=k.ou.fromISO(e.start.dateTime,{zone:e.start.timeZone}),n=k.ou.fromISO(e.end.dateTime,{zone:e.end.timeZone});return k.Xp.fromDateTimes(t,n).contains(k.ou.now())}(n)&&(0,Z.$K)(null===(t=n.conferencing)||void 0===t?void 0:t.url),d=(0,r.O7)(),c=(0,a.yK)((e=>({container:{display:"flex",flexDirection:"row",alignContent:"stretch",width:"100%",height:"unset",overflow:"hidden",paddingLeft:4,paddingTop:1,paddingBottom:1},colorLabelContainer:{display:"flex",height:"100%",justifyContent:"flex-end",gap:2,paddingTop:4,paddingBottom:4},eventDetailsContainer:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",marginLeft:12,overflow:"hidden"},nameAndTimeContainer:{display:"flex",flexDirection:"column",justifyContent:"start",overflow:"hidden"},title:{fontWeight:510,color:e.text.primary}})),[]),u=(0,i.VK)((()=>C.default.state.currentSpaceStore),[]),[p]=(0,le.r5)((async()=>await(0,ze.sT)({environment:d,baseUrl:n.url,spaceStore:u,collectionViewStore:void 0,from:"homeEventClick"})),[u,d,n.url]),m=(0,o.useCallback)((e=>{e.preventDefault();const t=null==p?void 0:p.value;t&&(0,ze.B9)({environment:d,url:t})}),[d,p]);return(0,g.jsxs)(_.Z,{style:c.container,onClick:m,href:null==p?void 0:p.value,disabled:!(null!=p&&p.value),children:[(0,g.jsx)("div",{style:c.colorLabelContainer,children:s.map((e=>(0,g.jsx)(qe,{event:e},ye.Event(e))))}),(0,g.jsxs)("div",{style:c.eventDetailsContainer,children:[(0,g.jsxs)("div",{style:c.nameAndTimeContainer,children:[(0,g.jsx)(nt,{event:n}),(0,g.jsx)(ot,{event:n})]}),l&&(0,g.jsx)(tt,{event:n})]})]})};function it(e){let{date:t,allDayEvents:n,timedEvents:o}=e;const r=(0,I.useIntl)(),i=new Date(t).toLocaleDateString(r.locale,{timeZone:"UTC"})===(new Date).toLocaleDateString(r.locale),s=new Date(t).toLocaleDateString(r.locale,{weekday:"short",timeZone:"UTC"}),l=new Date(t).toLocaleDateString(r.locale,{month:"short",day:"numeric",timeZone:"UTC"}),d=(0,a.yK)((e=>({container:{display:"flex",paddingBottom:12},dateContainer:{display:"flex",flexDirection:"column",alignItems:"start",width:64,paddingRight:16},eventsContainer:{display:"flex",flexDirection:"column",alignItems:"start",paddingRight:b.A5/2,overflow:"hidden"},allDayEvent:{},timedEvent:{},eventTitle:{color:e.regularTextColor,fontSize:V.Z.fontSize.UIRegular.desktop},eventTime:{color:e.lightTextColor,fontSize:V.Z.fontSize.UIRegular.desktop},dayStringStyle:{color:i?e.redBadgeBackground:e.lightTextColor}})),[i]);return(0,g.jsxs)("div",{style:d.container,children:[(0,g.jsxs)("div",{style:d.dateContainer,children:[(0,g.jsx)(W.Z,{isSmall:!0,style:d.dayStringStyle,children:s}),(0,g.jsx)(W.Z,{isSmall:!0,style:d.dayStringStyle,children:l})]}),(0,g.jsx)("div",{style:d.eventsContainer,children:[...n,...o].map((e=>{let{baseEvent:n,allSquashedEvents:o}=e;return(0,g.jsx)(rt,{event:n,allSquashedEvents:o},function(e){let{event:t,date:n}=e;return`${t.isAllDay}-${t.id}-${n}`}({event:n,date:t}))}))})]})}const at=o.memo(it);function st(e){let{}=e;const t=(0,i.VK)((()=>void 0!==Ae.getStateForCurrentSpaceView()),[]),n=(0,i.VK)((()=>{const{timeMin:e,timeMax:t}=He();return function(e){let{events:t,calendars:n,startDate:o,endDateInclusive:r,eventFilters:i}=e;const a=we(o),s=we(r),l=new ve([],(e=>{let{baseEvent:t}=e;return t.id}));for(const c of t){const e=null==n?void 0:n.get(ye.Calendar({id:c.calendarId,accountId:c.accountId}));if(!e||!Me({event:c,calendar:e,minDate:a,maxDateInclusive:s,eventFilters:i}))continue;const t=l.get(c.id);t?t.allSquashedEvents=fe()([...t.allSquashedEvents,c],(e=>ye.Event(e))):l.append(c.id,{baseEvent:c,allSquashedEvents:[c]})}const d=new ve(Se(o,r).map((e=>({date:e,allDayEvents:[],timedEvents:[]}))),(e=>{let{date:t}=e;return t}));for(const{baseEvent:c,allSquashedEvents:u}of l.getOrderedValues())if(c.isAllDay){const e=xe({eventStartDate:c.start.date,eventEndDateInclusive:c.end.date,minDate:a,maxDateInclusive:s});for(const t of e){const e=d.get(t);e&&e.allDayEvents.push({baseEvent:c,allSquashedEvents:u})}}else{const e=we(c.start.dateTime),t=d.get(e);if(!t)continue;t.timedEvents.push({baseEvent:c,allSquashedEvents:u})}return d.getOrderedValues()}({events:Ae.getEvents(),calendars:Ae.getCalendarMap(),startDate:new Date(e).toISOString(),endDateInclusive:new Date(t).toISOString(),eventFilters:{all_day_events:me("all_day_events"),events_without_participants:me("events_without_participants"),events_without_location:me("events_without_location")}})}),[]);return t?(0,g.jsx)(g.Fragment,{children:(null==n?void 0:n.map((e=>(0,g.jsx)(at,{date:e.date,timedEvents:e.timedEvents,allDayEvents:e.allDayEvents},e.date))))??[]}):null}const lt=o.memo(st);var dt=n(23279),ct=n.n(dt),ut=n(44615),pt=n(2688);const mt=ct()(Fe,1e3,{leading:!1,trailing:!0});function ht(e){let{}=e;const t=(0,i.VK)((()=>Ae.getCalendarAndAccountIds()),[]);return(0,g.jsx)(g.Fragment,{children:t.map((e=>{let{calendarId:t,accountId:n}=e;return(0,g.jsx)(gt,{accountId:n,calendarId:t},t)}))})}function gt(e){let{accountId:t,calendarId:n}=e;return function(e){let{accountId:t,botId:n,calendarId:a}=e;const s=(0,r.O7)(),l=(0,i.VK)((()=>C.default.state.currentSpaceViewStore),[]),d=(0,o.useRef)(),c=(0,o.useCallback)((()=>{if(!n)return;const e=(0,ut.vb)({accountId:t,botId:n,calendarId:a});d.current=pt.ZP.addListener(e,(()=>{mt({currentSpaceViewStore:l,environment:s,botId:n,forceRefetch:!0})}),void 0,s)}),[n,t,a,s,l]),u=(0,o.useCallback)((()=>{d.current&&(pt.ZP.removeListener(d.current,s),d.current=void 0)}),[s]);(0,o.useEffect)((()=>(c(),u)),[c,u])}({accountId:t,botId:Ee(),calendarId:n}),null}const ft=o.memo(ht);var vt=n(31945);class yt extends E.default{getInitialState(){return{open:!1}}close(){this.setState({open:!1})}open(){this.setState({open:!0,panel:"main"})}}const Ct=yt;var xt=n(56666),St=n(64921);function wt(e){let{...t}=e;const n=(0,I.useIntl)(),o=(0,a.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor}})),[]),r=n.formatMessage({defaultMessage:"View options",id:"PersonalHomePanel.moreDropdownButton.tooltip"});return(0,g.jsx)(St.Z,{ariaLabel:r,style:o.buttonStyle,mobileFeedback:!1,...t,children:(0,xt.o)(o.threeDotIcon)})}const jt=o.memo(wt);var bt=n(9999),kt=n(3338),Mt=n(44643),It=n(84169),Tt=n(36329),Zt=n(73201),Vt=n(58188),Lt=n(52275),_t=n(32163),Ht=n(72495),Pt=n(86825);const At=20;function Ft(e){let{actions:t}=e;const n=(0,a.yK)((e=>({hideButtonIcon:{height:At,width:At,fill:e.regularIconColor}})),[]),r=(0,o.useMemo)((()=>{const e={};return t.forEach((t=>{"custom"===t.type&&(e[t.item.key]=t.closeOnAccept)})),e}),[t]),i=[{key:"all",render:e=>(0,g.jsx)(Ht.Z,{...e}),items:t.map((e=>{switch(e.type){case"hide":return{key:"hide",render:e=>(0,g.jsx)(Lt.Z,{...e,icon:(0,Mt.L)(n.hideButtonIcon),title:(0,g.jsx)(I.FormattedMessage,{id:"PersonalHomePanel.moreDropdown.hide.title",defaultMessage:"Hide from home"})}),action:e.hide};case"custom":return e.item;default:(0,Z.t1)(e)}}))}];return(0,g.jsx)(vt.ZP,{popupType:vt.Z4.Popup,alignmentToOrigin:vt.vR.Center,originGap:2,renderOrigin:e=>(0,g.jsx)(jt,{...e}),render:e=>(0,g.jsx)(z.Z,{menuType:G.og.Popup,children:(0,g.jsx)(_t.Z,{onAccept:t=>((e,t)=>{r[e.key]&&t.close()})(t,e),type:_t.i.Vertical,sections:i,initialFocus:void 0})})})}const Kt=o.memo(Ft),Dt={all_day_events:{title:(0,g.jsx)(I.FormattedMessage,{id:"NotionCalendarSettingsContent.allDayEvents",defaultMessage:"Show all-day events"}),icon:kt.p},events_without_participants:{title:(0,g.jsx)(I.FormattedMessage,{id:"NotionCalendarSettingsContent.eventsWithoutParticipants",defaultMessage:"Events w/o participants"}),icon:Tt._},events_without_location:{title:(0,g.jsx)(I.FormattedMessage,{id:"NotionCalendarSettingsContent.eventsWithoutLocation",defaultMessage:"Events w/o conferencing/location"}),icon:Zt.w}};function Et(e){let{}=e;const t=(0,r.O7)(),n=(0,i.VK)((()=>C.default.state.currentSpaceViewStore),[]),s=(0,o.useCallback)((()=>{}),[]),l=(0,o.useCallback)((()=>{}),[]),d=(0,o.useCallback)((()=>{n&&Vt.aG({environment:t,currentSpaceViewStore:n,feature:"calendar",from:"calendar_dismiss_button"})}),[n,t]),c=(0,a.yK)((e=>{const t={width:At,height:At,fill:e.regularIconColor};return{icon:t,iconLarge:{...t,margin:-2,width:24,height:24},iconLight:{...t,fill:e.lightIconColor},lightMenuButton:{color:e.lightTextColor}}}),[]),u=[{key:"calendarSpecificSettings",render:e=>(0,g.jsx)(Ht.Z,{...e}),items:[...(0,Z.qP)(Dt).map((e=>{let[t,{title:n,icon:o}]=e;return{key:`eventFilter_${t}`,render:e=>(0,g.jsx)(Ot,{...e,filter:t,icon:o(c.icon),title:n}),action:()=>{}}}))]},{key:"highLevelSettingsAndLinks",render:e=>(0,g.jsx)(Ht.Z,{...e,topBorder:!0}),items:[{key:"openNotionCalendar",render:e=>(0,g.jsx)(Lt.Z,{...e,icon:(0,bt.J)(c.icon),title:(0,g.jsx)(I.FormattedMessage,{id:"NotionCalendarSettingsContent.openNotionCalendar",defaultMessage:"Open Notion Calendar"})}),action:s},{key:"hideWidget",render:e=>(0,g.jsx)(Lt.Z,{...e,icon:(0,Mt.L)(c.iconLarge),title:(0,g.jsx)(I.FormattedMessage,{id:"NotionCalendarSettingsContent.hideWidget",defaultMessage:"Hide upcoming events widget"})}),action:d},{key:"learnMore",render:e=>(0,g.jsx)(Lt.Z,{...e,style:c.lightMenuButton,icon:(0,It.m)(c.iconLight),title:(0,g.jsx)(I.FormattedMessage,{id:"NotionCalendarSettingsContent.learnMore",defaultMessage:"Learn more"})}),action:l}]}];return(0,g.jsx)(z.Z,{menuType:G.og.Popup,width:320,children:(0,g.jsx)(_t.Z,{onAccept:e=>{},type:_t.i.Vertical,sections:u,initialFocus:void 0})})}function Ot(e){let{filter:t,title:n,icon:a,...s}=e;const l=(0,r.O7)(),d=(0,i.VK)((()=>me(t)),[t]),c=(0,o.useCallback)((()=>{!function(e){var t;let{environment:n,filter:o}=e;const{currentSpaceViewStore:r}=C.default.state;if(!r)return;const i=null===(t=r.getHomeCalendarConfigStore())||void 0===t||null===(t=t.getKeyStore("event_filters"))||void 0===t?void 0:t.getKeyStore(o),a=me(o);D.createAndCommit({userAction:"homeCalendarActions.toggleCalendarEventFilter",environment:n,perform:e=>{ue.sO({transaction:e,store:i,value:!a})}})}({environment:l,filter:t})}),[l,t]);return(0,g.jsx)(Pt.Z,{...s,on:d,icon:a,title:n,onClick:c})}const Bt=o.memo(Et);function Rt(e){let{}=e;const t=(0,i.qz)(void 0,Ct),n=(0,i.VK)((()=>t.state.open),[t]),r=(0,o.useCallback)((()=>t.close()),[t]),a=(0,o.useCallback)((()=>t.open()),[t]);return(0,g.jsx)(vt.ZP,{renderOrigin:e=>(0,g.jsx)(jt,{...e,onClick:a}),open:n,popupType:U.kQ.Popup,alignmentToOrigin:vt.vR.End,placementToOrigin:vt.pO.Bottom,onClose:r,onClick:a,render:e=>(0,g.jsx)(Bt,{})},"settings")}const zt=o.memo(Rt);const Ut=function(e){let{height:t}=e;const n=(0,r.O7)(),o=(0,i.VK)((()=>C.default.state.currentSpaceViewStore),[]),s=Ee();(0,le.r5)((async()=>{s&&await Fe({environment:n,currentSpaceViewStore:o,botId:s,forceRefetch:!1})}),[s,o,n]);const d=(0,a.yK)((()=>({panel:{height:t,paddingRight:0,paddingBottom:0},panelHeader:{paddingRight:b.A0},innerContainer:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0}})),[t]);return(0,g.jsxs)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"notionCalendarPanel.panelTitle",defaultMessage:"Upcoming events"}),actions:[(0,g.jsx)(zt,{},"settings")],panelStyle:d.panel,headerStyle:d.panelHeader,icon:(0,de.C)(),children:[(0,g.jsx)(ft,{}),(0,g.jsx)("div",{style:d.innerContainer,children:(0,g.jsx)(l.Z,{type:y.Z.Y,children:(0,g.jsx)(lt,{})})})]})};var Wt=n(37694),Nt=n(91427),Gt=n(53223),$t=n(45589);function Yt(e){let{store:t,style:n,scrollContainerStyle:o,collectionContextStore:r,emptyState:s,...d}=e;const c=(0,i.qz)(void 0,$t.Z),u=(0,i.VK)((()=>0===(null==c?void 0:c.state.scrollTop)),[c]),p=(0,a.yK)((()=>{const e=-b.A5/2;return{container:{position:"relative",display:"flex",flexDirection:"column",width:`calc(100% + ${-e})`,height:"100%",overflow:"hidden",marginLeft:e,paddingBottom:0,...n},scrollerFadeStyle:{paddingRight:8,...u?{}:{maskImage:b.Wx,WebkitMaskImage:b.Wx}},emptyStateWrapper:{paddingRight:b.A5,paddingBottom:b.A5,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}),[u,n]);return(0,i.VK)((()=>null==r?void 0:r.isEmptyStore.state),[r])&&s?(0,g.jsx)("div",{style:p.emptyStateWrapper,children:s}):(0,g.jsx)("div",{style:p.container,children:t&&(0,g.jsx)(l.Z,{type:y.Z.Y,style:p.scrollerFadeStyle,store:c,children:(0,g.jsx)(Jt,{store:t,...d})})})}function qt(e){let{store:t,...n}=e;return(0,g.jsx)(Gt.DZ,{store:t,disabled:!1,hideHeader:!0,isFullScreen:!1,hideHeaderActions:!0,overrideViewType:"list",...n})}const Jt=o.memo(qt),Qt=o.memo(Yt);function Xt(e){let{message:t,icon:n,iconStyle:o}=e;const r=(0,a.yK)((e=>({container:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center",flexDirection:"column",gap:12},icon:{...(0,b.jO)(e),...o}})),[o]);return(0,g.jsxs)("div",{style:r.container,children:[null==n?void 0:n(r.icon),(0,g.jsx)(W.Z,{isSecondaryColor:!0,children:t})]})}function en(e){let{onLoaded:t,panelStyle:n}=e;const r=(0,i.VK)((()=>{const e=(0,j.J2)("favorites");if(null!=e&&e.isCollectionView())return e}),[]),[s,l]=o.useState(void 0),d=(0,a.yK)((e=>({icon:{width:14,height:14,fill:e.mediumIconColor},panel:{...n,paddingBottom:0}})),[n]);return(0,o.useEffect)((()=>{null!=s&&s.shouldShowSpinner&&null!=s&&s.isLoading&&t()}),[s,t]),(0,g.jsx)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.favorites",defaultMessage:"Favorites"}),icon:(0,Nt.e)(d.icon),panelStyle:d.panel,children:(0,g.jsx)(Qt,{store:r,collectionContextStore:s,setCollectionContextStore:l,emptyState:(0,g.jsx)(tn,{})})})}function tn(){return(0,g.jsx)(Xt,{icon:Wt.u,iconStyle:{width:32},message:(0,g.jsx)(I.FormattedMessage,{id:"favoritesHomePanel.emptyState.message",defaultMessage:"Your favorited pages will show up here."})})}const nn=o.memo(en);var on=n(25651),rn=n(60597);function an(e){let{onLoaded:t,panelStyle:n}=e;const r=(0,i.VK)((()=>{const e=(0,j.J2)("lastEdited");if(null!=e&&e.isCollectionView())return e}),[]),[s,l]=o.useState(void 0),d=(0,a.yK)((e=>({icon:{width:15,height:15,fill:e.mediumIconColor},rightStyle:{overflow:"hidden",marginRight:8},panel:{...n,paddingBottom:0}})),[n]);return(0,o.useEffect)((()=>{null!=s&&s.shouldShowSpinner&&null!=s&&s.isLoading&&t()}),[s,t]),(0,g.jsx)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.LastEdited",defaultMessage:"Last edited"}),icon:(0,on.R)(d.icon),panelStyle:d.panel,children:(0,g.jsx)(Qt,{store:r,collectionContextStore:s,setCollectionContextStore:l,emptyState:(0,g.jsx)(sn,{})})})}function sn(){return(0,g.jsx)(Xt,{icon:rn.y,iconStyle:{width:32},message:(0,g.jsx)(I.FormattedMessage,{id:"LastEditedHomePanel.emptyState.message",defaultMessage:"Your last edited pages will show up here."})})}const ln=o.memo(an);var dn=n(26139),cn=n(30687),un=n(53965),pn=n(60458),mn=n(61519),hn=n(85740),gn=n(32662),fn=(n(95477),n(18514)),vn=n(77907);function yn(e){let{completedType:t,offsetLeftOfCompletedType:n,cardWidth:o,from:r,visibleTips:i}=e;const a=function(e,t,n){if("modal"===t)return!1;const{currentUserSettingsStore:o}=C.default.state,r=null==o?void 0:o.getPersonalHomeTipsSettings().progress_data;if(!r)return!1;let i=!1;for(let s=0;s<e.length;s++){const t=e[s].key;if(t===n)i=!0;else{var a;const e=null===(a=r[t])||void 0===a?void 0:a.completed;if(!i&&!e)return!1;if(i&&e)return!1}}return!0}(i,r,t);return a?n+o:void 0}var Cn=n(8627);class xn extends E.default{getInitialState(){return{num_checked:0,total_cards_shown:0}}}const Sn=new xn;var wn=n(52389),jn=n(84076);function bn(e,t){let{children:n,style:r,innerStyle:i,hoveredStyle:s,pressedStyle:l,disabled:d,...c}=e;const[u,p]=(0,o.useState)(!1),m=(0,a.yK)((e=>({container:{position:"relative"},linkBoxContainer:{flexShrink:0,overflow:"hidden",borderRadius:8,background:e.home.cards.background.base,...r,boxShadow:"unset"},inner:{userSelect:"none",WebkitUserSelect:"none",display:"flex",flexDirection:"column",...i},hovered:{background:e.home.cards.background.hovered,...s,boxShadow:"unset"},pressed:{background:e.home.cards.background.pressed,...l,boxShadow:"unset"},shadowBox:{pointerEvents:"none",position:"absolute",borderRadius:8,top:0,left:0,right:0,bottom:0,zIndex:1,boxShadow:u?(null==s?void 0:s.boxShadow)??e.homeShadow.card.hovered:(null==r?void 0:r.boxShadow)??e.homeShadow.card.base}})),[s,i,u,l,r]);return(0,g.jsxs)("div",{style:m.container,onMouseEnter:()=>{!d&&p(!0)},onMouseLeave:()=>{!d&&p(!1)},ref:t,children:[(0,g.jsx)(jn.Z,{style:m.linkBoxContainer,innerStyle:m.inner,hoveredStyle:m.hovered,pressedStyle:m.pressed,disabled:d,...c,children:n}),(0,g.jsx)("div",{style:m.shadowBox})]})}const kn=o.forwardRef(bn);var Mn=n(36420),In=n(74691),Tn=n.n(In);function Zn(e){let{panDirection:t,cardWidth:n,gapSize:o,startAndEndPadding:r,maxScrollDistPx:i,scrollerStore:a}=e;const s=r-o,{scrollLeft:l,clientWidth:d,scrollWidth:c}=a.state,u=n+o,p=u-l%u+s,m=("left"===t?u-p:p)%u;return function(e){let{newScrollLeft:t,scrollWidth:n,extraGapAtStartAndEndPx:o,clientWidth:r}=e,i=t;i<=o?i=0:i+r>=n-o&&(i=n);return Tn()(i,0,n)}({newScrollLeft:l+("left"===t?-1:1)*(Math.max(1,Math.floor(Math.min(i,d-m)/u))*u+m),scrollWidth:c,extraGapAtStartAndEndPx:s,clientWidth:d})}var Vn=n(2585),Ln=n(5257),_n=n(22863);function Hn(e){let{onClick:t,type:n,scrollerStore:r}=e;const[s,l]=(0,o.useState)(!1),d=(0,i.VK)((()=>{const{scrollLeft:e,scrollWidth:t,clientWidth:o}=r.state;return"left"===n?0===e:"right"===n?e+o>=t:void(0,Z.t1)(n)}),[r,n]),c=(0,a.yK)((e=>({container:{borderRadius:"100%",width:32,height:32,boxShadow:e.homeScrollButtonShadow,background:e.home.scrollButtonBackground.base,position:"absolute",..."left"===n?{left:-16}:{right:-16},top:"calc(50% - 16px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},pressedStyle:{background:e.home.scrollButtonBackground.pressed},icon:{fill:s?e.regularIconColor:e.mediumIconColor,width:13,height:13}})),[s,n]);return(0,g.jsx)(_n.Z,{force:d?"forceHide":void 0,transitionMs:100,children:(0,g.jsx)(_.Z,{style:c.container,onClick:t,hoveredStyle:c.container,pressedStyle:c.pressedStyle,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:"left"===n?(0,Vn.f)(c.icon):(0,Ln.o)(c.icon)})})}const Pn=o.memo(Hn),An=600,Fn=14;function Kn(e){const t=(0,r.MO)(),n=(0,o.useRef)(null),s=(0,o.useRef)(null),d=(0,Mn.y)(s);(0,o.useEffect)((()=>{var t,o;(null===(t=n.current)||void 0===t||t.measureSize(),void 0!==e.scrollPosition)&&(null===(o=n.current)||void 0===o||o.scrollTo(void 0,e.scrollPosition.position,{animate:e.scrollPosition.animate}))}),[null==d?void 0:d.width,e.scrollPosition]);const c=(0,i.qz)(void 0,$t.Z),u=(0,o.useCallback)((t=>{var o;let{panDirection:r}=t;const i=Zn({panDirection:r,cardWidth:e.cardWidth,gapSize:Fn,startAndEndPadding:b.A5,maxScrollDistPx:An,scrollerStore:c});null===(o=n.current)||void 0===o||o.scrollTo(void 0,i,{animate:!0})}),[e.cardWidth,c]),p=(0,o.useCallback)((()=>u({panDirection:"left"})),[u]),m=(0,o.useCallback)((()=>u({panDirection:"right"})),[u]),h=!t,f=(0,a.yK)((()=>({container:{position:"relative",width:`calc(100% + ${2*b.A5}px)`,marginLeft:-b.A5,marginRight:-b.A5},innerContainer:{display:"flex",gap:Fn,width:"max-content",marginTop:4,marginBottom:1,paddingLeft:b.A5,paddingRight:b.A5}})),[]);return(0,g.jsxs)("div",{style:f.container,children:[(0,g.jsx)(l.Z,{ref:n,className:v.us,store:c,type:y.Z.X,children:(0,g.jsx)("div",{style:f.innerContainer,ref:s,children:e.children})}),h&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Pn,{onClick:p,type:"left",scrollerStore:c}),(0,g.jsx)(Pn,{onClick:m,type:"right",scrollerStore:c})]})]})}const Dn=o.memo(Kn),En=226,On=3*b.A5;function Bn(){const e=(0,r.O7)(),t=(0,a.yK)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:14,color:e.lightTextColor,flexGrow:1},icon:{width:16,height:16,fill:e.blueColor}})),[]);return(0,g.jsx)(Xt,{message:(0,g.jsxs)("div",{style:t.container,children:[(0,g.jsx)(I.FormattedMessage,{id:"TipsHomePanel.emptyState.message",defaultMessage:"New tips and guides will appear here."}),(0,g.jsx)(gn.Z,{size:12}),(0,g.jsxs)(hn.Z,{isBlue:!0,onClick:()=>{Xe.D({environment:e,url:"https://www.notion.so/help",targetSelf:!1})},children:[(0,g.jsx)(I.FormattedMessage,{id:"TipsHomePanel.emptyState.exploreMore",defaultMessage:"Explore more in Help Center"}),(0,g.jsx)(gn.Z,{size:2}),(0,dn.K)(t.icon)]})]})})}function Rn(e){const{reorderTipsCallback:t}=e,n=(0,r.O7)(),o=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=C.default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),s=(0,a.yK)((e=>({button:{fontSize:(0,$.yv)(n,"UISmall"),fontWeight:V.Z.fontWeight.medium,color:e.text.secondary,borderRadius:3,padding:"6px 8px",marginRight:-8}})),[n]);return(0,g.jsx)(St.Z,{onClick:()=>{(0,S.N8)({hide:!o,environment:n});const e=Sn.state;ae.uD(n,{show_completed_tips:o,num_checked:e.num_checked,total_cards_shown:e.total_cards_shown}),t()},style:s.button,children:o?(0,g.jsx)(I.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.show",defaultMessage:"Show completed"}):(0,g.jsx)(I.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.hide",defaultMessage:"Hide completed"})})}function zn(e){const{card:t,onCompleted:n}=e,s=(0,r.O7)(),[l,d]=(0,o.useState)(!1),c=(0,i.VK)((()=>{const{isElectron:e,isMobileNative:t}=s.device,n=["local","production"].includes("production");return x.default.checkGate("tips_inapp_modal")&&(!e||n)&&!t}),[s]),u=t.key,p=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=C.default.state;if(!e)return!1;const t=e.getPersonalHomeTipsSettings().progress_data[u];return!!t&&t.completed}),[u]),m=(0,o.useRef)(null),h=(0,o.useCallback)(((e,t)=>{if(e===p)return;(0,S.K_)({tipType:u,completed:e,environment:s});const o=Sn.state,r=o.num_checked+(e?1:-1);Sn.setState({...o,num_checked:r}),ae.g8(s,{tip_key:u,checked:e,from:t,num_checked:r,total_cards_shown:o.total_cards_shown}),e&&m.current&&n(u,t,m.current)}),[u,s,p,n]),f=(0,o.useCallback)((()=>{ae.PQ(s,{tip_key:u,was_completed:p,in_app_modal_enabled:c}),c?wn.Z.setState({open:!0,tipCardDisplayInfo:t,onClosed:()=>h(!0,"modal")}):h(!0,"clickthrough")}),[s,u,p,c,h,t]),v=(0,a.yK)((e=>{const t={position:"absolute",top:8,right:8},n={height:104,padding:12,width:En,position:"relative",fill:e.icon.yellow},o={display:"inline-flex",alignItems:"center",fontSize:12};return{item:n,checkedItem:{...n,color:e.text.secondary},pressedItem:{background:e.home.cards.background.pressed},icon:{width:20,height:20},caption:{...o,color:e.text.secondary},pressedCaption:{...o,color:e.text.tertiary},title:{fontSize:14,lineHeight:"18px",fontWeight:V.Z.fontWeight.medium,minHeight:36,marginTop:6,marginBottom:4,whiteSpace:"pre-wrap",...(0,$.pd)(2)},hiddenCheckbox:{display:"none"},checkbox:t,hoveredCheckbox:{...t,fill:e.home.cards.coverPhoto.base}}}),[]),y=p?v.checkbox:l?v.hoveredCheckbox:v.hiddenCheckbox,w=p?v.checkedItem:v.item,j=p?v.pressedCaption:v.caption,b=(0,o.useMemo)((()=>{const e=(0,fn.UY)("guides.guides"),n=new URLSearchParams;return n.set("utm_source","tips"),n.set("utm_medium","inapp"),n.set("utm_campaign","2024q1_tipsinhome_m2"),c?void 0:`${e}${t.href}?${n.toString()}`}),[c,t.href]);return(0,g.jsxs)(kn,{ref:m,href:b,style:w,pressedStyle:v.pressedItem,external:!0,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:f,children:[(0,g.jsx)(pn.Z,{checked:p,size:20,onClick:()=>h(!p,"check_button"),round:!0,thinOutline:!0,style:y,tooltipHeader:p?(0,g.jsx)(I.FormattedMessage,{id:"tipsHomePanel.checkbox.incompleteTooltip",defaultMessage:"Mark incomplete"}):(0,g.jsx)(I.FormattedMessage,{id:"tipsHomePanel.checkbox.completeTooltip",defaultMessage:"Mark complete"})}),t.icon(v.icon),(0,g.jsx)("div",{style:v.title,children:t.title}),Boolean(t.durationMinutes)&&(0,g.jsx)("div",{style:j,children:"video"===t.contentType?(0,g.jsx)(I.FormattedMessage,{id:"tipsHomePanel.captionDuration.watch",defaultMessage:"{duration}m watch",values:{duration:t.durationMinutes}}):(0,g.jsx)(I.FormattedMessage,{id:"tipsHomePanel.captionDuration.read",defaultMessage:"{duration}m read",values:{duration:t.durationMinutes}})})]})}const Un=function(e){let{onLoaded:t}=e;const n=(0,r.O7)(),{value:s}=(0,vn.useDependency)(vn.deps.personalHomeLearnHelpers),[l,d]=(0,o.useState)(!0),[c,u]=(0,o.useState)([]),[p,m]=(0,o.useState)([]),[h,f]=(0,o.useState)(void 0),v=(0,i.VK)((()=>{if(!s)return[];const e=Cn.Z.state,{currentUserSettingsStore:t}=C.default.state;if(e)return s.getRelevantTipCards(e);if(null==t||!t.isReady())return[];const n=s.getTipsEligibilityData();return s.getRelevantTipCards(n)}),[s]),y=(0,o.useCallback)((()=>{const{currentUserSettingsStore:e}=C.default.state;if(null==e||!e.isReady())return;const n=e.getPersonalHomeTipsSettings().progress_data,[o,r]=un.uK(v,(e=>{const t=e.key,o=n[t];return null==o?void 0:o.completed}));u(o),m(r),d(!1),t(),Sn.setState({...Sn.state,num_checked:o.length,total_cards_shown:v.length})}),[v,t]);(0,o.useEffect)((()=>{y()}),[y]);const x=(0,o.useCallback)((e=>{e&&f({position:e.offsetLeft-On,animate:!1})}),[]),S=(0,a.yK)((e=>({tileIcon:{width:14,height:14,fill:e.mediumIconColor},header:{marginBottom:-16},panel:{height:168},gallery:{paddingTop:12},divider:{height:104,scrollMarginLeft:On},dividerColor:{color:e.home.cards.verticalDivider}})),[]),w=(0,i.VK)((()=>C.default.state.currentSpaceViewStore),[]),j=(0,o.useCallback)((()=>{w&&Vt.aG({environment:n,currentSpaceViewStore:w,feature:"tips",from:"learn_dismiss_button"})}),[w,n]),b=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=C.default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),k=!l&&b&&0===p.length,M=(0,o.useCallback)(((e,t,n)=>{const o=b?p:c.concat(p),r=yn({completedType:e,offsetLeftOfCompletedType:n.offsetLeft,cardWidth:En,from:t,visibleTips:o});r&&f({position:r,animate:!0})}),[b,p,c,f]);return(0,g.jsx)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"LearnHomePanel.Title",defaultMessage:"Learn"}),actions:[(0,g.jsx)(Kt,{actions:[{type:"hide",hide:j}]},"more")],icon:(0,cn.w)(S.tileIcon),right:(0,g.jsx)(Rn,{reorderTipsCallback:y}),panelStyle:S.panel,headerStyle:S.header,children:k?(0,g.jsx)(Bn,{}):(0,g.jsx)("div",{style:S.gallery,children:(0,g.jsxs)(Dn,{cardWidth:En,scrollPosition:h,children:[!b&&c.map((e=>(0,g.jsx)(zn,{card:e,onCompleted:M},e.key))),!b&&c.length>0&&p.length>0&&(0,g.jsx)(mn.Z,{ref:x,vertical:!0,size:1,style:S.divider,dividerColor:S.dividerColor.color}),p.map((e=>(0,g.jsx)(zn,{card:e,onCompleted:M},e.key)))]})})})},Wn=(0,Je.IU)("trendingArrow",{viewBox:"0 0 20 20",svg:(0,g.jsx)("path",{d:"M3.76208 13.6882L2.71619 12.6491L5.81287 9.49773C5.98604 9.32 6.15466 9.19467 6.31873 9.12175C6.48735 9.04428 6.66052 9.00554 6.83826 9.00554C7.01599 9.00554 7.18917 9.04428 7.35779 9.12175C7.53097 9.19923 7.69958 9.32455 7.86365 9.49773L10.2494 11.986C10.3086 12.0453 10.3679 12.0749 10.4271 12.0749C10.4909 12.0749 10.5524 12.0453 10.6117 11.986L13.2367 9.29949L12.2181 8.28093C12.1088 8.17156 12.0518 8.05307 12.0472 7.92547C12.0472 7.79786 12.0905 7.68393 12.1771 7.58367C12.2683 7.47885 12.3913 7.40593 12.5463 7.36492L16.5726 6.33269C16.7094 6.29623 16.837 6.30763 16.9554 6.36687C17.0785 6.42612 17.1696 6.51498 17.2289 6.63347C17.2881 6.74741 17.2995 6.87501 17.2631 7.01629L16.224 11.0495C16.183 11.2044 16.1101 11.3275 16.0052 11.4186C15.9004 11.5052 15.7842 11.5485 15.6566 11.5485C15.5336 11.544 15.4174 11.487 15.308 11.3776L14.2758 10.3386L11.4525 13.1755C11.1198 13.5081 10.778 13.6745 10.4271 13.6745C10.2494 13.6745 10.0739 13.6358 9.90076 13.5583C9.72758 13.4762 9.56124 13.3486 9.40173 13.1755L7.01599 10.694C6.9613 10.6302 6.90206 10.5983 6.83826 10.5983C6.77901 10.5983 6.71977 10.6302 6.66052 10.694L3.76208 13.6882Z"})}),Nn=(0,Je.IU)("trendingLarge",{viewBox:"0 0 48 48",svg:(0,g.jsx)("path",{d:"M8.75 36.5842V11.4307C8.75 10.7907 9.28581 10.24 9.95558 10.24C10.6105 10.24 11.1463 10.7907 11.1463 11.4307V24.7219L15.79 20.0186C16.4747 19.3339 17.0998 19.0363 17.7993 19.0363C18.4988 19.0363 19.1537 19.3488 19.8086 20.0186L25.2858 25.6298C25.4198 25.7637 25.5686 25.8381 25.6877 25.8381C25.8216 25.8381 25.9705 25.7637 26.1044 25.6298L31.9686 19.6912L29.5128 17.2353C28.977 16.6995 29.3044 16.0149 30.0635 15.8065L38.7705 13.6186C39.4402 13.44 40.0356 14.0056 39.857 14.6902L37.6542 23.4121C37.4607 24.1712 36.7612 24.4986 36.2253 23.9628L33.7844 21.507L27.7119 27.6093C27.0421 28.2791 26.4021 28.5916 25.6877 28.5916C24.9881 28.5916 24.3184 28.2791 23.6784 27.6093L18.2012 21.9981C18.0672 21.8642 17.9333 21.7898 17.7993 21.7898C17.6653 21.7898 17.5314 21.8642 17.3974 21.9981L11.1463 28.3684V34.9619C11.1463 35.2744 11.2505 35.3786 11.563 35.3786H39.5444C40.1993 35.3786 40.75 35.9144 40.75 36.5693C40.75 37.2391 40.1993 37.76 39.5444 37.76H9.9407C9.22628 37.76 8.75 37.2986 8.75 36.5842Z"})});function Gn(e){let{onLoaded:t,panelStyle:n}=e;const r=(0,i.VK)((()=>{const e=(0,j.J2)("mostVisited");if(null!=e&&e.isCollectionView())return e}),[]),[s,l]=o.useState(void 0),d=(0,a.yK)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden",marginRight:8},panel:{...n,paddingBottom:0}})),[n]);return(0,o.useEffect)((()=>{null!=s&&s.shouldShowSpinner&&null!=s&&s.isLoading&&t()}),[s,t]),(0,g.jsx)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.mostVisited",defaultMessage:"Most visited"}),icon:Wn(d.icon),panelStyle:d.panel,children:(0,g.jsx)(Qt,{store:r,collectionContextStore:s,setCollectionContextStore:l,emptyState:(0,g.jsx)($n,{})})})}function $n(){return(0,g.jsx)(Xt,{icon:Nn,message:(0,g.jsx)(I.FormattedMessage,{id:"mostVisitedHomePanel.emptyState.message",defaultMessage:"Your most visited pages will show up here."})})}const Yn=o.memo(Gn);n(52262),n(24506);var qn=n(23063),Jn=n(3553),Qn=n(5971);const Xn=function(e){let{onLoaded:t}=e;const[n,s]=o.useState(void 0),l=(0,r.Fy)(),d=(0,i.VK)((()=>{const e=(0,j.J2)("myTasks");if(null!=e&&e.isCollectionView())return e}),[]),c=(0,Qn.E)("home_compact_view"),u=(0,i.VK)((()=>{if(!c)return"list";const e=null==d?void 0:d.getCollectionViewStores().at(0);return null==e?void 0:e.getType()}),[d,c]),p=(0,i.VK)((()=>"list"===u?b.Uf:!l.isPhone||"board"!==u&&"gallery"!==u?b.Cm:b.QF),[l.isPhone,u]);(0,o.useEffect)((()=>{n&&t()}),[n,t]);const m=(0,a.yK)((e=>({panel:{paddingRight:0,paddingBottom:0,paddingLeft:0,paddingTop:0,height:"100%",minHeight:130,maxHeight:p,..."timeline"===u?{background:e.timelineBackground}:{}}})),[u,p]),h=(0,o.useMemo)((()=>(0,g.jsx)(Oe.Z,{panelStyle:m.panel,children:d&&(0,g.jsx)(Gt.DZ,{store:d,disabled:!1,isFullScreen:!1,overrideViewType:u,isFirstItem:!0,isLastItem:!0,maxHeight:p,overridePaddingLeft:0,overridePaddingRight:0,setCollectionContextStore:s})})),[u,p,d,m.panel]);return(0,g.jsx)(qn.Z,{isVisible:!0,animationStyle:{maxHeight:p},render:()=>d?(0,g.jsx)(Jn.Z,{store:d,isDefaultContainer:!0,droppable:!0,render:e=>{let{selectableEvents:t}=e;return(0,g.jsx)("div",{...t,children:h})}}):h})};var eo=n(15447),to=n(36596);function no(e){let{showLoadingShimmer:t,width:n,height:o}=e;const r=(0,a.yK)((e=>({item:{width:n,height:o,background:t?"unset":e.home.cards.coverPhoto.base,boxShadow:"unset"},loadingShimmer:{width:"100%",height:"100%"}})),[o,t,n]);return(0,g.jsx)(kn,{style:r.item,disabled:!0,children:t&&(0,g.jsx)(to.Z,{style:r.loadingShimmer})})}const oo=o.memo(no);var ro=n(55535),io=n(15145),ao=n(7057);const so=(0,Je.IU)("pageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"white",fillOpacity:"0.445"})]})}),lo=(0,Je.IU)("pageIconFilledDarkNoContent",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"white",fillOpacity:"0.445"})]})}),co=(0,Je.IU)("pageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"#91918E"})]})}),uo=(0,Je.IU)("pageIconFilledLightNoContent",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"#91918E"})]})});var po=n(70096),mo=n(54368),ho=n(77420),go=n(19889),fo=n(10912),vo=n(31278),yo=n(76798),Co=n(70301),xo=n(45653),So=n(84210),wo=n(16402),jo=n(88923),bo=n(9339);const ko=16,Mo=28,Io=16;function To(e){let{store:t}=e;const n=(0,a.Fg)(),o=(0,i.VK)((()=>{var e;return(0,bo.O)({icon:null===(e=t.getIconStore())||void 0===e?void 0:e.getValue(),theme:n})}),[t,n]),r=(0,i.VK)((()=>(0,So.ZP)({store:t,fullyQualified:!1,pageVisitSource:io.tY.PersonalHomeTileRecents,peekMode:(0,jo.getUrlParamFromPeekMode)(po.l)})),[t]),s=(0,a.yK)((e=>({container:{position:"relative",width:b.FK,height:b.yc,display:"flex",justifyContent:"stretch"},coverAndIconContainer:{position:"relative",width:b.FK,marginBottom:16},emptyGalleryCoverStyle:{border:"unset",background:o?(0,We.Fq)(o,.1):e.home.cards.coverPhoto.base}})),[o]);return(0,g.jsxs)(kn,{style:s.container,href:r,metaHref:r,children:[(0,g.jsxs)("div",{style:s.coverAndIconContainer,children:[(0,g.jsx)(fo.Z,{variant:"gallery",store:t,coverFormat:{type:"page_cover"},coverHeight:44,showEmptyGalleryCover:!0,onLoadProxiedImage:e=>{},emptyGalleryCoverStyle:s.emptyGalleryCoverStyle}),(0,g.jsx)(Zo,{store:t})]}),(0,g.jsx)(Vo,{store:t})]})}function Zo(e){let{store:t}=e;const n=(0,r.MO)(),o=(0,r.O7)(),s=(0,i.VK)((()=>t.hasError()),[t]),l=(0,i.VK)((()=>t.getIcon()),[t]),d=(0,i.VK)((()=>t.isEmptyPage()),[t]),c=(0,a.Fg)().mode,u=(0,a.yK)((e=>({recordIcon:{position:"absolute",bottom:-Mo/2,left:ko,width:Mo,height:Mo,display:"flex",justifyContent:"flex-start"},warningIcon:{fill:e.accentColors.orange[500],width:n?20:16,marginLeft:n?2:4,marginRight:n?4:6,paddingBottom:6,paddingTop:6,display:"inline-block",verticalAlign:"bottom"},defaultIconStyle:{width:Mo-2,height:Mo-2,marginLeft:-3},progressContainer:{top:14,bottom:"unset",right:"unset",fontSize:(0,$.yv)(o,"UISmall")}})),[o,n]);if(s)return(0,Be.t)(u.warningIcon);const p=function(e){let{style:t,mode:n,isEmptyPage:o}=e;switch(n){case"light":return o?uo(t):co(t);case"dark":return o?lo(t):so(t);default:(0,Z.t1)(n)}}({style:u.defaultIconStyle,mode:c,isEmptyPage:d});return(0,g.jsx)(vo.Z,{disabled:!0,bucket:"secure",style:u.recordIcon,progressContainerStyle:u.progressContainer,icon:l,store:t,size:Mo,isEmptyPage:d,defaultIcon:p})}function Vo(e){let{store:t}=e;const n=(0,I.useIntl)(),o=(0,i.VK)((()=>t.getLastEditedTime()),[t]),r=(0,i.VK)((()=>(0,wo.IS)(o,{useCompactFormat:!0,useWeeks:!0})),[o]),s=(0,i.VK)((()=>(0,ao.Yx)(o,"medium_with_time",n.locale)),[n.locale,o]),l=(0,i.VK)((()=>{const e=t.getLastEditedByPointer();if(e)return t.getRecordStore(t.getKeyStore("last_edited_by_id"),e)}),[t]),d=(0,i.VK)((()=>{if(l)switch(l.table){case go.KJ:return(0,g.jsx)(xo.Z,{userStore:l,size:Io});case ho.cZ:return(0,g.jsx)(Co.Z,{botStore:l,size:Io});case mo.y0:return(0,g.jsx)(xo.Z,{userStore:void 0,size:Io});default:(0,Z.t1)(l)}}),[l]),c=(0,i.VK)((()=>null==l?void 0:l.getDisplayName(n)),[l,n]),u=(0,a.yK)((e=>{const t=V.Z.fontSize.UIRegular.desktop;return{titleWrap:{width:"100%",minHeight:72,paddingTop:10,paddingBottom:12,paddingLeft:ko,paddingRight:ko,position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:10,flexGrow:1},titleText:{fontWeight:V.Z.fontWeight.medium,fontSize:t,lineHeight:"normal",width:"auto",whiteSpace:"pre-wrap",...(0,$.pd)(2)},editedAtWrap:{display:"flex",justifyContent:"start",alignItems:"center",gap:4},tooltipDateText:{color:e.mediumInvertedTextColor}}}),[]);return(0,g.jsxs)("div",{style:u.titleWrap,children:[(0,g.jsx)(yo.Z,{style:u.titleText,store:t}),(0,g.jsx)(H.ZP,{disableTooltip:!l,renderTooltip:()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:(0,g.jsx)(I.FormattedMessage,{id:"recentsGalleryItemV2.lastEditedByTooltipHeader",defaultMessage:"Last edited by"})}),c,(0,g.jsx)("br",{}),l&&(0,g.jsx)("span",{style:u.tooltipDateText,children:s})]}),placement:H.ug.Bottom,alignment:H.v2.Start,render:e=>(0,g.jsxs)("div",{style:u.editedAtWrap,...e,children:[d,(0,g.jsx)(W.Z,{isSmall:!0,isSecondaryColor:!0,children:r})]})})]})}const Lo=o.memo(To);function _o(e){let{onLoaded:t}=e;const n=(0,i.VK)((()=>eo.X4.state.filter((e=>e.store.canRead()))),[]),r=Math.max(Math.min(n.length,20),8),a=[...Array(r)].map(((e,t)=>{if(t>=n.length)return(0,g.jsx)(oo,{width:b.FK,height:b.yc,showLoadingShimmer:!1},t);{const{store:e}=n[t];return(0,g.jsx)(Lo,{store:e},e.id)}}));return(0,o.useEffect)((()=>{n.length>0&&n[0].store.isReady()&&t()}),[t,n]),(0,g.jsx)(Dn,{cardWidth:b.FK,children:a})}const Ho=function(e){let{onLoaded:t}=e;const n=(0,i.VK)((()=>(0,ie.QI)("dev_only")&&!(0,se.Ju)()),[]);return(0,g.jsx)(Oe.Z,{title:n?(0,g.jsx)(I.FormattedMessage,{id:"recentsHomePanel.singleplayer.title",defaultMessage:"Jump back in"}):(0,g.jsx)(I.FormattedMessage,{id:"recentsHomePanel.multiplayer.title",defaultMessage:"Recently visited"}),icon:(0,g.jsx)(ro.Z,{icon:"clock-alternate"}),children:(0,g.jsx)(_o,{onLoaded:t})})},Po=(0,Je.IU)("suggestedLarge",{viewBox:"0 0 48 48",svg:(0,g.jsx)("path",{d:"M10.7126 24.083C7.82146 24.083 5.48723 21.5473 5.48723 18.4192C5.47538 15.3622 7.84516 12.8621 10.7126 12.8621C13.6156 12.8621 15.9498 15.3266 15.9498 18.4074C15.9498 21.5355 13.6156 24.083 10.7126 24.083ZM24.2441 24.083C21.3529 24.083 19.0187 21.5473 19.0069 18.4192C19.0069 15.3622 21.3648 12.8621 24.2441 12.8621C27.1471 12.8621 29.4813 15.3266 29.4813 18.4074C29.4813 21.5355 27.1352 24.083 24.2441 24.083ZM37.7756 24.083C34.8844 24.083 32.5502 21.5473 32.5383 18.4192C32.5383 15.3622 34.8963 12.8621 37.7756 12.8621C40.6785 12.8621 43.0128 15.3266 43.0128 18.4074C43.0128 21.5355 40.6785 24.083 37.7756 24.083ZM10.7245 21.8317C12.3122 21.8317 13.6274 20.3269 13.6274 18.4074C13.6274 16.5352 12.3122 15.1134 10.7245 15.1134C9.14854 15.1134 7.80962 16.5589 7.80962 18.4192C7.80962 20.3506 9.14854 21.8317 10.7245 21.8317ZM24.2441 21.8317C25.8318 21.8317 27.1471 20.3269 27.1471 18.4074C27.1471 16.5352 25.8318 15.1134 24.2441 15.1134C22.6682 15.1134 21.3292 16.5589 21.3411 18.4192C21.3411 20.3506 22.6682 21.8317 24.2441 21.8317ZM37.7874 21.8317C39.3633 21.8317 40.6904 20.3269 40.6904 18.4074C40.6904 16.5352 39.3752 15.1134 37.7874 15.1134C36.1996 15.1134 34.8726 16.5589 34.8726 18.4192C34.8726 20.3506 36.2115 21.8317 37.7874 21.8317ZM3.36627 35.138C1.26901 35.138 0.25 34.4508 0.25 32.9934C0.25 29.652 4.40897 25.3982 10.7126 25.3982C17.0281 25.3982 21.1871 29.652 21.1871 32.9934C21.1871 34.4508 20.1562 35.138 18.0589 35.138H3.36627ZM24.2441 25.3982C30.5477 25.3982 34.7067 29.652 34.7067 32.9934C34.7067 34.4508 33.6877 35.138 31.5904 35.138H22.3127C22.7748 34.4508 22.9051 33.6925 22.8814 32.8867H31.8511C32.0999 32.8867 32.1947 32.8038 32.1947 32.6024C32.1947 30.8843 29.3273 27.6495 24.2441 27.6495C23.0118 27.6495 21.9098 27.851 20.9619 28.1827C20.4761 27.5429 19.8718 26.9623 19.1846 26.4291C20.642 25.7892 22.3364 25.3982 24.2441 25.3982ZM37.7756 25.3982C44.091 25.3982 48.25 29.652 48.25 32.9934C48.25 34.4508 47.2191 35.138 45.1219 35.138H35.8323C36.2944 34.4508 36.4248 33.6925 36.4129 32.8867H45.3826C45.6432 32.8867 45.738 32.8038 45.738 32.6024C45.738 30.8843 42.8587 27.6495 37.7756 27.6495C36.5433 27.6495 35.4413 27.851 34.4934 28.1946C34.0076 27.5429 33.4033 26.9623 32.7042 26.4409C34.1616 25.8011 35.8679 25.3982 37.7756 25.3982ZM3.10559 32.8867H18.3196C18.5803 32.8867 18.6751 32.8038 18.6751 32.6024C18.6751 30.8843 15.7958 27.6495 10.7126 27.6495C5.62941 27.6495 2.76197 30.8843 2.76197 32.6024C2.76197 32.8038 2.85676 32.8867 3.10559 32.8867Z"})});function Ao(e){let{onLoaded:t,panelStyle:n}=e;const r=(0,i.VK)((()=>{const e=(0,j.J2)("similarUsers");if(null!=e&&e.isCollectionView())return e}),[]),[a,s]=o.useState(void 0);return(0,o.useEffect)((()=>{null!=a&&a.shouldShowSpinner&&null!=a&&a.isLoading&&t()}),[a,t]),(0,g.jsx)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.similarUsersActivityPanelTitle.withWorkspaceName",defaultMessage:"Suggested for you"}),icon:(0,g.jsx)(ro.Z,{icon:"light-bulb"}),tooltip:(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanel.panelTooltip.similarUsers",defaultMessage:"Suggestions based on your recent activity"}),panelStyle:{...n,paddingBottom:0},children:(0,g.jsx)(Qt,{store:r,collectionContextStore:a,setCollectionContextStore:s,emptyState:(0,g.jsx)(Fo,{})})})}function Fo(){return(0,g.jsx)(Xt,{icon:Po,message:(0,g.jsx)(I.FormattedMessage,{id:"SimilarUsersHomePanel.emptyState.message",defaultMessage:"Pages relevant to you will show up here."})})}const Ko=o.memo(Ao);var Do=n(58178),Eo=n(29949),Oo=n(24211),Bo=n(26195),Ro=n(6258);function zo(e){if("function"===e.type)switch(e.persona){case"student":return"13FpH1AGHci69ERczKupOU";case"educator":return"7ys8LLEWhlmVEwjJjASuE2";case"operations":return"4SPA9JI4ZQtyKtYzZvAVt1";case"knowledge_management":return"5IRBIHYcfXWjy5HamFCwAn";case"it_admin":return"2lxkUWVxPdhbYcvxe7FFty";case"hr":return"17Fklm4NRZaaMdctNNyl8L";case"support":return"2SmrAf6VMtcqx2Rszb5QZn";case"sales_or_success":return"4pVIkK7rg7S6DcqwvyNHs";case"finance":return"jDnY125acofk3O42a2IZ8";case"marketing":return"3TTtGQffJRQ0H3MSUNYs6j";case"product":return"3OAmgIdyPo9wEXGRH6j4dO";case"project_or_program_management":return"1mSX3Ie5sfGGT9ZrBuPXuO";case"product_design":return"W5d1S5UYPjuiY1t2cRG4T";case"eng":return"7vJ3HPIubGvIa4PzHrAG04";case"internal_communication":return"6F1MIc09JzFpGsxknKL0pq";case"creative":return"6H3xYAAg00HPET7xvqwcl4";default:(0,Z.t1)(e)}else if("space_intent"===e.type)switch(e.persona){case"life":return"2X7QqO4KLsoTArIKyG7QA";case"school":return"5zeHsLqZ0Vk5kMfTQYiupq";case"work":return"1XoFa69pF2Yf1QzikYDOk6";default:(0,Z.t1)(e)}else if("space_type"===e.type)switch(e.persona){case"multiplayer":return"2mk1W9x7ihl3uEpAwIy3zP";case"singleplayer":return"hjxAjQJHiLsYhivckSUZP";default:(0,Z.t1)(e)}else(0,Z.t1)(e)}var Uo=n(18752),Wo=n(36591),No=n(96525),Go=n(98742),$o=n(48779),Yo=n(4023);function qo(e){const t=(0,a.yK)((e=>({chevronRightIcon:{width:14,height:14,fill:e.lightIconColor}})),[]);return(0,g.jsx)(No.Z,{...e,stopClickPropagation:!0,popupType:vt.Z4.Popup,render:e=>(0,g.jsx)(Jo,{onClose:()=>e.close()}),placementToOrigin:Yo.u.Right,renderOrigin:n=>(0,g.jsx)(Lt.Z,{...(0,Go.Z)(e,n),right:(0,Ln.o)(t.chevronRightIcon),title:(0,g.jsx)(I.FormattedMessage,{id:"TemplatesHomePanel.DebugPersonaPickerMenuTitle",defaultMessage:"(Dev debug): Change user persona"})})})}function Jo(e){let{onClose:t}=e;const n=(0,r.O7)(),s=(0,i.VK)((()=>["clear",...se.az.map((e=>({type:"function",persona:e}))),...se.ml.map((e=>({type:"space_intent",persona:e}))),...se.GK.map((e=>({type:"space_type",persona:e})))]),[]),l=(0,i.VK)((()=>{var e;return(0,$o.g4)(n,null===(e=C.default.state.currentSpaceViewStore)||void 0===e?void 0:e.getModel())}),[n]),d=(0,o.useCallback)((e=>{Uo.Z.setState(e),t("selectedOption")}),[t]),c=(0,a.yK)((e=>({selectedOptionCheck:{width:14},icon:{width:20,height:20}})),[]),u={menuType:G.og.Popup,width:250,onClickOutside:()=>t("clickedOutside")},p=[{key:"settings-item-section",render:e=>(0,g.jsx)(Ht.Z,{...e}),items:s.map((e=>{if("clear"===e)return{key:"clear",action:()=>d(void 0),render:e=>(0,g.jsx)(Lt.Z,{...e,title:"clear",shouldWrapCaption:!0,right:void 0===l?(0,g.jsx)("div",{style:c.selectedOptionCheck,children:(0,Wo.e)()}):void 0})};const{type:t,persona:n}=e,o=`${t} - ${n}`;return{key:o,action:()=>d(e),render:e=>(0,g.jsx)(Lt.Z,{...e,title:o,shouldWrapCaption:!0,right:l===o?(0,g.jsx)("div",{style:c.selectedOptionCheck,children:(0,Wo.e)()}):void 0})}}))}];return(0,g.jsx)(z.Z,{...u,children:(0,g.jsx)(_t.Z,{type:_t.i.Vertical,sections:p,initialFocus:void 0})})}var Qo=n(79362),Xo=n(21202),er=n(95807),tr=n(75754),nr=n(11059),or=n(94660),rr=n(26842);const ir=240;function ar(e){let{store:t}=e;const n=(0,r.O7)(),s=(0,i.VK)((()=>t.getName()),[t]),l=(0,i.VK)((()=>{const e=t.getTemplateImage();if(null!=e&&e.url)return(0,er.Hl)(e.url)}),[t]),d=(0,i.VK)((()=>t.getTemplateEmoji()),[t]),c=(0,i.VK)((()=>{const e=t.getTemplateIcon();if(e){if((0,Qo.V2)(e)){const{iconName:t}=(0,Qo.c)(e)??{};if(!t)return;return`/icons/${t}_lightgray.svg`}return e.endsWith(".svg")?void 0:`/icons/${e}_lightgray.svg`}}),[t]),u=(0,Qn.E)("home_template_icons"),p=u?Boolean(c):Boolean(d||c),m=!p,h=(0,o.useCallback)((()=>{const e=n.RouterStore.state.route,{currentSpaceStore:o}=C.default.state,r=(0,or.gA)(t);if(!r||!o||"page"!==e.name)return;"closed"===Eo.Z.state.status&&Eo.Z.setState({...Eo.Z.state,selectedTemplate:void 0,allTemplates:void 0});const i=rr.G.createChildStore(o,{table:Xo.iU,id:e.blockId,spaceId:o.id});tr._c({environment:n,store:i,pageVisitSource:io.tY.PersonalHomeTileTemplates,templateGalleryItem:r})}),[n,t]),f=(0,a.yK)((e=>{const t=e.home.cards.templateCardBackground;return{container:{width:ir,height:180,display:"flex",flexDirection:"column",justifyContent:"stretch",background:t.base,boxShadow:e.homeShadow.templateCard.base},containerHovered:{background:t.hovered,boxShadow:e.homeShadow.templateCard.hovered},containerPressed:{background:t.pressed,boxShadow:e.homeShadow.templateCard.hovered},headerTitleAndIconContainer:{paddingTop:14,paddingBottom:14,paddingLeft:m?24:16,paddingRight:16,display:"flex",alignItems:"center",gap:12,flexShrink:0,justifyContent:"start"},headerTextContainer:{display:"flex",flexDirection:"column",gap:2,alignItems:"start",flexGrow:1,flexShrink:1},headerIcon:{width:32,height:32},offsetImageContainer:{position:"relative",flexShrink:1,flexGrow:1,minHeight:0},offsetImage:{position:"absolute",width:ir,top:0,left:24,borderRadius:6,boxShadow:"0px 0px 0px 1px rgba(18, 18, 18, 0.03),  0px 2px 8px 0px rgba(18, 18, 18, 0.1)"},text:{width:"100%",lineHeight:1.3,...V.Z.textOverflowStyle}}}),[m]);return(0,g.jsxs)(kn,{style:f.container,hoveredStyle:f.containerHovered,pressedStyle:f.containerPressed,onClick:h,children:[(0,g.jsxs)("div",{style:f.headerTitleAndIconContainer,children:[p&&(0,g.jsx)(sr,{templateIcon:c,templateEmoji:d,flatIconOnly:u,size:32}),(0,g.jsxs)("div",{style:f.headerTextContainer,children:[(0,g.jsx)(W.Z,{style:f.text,children:s}),(0,g.jsx)(W.Z,{isSmall:!0,isSecondaryColor:!0,children:(0,g.jsx)(I.FormattedMessage,{id:"templatesGalleryItem.authorByNotion",defaultMessage:"By Notion"})})]})]}),(0,g.jsx)("div",{style:f.offsetImageContainer,children:(0,g.jsx)("img",{style:f.offsetImage,src:l})})]})}function sr(e){let{templateIcon:t,templateEmoji:n,flatIconOnly:o,size:r}=e;const i=(0,a.yK)((e=>({headerIcon:{width:r,height:r,opacity:.6}})),[r]);return n&&!o?(0,g.jsx)(nr.Z,{size:r,char:n}):t?(0,g.jsx)("img",{src:t,crossOrigin:"anonymous",style:i.headerIcon}):null}const lr=o.memo(ar);function dr(e){let{onLoaded:t}=e;const n=(0,r.O7)(),s=(0,I.useIntl)(),l=(0,i.VK)((()=>(0,ie.QI)("dev_only")),[]),d=(0,i.VK)((()=>{const{currentSpaceStore:e,currentUserSettingsStore:t}=C.default.state,n=Uo.Z.state;return n||(0,se.NZ)({spaceSurveyData:null==e?void 0:e.getSpaceSurveyData(),userUseCases:null==t?void 0:t.getUseCases(),userPersonaValue:null==t?void 0:t.getPersona()})}),[]),[c]=(0,le.r5)((async()=>{if(d)return await async function(e){let{persona:t,environment:n,intl:o}=e;const{currentSpaceStore:r}=C.default.state;if(!r)return[];const i=await ce.getTemplateContentGroup(n,{contentfulId:zo(t),locale:(0,Oo.E2)(o)});return"success"!==i.type||!1===i.data.success||"template"!==i.data.type?[]:i.data.content.map((e=>Ro.j$.createChildStore(r,{table:Bo.nE,id:e.id})))}({persona:d,environment:n,intl:s})}),[n,s,d]),u="pending"===(null==c?void 0:c.status),p=(0,i.VK)((()=>"resolved"===(null==c?void 0:c.status)?c.value??[]:[]),[c]);(0,o.useEffect)((()=>{u||t()}),[u,t]);const m=(0,o.useCallback)((()=>{const{currentSpaceViewStore:e}=C.default.state;e&&Vt.aG({environment:n,currentSpaceViewStore:e,feature:"templates",from:"templates_dismiss_button"})}),[n]),h=(0,o.useCallback)((()=>{Eo.Z.open({analyticsFrom:"home_tile_templates_all_templates",cloneTo:"destination_picker",selectedTemplate:void 0})}),[]),f=(0,a.yK)((e=>({templatesIcon:{width:At,height:At,padding:2,fill:e.regularIconColor}})),[]),v=(0,o.useMemo)((()=>{const e=[{type:"custom",closeOnAccept:!0,item:{key:"all_templates",render:(e,t)=>(0,g.jsx)(Lt.Z,{...e,title:(0,g.jsx)(I.FormattedMessage,{id:"TemplatesHomePanel.showAllTemplates",defaultMessage:"Explore more templates"}),icon:(0,Do.s)(f.templatesIcon)}),action:h}},{type:"hide",hide:m}];return l&&e.push({type:"custom",closeOnAccept:!1,item:{key:"debug",render:e=>(0,g.jsx)(qo,{...e}),action:()=>{}}}),[(0,g.jsx)(Kt,{actions:e},"more")]}),[m,h,l,f.templatesIcon]);return(0,g.jsx)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"TemplatesHomePanel.Title",defaultMessage:"Featured templates"}),icon:(0,g.jsx)(ro.Z,{icon:"kind"}),actions:v,children:(0,g.jsx)(Kn,{cardWidth:ir,children:u||0===p.length?[...Array(3).keys()].map((e=>(0,g.jsx)(oo,{width:ir,height:180,showLoadingShimmer:u},e))):p.map((e=>(0,g.jsx)(lr,{store:e},e.id)))})})}const cr=o.memo(dr);var ur=n(42853),pr=n(14871),mr=n(65598),hr=n(74016);function gr(e){let{onLoaded:t,panelStyle:n}=e;const[r,s]=o.useState(void 0),l=(0,i.VK)((()=>{const{currentSpaceStore:e,currentUserStore:t}=C.default.state;if(!e||!t)return;const n=(0,j.J2)("trending");return null!=n&&n.isCollectionView()?n:void 0}),[]),d=(0,a.yK)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden",marginRight:8}})),[]);return(0,o.useEffect)((()=>{null!=r&&r.shouldShowSpinner&&null!=r&&r.isLoading&&t()}),[r,t]),(0,g.jsx)(Oe.Z,{title:(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.trending",defaultMessage:"Trending"}),right:r&&(0,g.jsx)(fr,{collectionContextStore:r}),rightStyle:d.rightStyle,disableRightFadeIn:!0,icon:Wn(d.icon),tooltip:(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanel.panelTooltip.trending",defaultMessage:"Popular pages this week"}),panelStyle:{...n,paddingBottom:0},children:(0,g.jsx)(Qt,{store:l,collectionContextStore:r,setCollectionContextStore:s,emptyState:(0,g.jsx)(Cr,{})})})}function fr(e){let{collectionContextStore:t}=e;const n=(0,r.O7)(),{currentSpaceViewStore:a,currentSpaceStore:s}=(0,i.VK)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=C.default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),l=(0,i.VK)((()=>(null==a?void 0:a.getTeamsStores())??[]),[a]),d=(0,i.VK)((()=>t.collectionViewStore()),[t]),c=(0,i.VK)((()=>{if(!s)return;const e=null==d?void 0:d.getCollectionSource();if("trending"!==(null==e?void 0:e.type))return;const t=e.teamId;return t?l.find((e=>e.id===t)):s}),[l,s,d]),u=(0,o.useCallback)((e=>{Vt.Lg({environment:n,currentSpaceViewStore:a,selectedStore:e,collectionContextStore:t})}),[n,t,a]),p=(0,i.VK)((()=>{if(!s)return{};const e={};return e[s.id]=null==s?void 0:s.getName(),l.forEach((t=>{e[t.id]=t.getName()})),e}),[s,l]);return a&&s&&c?(0,g.jsx)(pr.Z,{items:[s,...l],getKey:e=>e.id,selectedItem:c,onSelect:u,renderItem:e=>{const t=e.value;return(0,g.jsx)(Lt.Z,{...e,title:p[t.id],icon:(0,g.jsx)(hr.p,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,g.jsx)(vr,{...e,selectedStore:c}),width:300}):null}function vr(e){const t=(0,r.O7)(),{device:n}=t,{selectedStore:o,...i}=e,s=(0,a.yK)((e=>({dropdownButton:{width:"100%",borderRadius:3,padding:"6px 8px",color:e.text.secondary,fontSize:(0,$.yv)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center"},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:V.Z.fontWeight.medium,overflow:"hidden"}})),[t]);return(0,g.jsxs)(St.Z,{mobileFeedback:n.isMobile,style:s.dropdownButton,...i,children:[(0,g.jsx)("div",{style:s.dropdownText,children:(0,g.jsx)(yr,{selectedStore:o})}),(0,ur.i)(s.dropdownIcon)]})}function yr(e){let{selectedStore:t}=e;const n=(0,i.VK)((()=>null==t?void 0:t.getName()),[t]),o=(0,a.yK)((()=>({icon:{marginLeft:4,marginRight:4},spaceOrTeamName:{...V.Z.textOverflowStyle}})),[]),r=(0,g.jsx)(hr.p,{store:t,size:16,disabled:!0,style:o.icon});return n?(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withWorkspaceOrTeamName",defaultMessage:"In {spaceOrTeamIcon} {spaceOrTeamName}",values:{spaceOrTeamIcon:r,spaceOrTeamName:(0,g.jsx)("div",{style:o.spaceOrTeamName,children:n})}}):(0,mr.Y)(t)?(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"}):(0,g.jsx)(I.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutWorkspaceName",defaultMessage:"In your workspace"})}function Cr(){return(0,g.jsx)(Xt,{icon:Nn,message:(0,g.jsx)(I.FormattedMessage,{id:"PersonalHomeTrendingPanel.emptyState.message",defaultMessage:"Popular pages will show up here."})})}const xr=o.memo(gr);function Sr(e){let{showWelcomeAnimation:t,onAllPanelsLoaded:n,gap:s}=e;const[l,d]=(0,o.useState)({recents:!1,tips:!1,templates:!1,similarUsersAndTrending:!1,singlePlayerTiles:!1,tasks:!1,calendar:!1}),c=(0,r.O7)(),{isMobile:u}=(0,r.Fy)(),p=(0,i.VK)((()=>{const e=C.default.state.currentSpaceViewStore,t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{recents:!0,tasks:Boolean(t.tasks),similarUsersAndTrending:(0,se.Ju)(),singlePlayerTiles:!(0,se.Ju)()&&(0,ie.QI)("dev_only")&&x.default.checkGate("home_singleplayer_tiles"),tips:Boolean(t.tips),templates:!u&&Boolean(t.templates),calendar:!u&&x.default.checkGate("calendar_home_tile")&&Boolean(t.calendar)}}),[u]),m=(0,i.VK)((()=>{if(!Object.values(p).some(Boolean))return!1;for(const[e,t]of(0,Z.qP)(p))if(t&&!l[e])return!1;return!0}),[p,l]),h=(0,i.VK)((()=>x.default.checkGate("show_home_favorites_tile")),[]),f=p.singlePlayerTiles||p.similarUsersAndTrending;(0,o.useEffect)((()=>{oe.updateMetricDataWithIsPushTag(c),oe.markInitialPageRenderComplete({environment:c,isEditable:!1,isHomePage:!0})}),[]),(0,o.useEffect)((()=>{m&&n(!0),t||d({recents:!0,tips:!0,templates:!0,similarUsersAndTrending:!0,singlePlayerTiles:!0,tasks:!0,calendar:!0})}),[t,m,n]);const y=(0,a.yK)((()=>{const e={paddingRight:0};return{suggestedTiles:{height:b.Uf,...e},stackedMiniTile:{height:`calc(50% - ${s/2}px)`,...e},stackedTilesContainer:{height:b.Cm,display:"flex",flexDirection:"column",gap:s}}}),[s]),S=(0,o.useCallback)((e=>({"--depth":e})),[]),w=(0,o.useCallback)((e=>{d((t=>({...t,[e]:!0})))}),[]),j=(0,o.useCallback)((()=>w("recents")),[w]),k=(0,o.useCallback)((()=>w("tasks")),[w]),M=(0,o.useCallback)((()=>w("similarUsersAndTrending")),[w]),I=(0,o.useCallback)((()=>w("singlePlayerTiles")),[w]),T=(0,o.useCallback)((()=>w("templates")),[w]),V=(0,o.useCallback)((()=>w("tips")),[w]),L=(0,i.VK)((()=>{if(!1!==t)return m?"home-tile-fade-up-in":re.alX}),[t,m]);(0,o.useEffect)((()=>{m&&(0,ae.uY)({environment:c,args:{tasks:p.tasks?"show":"hide",tips:p.tips?"show":"hide",templates:u?"always_hide":p.templates?"show":"hide",calendar:u?"always_hide":p.calendar?"show":"hide"}})}),[m]);const _=[];return _.push({key:"recents",type:"single",content:(0,g.jsx)(Ho,{onLoaded:j})}),p.calendar&&f&&_.push({key:"calendar",type:"twoColumn",left:(0,g.jsx)(Ut,{height:y.stackedTilesContainer.height}),right:(0,g.jsx)("div",{style:y.stackedTilesContainer,children:p.singlePlayerTiles?(0,g.jsxs)(g.Fragment,{children:[h?(0,g.jsx)(nn,{panelStyle:y.suggestedTiles,onLoaded:I}):(0,g.jsx)(ln,{panelStyle:y.suggestedTiles,onLoaded:I}),(0,g.jsx)(Yn,{panelStyle:y.suggestedTiles,onLoaded:I})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Ko,{panelStyle:y.stackedMiniTile,onLoaded:M}),(0,g.jsx)(xr,{panelStyle:y.stackedMiniTile,onLoaded:M})]})})}),p.tasks&&_.push({key:"tasks",type:"single",content:(0,g.jsx)(Xn,{onLoaded:k})}),!p.calendar&&f&&_.push({key:"similarUsersAndTrending",type:"twoColumn",...p.singlePlayerTiles?{left:h?(0,g.jsx)(nn,{panelStyle:y.suggestedTiles,onLoaded:I}):(0,g.jsx)(ln,{panelStyle:y.suggestedTiles,onLoaded:I}),right:(0,g.jsx)(Yn,{panelStyle:y.suggestedTiles,onLoaded:I})}:{left:(0,g.jsx)(Ko,{panelStyle:y.suggestedTiles,onLoaded:M}),right:(0,g.jsx)(xr,{panelStyle:y.suggestedTiles,onLoaded:M})}}),p.templates&&_.push({key:"templates",type:"single",content:(0,g.jsx)(cr,{onLoaded:T})}),p.tips&&_.push({key:"tips",type:"single",content:(0,g.jsx)(Un,{onLoaded:V})}),(0,g.jsx)(g.Fragment,{children:_.map(((e,t)=>"single"===e.type?(0,g.jsx)(v.Pb,{className:L,style:S(t),children:e.content},e.key):(0,g.jsx)(v.uI,{minWidth:300,className:L,style:S(t),left:e.left,right:e.right},e.key)))})}const wr=o.memo(Sr),jr=64;function br(){const[e,t]=(0,o.useState)(!1),[n,d]=(0,o.useState)(!1),{isPhone:c}=(0,r.Fy)(),u=(0,r.O7)(),p=(0,i.VK)((()=>{const e=C.default.state.currentSpaceViewStore;return e&&(0,j.Al)(e)}),[]),m=(0,i.VK)((()=>{var e;return Boolean(null===(e=C.default.state.currentSpaceViewStore)||void 0===e?void 0:e.isReady())}),[]),h=(0,i.VK)((()=>{var e;return Boolean(null===(e=C.default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getPersonalHomeSettings())||void 0===e?void 0:e.seen_welcome_animation)}),[]),k=(0,i.VK)((()=>x.default.checkGate("home_welcome_animation")),[]);(0,o.useEffect)((()=>{s.j({name:"open_home"})}),[]),(0,o.useEffect)((()=>{m&&!h&&(t(!1),d(!0),S.YD({environment:u,newSeenWelcomeHomeValue:!0}));const e=setTimeout((()=>{t(!0),d(!1)}),3e3);return()=>{clearTimeout(e)}}),[u,m,e]);const M=(0,i.VK)((()=>(0,w.q)(C.default.state.currentSpaceViewStore).greeting),[]),I=c?b.EP:b.iO,T=function(e){let{isPhone:t,showHeader:n}=e;if(!t||n)return jr;return 0}({isPhone:c,showHeader:M}),Z=(0,a.yK)((()=>({container:{width:"100%",height:"100%",cursor:"default"},topPaddingWhenHeaderHidden:{width:"100%",marginTop:T}})),[T]),V=k&&(!h||n);return m?(0,g.jsxs)(g.Fragment,{children:[p&&(0,g.jsx)(f,{store:p}),(0,g.jsx)(l.Z,{type:y.Z.Y,style:Z.container,className:"home-content",children:(0,g.jsxs)(v.Xg,{type:c?"home-phone":"home",gap:I,withBottomPadding:!0,children:[(0,g.jsx)(v.Nx,{children:M?(0,g.jsx)(ne,{marginTop:T,marginHorizontal:I,allPanelsLoaded:e,showWelcomeAnimation:V}):(0,g.jsx)("div",{style:Z.topPaddingWhenHeaderHidden})}),(0,g.jsx)(wr,{showWelcomeAnimation:V,onAllPanelsLoaded:t,gap:I})]})})]}):null}const kr=o.memo(br)},8627:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class r extends o.default{getInitialState(){}}const i=new r},18752:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class r extends o.default{getInitialState(){}}const i=new r},52389:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class r extends o.default{getInitialState(){return{open:!1}}}const i=new r},69150:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class r extends o.default{getInitialState(){return{isHovered:!1}}}const i=new r},2585:(e,t,n)=>{n.d(t,{f:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},3338:(e,t,n)=>{n.d(t,{p:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("circleCheck",{viewBox:"0 0 12 12",svg:(0,r.jsx)("path",{d:"M6.09277 11.1855C8.88574 11.1855 11.1855 8.88574 11.1855 6.09277C11.1855 3.30469 8.88086 1 6.08789 1C3.2998 1 1 3.30469 1 6.09277C1 8.88574 3.2998 11.1855 6.09277 11.1855ZM6.09277 10.0674C3.89062 10.0674 2.12305 8.29492 2.12305 6.09277C2.12305 3.89062 3.88574 2.11816 6.08789 2.11816C8.29492 2.11816 10.0625 3.89062 10.0674 6.09277C10.0723 8.29492 8.29492 10.0674 6.09277 10.0674ZM5.57031 8.41699C5.75586 8.41699 5.92188 8.31934 6.0293 8.15332L8.17773 4.81836C8.24609 4.71094 8.2998 4.58887 8.2998 4.47656C8.2998 4.21289 8.07031 4.03711 7.82129 4.03711C7.66016 4.03711 7.51855 4.125 7.41113 4.30078L5.55566 7.2793L4.68652 6.19043C4.56934 6.03906 4.44727 5.98047 4.2959 5.98047C4.03711 5.98047 3.82715 6.18555 3.82715 6.44922C3.82715 6.57129 3.87598 6.68359 3.96387 6.7959L5.0918 8.1582C5.22852 8.3291 5.37988 8.41699 5.57031 8.41699Z"})})},64275:(e,t,n)=>{n.d(t,{D:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},37694:(e,t,n)=>{n.d(t,{u:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("cursorArrowClickRays",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M7.997 3.766a.604.604 0 01-.595-.595V1.175c0-.322.274-.595.595-.595.328 0 .602.273.602.595V3.17a.606.606 0 01-.602.595zM4.948 4.955a.594.594 0 01-.84 0L2.705 3.54a.607.607 0 010-.84.607.607 0 01.84.006l1.402 1.408a.594.594 0 010 .841zm6.023.068a.607.607 0 010-.84l1.422-1.415a.598.598 0 01.834 0 .602.602 0 010 .847l-1.409 1.408a.602.602 0 01-.847 0zm-3.514 7.725l.062-5.462c.006-.253.266-.349.437-.17l3.74 3.834c.184.198.054.445-.199.458l-1.476.062 1.23 2.843a.241.241 0 01-.11.329l-.683.266c-.123.055-.26-.013-.314-.137l-1.17-2.891-1.038 1.046c-.178.17-.486.089-.479-.178zM3.779 7.997a.606.606 0 01-.601.595H1.175a.604.604 0 01-.595-.595c0-.321.274-.595.595-.595h2.003c.328 0 .601.274.601.595zm8.45 0c0-.321.273-.595.594-.595h1.996c.329 0 .602.274.602.595a.606.606 0 01-.602.595h-1.996a.604.604 0 01-.595-.595zm-7.212 2.98a.594.594 0 010 .841l-1.409 1.409a.616.616 0 01-.847-.007.614.614 0 01.007-.841l1.408-1.402c.232-.225.622-.225.84 0z"})})},26139:(e,t,n)=>{n.d(t,{K:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("externalLink",{viewBox:"0 0 17 16",svg:(0,r.jsx)("path",{d:"M4.94922 13.498C4.31641 13.498 3.83789 13.3359 3.51367 13.0117C3.18945 12.6914 3.02734 12.2188 3.02734 11.5938V4.46289C3.02734 3.83398 3.18945 3.35938 3.51367 3.03906C3.83789 2.71875 4.31641 2.55859 4.94922 2.55859H12.0449C12.6777 2.55859 13.1562 2.71875 13.4805 3.03906C13.8047 3.35938 13.9668 3.83398 13.9668 4.46289V11.5938C13.9668 12.2188 13.8047 12.6914 13.4805 13.0117C13.1562 13.3359 12.6777 13.498 12.0449 13.498H4.94922ZM5.01953 12.3438H11.9746C12.2441 12.3438 12.4512 12.2734 12.5957 12.1328C12.7402 11.9922 12.8125 11.7793 12.8125 11.4941V4.55664C12.8125 4.27539 12.7402 4.06445 12.5957 3.92383C12.4512 3.7832 12.2441 3.71289 11.9746 3.71289H5.01953C4.74609 3.71289 4.53711 3.7832 4.39258 3.92383C4.25195 4.06445 4.18164 4.27539 4.18164 4.55664V11.4941C4.18164 11.7793 4.25195 11.9922 4.39258 12.1328C4.53711 12.2734 4.74609 12.3438 5.01953 12.3438ZM10.334 9.54297C10.1855 9.54297 10.0664 9.49609 9.97656 9.40234C9.89062 9.30859 9.84766 9.17969 9.84766 9.01562V8.08398L9.93555 7.24609L9.15039 8.10156L7.09961 10.1465C6.99023 10.2559 6.85742 10.3105 6.70117 10.3105C6.55273 10.3105 6.42969 10.2637 6.33203 10.1699C6.23828 10.0762 6.19141 9.95117 6.19141 9.79492C6.19141 9.6582 6.24609 9.53516 6.35547 9.42578L8.41211 7.36914L9.2793 6.57227L8.47656 6.66602H7.48633C7.32617 6.66602 7.19727 6.62305 7.09961 6.53711C7.00586 6.45117 6.95898 6.33203 6.95898 6.17969C6.95898 6.03516 7.00586 5.91992 7.09961 5.83398C7.19727 5.74414 7.32422 5.69922 7.48047 5.69922H10.2227C10.4062 5.69922 10.5508 5.74609 10.6562 5.83984C10.7617 5.93359 10.8145 6.08398 10.8145 6.29102V9.00977C10.8145 9.16602 10.7695 9.29492 10.6797 9.39648C10.5938 9.49414 10.4785 9.54297 10.334 9.54297Z"})})},44643:(e,t,n)=>{n.d(t,{L:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("eyeHidePadded",{viewBox:"0 0 24 24",svg:(0,r.jsx)("path",{d:"M17.3867 18.1074C17.6055 18.3193 17.9404 18.333 18.1592 18.1074C18.3848 17.875 18.3711 17.5469 18.1592 17.335L6.5791 5.76855C6.37402 5.55664 6.01855 5.5498 5.80664 5.76855C5.60156 5.97363 5.60156 6.3291 5.80664 6.53418L17.3867 18.1074ZM12 6.1582C10.8105 6.1582 9.73047 6.36328 8.72559 6.69141L9.81934 7.78516C10.5098 7.58691 11.2275 7.4707 12 7.4707C16.3682 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 12.6113 18.7334 14.0059 16.9766 15.1064L17.9883 16.125C20.1348 14.7168 21.3857 12.8779 21.3857 12.0713C21.3857 10.6699 17.6055 6.1582 12 6.1582ZM12 17.9912C13.2646 17.9912 14.4199 17.7725 15.4658 17.4102L14.3789 16.3232C13.6338 16.542 12.8477 16.6787 12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.6133 5.32129 10.1299 7.19434 8.98145L6.16211 7.94922C3.92676 9.37109 2.60742 11.251 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM15.4111 13.3906C15.5889 12.9873 15.6914 12.5361 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C11.5283 8.39355 11.084 8.48242 10.6738 8.65332L15.4111 13.3906ZM12 15.7559C12.5332 15.7559 13.0322 15.6328 13.4766 15.4209L8.64355 10.5811C8.4248 11.0322 8.30176 11.5312 8.30176 12.0781C8.30859 14.0811 9.94238 15.7559 12 15.7559Z"})})},30687:(e,t,n)=>{n.d(t,{w:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("openBook",{viewBox:"0 0 22 19",svg:(0,r.jsx)("path",{d:"M0.150391 16.8906C0.150391 17.2943 0.261068 17.5807 0.482422 17.75C0.703776 17.9193 0.960938 18.0039 1.25391 18.0039C1.41667 18.0039 1.57617 17.9616 1.73242 17.877C1.88867 17.7988 2.05794 17.7012 2.24023 17.584C2.7806 17.2194 3.36979 16.9297 4.00781 16.7148C4.65234 16.5065 5.31641 16.4056 6 16.4121C6.70312 16.4186 7.38997 16.5521 8.06055 16.8125C8.73763 17.0729 9.34961 17.4668 9.89648 17.9941C10.1113 18.1895 10.3034 18.3229 10.4727 18.3945C10.6419 18.4727 10.8177 18.5117 11 18.5117C11.1758 18.5117 11.3483 18.4727 11.5176 18.3945C11.6934 18.3229 11.8854 18.1895 12.0938 17.9941C12.6406 17.4668 13.2493 17.0729 13.9199 16.8125C14.597 16.5521 15.2904 16.4186 16 16.4121C16.6771 16.4056 17.3346 16.5065 17.9727 16.7148C18.6172 16.9297 19.2096 17.2194 19.75 17.584C19.9323 17.7012 20.1016 17.7988 20.2578 17.877C20.4141 17.9616 20.5768 18.0039 20.7461 18.0039C21.0326 18.0039 21.2865 17.9193 21.5078 17.75C21.7292 17.5807 21.8398 17.2943 21.8398 16.8906V3.63867C21.8398 3.55404 21.8333 3.47591 21.8203 3.4043C21.8073 3.33268 21.7747 3.25456 21.7227 3.16992C21.4362 2.66862 21.0098 2.20638 20.4434 1.7832C19.877 1.36003 19.2096 1.02148 18.4414 0.767578C17.6797 0.507161 16.8529 0.376953 15.9609 0.376953C14.8932 0.376953 13.9199 0.56901 13.041 0.953125C12.1686 1.33073 11.4883 1.82227 11 2.42773C10.5052 1.82227 9.81836 1.33073 8.93945 0.953125C8.06706 0.56901 7.10026 0.376953 6.03906 0.376953C5.14062 0.376953 4.30729 0.507161 3.53906 0.767578C2.77734 1.02148 2.11328 1.36003 1.54688 1.7832C0.986979 2.20638 0.560547 2.66862 0.267578 3.16992C0.215495 3.25456 0.182943 3.33268 0.169922 3.4043C0.156901 3.47591 0.150391 3.55404 0.150391 3.63867V16.8906ZM1.72266 16.0605V3.86328C1.98307 3.47917 2.33789 3.14388 2.78711 2.85742C3.23633 2.57096 3.73763 2.34961 4.29102 2.19336C4.85091 2.0306 5.43359 1.94922 6.03906 1.94922C6.96354 1.94922 7.80339 2.12826 8.55859 2.48633C9.3138 2.8444 9.86393 3.32292 10.209 3.92188V16.2266C9.87695 15.9596 9.48958 15.722 9.04688 15.5137C8.61068 15.3053 8.13542 15.1426 7.62109 15.0254C7.10677 14.9017 6.57943 14.8398 6.03906 14.8398C5.1862 14.8398 4.38216 14.9505 3.62695 15.1719C2.87174 15.3932 2.23698 15.6895 1.72266 16.0605ZM11.7812 16.2266V3.92188C12.1263 3.32292 12.6764 2.8444 13.4316 2.48633C14.1868 2.12826 15.0299 1.94922 15.9609 1.94922C16.5599 1.94922 17.1361 2.0306 17.6895 2.19336C18.2493 2.34961 18.7539 2.57096 19.2031 2.85742C19.6523 3.14388 20.0072 3.47917 20.2676 3.86328V16.0605C19.7533 15.6895 19.1185 15.3932 18.3633 15.1719C17.6081 14.9505 16.8073 14.8398 15.9609 14.8398C15.4141 14.8398 14.8835 14.9017 14.3691 15.0254C13.8613 15.1426 13.3861 15.3053 12.9434 15.5137C12.5007 15.722 12.1133 15.9596 11.7812 16.2266Z"})})},60597:(e,t,n)=>{n.d(t,{y:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("pencilOutline",{viewBox:"0 0 18 18",svg:(0,r.jsx)("path",{d:"M3.82 14.14a10.808 10.808 0 01-1.812-2.374A10.206 10.206 0 01.992 9.164a9.01 9.01 0 01-.219-2.617c.058-.86.248-1.667.57-2.422a6.315 6.315 0 011.36-2.016A5.952 5.952 0 014.797.742a7.452 7.452 0 012.492-.5c.87-.026 1.74.08 2.61.32.87.235 1.692.589 2.468 1.063l-1.008.984a8.694 8.694 0 00-1.937-.75 7.578 7.578 0 00-2.07-.242 5.974 5.974 0 00-1.993.367 4.668 4.668 0 00-1.687 1.094 5.043 5.043 0 00-1.297 2.195 6.662 6.662 0 00-.203 2.665A8.52 8.52 0 003 10.695a9.317 9.317 0 001.781 2.485c.464.463.95.854 1.461 1.172a9.268 9.268 0 001.524.765c.505.198.971.35 1.398.453.432.11.797.188 1.094.235.229.041.398.133.508.273.109.14.156.3.14.477a.592.592 0 01-.242.46c-.151.115-.354.157-.61.126a10.518 10.518 0 01-1.218-.227 11.796 11.796 0 01-1.57-.508 10.82 10.82 0 01-1.743-.89A9.764 9.764 0 013.82 14.14zm2.953-2.367l1.477-.601c.48.458 1.01.844 1.594 1.156a6.03 6.03 0 001.789.633 4.15 4.15 0 001.758-.047 3.231 3.231 0 001.523-.883 3.17 3.17 0 00.906-1.765c.115-.693.06-1.43-.164-2.211a7.919 7.919 0 00-1.094-2.313l.985-.984c.52.734.92 1.487 1.195 2.258.281.765.438 1.515.469 2.25a5.593 5.593 0 01-.281 2.062A4.33 4.33 0 0115.883 13a4.2 4.2 0 01-1.594 1.023 5.472 5.472 0 01-1.898.297 7.13 7.13 0 01-2.008-.328 8.572 8.572 0 01-3.61-2.219zm1.25-1.312l-1.656.64c-.104.042-.2.021-.289-.062-.083-.083-.101-.177-.055-.281l.672-1.633 7.047-7.04 1.328 1.33-7.047 7.046zm7.633-7.617l-1.328-1.336.664-.672a.861.861 0 01.57-.258.72.72 0 01.547.195l.235.22a.75.75 0 01.234.585.85.85 0 01-.258.586l-.664.68z"})})},36329:(e,t,n)=>{n.d(t,{_:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("personBadgeExclamationMark",{viewBox:"0 0 24 22",svg:(0,r.jsx)("path",{d:"M14 20.91c1.36 0 2.64-.26 3.838-.781a10.166 10.166 0 003.183-2.158 10.198 10.198 0 002.159-3.174 9.59 9.59 0 00.78-3.848c0-1.36-.263-2.64-.79-3.838a10.165 10.165 0 00-2.158-3.183 10.165 10.165 0 00-3.184-2.158A9.52 9.52 0 0013.99.988c-1.27 0-2.47.228-3.603.684A10.24 10.24 0 007.34 3.566 10.179 10.179 0 005.152 6.39a9.75 9.75 0 00-1.045 3.466c.235-.045.508-.074.82-.087.32-.02.61-.013.87.02.137-1.01.44-1.948.908-2.813A8.088 8.088 0 018.512 4.7a8.261 8.261 0 012.5-1.504 8.095 8.095 0 012.978-.547c1.153 0 2.23.215 3.233.645a8.233 8.233 0 012.646 1.777 8.365 8.365 0 011.787 2.647 8.11 8.11 0 01.645 3.232 8.15 8.15 0 01-2.139 5.557c-.319-.378-.775-.736-1.367-1.074-.593-.345-1.296-.625-2.11-.84-.813-.215-1.712-.322-2.695-.322-.469 0-.918.029-1.347.087-.43.053-.837.124-1.221.215.117.469.176.96.176 1.475 0 .762-.134 1.488-.4 2.178a6.308 6.308 0 01-1.095 1.865c.6.26 1.228.462 1.885.605A9.426 9.426 0 0014 20.91zm-.01-8.3a3.02 3.02 0 001.69-.47 3.53 3.53 0 001.21-1.318c.3-.56.45-1.191.45-1.894 0-.658-.15-1.26-.45-1.807a3.55 3.55 0 00-1.21-1.309 3.035 3.035 0 00-1.69-.488c-.625 0-1.191.163-1.699.489a3.622 3.622 0 00-1.65 3.115c0 .696.15 1.321.449 1.875.3.553.7.993 1.201 1.318a3.194 3.194 0 001.7.488zM5.3 21.017c.67 0 1.305-.13 1.904-.391a5.082 5.082 0 001.582-1.074A5 5 0 009.87 17.97c.26-.6.39-1.237.39-1.914 0-.684-.13-1.325-.39-1.924a4.945 4.945 0 00-1.064-1.582 4.946 4.946 0 00-1.582-1.065 4.772 4.772 0 00-1.924-.39c-.677 0-1.315.13-1.914.39a4.87 4.87 0 00-1.582 1.074A5.082 5.082 0 00.73 14.142a4.707 4.707 0 00-.391 1.914c0 .683.13 1.325.39 1.924a5.07 5.07 0 001.075 1.581c.455.456.983.811 1.582 1.065.599.26 1.237.39 1.914.39zm-.01-1.797a.788.788 0 01-.576-.244.768.768 0 01-.244-.577c0-.227.081-.423.244-.585a.788.788 0 01.576-.245c.234 0 .43.085.586.254a.788.788 0 01.244.576.77.77 0 01-.244.577.8.8 0 01-.586.244zm.01-2.325a.601.601 0 01-.43-.156.613.613 0 01-.166-.41l-.078-2.793a.63.63 0 01.176-.488.673.673 0 01.498-.186.66.66 0 01.488.186.63.63 0 01.176.488l-.078 2.793a.592.592 0 01-.176.41.554.554 0 01-.41.157z"})})},91427:(e,t,n)=>{n.d(t,{e:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("star",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M3.2627 14.7637C3.58398 15.0098 3.98047 14.9277 4.44531 14.5928L8 11.9814L11.5547 14.5928C12.0195 14.9277 12.4229 15.0098 12.7441 14.7637C13.0586 14.5244 13.127 14.1279 12.9424 13.5879L11.541 9.41113L15.1299 6.83398C15.5879 6.50586 15.7861 6.14355 15.6562 5.76074C15.5264 5.38477 15.1641 5.2002 14.5967 5.20703L10.1943 5.23438L8.85449 1.03711C8.68359 0.490234 8.40332 0.196289 8 0.196289C7.60352 0.196289 7.32324 0.490234 7.14551 1.03711L5.80566 5.23438L1.40332 5.20703C0.835938 5.2002 0.480469 5.38477 0.350586 5.76074C0.220703 6.14355 0.412109 6.50586 0.876953 6.83398L4.46582 9.41113L3.05762 13.5879C2.87305 14.1279 2.94141 14.5244 3.2627 14.7637ZM4.45898 13.1162C4.45215 13.1025 4.45215 13.0957 4.45898 13.0615L5.75781 9.39062C5.87402 9.05566 5.83301 8.84375 5.52539 8.63867L2.3125 6.4375C2.28516 6.42383 2.27148 6.41016 2.27832 6.38965C2.29199 6.37598 2.30566 6.36914 2.33984 6.36914L6.22949 6.45801C6.58496 6.47168 6.7627 6.35547 6.86523 6.01367L7.96582 2.28125C7.97266 2.24023 7.98633 2.2334 8 2.2334C8.02051 2.2334 8.02734 2.24023 8.04102 2.28125L9.13477 6.01367C9.2373 6.35547 9.42188 6.47168 9.77051 6.45801L13.6602 6.36914C13.7012 6.36914 13.7148 6.37598 13.7217 6.38965C13.7285 6.41016 13.7217 6.41699 13.6875 6.4375L10.4814 8.63867C10.167 8.85059 10.126 9.05566 10.2422 9.39062L11.541 13.0615C11.5547 13.0957 11.5547 13.1025 11.541 13.1162C11.5273 13.1367 11.5137 13.123 11.4863 13.1094L8.40332 10.7305C8.12305 10.5117 7.87695 10.5117 7.60352 10.7305L4.52051 13.1094C4.49316 13.123 4.47266 13.1367 4.45898 13.1162Z"})})},58178:(e,t,n)=>{n.d(t,{s:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},73201:(e,t,n)=>{n.d(t,{w:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.IU)("typesLocation",{viewBox:"0 0 25 25",svg:(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{d:"M12.105 24.21C18.7369 24.21 24.2121 18.7273 24.2121 12.105C24.2121 5.47312 18.7273 0 12.0954 0C5.47523 0 0 5.47312 0 12.105C0 18.7273 5.48484 24.21 12.105 24.21ZM12.105 21.8255C6.71085 21.8255 2.39412 17.4991 2.39412 12.105C2.39412 6.71085 6.70124 2.38452 12.0954 2.38452C17.4895 2.38452 21.8276 6.71085 21.8276 12.105C21.8276 17.4991 17.4991 21.8255 12.105 21.8255Z"}),(0,r.jsx)("path",{d:"M6.75703 16.5939C6.75703 17.4355 7.28742 17.9479 8.17266 17.9479H16.0416C16.9247 17.9479 17.4476 17.4355 17.4476 16.5939V12.0109L12.4683 7.82758C12.236 7.63047 11.9686 7.64008 11.7363 7.82758L6.75703 12.0013V16.5939ZM13.6692 16.7148H10.5429V12.9969C10.5429 12.7178 10.7283 12.5366 11.0128 12.5366H13.2014C13.4977 12.5366 13.6692 12.7178 13.6692 12.9969V16.7148ZM4.81055 11.2199C4.81055 11.5316 5.04469 11.8138 5.43211 11.8138C5.62593 11.8138 5.78554 11.7083 5.9271 11.5806L11.8111 6.65687C12.0145 6.47477 12.2093 6.49609 12.4052 6.65687L18.2775 11.5806C18.4383 11.7083 18.5883 11.8138 18.7725 11.8138C19.1194 11.8138 19.3941 11.5818 19.3941 11.2391C19.3941 11.0315 19.3228 10.873 19.1653 10.7336L13.0078 5.5661C12.4605 5.10508 11.7558 5.10508 11.2181 5.5661L5.03929 10.7357C4.89141 10.8751 4.81055 11.0507 4.81055 11.2199ZM15.8079 8.35282L17.4623 9.75391V6.88399C17.4623 6.62618 17.3004 6.44501 17.033 6.44501H16.249C15.9912 6.44501 15.8079 6.62618 15.8079 6.88399V8.35282Z"})]})})},13882:(e,t,n)=>{function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>o})},83946:(e,t,n)=>{function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>o})},77349:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(83946),r=n(19013),i=n(13882);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,o.Z)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},16218:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(83946),r=n(19013),i=n(13882);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,o.Z)(t),s=n.getFullYear(),l=n.getDate(),d=new Date(0);d.setFullYear(s,a,15),d.setHours(0,0,0,0);var c=function(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}(d);return n.setMonth(a,Math.min(l,c)),n}},19013:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(13882);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){(0,o.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}}}]);