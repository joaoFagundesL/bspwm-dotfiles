"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2456],{2456:(e,t,o)=>{o.d(t,{Hq:()=>q,KX:()=>z,SP:()=>N,SX:()=>D,Tl:()=>H,ZD:()=>O,ZP:()=>X,pH:()=>_,xP:()=>U});var r=o(67294),i=o(83355),l=o(13991),s=o(480),n=o(86628),a=o(24405),c=o(17215),d=o(41432),p=o(99036),u=o(80951),h=o(25501),b=o(12396),x=o(6695),v=o(42875),m=o(54851),S=o(91),g=o(22808),k=o(59753),f=o(21202),y=o(6287),j=o(23867),w=o(70203),V=o(9291),T=o(1898),P=o(37810),L=o(42130),R=o(33929),B=o(44534),M=o(30874),I=o(81865),Z=o(31278),C=o(14200),F=o(85893);const A=(0,V.defineMessages)({[d.Ti.quote]:{defaultMessage:"Quote",id:"edit.quoteBlock.label"},[d.Ti.callout]:{defaultMessage:"Callout",id:"edit.calloutBlock.label"},[d.Ti.button]:{defaultMessage:"Button",id:"edit.buttonBlock.label"},[d.Ti.factory]:{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"},[d.Ti.bookmark]:{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"},[d.Ti.equation]:{defaultMessage:"Equation",id:"edit.equationBlock.label"}});function _(e){return A[e]&&R.default.formatMessage(A[e])}function D(e,t){return k.kk.fromBlock(e).getProperties()[t]||[]}class K extends i.Z{constructor(){super(...arguments),this.getRecordValue=this.props.rootStore.getRecordValue,this.getRecordModel=k.om.fromGetRecordValueFn(this.getRecordValue)}renderComponent(){const{blockValue:e}=this.props;switch(e.type){case d.Ti.text:return(0,F.jsx)(Q,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.header:return(0,F.jsx)(ee,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.subHeader:return(0,F.jsx)(te,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.subSubHeader:return(0,F.jsx)(oe,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.toggle:return(0,F.jsx)(re,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.bulletedList:return(0,F.jsx)(ie,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.numberedList:return(0,F.jsx)(le,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.quote:return(0,F.jsx)(de,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.factory:return(0,F.jsx)(pe,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,rootStore:this.props.rootStore,blockValue:e});case d.Ti.button:{const t=k.kk.fromBlock(e).getAutomationPointer();if(t){const e=this.getRecordModel(t);if(e)return(0,F.jsx)(ue,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,automation:e})}break}case d.Ti.equation:return(0,F.jsx)(he,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.toDo:return(0,F.jsx)(se,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.code:return(0,F.jsx)(be,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.bookmark:return(0,F.jsx)(ve,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,rootStore:this.props.rootStore,blockValue:e});case d.Ti.page:return this.renderPageBlock(k.kk.fromBlock(e));case d.Ti.collectionView:case d.Ti.collectionViewPage:{const t=k.kk.fromBlock(e).getCollectionPointer();if(t){const e=this.getRecordModel(t);if(e)return this.renderCollectionBlock(e)}break}case d.Ti.image:return(0,F.jsx)(ne,{rootStore:this.props.rootStore,blockPreviewLocation:this.props.blockPreviewLocation,blockValue:e});case d.Ti.embed:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"embed"});case d.Ti.framer:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"framer"});case d.Ti.tweet:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"tweet"});case d.Ti.gist:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"gist"});case d.Ti.drive:return(0,F.jsx)(ge,{deleted:this.props.deleted,blockPreviewLocation:this.props.blockPreviewLocation,intl:this.props.intl,created:this.props.created,rootStore:this.props.rootStore,blockValue:e});case d.Ti.maps:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"maps"});case d.Ti.invision:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"invision"});case d.Ti.video:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"video"});case d.Ti.audio:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"audio"});case d.Ti.file:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"file"});case d.Ti.callout:return(0,F.jsx)(ce,{created:this.props.created,blockPreviewLocation:this.props.blockPreviewLocation,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.whimsical:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"whimsical"});case d.Ti.miro:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"miro"});case d.Ti.abstract:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"abstract"});case d.Ti.mixpanel:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"mixpanel"});case d.Ti.sketch:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"sketch"});case d.Ti.excalidraw:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"excalidraw"});case d.Ti.replit:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"replit"});case d.Ti.pdf:return(0,F.jsx)(xe,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"pdf"});case d.Ti.table:return this.renderSimpleTableBlock(e);case d.Ti.tableRow:return this.renderSimpleTableRowBlock(e);case d.Ti.externalObjectInstance:return(0,F.jsx)(me,{created:this.props.created,blockPreviewLocation:this.props.blockPreviewLocation,deleted:this.props.deleted,blockValue:e});case d.Ti.linkToPage:case d.Ti.personalHomePage:case d.Ti.linkToCollection:case d.Ti.divider:case d.Ti.columnList:case d.Ti.column:case d.Ti.copyIndicator:case d.Ti.breadcrumb:case d.Ti.figma:case d.Ti.loom:case d.Ti.typeform:case d.Ti.codepen:case d.Ti.tableOfContents:case d.Ti.alias:case d.Ti.transclusionContainer:case d.Ti.transclusionReference:case d.Ti.hex:case d.Ti.tab:case d.Ti.deepnote:case d.Ti.externalObjectInstancePage:case d.Ti.aiBlock:case d.Ti.drawing:return;default:(0,T.t1)(e)}}renderPageBlock(e){var t;const o=this.getRecordModel({table:f.iU,id:e.id})||e,r=o.getRenderTitle({getRecordModel:this.getRecordModel,userTimeZone:(0,v.r)(),intl:this.props.intl})||(0,F.jsx)(V.FormattedMessage,{defaultMessage:"Untitled",id:"edit.pageBlock.untitled"});return(0,F.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,F.jsx)("div",{style:{paddingRight:6},children:(0,F.jsx)(W,{icon:null==o||null===(t=o.getFormat())||void 0===t?void 0:t.page_icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})}),(0,F.jsx)("div",{className:"notranslate",style:{flex:1,textOverflow:"ellipsis",overflow:"hidden"},children:r})]})}renderCollectionBlock(e){const t=this.getRecordModel({table:y.vF,id:e.id})||e,o=t.getRenderTitle({intl:this.props.intl,getRecordModel:this.getRecordModel,userTimeZone:(0,v.r)()})||(0,F.jsx)(V.FormattedMessage,{defaultMessage:"Untitled",id:"edit.collectionBlock.untitled"});return(0,F.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,F.jsx)("div",{style:{paddingRight:4},children:(0,F.jsx)(W,{icon:t.icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})}),(0,F.jsx)("div",{style:{flex:1},children:o})]})}renderSimpleTableBlock(e){var t,o,r;const i=(null===(t=e.content)||void 0===t?void 0:t.length)||0,l=(null===(o=e.format)||void 0===o||null===(o=o.table_block_column_order)||void 0===o?void 0:o.length)||0;if(!i||!l)return;const s=e.content?e.content.map((t=>this.getRecordModel({table:e.parent_table,id:t,spaceId:e.space_id}))):[],n=null===(r=e.format)||void 0===r?void 0:r.table_block_column_order;return(0,F.jsx)("div",{style:{overflow:"scroll"},children:(0,F.jsx)("table",{children:(0,F.jsx)("tbody",{children:s.map((e=>e?(0,F.jsx)("tr",{children:null==n?void 0:n.map((t=>(0,F.jsx)(Se,{rootStore:this.props.rootStore,blockValue:e,columnID:t},t)))},e.id):void 0))})})})}renderSimpleTableRowBlock(e){var t;if(!e.properties||0===(0,T.Yd)(e.properties).length)return;const o=this.getRecordModel({table:e.parent_table,id:e.parent_id,spaceId:e.space_id});if(!o)return;const r=null===(t=o.getFormat())||void 0===t?void 0:t.table_block_column_order;return(0,F.jsx)("div",{style:{display:"flex",alignItems:"stretch",margin:4},children:(0,F.jsx)("table",{children:(0,F.jsx)("tr",{children:null==r?void 0:r.map((t=>(0,F.jsx)(Se,{rootStore:this.props.rootStore,blockValue:k.kk.fromBlock(e),columnID:t},t)))})})})}}function z(e){let{value:t,propertySchema:o,labeled:r,rootStore:i,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:s,disableDateStyleAnnotations:n}=e;return(0,F.jsx)(q,{labeled:r,type:o.type,icon:o.icon,name:o.name,children:(0,F.jsx)(C.Z,{propertySchema:o,value:t,rootStore:i,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:s,disableDateStyleAnnotations:n})})}function H(e){let{blockValue:t,prop:o,labeled:r,schema:i,rootStore:l}=e;const s=(0,V.useIntl)(),n=(i||p.Kc(s))[o];if(n){const e=D(t,o);return(0,F.jsx)(z,{value:{value:e,spaceId:(0,j.C)(t.space_id)},propertySchema:n,labeled:r,rootStore:l})}return null}function O(e){let{children:t}=e;const o=(0,F.jsx)("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6},children:(0,S.L)({width:"0.6875em",height:"0.6875em",transform:"rotateZ(90deg)"})});return(0,F.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[o,(0,F.jsx)("span",{children:t})]})}function U(e){let{src:t,permissionRecord:o}=e;const r=(0,a.Fg)();return t?(0,F.jsx)(I.Z,{url:t,isAuthenticated:!0,permissionRecord:o,width:170,render:(e,t)=>{if(t)return(0,F.jsx)("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):(0,F.jsx)("div",{style:{backgroundColor:r.lightTextColor,height:170,width:170}})}function W(e){let{icon:t,rootStore:o,blockValue:r}=e;if(t){if((0,g.Z)(t))return(0,F.jsx)("div",{style:{fontSize:16.2,display:"inline-block"},children:t});{const e=k.kk.fromBlock(r).getRenderIcon({getRecordModel:o.getRecordModel});return(0,F.jsx)(Z.Z,{disabled:!0,icon:e,isEmptyPage:!1,size:18,style:{marginTop:6,marginBottom:6}})}}return(0,m.S)({height:18,width:18})}function q(e){let{children:t,type:o,icon:r,name:i,labeled:l,style:s}=e;const n=(0,a.Fg)();return l?(0,F.jsxs)("div",{style:s,children:[(0,F.jsxs)("div",{style:{display:"flex",color:n.lightTextColor,paddingTop:7,fontSize:12,lineHeight:1,marginBottom:2},children:[(0,F.jsx)(b.ZP,{type:o,icon:r,size:14,theme:n}),(0,F.jsx)("div",{style:{marginLeft:6},children:i})]}),(0,F.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:24},children:t})]}):(0,F.jsx)("div",{style:s,children:t})}function N(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,F.jsx)(V.FormattedMessage,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const o=u.Sj(t,p.fG);return(0,F.jsx)(V.FormattedMessage,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:o},id:"edit.codeBlockWithLanguageChanged.label"})}K.displayName="BlockPreview";const X=(0,V.injectIntl)(K);function E(e,t){return Boolean(e&&e.properties&&e.properties[t])}function G(e){let{blockValue:t}=e;const o=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return w.Jcv(o)}(t);return(0,F.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,F.jsx)("span",{style:{wordBreak:"break-word"},children:o})})}function J(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)(H,{rootStore:o,blockValue:t,prop:"title",labeled:!1})}function $(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)("div",{style:{marginRight:6,marginTop:3},children:(0,F.jsx)(H,{rootStore:o,blockValue:t,prop:"checked",labeled:!1})})}function Y(e){let{blockValue:t,rootStore:o}=e;return E(t,"caption")?(0,F.jsx)(H,{rootStore:o,blockValue:t,prop:"caption",labeled:!1}):null}function Q(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)(J,{rootStore:o,blockValue:t})}function ee(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)("div",{style:L.v.headerStyle,children:(0,F.jsx)(J,{rootStore:o,blockValue:t})})}function te(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)("div",{style:L.v.subHeaderStyle,children:(0,F.jsx)(J,{rootStore:o,blockValue:t})})}function oe(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)("div",{style:L.v.subSubHeaderStyle,children:(0,F.jsx)(J,{rootStore:o,blockValue:t})})}function re(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)(O,{children:(0,F.jsx)(J,{rootStore:o,blockValue:t})})}function ie(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,F.jsx)("li",{children:(0,F.jsx)(J,{rootStore:o,blockValue:t})})})}function le(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,F.jsx)("li",{children:(0,F.jsx)(J,{rootStore:o,blockValue:t})})})}function se(e){let{blockValue:t,rootStore:o}=e;return(0,F.jsxs)("div",{style:{display:"inline-flex"},children:[(0,F.jsx)($,{rootStore:o,blockValue:t}),(0,F.jsx)(J,{rootStore:o,blockValue:t})]})}function ne(e){let{blockValue:t,rootStore:o,blockPreviewLocation:i}=e;const l=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return u.zB(o)}(t);if(!l)return null;const s=(0,F.jsx)(Y,{rootStore:o,blockValue:t});return"comments_sidebar"===i?(0,F.jsx)(r.Fragment,{children:(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,F.jsx)(U,{src:l,permissionRecord:{table:f.iU,id:t.id}}),s&&(0,F.jsx)("div",{style:{marginBottom:4},children:s})]})}):(0,F.jsxs)(r.Fragment,{children:[(0,F.jsx)("div",{style:{display:"flex"},children:(0,F.jsx)("div",{style:{marginTop:4,marginBottom:4},children:(0,F.jsx)(U,{src:l,permissionRecord:{table:f.iU,id:t.id}})})}),s&&(0,F.jsx)("div",{style:{marginBottom:4},children:s})]})}function ae(e){return function(e){return"comments_sidebar"===e}(e)?{marginTop:0,marginBottom:0}:void 0}function ce(e){let{blockValue:t,created:o,blockPreviewLocation:r,deleted:i,rootStore:l}=e;const s=(0,a.Fg)();return(0,F.jsx)(h.Z,{title:_(d.Ti.callout),theme:s,created:o,style:ae(r),deleted:i,children:(0,F.jsx)(J,{rootStore:l,blockValue:t})})}function de(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:l}=e;const s=(0,a.Fg)();return(0,F.jsx)(h.Z,{title:_(d.Ti.quote),theme:s,style:ae(o),created:r,deleted:i,children:(0,F.jsx)(J,{rootStore:l,blockValue:t})})}function pe(e){let{blockValue:t,blockPreviewLocation:o,created:r,rootStore:i}=e;const l=(0,a.Fg)();return(0,F.jsx)(h.Z,{title:_(d.Ti.factory),theme:l,style:ae(o),created:r,deleted:!0,children:(0,F.jsx)(J,{rootStore:i,blockValue:t})})}function ue(e){let{automation:t,blockPreviewLocation:o,created:r,deleted:i}=e;const l=(0,a.Fg)(),[s,c]=(0,n.VK)((()=>[t.getActionIds(),t.getProperties()]),[t]),p=(0,a.yK)((()=>({editBoxChildren:{...P.Z.textOverflowStyle,margin:0},workflow:{...P.Z.textOverflowStyle,marginBlock:"8px 0"},wrap:{overflow:"hidden"}})),[]);return(0,F.jsxs)("div",{style:p.wrap,children:[(0,F.jsx)(h.Z,{title:_(d.Ti.button),theme:l,style:ae(o),created:r,deleted:i,children:(0,F.jsx)("p",{style:p.editBoxChildren,children:(null==c?void 0:c.name)??(0,F.jsx)(V.FormattedMessage,{defaultMessage:"Untitled",id:"edit.buttonBlock.defaultTitle"})})}),(0,F.jsx)("p",{style:p.workflow,children:(0,F.jsx)(V.FormattedMessage,{defaultMessage:"{numberOfActions, plural, one {{numberOfActions} workflow step} other {{numberOfActions} workflow steps}}",id:"edit.buttonBlock.actionCount",values:{numberOfActions:s.length}})})]})}function he(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:l}=e;const s=(0,a.Fg)();return(0,F.jsx)(h.Z,{title:_(d.Ti.equation),theme:s,style:ae(o),created:r,deleted:i,children:(0,F.jsx)(J,{rootStore:l,blockValue:t})})}function be(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:s}=e;const n=(0,a.Fg)();return(0,F.jsx)(h.Z,{title:N(t),theme:n,style:ae(o),created:r,deleted:i,children:(0,F.jsx)("span",{style:{fontFamily:P.Z.getCompositeFontFamily(l.SP).mono,fontSize:12,tabSize:2},children:(0,F.jsx)(J,{rootStore:s,blockValue:t})})})}function xe(e){let{blockValue:t,type:o,intl:i,blockPreviewLocation:l,created:s,deleted:n,rootStore:d}=e;const p=(0,a.Fg)();return(0,F.jsxs)(r.Fragment,{children:[(0,F.jsx)(h.Z,{title:c.xg(i,o),theme:p,style:ae(l),created:s,deleted:n,children:(0,F.jsx)(G,{blockValue:t})}),(0,F.jsx)("div",{style:{marginBottom:4},children:(0,F.jsx)(Y,{rootStore:d,blockValue:t})})]})}function ve(e){let{blockValue:t,blockPreviewLocation:o,created:i,rootStore:l}=e;const s=(0,a.Fg)(),n=E(t,"title")&&(0,F.jsx)(h.Z,{title:_(d.Ti.bookmark),theme:s,style:ae(o),created:i,children:(0,F.jsx)(J,{rootStore:l,blockValue:t})});return(0,F.jsxs)(r.Fragment,{children:[n,E(t,"caption")&&(0,F.jsx)("div",{style:{marginBottom:n?4:0},children:(0,F.jsx)(Y,{rootStore:l,blockValue:t})})]})}function me(e){let{blockValue:t,created:o,blockPreviewLocation:r,deleted:i}=e;const l=(0,a.Fg)(),s=(0,n.VK)((()=>k.kk.fromBlock(t)),[t]),d=(0,n.VK)((()=>c.$F(R.default.getIntl(),s,k.om.fromRecordMap(M.Z.getIntegrationsAsRecordMap()))),[s]);return(0,F.jsx)(h.Z,{title:(0,F.jsx)(V.FormattedMessage,{...c.V1.editLabel}),theme:l,created:o,style:ae(r),deleted:i,children:d})}function Se(e){let{blockValue:t,columnID:o,rootStore:r}=e;const i=(0,a.Fg)(),l=(0,s.O7)(),c=(0,n.VK)((()=>D(t,o)),[t,o]),d=(0,n.VK)((()=>c&&c.length>0?B.g$.renderCellValueForActivity({environment:l,cellValue:c,spaceId:t.space_id,parentStore:r,theme:i}):(0,F.jsx)("span",{children:"Â "})),[c,t,r,i,l]);return(0,F.jsx)("td",{style:{border:`1px solid ${i.tableDividerColor}`,height:"100%"},children:(0,F.jsx)("div",{style:{overflowWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",width:"max-content",maxWidth:120,verticalAlign:"top",lineHeight:P.Z.lineHeight.UIRegular.desktop,padding:4},children:d})})}function ge(e){let{blockValue:t,deleted:o,blockPreviewLocation:r,intl:i,created:l,rootStore:s}=e;const n=(0,a.Fg)(),c=(0,x.v0)(t);return c&&c.title?(0,F.jsx)("div",{children:(0,F.jsx)(h.Z,{title:(0,F.jsx)(V.FormattedMessage,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!o,deleted:o,theme:n,style:ae(r),children:c.title})}):t.content?(0,F.jsx)(xe,{intl:i,blockPreviewLocation:r,created:l,deleted:o,rootStore:s,blockValue:t,type:"drive"}):null}},14200:(e,t,o)=>{o.d(t,{Z:()=>_});o(57658);var r=o(67294),i=o(83355),l=o(480),s=o(86628),n=o(24405),a=o(80951),c=o(40506),d=o(36591),p=o(65628),u=o(21768),h=o(74446),b=o(21202),x=o(77420),v=o(23867),m=o(19889),S=o(70203),g=o(9291),k=o(31701),f=o(53965),y=o(1898),j=o(37810),w=o(60682),V=o(14976),T=o(6258),P=o(39111),L=o(29302),R=o(89845),B=o(75561),M=o(54368),I=o(70693),Z=o(4308),C=o(85893);function F(e){const{textValue:t,rootStore:o}=e,i=(0,g.useIntl)(),l=(0,r.useMemo)((()=>{const e=a._w(t);return e?Z.WN(e):{type:"none"}}),[t]),n=(0,s.VK)((()=>{if("none"!==l.type)return T.t1.createChildStore(o,l.actorPointer)}),[l,o]);if("none"===l.type)return(0,C.jsx)("span",{children:i.formatMessage(Z.X3.none)});let c;return void 0===n?c=(0,C.jsx)(L.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):n.table===m.KJ?c=(0,C.jsx)(L.Z,{userStore:n,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):n.table===x.cZ?c=(0,C.jsx)(P.Z,{botStore:n,style:{display:"inline-flex",alignItems:"baseline"}}):n.table===M.y0?c=(0,C.jsx)(L.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,y.t1)(n),"verified"===l.type&&l.isIndefinite?(0,C.jsx)("div",{children:i.formatMessage(Z.X3.verifiedIndefinitely,{actor:c})}):(0,C.jsx)("div",{children:i.formatMessage(Z.X3.verifiedUntil,{actor:c,datetime:I.nK({dateTime:l.dateTimeRange.end,intl:i,displayInUserTimezone:!0})})})}class A extends i.Z{constructor(){super(...arguments),this.renderRelation=(e,t)=>{const o=this.getPageTitle(e),{disableStyleAnnotations:r=!1,disableInsertedDeletedAnnotations:i=!1,disableDateStyleAnnotations:l=!1}=this.props;return(0,C.jsx)("div",{style:{maxWidth:180,...j.Z.textOverflowStyle},children:V.IY({environment:this.environment,textValue:{value:o,spaceId:(0,v.C)(e.spaceId)},parentStore:this.props.rootStore,disableHover:!0,disableStyleAnnotations:r,disableInsertedDeletedAnnotations:i,disableDateStyleAnnotations:l,disabled:!0,theme:this.theme,emojiType:(0,w.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]})},t)},this.getRecordModel=u.o.fromMonomorphicFunctionUnsafe((e=>this.getBlockStore(e.id).getRecordModel(e)),h.mF.fromMonomorphicFunctionUnsafe((e=>this.getBlockStore(e.id).getRecordValue(e)))),this.getRenderableTextValue=()=>{const{value:e,propertySchema:t}=this.props;if("text"===t.type||"title"===t.type)return e.value;if("relation"===t.type){const e=this.getRelationValue();if(!e)return;const t=e.map(this.getPageTitle);return f.xH(t)}},this.getPageTitle=e=>{const t=this.getBlockValue(e.id);return t&&(0,a.wS)(t,"title")||[]}}UNSAFE_willMountOrUpdate(){const{propertySchema:e}=this.props;"text"!==e.type&&"title"!==e.type&&"relation"!==e.type||this.environment.KatexStore.loadIfNeeded(this.getRenderableTextValue)}renderComponent(){const{value:e}=this.props,t=this.props.propertySchema.type;return"checkbox"!==t&&0===e.value.length?(0,C.jsx)(G,{}):"text"===t?(0,C.jsx)(J,{value:this.props.value,disableStyleAnnotations:!!this.props.disableStyleAnnotations,disableInsertedDeletedAnnotations:!!this.props.disableInsertedDeletedAnnotations,disableDateStyleAnnotations:!!this.props.disableDateStyleAnnotations,rootStore:this.props.rootStore}):"checkbox"===t?(0,C.jsx)(D,{value:this.props.value}):"multi_select"===t?(0,C.jsx)($,{propertySchema:this.props.propertySchema,value:this.props.value,rootStore:this.props.rootStore}):"select"===t?(0,C.jsx)(Q,{propertySchema:this.props.propertySchema,value:this.props.value,rootStore:this.props.rootStore}):"status"===t?(0,C.jsx)(ee,{propertySchema:this.props.propertySchema,value:this.props.value,rootStore:this.props.rootStore}):"person"===t?(0,C.jsx)(E,{value:this.props.value,propertySchema:this.props.propertySchema,rootStore:this.props.rootStore}):"number"===t?(0,C.jsx)(K,{value:this.props.value}):"date"===t?(0,C.jsx)(z,{propertySchema:this.props.propertySchema,value:this.props.value}):"url"===t?(0,C.jsx)(H,{value:this.props.value}):"file"===t?(0,C.jsx)(O,{value:this.props.value}):"email"===t?(0,C.jsx)(U,{value:this.props.value}):"phone_number"===t?(0,C.jsx)(W,{value:this.props.value}):"title"===t?(0,C.jsx)(J,{value:this.props.value,disableStyleAnnotations:!!this.props.disableStyleAnnotations,disableInsertedDeletedAnnotations:!!this.props.disableInsertedDeletedAnnotations,disableDateStyleAnnotations:!!this.props.disableDateStyleAnnotations,rootStore:this.props.rootStore}):"created_time"===t?(0,C.jsx)(z,{propertySchema:this.props.propertySchema,value:this.props.value}):"created_by"===t?(0,C.jsx)(E,{value:this.props.value,propertySchema:this.props.propertySchema,rootStore:this.props.rootStore}):"relation"===t?this.renderRelationProperty():"auto_increment_id"===t?(0,C.jsx)(K,{value:this.props.value}):"verification"===t?(0,C.jsx)(q,{value:this.props.value,rootStore:this.props.rootStore}):"formula"===t||"rollup"===t||"last_edited_by"===t||"last_edited_time"===t||"last_visited_time"===t||"button"===t||"location"===t?null:void(0,y.t1)(t)}renderRelationProperty(){let e=this.getRelationValue();if(!e)return;if(e.length>5){const t=e.slice(5).length;return e=e.slice(0,5),(0,C.jsxs)("div",{children:[e.map(this.renderRelation),(0,C.jsx)("div",{style:{maxWidth:180,color:this.theme.mediumTextColor},children:(0,C.jsx)(g.FormattedMessage,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",values:{leftoverCountNumber:t}})})]})}return(0,C.jsx)("div",{children:e.map(this.renderRelation)})}getBlockStore(e){return T.G.createChildStore(this.props.rootStore,{table:b.iU,id:e})}getBlockValue(e){return this.getBlockStore(e).getValue()}getRelationValue(){if("relation"===this.props.propertySchema.type)return a.j$({relationValue:a.rq(this.props.value.value),getRecordModel:this.getRecordModel,propertySchema:this.props.propertySchema})}}A.displayName="EditProperty";const _=A;function D(e){let{value:t}=e;const o=a.Ml(t.value);return(0,C.jsx)("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:o?k.ZP.blue:k.ZP.transparent},children:o?(0,d.e)({fill:k.ZP.white,width:12,height:12}):(0,p.z)()})}function K(e){let{value:t}=e;const o=a.VY(t.value);return(0,C.jsx)("div",{children:o})}function z(e){let{propertySchema:t,value:o}=e;const r=t,i=a.Gl(o.value);return(0,C.jsx)(R.Z,{value:i,dateFormat:r.date_format||c.sF,timeFormat:r.time_format||c.c_,displayInUserTimezone:!0})}function H(e){let{value:t}=e;return(0,C.jsx)(C.Fragment,{children:S.Jcv(t.value)})}function O(e){let{value:t}=e;const o=a.g(t.value);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:o.map(((e,t,o)=>{const r=o.length-1===t;return(0,C.jsx)(B.Z,{rightMargin:!r,children:e.url},t)}))})}function U(e){let{value:t}=e;const o=S.Jcv(t.value);return(0,C.jsx)("div",{children:o})}function W(e){let{value:t}=e;const o=S.Jcv(t.value);return(0,C.jsx)("div",{children:o})}function q(e){let{value:t,rootStore:o}=e;return(0,C.jsx)(F,{textValue:t.value,rootStore:o})}function N(e){let{userId:t,rootStore:o,isLast:r}=e;const i=(0,s.VK)((()=>function(e,t){return T.U6.createChildStore(t,{table:m.KJ,id:e}).getValue()}(t,o)),[t,o]);return(0,C.jsx)("div",{style:{marginTop:4,marginRight:r?0:8},children:(0,C.jsx)(L.Z,{userValue:i,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})})}function X(e){let{isLast:t,botId:o,rootStore:i}=e;const l=(0,r.useMemo)((()=>function(e,t){return T.Qx.createChildStore(t,{table:x.cZ,id:e})}(o,i)),[o,i]);return(0,C.jsx)("div",{style:{marginTop:4,marginRight:t?0:8},children:(0,C.jsx)(P.Z,{botStore:l})})}function E(e){let{value:t,propertySchema:o,rootStore:r}=e;const i=a.DW({textValue:t.value,propertySchema:o,blockCreatorPointer:void 0}),l=[];return i.forEach(((e,t)=>{const o=i.length-1===t;e.table===m.KJ?l.push((0,C.jsx)(N,{userId:e.id,rootStore:r,isLast:o},t)):l.push((0,C.jsx)(X,{botId:e.id,rootStore:r,isLast:o},t))})),(0,C.jsx)("div",{style:{display:"inline-flex"},children:l})}function G(){const e=(0,n.Fg)();return(0,C.jsx)("div",{style:{color:e.mediumTextColor,fontSize:12},children:(0,C.jsx)(g.FormattedMessage,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"})})}function J(e){let{value:t,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:i,rootStore:a}=e;const c=(0,n.Fg)(),d=(0,l.O7)(),p=(0,s.VK)((()=>V.IY({environment:d,textValue:t,parentStore:a,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:i,disableHover:!0,disabled:!0,theme:c,emojiType:(0,w.e_)(d),katex:d.KatexStore.getKatex(),formulaValueTypes:[]})),[d,t,a,c,o,r,i]);return(0,C.jsx)("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:p})}function $(e){let{propertySchema:t,value:o,rootStore:r}=e;const i=t.options||[],l=a.Ak(o.value);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:l.map(((e,t,l)=>(0,C.jsx)(Y,{token:e,options:i,index:t,arr:l,rootStore:r,value:o},t)))})}function Y(e){let{token:t,options:o,index:r,arr:i,rootStore:l,value:a}=e;const c=(0,n.Fg)(),d=(o??[]).find((e=>e.value===t)),p=i.length-1===r,u=(0,k.KR)(c,null==d?void 0:d.color),h=(0,s.VK)((()=>t??V.Xh(a.value,l)),[t,a,l]);return(0,C.jsx)(B.Z,{...u,rightMargin:!p,children:h})}function Q(e){let{propertySchema:t,value:o,rootStore:r}=e;const i=(0,n.Fg)(),l=t.options||[],c=a.Sj(o.value,l),d=(0,s.VK)((()=>c??V.Xh(o.value,r)),[c,o,r]),p=l.find((e=>e.value===c)),u=(0,k.KR)(i,null==p?void 0:p.color);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:(0,C.jsx)(B.Z,{...u,children:d})})}function ee(e){let{propertySchema:t,value:o,rootStore:r}=e;const i=(0,n.Fg)(),l=t,c=a.yp(o.value,l),d=(0,s.VK)((()=>c??V.Xh(o.value,r)),[c,o,r]),p=(l.options??[]).find((e=>e.value===c)),u=(0,k.KR)(i,null==p?void 0:p.color);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:(0,C.jsx)(B.Z,{...u,children:d})})}},75561:(e,t,o)=>{o.d(t,{Z:()=>l});o(67294);var r=o(37810),i=o(85893);function l(e){const{children:t,textColor:o,backgroundColor:l,rightMargin:s,strikethrough:n}=e;return(0,i.jsx)("div",{style:{backgroundColor:l,color:o,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:4,marginRight:s?4:0,textDecoration:n?"line-through":void 0},children:(0,i.jsx)("span",{style:{...r.Z.textOverflowStyle},children:t})})}},42130:(e,t,o)=>{o.d(t,{v:()=>l});var r=o(31701),i=o(37810);class l{static getLabelStyle(e){return{fontSize:12,lineHeight:1,paddingTop:8,color:e.lightTextColor}}static getUserHeaderStyle(e){return{fontSize:12,color:e.mediumTextColor}}static getRoleStyle(){return{fontSize:14,whiteSpace:"nowrap"}}}l.wrapStyle={display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},l.headerStyle={fontWeight:i.Z.fontWeight.semibold},l.subHeaderStyle={fontWeight:i.Z.fontWeight.semibold},l.subSubHeaderStyle={fontWeight:i.Z.fontWeight.semibold},l.permissionStyle={display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},l.groupStyle={display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},l.permissionTypeWrapStyle={display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},l.diffWrapStyle={display:"flex",alignItems:"center"},l.addedStyle={color:r.ZP.blue,backgroundColor:r.ZP.blueWithAlpha(.14)},l.deletedStyle={opacity:.4,marginBottom:6,textDecoration:"line-through"}},25501:(e,t,o)=>{o.d(t,{Z:()=>l});o(67294);var r=o(31701),i=o(85893);const l=function(e){const{children:t,created:o,deleted:l,style:s,theme:n,title:a}=e,c={boxShadow:`inset 0 0 0 1px ${n.regularDividerColor}`,borderRadius:4,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...o&&{color:r.ZP.diffTextColor,backgroundColor:r.ZP.diffBackground},...s},d={fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:n.regularTextColor};return(0,i.jsxs)("div",{style:c,children:[(0,i.jsx)("div",{style:d,children:a}),(0,i.jsx)("div",{style:{...l&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}},children:t})]})}}}]);