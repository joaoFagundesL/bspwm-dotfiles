"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6495],{2924:(e,t,a)=>{a.d(t,{g:()=>y});var n=a(67294),s=a(480),r=a(84747),o=a(86628),i=a(24405),d=a(9291),l=a(53965),u=a(86572),c=a(89024),p=a(74194),m=a(7124),g=a(80444),h=a(27242),b=a(87131);function f(e,t){if(v(e,t))return t[e].message}function v(e,t){return!!t&&e in t}var x=a(85893);function y(e){const{title:t}=e,a=(0,d.useIntl)(),s=(0,o.VK)((()=>{const{currentUserStore:e}=g.default.state,t=null!=e&&e.isDefined()?e.getModel():void 0;return(null==t?void 0:t.getFullName(a))??""}),[a]),[i,l]=(0,n.useState)(s),[u,p]=(0,n.useState)(""),{validationErrors:m}=(0,o.VK)((()=>h.Z.state.open?h.Z.state:{validationErrors:void 0}),[]),f=v("name",m);return(0,r.Z)((()=>{s&&w(s)})),(0,n.useEffect)((()=>{f&&i&&h.Z.clearValidationErrorState("name")}),[i,f]),(0,x.jsx)(b.O,{title:t??null,childGap:8,children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(c.jX,{gap:2,children:[(0,x.jsx)(S,{name:i,setName:l,hasInvalidInput:f}),(0,x.jsx)(C,{hasInvalidInput:f,validationErrors:m})]}),(0,x.jsx)(j,{businessName:u,setBusinessName:p})]})})}function j(e){const{businessName:t,setBusinessName:a}=e,n=T(),r=(0,d.useIntl)(),o=(0,s.O7)();return(0,x.jsx)(p.Z,{placeholder:r.formatMessage({defaultMessage:"Business name (optional)",id:"billingDetails.businessName"}),style:n.input,onChange:e=>{!function(e,t){const a=t.target.value,n=h.Z.state;if(!n.open)return;B({environment:e,addressType:"businessName",addressUpdate:a,modal_id:n.sessionId}),h.Z.update((e=>{if(!e.open)return e;const t=e.temporaryAddress;return t.businessName=a,{...e,temporaryAddress:t}}))}(o,e),a(e.target.value)},value:t})}function C(e){const{hasInvalidInput:t,validationErrors:a}=e;return t?(0,x.jsx)(m.q,{colorName:"uiRedPrimary",styleName:"Body-12px/Regular",children:f("name",a)}):null}function S(e){const{name:t,setName:a,hasInvalidInput:r}=e,o=(0,d.useIntl)(),i=(0,s.O7)(),l=T(),u=(0,n.useRef)(null);return(0,n.useEffect)((()=>{r&&u.current&&u.current.scrollIntoView()}),[u,r]),(0,x.jsx)(p.Z,{ref:u,placeholder:o.formatMessage({defaultMessage:"Name",id:"billingDetails.name"}),style:r?l.invalidInput:l.input,onChange:e=>{!function(e,t){const a=t.target.value,n=h.Z.state;if(!n.open)return;B({environment:e,addressType:"name",addressUpdate:a,modal_id:n.sessionId}),w(a)}(i,e),a(e.target.value)},value:t})}function T(){return(0,i.yK)((e=>({input:{padding:10,background:e.surface.wash,width:"100%",boxShadow:e.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},invalidInput:{padding:10,background:e.surface.wash,width:"100%",boxShadow:e.outlineRedInputBoxShadow,transition:"box-shadow 0.3s ease-out"}})),[])}function w(e){h.Z.update((t=>{if(!t.open)return t;const a=t.temporaryAddress;return a.name=e,{...t,temporaryAddress:a}}))}const B=l.Ds((e=>{let{environment:t,addressType:a,addressUpdate:n,modal_id:s}=e;u.rY(t,{addressType:a,addressUpdate:n,modal_id:s})}),1e3)},75877:(e,t,a)=>{a.d(t,{iQ:()=>r,ni:()=>b});a(67294);var n=a(23061),s=a(85893);function r(){const{temporaryVATCode:e,vatApplicable:t}=(0,n.Rl)(),a=(0,n.pk)();return(0,s.jsxs)("div",{children:[(0,s.jsx)(b,{}),(0,s.jsx)(n.nb,{onChange:a,temporaryVatCode:e,vatApplicable:t})]})}var o=a(86664),i=a(480),d=a(86628),l=a(9291),u=a(86572),c=a(89024),p=a(80444),m=a(27242),g=a(37014),h=a(2924);function b(e){let{hideLabel:t}=e;const a=(0,d.VK)((()=>{const e=m.Z.state;if(e.open)return e.sessionId}),[]),n=(0,i.O7)(),r={defaultValues:{billingDetails:(0,d.VK)((()=>{const e=p.default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])}};return(0,s.jsx)(c.jX,{gap:24,children:(0,s.jsxs)(g.x,{label:t?null:(0,s.jsx)(l.FormattedMessage,{id:"checkoutPaymentField.paymentDetails.title",defaultMessage:"Payment details"}),gap:t?8:void 0,children:[(0,s.jsx)(h.g,{}),(0,s.jsx)(o.PaymentElement,{options:r,onChange:e=>{u.Dc(n,{event:e,modal_id:a}),m.Z.update((e=>{if(!e.open)return e;const{paymentData:t,...a}=e;return a}))}})]})})}a(91252)},3951:(e,t,a)=>{a.d(t,{Z:()=>m});a(67294);var n=a(86628),s=a(24405),r=a(9291),o=a(58297),i=(a(95477),a(27242)),d=a(70060),l=a(88893),u=a(88280),c=a(85893);function p(e){const{state:t}=e,{open:a,type:n,isTrial:s,subscriptionTier:o}=t;return a?n===i.U.TargetSpace?(0,c.jsx)(r.FormattedMessage,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"}):s?(0,c.jsx)(r.FormattedMessage,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion with {subscriptionTier, select, business {Business} other {Plus}} trial",values:{subscriptionTier:o}}):(0,c.jsx)(r.FormattedMessage,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now"}):null}function m(e){const{state:t,onClickUpgrade:a,customStyles:r}=e,i=(0,s.yK)((()=>({upgradeButton:{height:40,marginTop:24,fontSize:16}})),[]),m=(0,n.VK)((()=>{var e;return void 0!==(null===(e=(0,l.aS)(u.subscriptionDataStoreInstance.state))||void 0===e?void 0:e.customerId)}),[]),g=(0,n.VK)((()=>(0,d.G2)()&&!1),[m]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{disabled:"disabled"===t.payButtonState,style:{...i.upgradeButton,...r},onClick:()=>a({useTestClock:!1}),children:(0,c.jsx)(p,{state:t})}),g?(0,c.jsx)(o.Z,{disabled:"disabled"===t.payButtonState,style:i.upgradeButton,onClick:()=>a({useTestClock:!0}),children:"ðŸš§ Upgrade with Test Clock ðŸš§"}):void 0]})}},23061:(e,t,a)=>{a.d(t,{nb:()=>b,pk:()=>f,Rl:()=>v});var n=a(67294),s=a(480),r=a(86628),o=a(24405),i=a(9291),d=a(53965),l=a(37810),u=a(74194),c=a(26388),p=a(27242),m=a(40469),g=a(85893);function h(e){const t=(0,o.yK)((t=>({group:{display:"flex",borderBottomColor:t.groupedFormBorder,borderBottomWidth:1,borderBottomStyle:"solid",alignItems:"center",flex:1,...e.style}})),[e.style]);return(0,g.jsx)("div",{style:t.group,children:e.children})}function b(e){const{temporaryVatCode:t,vatApplicable:a,disabled:s,tooltip:r,onChange:d}=e,p=(0,o.yK)((e=>({container:{backgroundColor:e.cardContentBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:4,borderBottom:"none"},header:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:l.Z.fontWeight.semibold,color:e.mediumTextColor,justifyContent:"space-between",paddingTop:20},input:{padding:10,background:e.surface.wash,width:"100%",boxShadow:e.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},subtitle:{color:e.mediumTextColor,fontSize:l.Z.fontSize.UISmall.desktop,marginTop:5,marginBottom:10},whiteSpace:{marginBottom:20}})),[]),m=(0,i.useIntl)(),b=(0,n.useCallback)((e=>{d(e.target.value)}),[d]);return a?(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:p.header,children:(0,g.jsx)(i.FormattedMessage,{id:"spaceSubscriptionPaymentForm.vatCountryCode.header",defaultMessage:"VAT (optional)"})}),(0,g.jsx)(c.ZP,{placement:c.ug.Top,alignment:c.v2.End,render:e=>(0,g.jsx)("div",{...e,style:p.container,children:(0,g.jsx)(h,{children:(0,g.jsx)(u.Z,{value:t,style:p.input,disabled:s,placeholder:m.formatMessage({id:"spaceSubscriptionPaymentForm.vatCountryCode.placeholder",defaultMessage:"VAT/GST number"}),onChange:b})})}),disableTooltip:!r,renderTooltip:()=>r})]}):null}function f(){const e=(0,s.O7)(),t=(0,n.useMemo)((()=>(0,d.Ds)((async()=>{await m.W_(e)}),3e3)),[e]);return(0,n.useCallback)((async e=>{p.Z.update((t=>({...t,temporaryVatCode:e}))),await t()}),[t])}function v(){return(0,r.VK)((()=>{const{state:e}=p.Z;return e.open?{temporaryVATCode:e.temporaryVatCode,vatApplicable:e.vatApplicable}:{temporaryVATCode:"",vatApplicable:!1}}),[])}},87131:(e,t,a)=>{a.d(t,{O:()=>o});a(67294);var n=a(89024),s=a(7124),r=a(85893);function o(e){let{title:t,children:a,titleGap:o,childGap:i}=e;return(0,r.jsxs)(n.jX,{gap:o||8,children:[t?(0,r.jsx)(s.q,{styleName:"Caption-12px/Semibold",colorName:"secondary",children:t}):null,(0,r.jsx)(n.jX,{gap:i||4,children:a})]})}}}]);