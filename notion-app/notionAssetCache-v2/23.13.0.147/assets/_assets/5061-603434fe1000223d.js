"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5061],{55061:(e,t,i)=>{i.d(t,{$2:()=>le,Bg:()=>ne,P6:()=>A,Qs:()=>B,W9:()=>ae,Wy:()=>ie,XW:()=>G,_2:()=>Q,_u:()=>oe,c_:()=>se,gt:()=>K,iR:()=>Y,jQ:()=>ce,kU:()=>ee,oP:()=>D,pF:()=>re,qJ:()=>E,rn:()=>$,sn:()=>q,tA:()=>O,v4:()=>te,xS:()=>x});i(57658);var o=i(9291),a=i(53965),s=i(1898),r=i(19584),n=i(66897),c=i(53196),l=i(41432),u=i(15070),d=i(35011),p=i(99036),m=i(80951),f=i(40506),g=i(7057),N=i(6695),b=i(38297),h=i(22808),y=i(59753),M=i(87479),R=i(82883),v=i(58129),k=i(98963),T=i(21202),_=i(77420),V=i(6287),P=i(75246),S=i(29369),j=i(19889),U=i(99108),L=i(70203),w=i(7928),C=i(70693),I=i(4308);const E=(0,o.defineMessages)({defaultPluralizedUserNames:{defaultMessage:"Someone",id:"pushNotification.pluralizedUserNames.defaultLabel"},defaultPermissionGroupName:{defaultMessage:"Deleted group",id:"pushNotification.permissionGroupName.defaultLabel"},defaultPageName:{defaultMessage:"a Notion page",id:"pushNotification.pageName.defaultLabel"},untitledPermissionGroupName:{defaultMessage:"Untitled group",id:"pushNotification.permissionGroupName.untitledLabel"},userEditedPermissionGroup:{defaultMessage:"{userName} edited {permissionGroupName}",id:"pushNotification.userEditedTarget.label"},userDeletedPermissionGroup:{defaultMessage:"{userName} deleted {permissionGroupName}",id:"pushNotification.userDeletedTarget.label"},userCreatedPermissionGroup:{defaultMessage:"{userName} created {permissionGroupName}",id:"pushNotification.userCreatedTarget.label"},unknownAuthor:{defaultMessage:"Unknown author",id:"pushNotification.authorPhrase.unknown"},untitledSpaceName:{defaultMessage:"Untitled",id:"pushNotification.untitledSpaceName.label"},untitledTeamName:{defaultMessage:"Untitled",id:"pushNotification.untitledTeamName.label"},untitledCollectionName:{defaultMessage:"Untitled",id:"pushNotification.untitledCollectionName.placeholder"},untitledBlockTitle:{defaultMessage:"Untitled",id:"pushNotification.untitledBlockTitle.placeholder"},twoUserNames:{defaultMessage:"{firstAuthor} and {secondAuthor}",id:"pushNotification.twoUserNames.label"},threePlusUserNames:{defaultMessage:"{othersCount, plural, one {{firstAuthor} and {othersCount} other} other {{firstAuthor} and {othersCount} others}}",id:"pushNotification.threePlusUserNames.label"},editorPermissionLabel:{defaultMessage:"Full access",id:"pushNotifications.editorPermissionLevel.label"},readerPermissionLabel:{defaultMessage:"Read only",id:"pushNotifications.readerPermissionLevel.label"},editOnlyPermissionLabel:{defaultMessage:"Edit only",id:"pushNotifications.editOnlyPermissionLevel.label"},editPermissionLabel:{defaultMessage:"Edit",id:"pushNotifications.editPermissionLevel.label"},commentOnlyPermissionLabel:{defaultMessage:"Comment only",id:"pushNotifications.commentOnlyPermissionLevel.label"},noAccessPermissionLabel:{defaultMessage:"No access",id:"pushNotifications.noAccessPermissionLevel.label"},publicPermissionRoleLabel:{defaultMessage:"Public ({permissionLevel})",id:"pushNotifications.publicPermissions.label"},userNameWithRole:{defaultMessage:"{userName} ({permissionLevel})",id:"pushNotifications.userPermissionsWithRole.label"},botNameWithRole:{defaultMessage:"{botName} ({permissionLevel})",id:"pushNotifications.botPermissionsWithRole.label"},spaceNameWithRole:{defaultMessage:"{spaceName} ({permissionLevel})",id:"pushNotifications.spacePermissionsWithRole.label"},imageInPushNotification:{defaultMessage:"{imageEmoji} Image",id:"pushNotification.imageInPushNotification.placeholder"},topLevelBlockCreated:{defaultMessage:"{userName} created {targetName} in {spaceName}",id:"pushNotification.userCreatedBlockInSpace.message"},topLevelBlockDeleted:{defaultMessage:"{userName} deleted {targetName} in {spaceName}",id:"pushNotification.userDeletedBlockInSpace.message"},collectionRowCreated:{defaultMessage:"{userName} created {targetName} in {collectionName}",id:"pushNotification.userCreatedRowInCollection.message"},collectionRowDeleted:{defaultMessage:"{userName} deleted {targetName} in {collectionName}",id:"pushNotification.userDeletedRowInCollection.message"},emptyBlockEditedProperty:{defaultMessage:"Empty",id:"pushNotification.emptyBlockPropertyValueEdited.placeholderLabel"},propertyNameAndValueEdited:{defaultMessage:"{propertyName} ({propertyValue})",id:"pushNotification.propertyNameWithEditedValue.notificationSubject"},propertyNameAndValueNotificationBody:{defaultMessage:"{propertyName} ({propertyValue})",id:"pushNotification.propertyNameWithEditedValue.notificationBody"},blockDeletedEditBody:{defaultMessage:"[Deleted] {renderedBlock}",id:"pushNotification.deletedBlock.notificationContents"},blockEditedNotification:{defaultMessage:"{userName} edited {blockName}",id:"pushNotification.blockEdited.notificationSubject"},blockPropertyEditedNotification:{defaultMessage:"{userName} edited {blockName}",id:"pushNotification.blockPropertyEdited.notificationSubject"},mobileBlockPropertyEditedNotification:{defaultMessage:"{userName} edited",id:"pushNotification.mobileBlockPropertyEdited.notificationSubject"},userEditedPermissionsFor:{defaultMessage:"{userName} edited permissions for {targetName}",id:"pushNotifications.permissionsEditedForPageOrSpace.notificationSubject"},userMentionedIn:{defaultMessage:"{userName} mentioned you in {targetName}",id:"pushNotifications.userMentionedInPage.notificationSubject"},mobileUserMentionedIn:{defaultMessage:"{userName} mentioned you",id:"pushNotifications.mobileUserMentionedInPage.notificationSubject"},permissionGroupMentionedIn:{defaultMessage:"{userName} mentioned {groupName} in {targetName}",id:"pushNotifications.groupMentionedInPage.notificationSubject"},userDeletedComment:{defaultMessage:"[Deleted]💬 {commentText}",id:"pushNotifications.userDeletedCommentText.notificationContents"},userCommentedSubject:{defaultMessage:"{userName} commented in {targetName}",id:"pushNotifications.userCommentedSubject.notificationSubject"},mobileUserCommentedSubject:{defaultMessage:"{userName} commented",id:"pushNotifications.mobileUserCommentedSubject.notificationSubject"},userAddedToSpace:{defaultMessage:"{userName} added you to {workspaceName}",id:"pushNotifications.userAddedToSpace.notificationSubject"},userInvitedToSpace:{defaultMessage:"{userName} invited you to {workspaceName}",id:"pushNotifications.userInvitedToSpace.notificationSubject"},userInvitedToSpaceByBot:{defaultMessage:"You have been invited to {workspaceName}",id:"pushNotifications.userInvitedToSpaceByBot.notificationSubject"},userEditedCollectionSubject:{defaultMessage:"{userName} edited {collectionName}",id:"pushNotifications.collectionEdited.notificationSubject"},userCreatedCollectionSubject:{defaultMessage:"{userName} created {collectionName}",id:"pushNotifications.collectionCreated.notificationSubject"},collectionDescriptionDeleted:{defaultMessage:"{userName} deleted the description for {collectionName}",id:"pushNotifications.collectionDescriptionDeleted.notificationSubject"},collectionDescriptionCreated:{defaultMessage:"{userName} added a description for {collectionName}",id:"pushNotifications.collectionDescriptionAdded.notificationSubject"},untitledCollectionView:{defaultMessage:"Untitled",id:"pushNotifications.untitledCollection.label"},collectionViewEditedSubject:{defaultMessage:"{userName} edited view {collectionViewName} in {collectionName}",id:"pushNotifications.collectionViewEdited.notificationSubject"},collectionPropertyEditedUnknown:{defaultMessage:"Unknown",id:"pushNotifications.unknownCollectionPropertyName.label"},collectionPropertyEditedSubject:{defaultMessage:"{userName} edited property {propertyType} in {collectionName}",id:"pushNotifications.collectionPropertyEdited.subject"},reminderSubject:{defaultMessage:"Reminder in {pageName}",id:"pushNotifications.reminderChanged.subject"},pageLockedActivity:{defaultMessage:"{userName} locked {pageName}",id:"pushNotifications.pageLocked.subject"},pageUnlockedActivity:{defaultMessage:"{userName} unlocked {pageName}",id:"pushNotifications.pageUnlocked.subject"},emailEditedActivity:{defaultMessage:"{userName} edited their account settings",id:"pushNotifications.emailAccountSettingsEdited.subject"},emptyPropertyBody:{defaultMessage:"Empty",id:"pushNotifications.emptyPropertyValueInCollection.label"},unknownRelationValueChange:{defaultMessage:"Unknown",id:"pushNotifications.unknownRelationPropertyChanged.label"},unknownAuthorInPropertySchemaChange:{defaultMessage:"Unknown author",id:"pushNotifications.unknownAuthorUpdatedProperty.label"},accessRequestedSubject:{defaultMessage:"{userName} requested access to {pageName}",id:"pushNotifications.accessRequested.subject"},editAccessRequestedSubject:{defaultMessage:"{userName} requested edit access to {pageName}",id:"pushNotifications.editAccessRequested.subject"},accessRequestResolvedApprovedSubject:{defaultMessage:"Your request to invite {guestEmail} to {pageName} has been approved",id:"pushNotifications.accessRequestResolved.approved.subject"},accessRequestResolvedRejectedSubject:{defaultMessage:"Your request to invite {guestEmail} to {pageName} has been rejected",id:"pushNotifications.accessRequestResolved.subject"},membershipRequestedSubject:{defaultMessage:"{userName} requested to add a new member to {workspaceName}",id:"pushNotifications.membershipRequested.subject"},guestInviteRequestedSubject:{defaultMessage:"{userName} requested to invite a guest to {workspaceName}",id:"pushNotifications.guestInviteRequested.subject"},blockFormatEditPageIconName:{defaultMessage:"Page Icon",id:"pushNotifications.formatChange.pageIcon.label"},pageIconImagePlaceholder:{defaultMessage:"Image",id:"pushNotifications.formatChange.pageIcon.imagePlaceholder"},pageDeletedActivity:{defaultMessage:"{userName} deleted {pageName}",id:"pushNotifications.pageDeleted.subject"},pageRestoredActivity:{defaultMessage:"{userName} restored {pageName}",id:"pushNotifications.pageRestored.subject"},pagePermanentlyDeletedActivity:{defaultMessage:"{userName} permanently deleted {pageName}",id:"pushNotifications.pagePermanentlyDeleted.subject"},userInvitedToTeam:{defaultMessage:"{userName} invited you to {teamName} team",id:"pushNotifications.userInvitedToTeam.notificationSubject"},privateContentTransferred:{defaultMessage:"{author} transferred private content from {fromUserName} to you: {pageName}",id:"pushNotifications.privateContentTransferred.notificationSubject"},verificationExpired:{defaultMessage:"Verification expired for {pageName}",id:"pushNotifications.verificationExpired.notificationSubject"},importSuccessful:{defaultMessage:"Your {importSource} import was successful",id:"pushNotifications.importCompleted.notificationSubject"},importFailed:{defaultMessage:"Your {importSource} import has failed",id:"pushNotifications.importFailed.notificationSubject"},exportCompleted:{defaultMessage:"Your workspace export is ready",id:"pushNotifications.exportCompleted.notificationSubject"},inAppNotificationAutomationActionTriggered:{defaultMessage:"{automationName} sent you a notification",id:"pushNotifications.inAppNotificationAutomationActionTriggered.notificationSubject"}});function A(e){const{activity:t,getRecordValue:i}=e,o=t.getEdits();return a.oA((0,r.cf)(a.xH(o.map((e=>e.authors||[])))).map((e=>{const t=i(e);if(t)return(0,n.LU)({table:e.table,value:t})})))}function G(e,t){const i=e.map((e=>e?(0,n.$4)(t,e):t.formatMessage(E.unknownAuthor)));return function(e,t){if(1===t.length)return t[0];if(2===t.length)return e.formatMessage(E.twoUserNames,{firstAuthor:t[0],secondAuthor:t[1]});if(t.length>2){const i=t.length-1;return e.formatMessage(E.threePlusUserNames,{othersCount:i,firstAuthor:t[0]})}return e.formatMessage(E.defaultPluralizedUserNames)}(t,i)}function x(e){var t;if(a.xb(e))return;const i=e[0];var o;return i.table===j.KJ&&null!==(t=i.asActor)&&void 0!==t&&t.profile_photo?null===(o=i.asActor)||void 0===o?void 0:o.profile_photo:void 0}function B(e){if(!a.xb(e))return e[0].id}function Z(e){const{blockValue:t,getRecordValue:i,userTimeZone:o,intl:a}=e,s=y.kk.fromBlock(t),r=y.om.fromGetRecordValueFn(i);return s.getRenderTitleWithEmoji({getRecordModel:r,placeholder:a.formatMessage(E.untitledBlockTitle),userTimeZone:o,intl:a})}function D(e){return W(e).title.replaceAll(/[\r\n]+/g," ")}function q(e){const{activity:t}=e,i=t.navigable_block_id||t.top_level_block_id||t.collection_row_id;return i||(t.collection_id?t.collection_id:void 0)}function W(e){const{activity:t,getRecordValue:i,pageVisitSource:o,userTimeZone:a,intl:s}=e,r=y.om.fromGetRecordValueFn(i),n=t.navigable_block_id||t.top_level_block_id||t.collection_row_id;if(n){const c=i({table:T.iU,id:n,spaceId:t.space_id});if(c){return{url:y.kk.fromBlock(c).getRenderUrl({getRecordModel:r,baseUrl:e.baseURL,pageVisitSource:o}),title:Z({intl:s,blockValue:c,getRecordValue:i,userTimeZone:a})}}return{url:e.baseURL||"/",title:s.formatMessage(E.untitledBlockTitle)}}if(t.collection_id)return z(e);if("permission-group-edited"===t.type){const o=r({table:P.bx,id:t.space_id});return{title:ce(s,se({activity:t,getRecordValue:i})),url:(null==o?void 0:o.getRenderUrl({baseUrl:e.baseURL}))??"/"}}if("user-invited"===t.type){const o=function(e){const{activity:t,getRecordValue:i}=e;if(!t.permission_group_id)return;return ne({spaceId:t.space_id,permissionGroupId:t.permission_group_id,getRecordValue:i})}({activity:t,getRecordValue:i}),a=r({table:P.bx,id:t.space_id});if(a&&o)return{title:ce(s,o),url:a.getRenderUrl({baseUrl:e.baseURL})}}else{if("team-membership-edited"===t.type)return F(e);if("access-requested"===t.type){const i=r({id:t.getAccessRequestId(),table:v.J8,spaceId:t.space_id});if(i&&i.isTeamMembershipRequest())return F(e)}}return X(e)}function F(e){const{activity:t,getRecordValue:i,intl:o}=e,a=y.om.fromGetRecordValueFn(i),s=e.baseURL||"/",r=o.formatMessage(E.untitledTeamName);if(!t.team_id)return{url:s,title:r};const n=a({table:S.e0,id:t.team_id}),c=a({table:P.bx,id:t.space_id});return{url:(null==c?void 0:c.getRenderUrl({baseUrl:e.baseURL}))??s,title:(null==n?void 0:n.getRenderTitleWithEmoji({placeholder:o.formatMessage(E.untitledTeamName)}))??r}}function $(e){return X(e).title}function X(e){const{activity:t,getRecordValue:i,intl:o}=e,a=i({table:P.bx,id:t.space_id});if(a){const t=y.kk.fromSpace(a);return{title:t.getRenderTitleWithEmoji({placeholder:o.formatMessage({defaultMessage:"Untitled",id:"pushNotifications.workspaceName.untitled.placeholder"})}),url:t.getRenderUrl({baseUrl:e.baseURL})}}return{url:e.baseURL||"/",title:o.formatMessage(E.untitledSpaceName)}}function Y(e){return z(e).title}function z(e){const{activity:t,getRecordValue:i,pageVisitSource:o,userTimeZone:a,intl:s}=e;if(t.collection_id){const r=i({table:V.vF,id:t.collection_id,spaceId:t.space_id});if(r){const t=y.kk.fromCollection(r),i=y.om.fromGetRecordValueFn(e.getRecordValue),n=t.getRenderTitleWithEmoji({getRecordModel:i,placeholder:s.formatMessage(E.untitledCollectionName),userTimeZone:a,intl:s});return{url:t.getRenderUrl({getRecordModel:i,baseUrl:e.baseURL,pageVisitSource:o}),title:n}}return{url:e.baseURL||"/",title:s.formatMessage(E.untitledCollectionName)}}return{url:e.baseURL||"/",title:s.formatMessage(E.untitledCollectionName)}}function O(e){const{activity:t,getRecordValue:i,intl:o}=e;if("in-app-notification-automation-action-triggered"===t.type){const e=y.om.fromGetRecordValueFn(i),a=e({table:k.cv,id:t.getEdits()[0].automation_id,spaceId:t.space_id});return(null==a?void 0:a.getNameWithDefault(e,o))??(0,c.XO)(o)}}function H(e){if(e.blockValue.properties)return(0,R.X)({intl:e.intl,textValue:e.blockValue.properties.title,getRecordModel:y.om.fromGetRecordValueFn(e.getRecordValue),userTimeZone:e.userTimeZone})}function J(e,t){const i=(0,M.kD)(t,void 0);return e.formatMessage(i)}function K(e){let{userTimeZone:t,activity:i,getRecordValue:o,pageVisitSource:s,intl:r}=e;const n=i.getEdits();if(n.length){const e=[];n.forEach((t=>{"permission-created"===t.type?e.push(t.permission_data):"permission-deleted"===t.type?e.push({...t.permission_data,role:"none"}):"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type?(t.permission_data.calculated_changes||[]).forEach((t=>{let[i,o]=t;e.push(o)})):e.push(t.permission_data.after)}));const c=a.oA(e.sort(M._G).map((e=>{if("user_permission"===e.type){const t=o({table:j.KJ,id:e.user_id}),i=(0,w.Nz)(r,t),a=J(r,e.role);return r.formatMessage(E.userNameWithRole,{userName:i,permissionLevel:a})}if("space_permission"===e.type){const a=$({intl:r,activity:i,getRecordValue:o,userTimeZone:t,pageVisitSource:s}),n=J(r,e.role);return r.formatMessage(E.spaceNameWithRole,{spaceName:a,permissionLevel:n})}if("public_permission"===e.type){const t=J(r,e.role);return r.formatMessage(E.publicPermissionRoleLabel,{permissionLevel:t})}if("bot_permission"===e.type){const t=o({table:_.cZ,id:e.bot_id}),i=(0,u.Mh)(t),a=J(r,e.role);return r.formatMessage(E.botNameWithRole,{botName:i,permissionLevel:a})}})));return r.formatList(c,{type:"conjunction",style:"narrow"})}}function Q(e){const{intl:t}=e;switch(e.blockValue.type){case l.Ti.text:case l.Ti.header:case l.Ti.subHeader:case l.Ti.subSubHeader:case l.Ti.factory:case l.Ti.equation:case l.Ti.code:return H(e);case l.Ti.toggle:return`▸ ${H(e)}`;case l.Ti.bulletedList:return`• ${H(e)}`;case l.Ti.numberedList:return`1. ${H(e)}`;case l.Ti.quote:return`“${H(e)}”`;case l.Ti.toDo:return(function(e){let{blockValue:t}=e;return m.Ml(t.properties&&t.properties.checked)}(e)?"✓ ":"▢ ")+H(e);case l.Ti.file:case l.Ti.bookmark:return`🔗 ${H(e)}`;case l.Ti.embed:case l.Ti.framer:case l.Ti.whimsical:case l.Ti.mixpanel:case l.Ti.miro:case l.Ti.abstract:case l.Ti.sketch:case l.Ti.excalidraw:case l.Ti.replit:case l.Ti.hex:case l.Ti.deepnote:case l.Ti.tweet:case l.Ti.gist:case l.Ti.maps:case l.Ti.invision:case l.Ti.video:case l.Ti.audio:case l.Ti.image:return t.formatMessage(E.imageInPushNotification,{imageEmoji:"🖼"});case l.Ti.drive:return function(e){const{blockValue:t}=e,i=(0,N.v0)(t);return i&&i.title?i.title:Z(e)}(e);case l.Ti.page:case l.Ti.collectionView:case l.Ti.collectionViewPage:return Z(e);case l.Ti.tableRow:return function(e){var t;const{blockValue:i,getRecordValue:o,userTimeZone:a,intl:s}=e,r=o({table:i.parent_table,id:i.parent_id,spaceId:i.space_id});if(!r||!i)return;const n=i.properties,c=(null===(t=r.format)||void 0===t?void 0:t.table_block_column_order)||[];return c&&n?c.map((e=>(0,R.X)({textValue:n[e],getRecordModel:y.om.fromGetRecordValueFn(o),userTimeZone:a,intl:s}))).join(", "):void 0}(e)}}function ee(e){const{getRecordValue:t,baseURL:i,userTimeZone:o,intl:a}=e,s=t({table:T.iU,id:e.blockId});if(s){if("page"===s.type){const r=(0,b.ky)({block:s,getRecordValue:t});if(r){const i=p.oC(r),o=i[e.property],n=o?o.name:void 0,c=te({property:e.property,schema:i,block:s,getRecordValue:t,userTimeZone:e.userTimeZone,baseURL:e.baseURL,intl:a})||a.formatMessage(E.emptyPropertyBody);return a.formatMessage(E.propertyNameAndValueNotificationBody,{propertyName:n,propertyValue:c})}return Q({intl:a,blockValue:s,getRecordValue:t,baseURL:i,userTimeZone:o})}return Q({intl:a,blockValue:s,getRecordValue:t,baseURL:i,userTimeZone:o})}}function te(e){const{property:t,schema:i,getRecordValue:o,userTimeZone:a,baseURL:s,intl:c}=e,l=i[t],u=y.kk.fromBlock(e.block);if(!u.getProperties()||!l)return;const N=u.getProperties()[t];if(N){if("formula"===l.type){const e=y.om.fromGetRecordValueFn(o),s=(0,d.py)({schema:i,property:t,blockModel:u,getRecordModel:e,intl:c,userTimeZone:a,depth:0,resultCache:new Map});return f.U3(s)?(0,g.ZV)({allowRelativeDates:!0,intl:c,value:s,userTimeZone:a}):"boolean"==typeof s?s?p.bx:p.HC:(0,r.hj)(s)?s.toString():s}if("person"===l.type)return c.formatList(m.DW({textValue:N,propertySchema:l,blockCreatorPointer:u.getCreatedByPointer()}).map((e=>{const t=o(e),i=(0,n.LU)({table:e.table,value:t});return(0,n.$4)(c,i)})),{type:"conjunction",style:"narrow"});if("created_by"===l.type){const e=u.getCreatedByPointer();if(!e)return c.formatMessage(E.unknownAuthorInPropertySchemaChange);const t=o(e),i=t&&(0,n.LU)({table:e.table,value:t});return i?(0,n.$4)(c,i):c.formatMessage(E.unknownAuthorInPropertySchemaChange)}return"created_time"===l.type?(0,g.Yx)(u.getCreatedTime(),"short",c.locale,a):ie({propertySchema:l,textValue:N,getRecordValue:o,userTimeZone:a,baseURL:s,intl:c})}}function ie(e){const{propertySchema:t,textValue:i,getRecordValue:o,userTimeZone:a,baseURL:r,intl:c}=e;if("title"===t.type||"text"===t.type)return(0,R.X)({intl:c,textValue:i,getRecordModel:y.om.fromGetRecordValueFn(o),userTimeZone:a});if("select"===t.type){const e=t.options||[];return m.Sj(i,e)}if("multi_select"===t.type){const e=t.options||[];return c.formatList(m.uP(i,e),{type:"conjunction",style:"narrow"})}if("checkbox"===t.type)return m.Ml(i)?p.bx:p.HC;if("date"===t.type){const e=m.Gl(i);if(e)return(0,g.ZV)({allowRelativeDates:!0,intl:c,value:e,date_format:t.date_format,time_format:t.time_format,userTimeZone:a})}else{if("person"===t.type)return c.formatList(m.DW({textValue:i,propertySchema:t,blockCreatorPointer:void 0}).map((e=>{const t=o(e),i=(0,n.LU)({table:e.table,value:t});return(0,n.$4)(c,i)})),{type:"conjunction",style:"narrow"});if("relation"===t.type){const e=m.j$({relationValue:m.rq(i),getRecordModel:y.om.fromGetRecordValueFn(o),propertySchema:t});return c.formatList(e.map(o).map((e=>e?Z({intl:c,blockValue:e,getRecordValue:o,baseURL:r,userTimeZone:a}):c.formatMessage(E.unknownRelationValueChange))),{type:"conjunction",style:"narrow"})}if("number"===t.type){const e=m.VY(i);if(void 0!==e)return e.toString()}else if("auto_increment_id"===t.type){const e=m.ah(i);if(void 0!==e)return e.toString()}else{if("file"===t.type)return c.formatList(m.g(i).map((e=>e.name||e.url)),{type:"conjunction",style:"narrow"});if("url"===t.type||"phone_number"===t.type||"email"===t.type)return(0,L.Jcv)(i);if("created_by"===t.type)return;if("created_time"===t.type)return;if("formula"===t.type)return;if("rollup"===t.type)return;if("last_edited_by"===t.type)return;if("last_edited_time"===t.type)return;if("last_visited_time"===t.type)return;if("button"===t.type)return;if("status"===t.type)return m.ZG(i,t);if("location"===t.type)return;if("verification"===t.type){const e=m._w(i),t=e?I.WN(e):{type:"none"};if("none"===t.type)return c.formatMessage(I.X3.none);const s=o(t.actorPointer),r=(0,n.LU)({table:t.actorPointer.table,value:s}),l=(0,n.$4)(c,r);return"verified"===t.type&&t.isIndefinite?c.formatMessage(I.X3.verifiedIndefinitely,{actor:l}):c.formatMessage(I.X3.verifiedUntil,{actor:l,datetime:C.nK({dateTime:t.dateTimeRange.end,intl:c,userTimeZone:a,displayInUserTimezone:!1,alwaysIncludeTimezone:!0})})}(0,s.t1)(t)}}}function oe(e){if("page_icon"===e.formatProperty)return e.intl.formatMessage(E.blockFormatEditPageIconName)}function ae(e){const{formatProperty:t,block:i,getRecordValue:o,intl:a}=e;if("page_icon"===t){const e=y.kk.fromBlock(i).getRenderIcon({getRecordModel:y.om.fromGetRecordValueFn(o)});return e?(0,h.Z)(e.icon)?e.icon:a.formatMessage(E.pageIconImagePlaceholder):a.formatMessage(E.emptyBlockEditedProperty)}}function se(e){const{activity:t,getRecordValue:i}=e;let o=ne({spaceId:t.space_id,permissionGroupId:t.permission_group_id,getRecordValue:i});if(!o){const e=t.getEdits(),i=U.hI(e)[0];o="permission-group-changed"===i.type?i.permission_group_data.after:i.permission_group_data}return o}function re(e){const{activity:t,intl:i,userName:o,targetName:a}=e,s=t.getEdits(),r=U.hI(s)[0];return r?"permission-group-created"===r.type?i.formatMessage(E.userCreatedPermissionGroup,{userName:o,permissionGroupName:a}):"permission-group-deleted"===r.type?i.formatMessage(E.userDeletedPermissionGroup,{userName:o,permissionGroupName:a}):i.formatMessage(E.userEditedPermissionGroup,{userName:o,permissionGroupName:a}):i.formatMessage(E.userEditedPermissionGroup,{userName:o,permissionGroupName:a})}function ne(e){const{spaceId:t,permissionGroupId:i,getRecordValue:o}=e,a=o({table:P.bx,id:t});return(a&&a.permission_groups||[]).find((e=>e.id===i))}function ce(e,t){if(t){return[(0,h.Z)(t.icon)?t.icon:void 0,t.name||e.formatMessage(E.untitledPermissionGroupName)].filter(Boolean).join(" ")}return e.formatMessage(E.defaultPermissionGroupName)}function le(e){switch(e){case"block-property-edited":case"commented":case"permission-group-mentioned":case"reminder":case"user-invited":case"user-mentioned":return!0;case"in-app-notification-automation-action-triggered":case"access-requested":case"access-request-resolved":case"email-edited":case"private-content-transferred":case"team-membership-edited":case"verification-expired":case"export-completed":case"import-completed":case"block-edited":case"collection-edited":case"collection-property-edited":case"collection-row-created":case"collection-row-deleted":case"collection-view-edited":case"page-deleted":case"page-locked":case"page-permanently-deleted":case"page-restored":case"page-unlocked":case"permission-group-edited":case"permissions-edited":case"top-level-block-created":case"top-level-block-deleted":return!1;default:(0,s.t1)(e)}}}}]);