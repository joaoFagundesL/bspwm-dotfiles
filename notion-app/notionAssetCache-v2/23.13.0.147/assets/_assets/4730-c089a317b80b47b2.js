(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4730],{80816:e=>{"use strict";var t=Object.prototype.hasOwnProperty,i="~";function n(){}function s(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function o(e,t,n,o,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,o||e,r),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function r(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,n,s=[];if(0===this._eventsCount)return s;for(n in e=this._events)t.call(e,n)&&s.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},a.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,o=n.length,r=new Array(o);s<o;s++)r[s]=n[s].fn;return r},a.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,s,o,r){var a=i?i+e:e;if(!this._events[a])return!1;var l,c,d=this._events[a],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,s),!0;case 5:return d.fn.call(d.context,t,n,s,o),!0;case 6:return d.fn.call(d.context,t,n,s,o,r),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,s);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},a.prototype.on=function(e,t,i){return o(this,e,t,i,!1)},a.prototype.once=function(e,t,i){return o(this,e,t,i,!0)},a.prototype.removeListener=function(e,t,n,s){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return r(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||s&&!a.once||n&&a.context!==n||r(this,o);else{for(var l=0,c=[],d=a.length;l<d;l++)(a[l].fn!==t||s&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:r(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&r(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,e.exports=a},97691:(e,t,i)=>{i(3463);var n=i(60860);e.exports=n("Array","at")},54062:(e,t,i)=>{i(1837),i(99296);var n=i(60860);e.exports=n("Array","flatMap")},71584:(e,t,i)=>{i(455),i(70326);var n=i(60860);e.exports=n("Array","flat")},61579:(e,t,i)=>{i(28078);var n=i(60860);e.exports=n("String","at")},69529:(e,t,i)=>{i(1363),i(35213),i(65614);var n=i(60860);e.exports=n("String","replaceAll")},7704:(e,t,i)=>{var n=i(49992),s=i(5959),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(s(e)+" is not a function")}},61562:(e,t,i)=>{var n=i(91687),s=i(27975),o=i(51388).f,r=n("unscopables"),a=Array.prototype;null==a[r]&&o(a,r,{configurable:!0,value:s(null)}),e.exports=function(e){a[r][e]=!0}},14313:(e,t,i)=>{"use strict";var n=i(87268).charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},21220:(e,t,i)=>{var n=i(46381),s=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw o(s(e)+" is not an object")}},27557:(e,t,i)=>{var n=i(70420),s=i(85597),o=i(95703),r=function(e){return function(t,i,r){var a,l=n(t),c=o(l),d=s(r,c);if(e&&i!=i){for(;c>d;)if((a=l[d++])!=a)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},22883:(e,t,i)=>{var n=i(46958),s=i(26523),o=i(46381),r=i(91687)("species"),a=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(s(t)&&(t===a||n(t.prototype))||o(t)&&null===(t=t[r]))&&(t=void 0)),void 0===t?a:t}},43592:(e,t,i)=>{var n=i(22883);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},85052:(e,t,i)=>{var n=i(61768),s=n({}.toString),o=n("".slice);e.exports=function(e){return o(s(e),8,-1)}},32242:(e,t,i)=>{var n=i(86588),s=i(49992),o=i(85052),r=i(91687)("toStringTag"),a=Object,l="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(i){}}(t=a(e),r))?i:l?o(t):"Object"==(n=o(t))&&s(t.callee)?"Arguments":n}},6304:(e,t,i)=>{var n=i(68528),s=i(41224),o=i(50289),r=i(51388);e.exports=function(e,t,i){for(var a=s(t),l=r.f,c=o.f,d=0;d<a.length;d++){var u=a[d];n(e,u)||i&&n(i,u)||l(e,u,c(t,u))}}},42580:(e,t,i)=>{var n=i(48301),s=i(51388),o=i(27326);e.exports=n?function(e,t,i){return s.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},27326:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},46101:(e,t,i)=>{var n=i(49992),s=i(51388),o=i(25149),r=i(18868);e.exports=function(e,t,i,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(n(i)&&o(i,c,a),a.global)l?e[t]=i:r(t,i);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(d){}l?e[t]=i:s.f(e,t,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},18868:(e,t,i)=>{var n=i(47590),s=Object.defineProperty;e.exports=function(e,t){try{s(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},48301:(e,t,i)=>{var n=i(79031);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},30638:e=>{var t="object"==typeof document&&document.all,i=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:i}},10216:(e,t,i)=>{var n=i(47590),s=i(46381),o=n.document,r=s(o)&&s(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},16524:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},34137:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},58198:(e,t,i)=>{var n,s,o=i(47590),r=i(34137),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,d=c&&c.v8;d&&(s=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!s&&r&&(!(n=r.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/))&&(s=+n[1]),e.exports=s},60860:(e,t,i)=>{var n=i(47590),s=i(61768);e.exports=function(e,t){return s(n[e].prototype[t])}},63251:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},28805:(e,t,i)=>{var n=i(47590),s=i(50289).f,o=i(42580),r=i(46101),a=i(18868),l=i(6304),c=i(93652);e.exports=function(e,t){var i,d,u,h,p,g=e.target,I=e.global,m=e.stat;if(i=I?n:m?n[g]||a(g,{}):(n[g]||{}).prototype)for(d in t){if(h=t[d],u=e.dontCallGetSet?(p=s(i,d))&&p.value:i[d],!c(I?d:g+(m?".":"#")+d,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;l(h,u)}(e.sham||u&&u.sham)&&o(h,"sham",!0),r(i,d,h,e)}}},79031:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},64100:(e,t,i)=>{"use strict";i(1363);var n=i(70592),s=i(46101),o=i(35631),r=i(79031),a=i(91687),l=i(42580),c=a("species"),d=RegExp.prototype;e.exports=function(e,t,i,u){var h=a(e),p=!r((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),g=p&&!r((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[c]=function(){return i},i.flags="",i[h]=/./[h]),i.exec=function(){return t=!0,null},i[h](""),!t}));if(!p||!g||i){var I=n(/./[h]),m=t(h,""[e],(function(e,t,i,s,r){var a=n(e),l=t.exec;return l===o||l===d.exec?p&&!r?{done:!0,value:I(t,i,s)}:{done:!0,value:a(i,t,s)}:{done:!1}}));s(String.prototype,e,m[0]),s(d,h,m[1])}u&&l(d[h],"sham",!0)}},53364:(e,t,i)=>{"use strict";var n=i(46958),s=i(95703),o=i(16524),r=i(56361),a=function(e,t,i,l,c,d,u,h){for(var p,g,I=c,m=0,y=!!u&&r(u,h);m<l;)m in i&&(p=y?y(i[m],m,t):i[m],d>0&&n(p)?(g=s(p),I=a(e,t,p,g,I,d-1)-1):(o(I+1),e[I]=p),I++),m++;return I};e.exports=a},34873:(e,t,i)=>{var n=i(23265),s=Function.prototype,o=s.apply,r=s.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?r.bind(o):function(){return r.apply(o,arguments)})},56361:(e,t,i)=>{var n=i(70592),s=i(7704),o=i(23265),r=n(n.bind);e.exports=function(e,t){return s(e),void 0===t?e:o?r(e,t):function(){return e.apply(t,arguments)}}},23265:(e,t,i)=>{var n=i(79031);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},50184:(e,t,i)=>{var n=i(23265),s=Function.prototype.call;e.exports=n?s.bind(s):function(){return s.apply(s,arguments)}},60277:(e,t,i)=>{var n=i(48301),s=i(68528),o=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,a=s(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!n||n&&r(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},70592:(e,t,i)=>{var n=i(85052),s=i(61768);e.exports=function(e){if("Function"===n(e))return s(e)}},61768:(e,t,i)=>{var n=i(23265),s=Function.prototype,o=s.call,r=n&&s.bind.bind(o,o);e.exports=n?r:function(e){return function(){return o.apply(e,arguments)}}},58372:(e,t,i)=>{var n=i(47590),s=i(49992);e.exports=function(e,t){return arguments.length<2?(i=n[e],s(i)?i:void 0):n[e]&&n[e][t];var i}},12198:(e,t,i)=>{var n=i(7704),s=i(74242);e.exports=function(e,t){var i=e[t];return s(i)?void 0:n(i)}},39296:(e,t,i)=>{var n=i(61768),s=i(76759),o=Math.floor,r=n("".charAt),a=n("".replace),l=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,n,u,h){var p=i+e.length,g=n.length,I=d;return void 0!==u&&(u=s(u),I=c),a(h,I,(function(s,a){var c;switch(r(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,i);case"'":return l(t,p);case"<":c=u[l(a,1,-1)];break;default:var d=+a;if(0===d)return s;if(d>g){var h=o(d/10);return 0===h?s:h<=g?void 0===n[h-1]?r(a,1):n[h-1]+r(a,1):s}c=n[d-1]}return void 0===c?"":c}))}},47590:(e,t,i)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},68528:(e,t,i)=>{var n=i(61768),s=i(76759),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(s(e),t)}},36379:e=>{e.exports={}},77793:(e,t,i)=>{var n=i(58372);e.exports=n("document","documentElement")},55913:(e,t,i)=>{var n=i(48301),s=i(79031),o=i(10216);e.exports=!n&&!s((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},36764:(e,t,i)=>{var n=i(61768),s=i(79031),o=i(85052),r=Object,a=n("".split);e.exports=s((function(){return!r("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):r(e)}:r},84352:(e,t,i)=>{var n=i(61768),s=i(49992),o=i(41982),r=n(Function.toString);s(o.inspectSource)||(o.inspectSource=function(e){return r(e)}),e.exports=o.inspectSource},90310:(e,t,i)=>{var n,s,o,r=i(29809),a=i(47590),l=i(46381),c=i(42580),d=i(68528),u=i(41982),h=i(47936),p=i(36379),g="Object already initialized",I=a.TypeError,m=a.WeakMap;if(r||u.state){var y=u.state||(u.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw I(g);return t.facade=e,y.set(e,t),t},s=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var b=h("state");p[b]=!0,n=function(e,t){if(d(e,b))throw I(g);return t.facade=e,c(e,b,t),t},s=function(e){return d(e,b)?e[b]:{}},o=function(e){return d(e,b)}}e.exports={set:n,get:s,has:o,enforce:function(e){return o(e)?s(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=s(t)).type!==e)throw I("Incompatible receiver, "+e+" required");return i}}}},46958:(e,t,i)=>{var n=i(85052);e.exports=Array.isArray||function(e){return"Array"==n(e)}},49992:(e,t,i)=>{var n=i(30638),s=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===s}:function(e){return"function"==typeof e}},26523:(e,t,i)=>{var n=i(61768),s=i(79031),o=i(49992),r=i(32242),a=i(58372),l=i(84352),c=function(){},d=[],u=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=n(h.exec),g=!h.exec(c),I=function(e){if(!o(e))return!1;try{return u(c,d,e),!0}catch(t){return!1}},m=function(e){if(!o(e))return!1;switch(r(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(h,l(e))}catch(t){return!0}};m.sham=!0,e.exports=!u||s((function(){var e;return I(I.call)||!I(Object)||!I((function(){e=!0}))||e}))?m:I},93652:(e,t,i)=>{var n=i(79031),s=i(49992),o=/#|\.prototype\./,r=function(e,t){var i=l[a(e)];return i==d||i!=c&&(s(t)?n(t):!!t)},a=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=r.data={},c=r.NATIVE="N",d=r.POLYFILL="P";e.exports=r},74242:e=>{e.exports=function(e){return null==e}},46381:(e,t,i)=>{var n=i(49992),s=i(30638),o=s.all;e.exports=s.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===o}:function(e){return"object"==typeof e?null!==e:n(e)}},26954:e=>{e.exports=!1},67712:(e,t,i)=>{var n=i(46381),s=i(85052),o=i(91687)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==s(e))}},6711:(e,t,i)=>{var n=i(58372),s=i(49992),o=i(24204),r=i(19587),a=Object;e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return s(t)&&o(t.prototype,a(e))}},95703:(e,t,i)=>{var n=i(54135);e.exports=function(e){return n(e.length)}},25149:(e,t,i)=>{var n=i(61768),s=i(79031),o=i(49992),r=i(68528),a=i(48301),l=i(60277).CONFIGURABLE,c=i(84352),d=i(90310),u=d.enforce,h=d.get,p=String,g=Object.defineProperty,I=n("".slice),m=n("".replace),y=n([].join),b=a&&!s((function(){return 8!==g((function(){}),"length",{value:8}).length})),f=String(String).split("String"),C=e.exports=function(e,t,i){"Symbol("===I(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!r(e,"name")||l&&e.name!==t)&&(a?g(e,"name",{value:t,configurable:!0}):e.name=t),b&&i&&r(i,"arity")&&e.length!==i.arity&&g(e,"length",{value:i.arity});try{i&&r(i,"constructor")&&i.constructor?a&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(s){}var n=u(e);return r(n,"source")||(n.source=y(f,"string"==typeof t?t:"")),e};Function.prototype.toString=C((function(){return o(this)&&h(this).source||c(this)}),"toString")},48946:e=>{var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?i:t)(n)}},27975:(e,t,i)=>{var n,s=i(21220),o=i(90515),r=i(63251),a=i(36379),l=i(77793),c=i(10216),d=i(47936),u="prototype",h="script",p=d("IE_PROTO"),g=function(){},I=function(e){return"<"+h+">"+e+"</"+h+">"},m=function(e){e.write(I("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{n=new ActiveXObject("htmlfile")}catch(o){}var e,t,i;y="undefined"!=typeof document?document.domain&&n?m(n):(t=c("iframe"),i="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(I("document.F=Object")),e.close(),e.F):m(n);for(var s=r.length;s--;)delete y[u][r[s]];return y()};a[p]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(g[u]=s(e),i=new g,g[u]=null,i[p]=e):i=y(),void 0===t?i:o.f(i,t)}},90515:(e,t,i)=>{var n=i(48301),s=i(43176),o=i(51388),r=i(21220),a=i(70420),l=i(99971);t.f=n&&!s?Object.defineProperties:function(e,t){r(e);for(var i,n=a(t),s=l(t),c=s.length,d=0;c>d;)o.f(e,i=s[d++],n[i]);return e}},51388:(e,t,i)=>{var n=i(48301),s=i(55913),o=i(43176),r=i(21220),a=i(2538),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",h="configurable",p="writable";t.f=n?o?function(e,t,i){if(r(e),t=a(t),r(i),"function"==typeof e&&"prototype"===t&&"value"in i&&p in i&&!i[p]){var n=d(e,t);n&&n[p]&&(e[t]=i.value,i={configurable:h in i?i[h]:n[h],enumerable:u in i?i[u]:n[u],writable:!1})}return c(e,t,i)}:c:function(e,t,i){if(r(e),t=a(t),r(i),s)try{return c(e,t,i)}catch(n){}if("get"in i||"set"in i)throw l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},50289:(e,t,i)=>{var n=i(48301),s=i(50184),o=i(88031),r=i(27326),a=i(70420),l=i(2538),c=i(68528),d=i(55913),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=a(e),t=l(t),d)try{return u(e,t)}catch(i){}if(c(e,t))return r(!s(o.f,e,t),e[t])}},22735:(e,t,i)=>{var n=i(4881),s=i(63251).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},40053:(e,t)=>{t.f=Object.getOwnPropertySymbols},24204:(e,t,i)=>{var n=i(61768);e.exports=n({}.isPrototypeOf)},4881:(e,t,i)=>{var n=i(61768),s=i(68528),o=i(70420),r=i(27557).indexOf,a=i(36379),l=n([].push);e.exports=function(e,t){var i,n=o(e),c=0,d=[];for(i in n)!s(a,i)&&s(n,i)&&l(d,i);for(;t.length>c;)s(n,i=t[c++])&&(~r(d,i)||l(d,i));return d}},99971:(e,t,i)=>{var n=i(4881),s=i(63251);e.exports=Object.keys||function(e){return n(e,s)}},88031:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!i.call({1:2},1);t.f=s?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},72329:(e,t,i)=>{var n=i(50184),s=i(49992),o=i(46381),r=TypeError;e.exports=function(e,t){var i,a;if("string"===t&&s(i=e.toString)&&!o(a=n(i,e)))return a;if(s(i=e.valueOf)&&!o(a=n(i,e)))return a;if("string"!==t&&s(i=e.toString)&&!o(a=n(i,e)))return a;throw r("Can't convert object to primitive value")}},41224:(e,t,i)=>{var n=i(58372),s=i(61768),o=i(22735),r=i(40053),a=i(21220),l=s([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),i=r.f;return i?l(t,i(e)):t}},62323:(e,t,i)=>{var n=i(50184),s=i(21220),o=i(49992),r=i(85052),a=i(35631),l=TypeError;e.exports=function(e,t){var i=e.exec;if(o(i)){var c=n(i,e,t);return null!==c&&s(c),c}if("RegExp"===r(e))return n(a,e,t);throw l("RegExp#exec called on incompatible receiver")}},35631:(e,t,i)=>{"use strict";var n,s,o=i(50184),r=i(61768),a=i(91662),l=i(70412),c=i(53604),d=i(87273),u=i(27975),h=i(90310).get,p=i(27523),g=i(37546),I=d("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,b=r("".charAt),f=r("".indexOf),C=r("".replace),w=r("".slice),M=(s=/b*/g,o(m,n=/a/,"a"),o(m,s,"a"),0!==n.lastIndex||0!==s.lastIndex),A=c.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(M||x||A||p||g)&&(y=function(e){var t,i,n,s,r,c,d,p=this,g=h(p),S=a(e),v=g.raw;if(v)return v.lastIndex=p.lastIndex,t=o(y,v,S),p.lastIndex=v.lastIndex,t;var L=g.groups,j=A&&p.sticky,N=o(l,p),D=p.source,Z=0,E=S;if(j&&(N=C(N,"y",""),-1===f(N,"g")&&(N+="g"),E=w(S,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==b(S,p.lastIndex-1))&&(D="(?: "+D+")",E=" "+E,Z++),i=new RegExp("^(?:"+D+")",N)),x&&(i=new RegExp("^"+D+"$(?!\\s)",N)),M&&(n=p.lastIndex),s=o(m,j?i:p,E),j?s?(s.input=w(s.input,Z),s[0]=w(s[0],Z),s.index=p.lastIndex,p.lastIndex+=s[0].length):p.lastIndex=0:M&&s&&(p.lastIndex=p.global?s.index+s[0].length:n),x&&s&&s.length>1&&o(I,s[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(s[r]=void 0)})),s&&L)for(s.groups=c=u(null),r=0;r<L.length;r++)c[(d=L[r])[0]]=s[d[1]];return s}),e.exports=y},70412:(e,t,i)=>{"use strict";var n=i(21220);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},32956:(e,t,i)=>{var n=i(50184),s=i(68528),o=i(24204),r=i(70412),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||s(e,"flags")||!o(a,e)?t:n(r,e)}},53604:(e,t,i)=>{var n=i(79031),s=i(47590).RegExp,o=n((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),r=o||n((function(){return!s("a","y").sticky})),a=o||n((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:r,UNSUPPORTED_Y:o}},27523:(e,t,i)=>{var n=i(79031),s=i(47590).RegExp;e.exports=n((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},37546:(e,t,i)=>{var n=i(79031),s=i(47590).RegExp;e.exports=n((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},71684:(e,t,i)=>{var n=i(74242),s=TypeError;e.exports=function(e){if(n(e))throw s("Can't call method on "+e);return e}},47936:(e,t,i)=>{var n=i(87273),s=i(8149),o=n("keys");e.exports=function(e){return o[e]||(o[e]=s(e))}},41982:(e,t,i)=>{var n=i(47590),s=i(18868),o="__core-js_shared__",r=n[o]||s(o,{});e.exports=r},87273:(e,t,i)=>{var n=i(26954),s=i(41982);(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.0/LICENSE",source:"https://github.com/zloirock/core-js"})},87268:(e,t,i)=>{var n=i(61768),s=i(4053),o=i(91662),r=i(71684),a=n("".charAt),l=n("".charCodeAt),c=n("".slice),d=function(e){return function(t,i){var n,d,u=o(r(t)),h=s(i),p=u.length;return h<0||h>=p?e?"":void 0:(n=l(u,h))<55296||n>56319||h+1===p||(d=l(u,h+1))<56320||d>57343?e?a(u,h):n:e?c(u,h,h+2):d-56320+(n-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},17197:(e,t,i)=>{var n=i(58198),s=i(79031);e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},85597:(e,t,i)=>{var n=i(4053),s=Math.max,o=Math.min;e.exports=function(e,t){var i=n(e);return i<0?s(i+t,0):o(i,t)}},70420:(e,t,i)=>{var n=i(36764),s=i(71684);e.exports=function(e){return n(s(e))}},4053:(e,t,i)=>{var n=i(48946);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},54135:(e,t,i)=>{var n=i(4053),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},76759:(e,t,i)=>{var n=i(71684),s=Object;e.exports=function(e){return s(n(e))}},81396:(e,t,i)=>{var n=i(50184),s=i(46381),o=i(6711),r=i(12198),a=i(72329),l=i(91687),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var i,l=r(e,d);if(l){if(void 0===t&&(t="default"),i=n(l,e,t),!s(i)||o(i))return i;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},2538:(e,t,i)=>{var n=i(81396),s=i(6711);e.exports=function(e){var t=n(e,"string");return s(t)?t:t+""}},86588:(e,t,i)=>{var n={};n[i(91687)("toStringTag")]="z",e.exports="[object z]"===String(n)},91662:(e,t,i)=>{var n=i(32242),s=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},5959:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(i){return"Object"}}},8149:(e,t,i)=>{var n=i(61768),s=0,o=Math.random(),r=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+r(++s+o,36)}},19587:(e,t,i)=>{var n=i(17197);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},43176:(e,t,i)=>{var n=i(48301),s=i(79031);e.exports=n&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},29809:(e,t,i)=>{var n=i(47590),s=i(49992),o=n.WeakMap;e.exports=s(o)&&/native code/.test(String(o))},91687:(e,t,i)=>{var n=i(47590),s=i(87273),o=i(68528),r=i(8149),a=i(17197),l=i(19587),c=n.Symbol,d=s("wks"),u=l?c.for||c:c&&c.withoutSetter||r;e.exports=function(e){return o(d,e)||(d[e]=a&&o(c,e)?c[e]:u("Symbol."+e)),d[e]}},3463:(e,t,i)=>{"use strict";var n=i(28805),s=i(76759),o=i(95703),r=i(4053),a=i(61562);n({target:"Array",proto:!0},{at:function(e){var t=s(this),i=o(t),n=r(e),a=n>=0?n:i+n;return a<0||a>=i?void 0:t[a]}}),a("at")},1837:(e,t,i)=>{"use strict";var n=i(28805),s=i(53364),o=i(7704),r=i(76759),a=i(95703),l=i(43592);n({target:"Array",proto:!0},{flatMap:function(e){var t,i=r(this),n=a(i);return o(e),(t=l(i,0)).length=s(t,i,i,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},455:(e,t,i)=>{"use strict";var n=i(28805),s=i(53364),o=i(76759),r=i(95703),a=i(4053),l=i(43592);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),i=r(t),n=l(t,0);return n.length=s(n,t,t,i,0,void 0===e?1:a(e)),n}})},99296:(e,t,i)=>{i(61562)("flatMap")},70326:(e,t,i)=>{i(61562)("flat")},1363:(e,t,i)=>{"use strict";var n=i(28805),s=i(35631);n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},28078:(e,t,i)=>{"use strict";var n=i(28805),s=i(61768),o=i(71684),r=i(4053),a=i(91662),l=i(79031),c=s("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=a(o(this)),i=t.length,n=r(e),s=n>=0?n:i+n;return s<0||s>=i?void 0:c(t,s)}})},65614:(e,t,i)=>{"use strict";var n=i(28805),s=i(50184),o=i(61768),r=i(71684),a=i(49992),l=i(74242),c=i(67712),d=i(91662),u=i(12198),h=i(32956),p=i(39296),g=i(91687),I=i(26954),m=g("replace"),y=TypeError,b=o("".indexOf),f=o("".replace),C=o("".slice),w=Math.max,M=function(e,t,i){return i>e.length?-1:""===t?i:b(e,t,i)};n({target:"String",proto:!0},{replaceAll:function(e,t){var i,n,o,g,A,x,S,v,L,j=r(this),N=0,D=0,Z="";if(!l(e)){if((i=c(e))&&(n=d(r(h(e))),!~b(n,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(o=u(e,m))return s(o,e,j,t);if(I&&i)return f(d(j),e,t)}for(g=d(j),A=d(e),(x=a(t))||(t=d(t)),S=A.length,v=w(1,S),N=M(g,A,0);-1!==N;)L=x?d(t(A,N,g)):p(A,g,N,[],void 0,t),Z+=C(g,D,N)+L,D=N+S,N=M(g,A,N+v);return D<g.length&&(Z+=C(g,D)),Z}})},35213:(e,t,i)=>{"use strict";var n=i(34873),s=i(50184),o=i(61768),r=i(64100),a=i(79031),l=i(21220),c=i(49992),d=i(74242),u=i(4053),h=i(54135),p=i(91662),g=i(71684),I=i(14313),m=i(12198),y=i(39296),b=i(62323),f=i(91687)("replace"),C=Math.max,w=Math.min,M=o([].concat),A=o([].push),x=o("".indexOf),S=o("".slice),v="$0"==="a".replace(/./,"$0"),L=!!/./[f]&&""===/./[f]("a","$0");r("replace",(function(e,t,i){var o=L?"$":"$0";return[function(e,i){var n=g(this),o=d(e)?void 0:m(e,f);return o?s(o,e,n,i):s(t,p(n),e,i)},function(e,s){var r=l(this),a=p(e);if("string"==typeof s&&-1===x(s,o)&&-1===x(s,"$<")){var d=i(t,r,a,s);if(d.done)return d.value}var g=c(s);g||(s=p(s));var m=r.global;if(m){var f=r.unicode;r.lastIndex=0}for(var v=[];;){var L=b(r,a);if(null===L)break;if(A(v,L),!m)break;""===p(L[0])&&(r.lastIndex=I(a,h(r.lastIndex),f))}for(var j,N="",D=0,Z=0;Z<v.length;Z++){for(var E=p((L=v[Z])[0]),k=C(w(u(L.index),a.length),0),T=[],z=1;z<L.length;z++)A(T,void 0===(j=L[z])?j:String(j));var W=L.groups;if(g){var Y=M([E],T,k,a);void 0!==W&&A(Y,W);var P=p(n(s,void 0,Y))}else P=y(E,a,k,T,W,s);k>=D&&(N+=S(a,D,k)+P,D=k+E.length)}return N+S(a,D)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!v||L)},27119:(e,t,i)=>{var n=i(97691);e.exports=n},19964:(e,t,i)=>{var n=i(54062);e.exports=n},69884:(e,t,i)=>{var n=i(71584);e.exports=n},29490:(e,t,i)=>{var n=i(61579);e.exports=n},37082:(e,t,i)=>{var n=i(69529);e.exports=n},72307:(e,t,i)=>{e=i.nmd(e);var n="__lodash_hash_undefined__",s=1,o=2,r=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",I="[object Map]",m="[object Number]",y="[object Null]",b="[object Object]",f="[object Promise]",C="[object Proxy]",w="[object RegExp]",M="[object Set]",A="[object String]",x="[object Symbol]",S="[object Undefined]",v="[object WeakMap]",L="[object ArrayBuffer]",j="[object DataView]",N=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,Z={};Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0,Z[a]=Z[l]=Z[L]=Z[d]=Z[j]=Z[u]=Z[h]=Z[p]=Z[I]=Z[m]=Z[b]=Z[w]=Z[M]=Z[A]=Z[v]=!1;var E="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,k="object"==typeof self&&self&&self.Object===Object&&self,T=E||k||Function("return this")(),z=t&&!t.nodeType&&t,W=z&&e&&!e.nodeType&&e,Y=W&&W.exports===z,P=Y&&E.process,G=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),O=G&&G.isTypedArray;function R(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function F(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function B(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var J,H,X,V=Array.prototype,_=Function.prototype,U=Object.prototype,K=T["__core-js_shared__"],Q=_.toString,q=U.hasOwnProperty,$=(J=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",ee=U.toString,te=RegExp("^"+Q.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=Y?T.Buffer:void 0,ne=T.Symbol,se=T.Uint8Array,oe=U.propertyIsEnumerable,re=V.splice,ae=ne?ne.toStringTag:void 0,le=Object.getOwnPropertySymbols,ce=ie?ie.isBuffer:void 0,de=(H=Object.keys,X=Object,function(e){return H(X(e))}),ue=Ge(T,"DataView"),he=Ge(T,"Map"),pe=Ge(T,"Promise"),ge=Ge(T,"Set"),Ie=Ge(T,"WeakMap"),me=Ge(Object,"create"),ye=Be(ue),be=Be(he),fe=Be(pe),Ce=Be(ge),we=Be(Ie),Me=ne?ne.prototype:void 0,Ae=Me?Me.valueOf:void 0;function xe(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Le(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new ve;++t<i;)this.add(e[t])}function je(e){var t=this.__data__=new Se(e);this.size=t.size}function Ne(e,t){var i=Xe(e),n=!i&&He(e),s=!i&&!n&&Ve(e),o=!i&&!n&&!s&&qe(e),r=i||n||s||o,a=r?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!q.call(e,c)||r&&("length"==c||s&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Fe(c,l))||a.push(c);return a}function De(e,t){for(var i=e.length;i--;)if(Je(e[i][0],t))return i;return-1}function Ze(e){return null==e?void 0===e?S:y:ae&&ae in Object(e)?function(e){var t=q.call(e,ae),i=e[ae];try{e[ae]=void 0;var n=!0}catch(o){}var s=ee.call(e);n&&(t?e[ae]=i:delete e[ae]);return s}(e):function(e){return ee.call(e)}(e)}function Ee(e){return Qe(e)&&Ze(e)==a}function ke(e,t,i,n,r){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,i,n,r,c){var p=Xe(e),g=Xe(t),y=p?l:Re(e),f=g?l:Re(t),C=(y=y==a?b:y)==b,S=(f=f==a?b:f)==b,v=y==f;if(v&&Ve(e)){if(!Ve(t))return!1;p=!0,C=!1}if(v&&!C)return c||(c=new je),p||qe(e)?We(e,t,i,n,r,c):function(e,t,i,n,r,a,l){switch(i){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!a(new se(e),new se(t)));case d:case u:case m:return Je(+e,+t);case h:return e.name==t.name&&e.message==t.message;case w:case A:return e==t+"";case I:var c=F;case M:var p=n&s;if(c||(c=B),e.size!=t.size&&!p)return!1;var g=l.get(e);if(g)return g==t;n|=o,l.set(e,t);var y=We(c(e),c(t),n,r,a,l);return l.delete(e),y;case x:if(Ae)return Ae.call(e)==Ae.call(t)}return!1}(e,t,y,i,n,r,c);if(!(i&s)){var N=C&&q.call(e,"__wrapped__"),D=S&&q.call(t,"__wrapped__");if(N||D){var Z=N?e.value():e,E=D?t.value():t;return c||(c=new je),r(Z,E,i,n,c)}}if(!v)return!1;return c||(c=new je),function(e,t,i,n,o,r){var a=i&s,l=Ye(e),c=l.length,d=Ye(t),u=d.length;if(c!=u&&!a)return!1;var h=c;for(;h--;){var p=l[h];if(!(a?p in t:q.call(t,p)))return!1}var g=r.get(e);if(g&&r.get(t))return g==t;var I=!0;r.set(e,t),r.set(t,e);var m=a;for(;++h<c;){var y=e[p=l[h]],b=t[p];if(n)var f=a?n(b,y,p,t,e,r):n(y,b,p,e,t,r);if(!(void 0===f?y===b||o(y,b,i,n,r):f)){I=!1;break}m||(m="constructor"==p)}if(I&&!m){var C=e.constructor,w=t.constructor;C==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof w&&w instanceof w||(I=!1)}return r.delete(e),r.delete(t),I}(e,t,i,n,r,c)}(e,t,i,n,ke,r))}function Te(e){return!(!Ke(e)||function(e){return!!$&&$ in e}(e))&&(_e(e)?te:N).test(Be(e))}function ze(e){if(i=(t=e)&&t.constructor,n="function"==typeof i&&i.prototype||U,t!==n)return de(e);var t,i,n,s=[];for(var o in Object(e))q.call(e,o)&&"constructor"!=o&&s.push(o);return s}function We(e,t,i,n,r,a){var l=i&s,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var h=-1,p=!0,g=i&o?new Le:void 0;for(a.set(e,t),a.set(t,e);++h<c;){var I=e[h],m=t[h];if(n)var y=l?n(m,I,h,t,e,a):n(I,m,h,e,t,a);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!R(t,(function(e,t){if(s=t,!g.has(s)&&(I===e||r(I,e,i,n,a)))return g.push(t);var s}))){p=!1;break}}else if(I!==m&&!r(I,m,i,n,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Ye(e){return function(e,t,i){var n=t(e);return Xe(e)?n:function(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}(n,i(e))}(e,$e,Oe)}function Pe(e,t){var i,n,s=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?s["string"==typeof t?"string":"hash"]:s.map}function Ge(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(i)?i:void 0}xe.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},xe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xe.prototype.get=function(e){var t=this.__data__;if(me){var i=t[e];return i===n?void 0:i}return q.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:q.call(t,e)},xe.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=me&&void 0===t?n:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,i=De(t,e);return!(i<0)&&(i==t.length-1?t.pop():re.call(t,i,1),--this.size,!0)},Se.prototype.get=function(e){var t=this.__data__,i=De(t,e);return i<0?void 0:t[i][1]},Se.prototype.has=function(e){return De(this.__data__,e)>-1},Se.prototype.set=function(e,t){var i=this.__data__,n=De(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(he||Se),string:new xe}},ve.prototype.delete=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Pe(this,e).get(e)},ve.prototype.has=function(e){return Pe(this,e).has(e)},ve.prototype.set=function(e,t){var i=Pe(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Le.prototype.add=Le.prototype.push=function(e){return this.__data__.set(e,n),this},Le.prototype.has=function(e){return this.__data__.has(e)},je.prototype.clear=function(){this.__data__=new Se,this.size=0},je.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},je.prototype.get=function(e){return this.__data__.get(e)},je.prototype.has=function(e){return this.__data__.has(e)},je.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Se){var n=i.__data__;if(!he||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new ve(n)}return i.set(e,t),this.size=i.size,this};var Oe=le?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,s=0,o=[];++i<n;){var r=e[i];t(r,i,e)&&(o[s++]=r)}return o}(le(e),(function(t){return oe.call(e,t)})))}:function(){return[]},Re=Ze;function Fe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||D.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Je(e,t){return e===t||e!=e&&t!=t}(ue&&Re(new ue(new ArrayBuffer(1)))!=j||he&&Re(new he)!=I||pe&&Re(pe.resolve())!=f||ge&&Re(new ge)!=M||Ie&&Re(new Ie)!=v)&&(Re=function(e){var t=Ze(e),i=t==b?e.constructor:void 0,n=i?Be(i):"";if(n)switch(n){case ye:return j;case be:return I;case fe:return f;case Ce:return M;case we:return v}return t});var He=Ee(function(){return arguments}())?Ee:function(e){return Qe(e)&&q.call(e,"callee")&&!oe.call(e,"callee")},Xe=Array.isArray;var Ve=ce||function(){return!1};function _e(e){if(!Ke(e))return!1;var t=Ze(e);return t==p||t==g||t==c||t==C}function Ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}var qe=O?function(e){return function(t){return e(t)}}(O):function(e){return Qe(e)&&Ue(e.length)&&!!Z[Ze(e)]};function $e(e){return null!=(t=e)&&Ue(t.length)&&!_e(t)?Ne(e):ze(e);var t}e.exports=function(e,t){return ke(e,t)}},93096:(e,t,i)=>{var n="Expected a function",s=NaN,o="[object Symbol]",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,u="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,h="object"==typeof self&&self&&self.Object===Object&&self,p=u||h||Function("return this")(),g=Object.prototype.toString,I=Math.max,m=Math.min,y=function(){return p.Date.now()};function b(e,t,i){var s,o,r,a,l,c,d=0,u=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function g(t){var i=s,n=o;return s=o=void 0,d=t,a=e.apply(n,i)}function b(e){var i=e-c;return void 0===c||i>=t||i<0||h&&e-d>=r}function w(){var e=y();if(b(e))return M(e);l=setTimeout(w,function(e){var i=t-(e-c);return h?m(i,r-(e-d)):i}(e))}function M(e){return l=void 0,p&&s?g(e):(s=o=void 0,a)}function A(){var e=y(),i=b(e);if(s=arguments,o=this,c=e,i){if(void 0===l)return function(e){return d=e,l=setTimeout(w,t),u?g(e):a}(c);if(h)return l=setTimeout(w,t),g(c)}return void 0===l&&(l=setTimeout(w,t)),a}return t=C(t)||0,f(i)&&(u=!!i.leading,r=(h="maxWait"in i)?I(C(i.maxWait)||0,t):r,p="trailing"in i?!!i.trailing:p),A.cancel=function(){void 0!==l&&clearTimeout(l),d=0,s=c=o=l=void 0},A.flush=function(){return void 0===l?a:M(y())},A}function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function C(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&g.call(e)==o}(e))return s;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var i=l.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):a.test(e)?s:+e}e.exports=function(e,t,i){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return f(i)&&(s="leading"in i?!!i.leading:s,o="trailing"in i?!!i.trailing:o),b(e,t,{leading:s,maxWait:t,trailing:o})}},97644:(e,t,i)=>{var n=200,s="__lodash_hash_undefined__",o="[object Function]",r="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,l="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")();function u(e,t){return!!(e?e.length:0)&&function(e,t,i){if(t!=t)return function(e,t,i,n){var s=e.length,o=i+(n?1:-1);for(;n?o--:++o<s;)if(t(e[o],o,e))return o;return-1}(e,p,i);var n=i-1,s=e.length;for(;++n<s;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function h(e,t,i){for(var n=-1,s=e?e.length:0;++n<s;)if(i(t,e[n]))return!0;return!1}function p(e){return e!=e}function g(e,t){return e.has(t)}function I(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var m,y=Array.prototype,b=Function.prototype,f=Object.prototype,C=d["__core-js_shared__"],w=(m=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",M=b.toString,A=f.hasOwnProperty,x=f.toString,S=RegExp("^"+M.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=y.splice,L=P(d,"Map"),j=P(d,"Set"),N=P(Object,"create");function D(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function E(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,i=e?e.length:0;for(this.__data__=new E;++t<i;)this.add(e[t])}function T(e,t){for(var i,n,s=e.length;s--;)if((i=e[s][0])===(n=t)||i!=i&&n!=n)return s;return-1}function z(e){if(!G(e)||(t=e,w&&w in t))return!1;var t,i=function(e){var t=G(e)?x.call(e):"";return t==o||t==r}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(i){}return t}(e)?S:a;return i.test(function(e){if(null!=e){try{return M.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}D.prototype.clear=function(){this.__data__=N?N(null):{}},D.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},D.prototype.get=function(e){var t=this.__data__;if(N){var i=t[e];return i===s?void 0:i}return A.call(t,e)?t[e]:void 0},D.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:A.call(t,e)},D.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?s:t,this},Z.prototype.clear=function(){this.__data__=[]},Z.prototype.delete=function(e){var t=this.__data__,i=T(t,e);return!(i<0)&&(i==t.length-1?t.pop():v.call(t,i,1),!0)},Z.prototype.get=function(e){var t=this.__data__,i=T(t,e);return i<0?void 0:t[i][1]},Z.prototype.has=function(e){return T(this.__data__,e)>-1},Z.prototype.set=function(e,t){var i=this.__data__,n=T(i,e);return n<0?i.push([e,t]):i[n][1]=t,this},E.prototype.clear=function(){this.__data__={hash:new D,map:new(L||Z),string:new D}},E.prototype.delete=function(e){return Y(this,e).delete(e)},E.prototype.get=function(e){return Y(this,e).get(e)},E.prototype.has=function(e){return Y(this,e).has(e)},E.prototype.set=function(e,t){return Y(this,e).set(e,t),this},k.prototype.add=k.prototype.push=function(e){return this.__data__.set(e,s),this},k.prototype.has=function(e){return this.__data__.has(e)};var W=j&&1/I(new j([,-0]))[1]==1/0?function(e){return new j(e)}:function(){};function Y(e,t){var i,n,s=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?s["string"==typeof t?"string":"hash"]:s.map}function P(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return z(i)?i:void 0}function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,i){var s=-1,o=u,r=e.length,a=!0,l=[],c=l;if(i)a=!1,o=h;else if(r>=n){var d=t?null:W(e);if(d)return I(d);a=!1,o=g,c=new k}else c=t?[]:l;e:for(;++s<r;){var p=e[s],m=t?t(p):p;if(p=i||0!==p?p:0,a&&m==m){for(var y=c.length;y--;)if(c[y]===m)continue e;t&&c.push(m),l.push(p)}else o(c,m,i)||(c!==l&&c.push(m),l.push(p))}return l}(e):[]}},26961:(e,t,i)=>{var n,s=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function s(e,t){if(!n[e]){n[e]={};for(var i=0;i<e.length;i++)n[e][e.charAt(i)]=i}return n[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var i=o._compress(e,6,(function(e){return t.charAt(e)}));switch(i.length%4){default:case 0:return i;case 1:return i+"===";case 2:return i+"==";case 3:return i+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(i){return s(t,e.charAt(i))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),i=new Uint8Array(2*t.length),n=0,s=t.length;n<s;n++){var r=t.charCodeAt(n);i[2*n]=r>>>8,i[2*n+1]=r%256}return i},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var i=new Array(t.length/2),n=0,s=i.length;n<s;n++)i[n]=256*t[2*n]+t[2*n+1];var r=[];return i.forEach((function(t){r.push(e(t))})),o.decompress(r.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return i.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return s(i,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,i){if(null==e)return"";var n,s,o,r={},a={},l="",c="",d="",u=2,h=3,p=2,g=[],I=0,m=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(r,l)||(r[l]=h++,a[l]=!0),c=d+l,Object.prototype.hasOwnProperty.call(r,c))d=c;else{if(Object.prototype.hasOwnProperty.call(a,d)){if(d.charCodeAt(0)<256){for(n=0;n<p;n++)I<<=1,m==t-1?(m=0,g.push(i(I)),I=0):m++;for(s=d.charCodeAt(0),n=0;n<8;n++)I=I<<1|1&s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s>>=1}else{for(s=1,n=0;n<p;n++)I=I<<1|s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s=0;for(s=d.charCodeAt(0),n=0;n<16;n++)I=I<<1|1&s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s>>=1}0==--u&&(u=Math.pow(2,p),p++),delete a[d]}else for(s=r[d],n=0;n<p;n++)I=I<<1|1&s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s>>=1;0==--u&&(u=Math.pow(2,p),p++),r[c]=h++,d=String(l)}if(""!==d){if(Object.prototype.hasOwnProperty.call(a,d)){if(d.charCodeAt(0)<256){for(n=0;n<p;n++)I<<=1,m==t-1?(m=0,g.push(i(I)),I=0):m++;for(s=d.charCodeAt(0),n=0;n<8;n++)I=I<<1|1&s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s>>=1}else{for(s=1,n=0;n<p;n++)I=I<<1|s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s=0;for(s=d.charCodeAt(0),n=0;n<16;n++)I=I<<1|1&s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s>>=1}0==--u&&(u=Math.pow(2,p),p++),delete a[d]}else for(s=r[d],n=0;n<p;n++)I=I<<1|1&s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s>>=1;0==--u&&(u=Math.pow(2,p),p++)}for(s=2,n=0;n<p;n++)I=I<<1|1&s,m==t-1?(m=0,g.push(i(I)),I=0):m++,s>>=1;for(;;){if(I<<=1,m==t-1){g.push(i(I));break}m++}return g.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,i,n){var s,o,r,a,l,c,d,u=[],h=4,p=4,g=3,I="",m=[],y={val:n(0),position:i,index:1};for(s=0;s<3;s+=1)u[s]=s;for(r=0,l=Math.pow(2,2),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),r|=(a>0?1:0)*c,c<<=1;switch(r){case 0:for(r=0,l=Math.pow(2,8),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),r|=(a>0?1:0)*c,c<<=1;d=e(r);break;case 1:for(r=0,l=Math.pow(2,16),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),r|=(a>0?1:0)*c,c<<=1;d=e(r);break;case 2:return""}for(u[3]=d,o=d,m.push(d);;){if(y.index>t)return"";for(r=0,l=Math.pow(2,g),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),r|=(a>0?1:0)*c,c<<=1;switch(d=r){case 0:for(r=0,l=Math.pow(2,8),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),r|=(a>0?1:0)*c,c<<=1;u[p++]=e(r),d=p-1,h--;break;case 1:for(r=0,l=Math.pow(2,16),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),r|=(a>0?1:0)*c,c<<=1;u[p++]=e(r),d=p-1,h--;break;case 2:return m.join("")}if(0==h&&(h=Math.pow(2,g),g++),u[d])I=u[d];else{if(d!==p)return null;I=o+o.charAt(0)}m.push(I),u[p++]=o+I.charAt(0),o=I,0==--h&&(h=Math.pow(2,g),g++)}}};return o}();void 0===(n=function(){return s}.call(t,i,t,e))||(e.exports=n)},87462:(e,t,i)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n.apply(this,arguments)}i.d(t,{Z:()=>n})},19874:(e,t,i)=>{"use strict";i.d(t,{F:()=>Oi});const n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgZSURBVHgB7VprbBRVFD53drft7vZF02qiTVyglIc8rUqpPDQSE2LiHxL5oSKSkPhADSCGN6VQFQUUAeWXEP9oiIkxJTHahlhEeVQQUCuPFta/SsK23e1rd+b63XaKZfbO7MzuLIlkv2TbO3PvPXPPPed+95w7Q5RDDjnkkEMOt+D3+98MBgP/4PdXIBB4je5WFBQUjAsGg61QlI/+QelvSktLQ3SH4KE7gGDQv5YxdoQxqjLW4d5ETVOX5+d7ewcHE6cpy2CURcCqIY/H8xkRf8JeD9bi8/lWRCKRMGUJWbMw1upqj0f5EsVJDrqNg7Wf93q9CeAUZQGuW7ioqKiac/UQ51Qnqeb2n8lbfb78ZW5bWyEXIRgYFjotUxZr+LKm8eeSe8VnYR13JN9nC+LxwXOQuZJchCsKjzCworCPcFma3IK/V15eMZNzftJYE4vFz0ejvbOg4LsS0WMgcx9I75hbTJ6xSwsGhkXrYcFAknDGLsKqL/X29p4T18Mkplwf3SYW6701hsLCwgc5146iGJI8qpsxvjka7fuYMkDaFhaDh1WPQa33JcomcH9nQYF/7oiydhCNRv/ABEyAR+yUVBdzzvbimc2ZWDsthXUGviDbbqD8n7DqvFgstu7GjRs95ByJWKxvHbymBuVwcjVfiLXdhjGsojTgSGHBwIiOmrGuduOy2FDNQT7bvV5fXV9fX8ZbivAMvz8wHRMoc+FyjGEPorSvnFrb9hoWDIyH1JOElKBop6ryF6DoSSsZqdawGRCMzMzL831N8rV9E3PdCK/YTTaQ0sL2GPieqamUzQTxePw8JmaaGZPj/i543ik71rZUGAy8ChY5C6XmG+sEAzOmPY6ZXR8Oh/sp+4iCFzaoqraApGubZmNtn4Cbv2IlxFRhWPVDqLWHpFYdZuBotL+VHAAh4wPGe07XYH9//3FYu1rnESPux/L6BGN/x6y/6fqBiwzin89wOwIGXpQGKXkx81sxmE2SOg2M3ACSaqDh0NM2wCtzoHircZyQF4W8IlkfK4WlD4crtzOmLO7p6blE9gZVi0EdRHGGVTvIvaIonqe7u7s7bIgVcusgdy+KD8vqzcjQ8T6M8HAK4uX2wsLAdqt25eXlRcKqGNQJSqGsLrdaVRNXIbfeql1ZWVkx5DbAW74nE2Wt4NjCtw+SrmPLeLKrq+u2rQYh4mQogNSQT0/uw2PwkK3479ddPF/SpjMvL3+hMVPC2gRT88MoPkQpkLGF4XJXk+/R2EQifg0zXo9Lb1VVVb6YfcTD7TJlIeO4z5c3HWy7G2tsBxgXuTK7IGk3How7IlcJhUIFKDdC5nmSKIv2tpbXUFuzCqOFMdCx2A8X46FiL/QlP5Q6YPE4ipMl4gTZ1YPs9sqfFVwr9nOSGECXGyP5shByGzRNa/J6PbcZxMzCjhQWLqZHS024NZVsAAM+xZj6Yk/PwBWrdsNy2XfoUU325P4cj6tLBwYGOp1EcI5JC/tgWI96Noj1aNG0G1Zbg1x3Tipl/5PbNxHW3Ixfr0XTLshdDbmPCWXJIdLKliorK0E4HCkh81o0C2BtFZIDVFRUiPYKrJewaFaCNDFAacKxS2O9CTI6jFmeRbbAr+Js6qlUZ1MiE8N29zmKs8me3EuQu2jUMnPXpeG+HjAl9l5+QaYsrPIT/l5M7skm6Iy7Qfa8mpoan9ivoezvJFEWXvIj/rZL5E6C3E7RlxxkfbYtLBJ7KC1jYKwpdhBbzXrRDB7wls7kssn8BfnyEuzb18RFXl7eFOzjn8qSEyCCSTyATGwHkpOEzuTSGFlsmRjbhNH3MmZpE5xBELFcHM2MvilczOtVmkE+VZI+A7jfiAH2QqFtGGxQ0qaNscSyaHSw3SB3LOS2oP84SgFXFRYsioHWw6ofkAXgbiKS2gjFCsgWuDgS2ga2Flkat5C7BTLFEsk3a+OawnjQCU2jNxAp/Uo2UFKSP15VvUdh0VRvINoQRKxEcHKGbAAkhy1MazK68gjSIC0uO4BLeDy+ZXaVFejqGuiMRmNThPviUpM0GUDdFgywzq6yAsjWLiM0XYpiRFIdN+tnoTDbL7mJlz7xDmQ0Ind1shdyBAr1WApJ2Y3H452GOpF5JWzKGsrEcBqzC5mYOFaSHTuZnm9Z0jmynpfhNgjaqSxJJOfIW9kSJ+fO6R7iGcY0H8/eJ0tOaMjabIdITsz6W+7DYN+DcBtxPpykFEirCq54VmQ0YsYpy9AzMbC71mqWiWGsM62UHWpHNoF9cDUe9DaK90qqw3DXZ2HtNisZ6Vq4qMg/V1XZIdkLdRqyKseOIc/EjLAdaWHm9mAGa1H8VlIdwmDOYF3tHDNmTAm5BBzwlcKq2zSNHTdRtkVR1Fq7ygqk9TINg8DeymBtXiypDkPsM5ig34wVTiyMM6tHFUU5jGfIoru0X6yllS3BdRtVVRUJebOkOoRBXhRMXlxcXEYOITImnYFPmyjbgkRmRrpvETN+Xaoz+UYUKyXVYm0vdvC6NCMGtoOMX4jrTD5PnGxIqkMjTE4W35O4xcB24Oo3HjqTr0HxPkl1GOfOryMNbBp9U1H4PCsGRri5GRHYfnIJrn/UomdKu4Qr2+xi9qEL1qq2IhLpD5OLcP2zpUQiERkcjB/Be6SbcMVHKHUIalRWvP7chK3m1f7+RIRcRtY/TIO1v4C1a212EQyc1Q/TsqrwCKxich0RTMomsPkBulsw/BGM/wfjx6WFhcFjJSUl4+luhWByKPq3+Ln90VkOOeSQQw7/d/wL71qwyKPb0ocAAAAASUVORK5CYII=",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACCSURBVHgB7dmxDYMwFEXRnyiDZJRsmoySUdgEKBGdQTLo+Rzp976Fq1cFAAAc8ah2c91LU8OzBjNc8KvOmdb7V1+f9d7V0by5b/X3272hiT+cTnA6wekEpxOcTnA6wekEpxOcTnA6wekEpxOcbrjgs/vwVNePaU0NBvF0wwUDAADHLBkQDn9Tm0abAAAAAElFTkSuQmCC",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALjSURBVHgB7ZqBbdswEEU/ig7gbnAbNCNwg2aDcIOmE0SeoO4E9gbtBsoGTieQN4g3aHUQD6RFUlYBs9EpfMCByZkE9HXk8UgbqFQqlUpFuO+t663tbYOV8723P4GxcMIK4Uj+xCDytTfTW4OViqbejhjEHXEpbgcv+g4rgDCIYVG7wB+KO8BH/h6KIXixTeBvna8NfAf4df0AhRDSYoHLpBVGehf4DZRB8NN0jKznFnGykuirnNostst8lkpQBJ/AhA0UZfAOecEp9hgEW/c/ufFHKEH23TkQ4uiOX8DikSREM/qmxP3rDHlzHjEvARHi6FqkM/yiYaH80I9X+uWiO3d2LAaL4aH3E30I+ehOjVskFrGYMauJLsN7qFROqXMvIR/dX1BKi3ypKNFtAl8HpaWl0CA+KDB3iM/CFvlyVA0ijEXsA3tFPrqqBUu1lTNy/WzGrwqL4eFZtAlMXkK47Uh0U8fGm/MR5TGu/QxfeW1d+xVDRE+9vbjPVd5m8kPLWh2bRJfgo2vh628LpRB8TR2uZ/bzC3nC5V4sfS0UY5CObhv4rPNJ/d1AMYR0BpaId4m+exTkA/4fBwzJiZFMvA0+P7v2ExQjxUdu3zWj/lN3YSqQmjk8EIT7rhn15zsstdUWIRZm4UvIlOAD8iesm1ByDT+59tlZ6PuRGSPrWJ1gQlxVWec/wCevMeIvVl6WEmwwROmEOLrbiXEn1xIKUUrwWBz/Txim8mli3ItrCYqwuCwqCP6emZxPykgzGitXQ8WKjxIR/uJaie4D4ujmktLZ9VH1BXlYPBDSxUSD/P3VEQWLjxIRfu7tm/ub1y5Hc5yozhPjf8OfqFQh6zEVLYt8hOXXPgRlGKRvLRl+GamvYXjtyhIgKINFSd3c4voUJazgbprgRXAy2szod+0LuMXDIuWGIzVVCfkfwagm/CEaOR9hpWKFBl60wcrFClJWijV4B/D2w0lMfYKqVCqVyi35CyhFHGoJeaHeAAAAAElFTkSuQmCC",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANmSURBVHgB7ZhraM5RHMe/7stcZmzkksckFmoNYWQjlmtuiXKbyKWsvJC80oqQVyylpBRvjDe8lZgiUbMXIiH3W8Q2l1yH769z1s6ePec8z//Z/7+9cD71qf9zbv//ec79AB6Px+PxeDwej8fj8XjCZA3CoRNdR9cjBLo64mbTAQjOQDqPltJr9CnSZw7dpb9lA0LAVeGH9DgdYYn/SavoKzqKLqQ94tJMROoVlrzLaS4dC/WnDUkxbyb9ihAop38t7o1LO4heiEuzFcHY4XhfmSPfPoTEUMcHTLbkqTDSVCIY0uPuIliFd9MnCIks2Cscc+TbptPUIDiVSL3Cq+kfBKhwZ0TDMajxL908A8H4mGK6ufQo1CyeMlFVWJDx+4YORviUQc0XWUZYhmEXW8YoKyzdcD7tY4T1pQU0HwFbRiPfe5CepN2N8Bj9ZlhuK8C1LKVDHm2gH/Tvd1DLhYzp7TRbh0tXr6Nn6QH6LIWyR0Kt61PRBsKscA5UN1uE5grH6Dmo9VhavJB+oXdoP7qFLqCL6e0k5U+nPyxx9fS88fs+0iTVWbqI1saF96L3jPS1cR9klvUWzbu6Cthn6RJLXLvM0rJ8XISamK5DjU2TI1BjtYnHxnN8F5bt6GG0A23p0pdpT9oNqnXMssag9d73pfH8OkF5SxB8CQtMW1pYxsx+OhOqdR8ZcZvQehauM57rE5Qn++EiRExYk5ZsByfRq/p3aYI0S+lo/VxgKScbERPmLC2ttpI20vEJ4qUHVOnnKksZN+g4REjY67DMvrbj5Hu0XDo6hCh2WpmW8Ci2mIGJosINlnAZ15noYKKosHTd3wnC5UZjbZK8OYiYKCr8nVZb4uSwHrPE7UHL008kRHVaOmUJHw61dC2DOmjIjUoJPUFnQd2jpUMXhMQw2PfSBUny3nLkFWX5+qWf5daiWOc7ZEm/kU5zlFdsvLvQ9lHJWniKI24G3Mia7NrUy7ublsUKNG9abB8rf/5NqCNnIqrpc/3OXKRBvs5s+0flejYvSRmyJtc4yviMlttQ2aY2WtLKkbM/3QnVIxKleQB1l23FdeuwQr/AxSd6Rn+Ai1VQlZHtZ2+osXpF531hpJOx7Wod2a1dohPoZqjLAKmDHEOr6Wmo87bH4/F4PB6Px+PxeDye/5l/l+v1KYaU8X8AAAAASUVORK5CYII=",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASoSURBVHgB7dpbaBxlFAfw//km2SQbk6oxXtImbdVaaYkxiFJrLLTFgg/2Zq+W+NAKisSmKHjD4KKxagJtFZEkEikxtJpiRbRWSmsritg+WAQVBMU06pqGQnPRTbLZ+Y5nH6pPSbbnm+66sr+XDMs3s3Py3c6ZWSAnJycn57+LEJCRlZVLLJuNRLxKrno1GPmTtTVeAYfn1IHEFJeckAa/yHWOy3E77eo8jQA4Bzy8ZmYZ+V4TwA0M8lI5J8WA/8XwYagdJZWPUSRi4cDAAd85q4it9wkDjakGq0LwwPwohn49wD09Tt/jFPBwudlFjDuQLsRr8fWnjXCgDnhwddVtMh4fQfpF+Mmt86GkDthYbEdmlMhythJKLkO6Dpli6AEoOQTMVcgU5tlQ0gdMpN4eGM7UK7U+YMYAMoZ+gJI6YEkZPkCmEH8EJXXAnKB3ZWjGkH5D8O0+KKkDLj105ivJgDqRdtRGe/b2Qskp00rEQ8/JDRxGuhAdlCLiaThwCrjs8E/DJSjcSEwv4dJKVk4tGPE2wVFg5eHZ1ZU3hNk8zmzvkstWY4p/Jkm1VDx9teTL3X0je+5RePmd1NrxMwKQh4AcKeyrYMIM2a6uANm4YVswRfNotffZ/FuG349f+GDB2t0rRinvITZmETOussYkLKiQDFewb0rR2oEgOPdw9xYuZYsWWbEfTvUcaRstSmDuhgMUv6aLi73r8JZsNZunOkcGw2uXFaDpxzoagQOnHn79Xi6wjKNyeDsUyg/xtTK6P5fDm6Zry8yNI+NUIQebXLI8p0XrysvxpnSXKtikUIjfQArB/oN5/cxjthkO1EO6azMnq6UvoJAc0i/Uo340xMdw8YbzDC3uW0bfQ8GheMA2OPA93gGdUt+3a6CkTy0t7oaSbEbJSbgQSky0AUrqRcsQ5mjLvD8LUc5uO4S6Ftf3cDIxUONkyuHyuFX/aApahH4ohcfoHFs+CyUZGt9BSV8PMz6Gkpzry5Q4ASUm/hBKLkN6v/wZhVJB3LRDZ0DSzvegpA74wf30pWRZb0OpuQunCNyNiyTvrjr6l1IvlJwyrdk3Y4d0tXp4xdg0yA51IuUTiPf9vjz5HkvPKeClEUpMhFEvQb8MhfP30FDcw30yJ9umbsm+pJWvRpd7W+AosHr4nfV8o+/hCeNxbSw0XmMNT1oesuFo+WD4+mS1dOGzWUfG5lmT/5T0eLWUmVVyYwkpE/sN6PiYxZ5zKyiKAAQWcNGp5sUmhG1yk/dLSDOmaR6Nhfy5WBiJI82cHwCUnNxZ5od8GZK8jgN4wn6pOc3himh72Ib8ZD28DlnCKeDz/QNt0qm3IouoAy76tnmR5MP1yDL6HrbcgCzkkksvQRZyqZYqkIVcFq0EtAjjWPC8/nwHDgHTH1CSbOc3l0etLlzKwx6oUSC/qtPQ97AxB6WrxqCQz95uZIg64NGaZ0/Cat4amshg7TO9yBCnTCtWUtoqczHlnx9IJbQ35p/ZiQxyr5YiEVO8il5hMttlYk9WEg7KF7X8VdukqpuDFFh5WHD6xXmGaKthLGNwjSxqE1LL9sFwd55Bz1B1UyDvd3NycnJy/s/+BumrdHhWJ6PmAAAAAElFTkSuQmCC",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVUSURBVHgB7ZpNUhtXEMe7B1FJ7EXkmHLZqwwVkYg4BdIuS3QCwzIr4ATACcAnCD4B4gTEJ4i8y84jV2zJJaVQdl5QsbKx5Vgzne6RRMmg9zFPIwlX6VdFlcQbzbz/++ju1z0Ac+bMmTPn5oIwQXy/kF28DZsURev8KJ8fViCELBD/9Z7e5s8t/tQGoIDAexa+h0qrFbRhQqQuWERmbsMORPSIv26AGxX08LTxMihDyqQmOBZ6K9rjW+5fzuCYcOdahFRuvnrxGFIiFcErq2t7hHiUltCriHDw8HEaMz6W4Hy+4HeRTsB96SYCEcof3+HBOHvcWfDKw0KB9+kZ8WqGKSKzvUBYqteDFjjggQPf59e2KaLn0xYryDNDpN/jAXcg8Qx/t1rYRKAzmD3tDGEx6UwnEhzvWY+eT8o4JcVleVsvaRErS+mmiBVkebPRTLTarAWHHh2q9iwBbnGgUETCXR73CqQGSgCyy0t3mU20yhcXcg/XfgVLrJY0G4gdNlIniuZ2s1a9M/yPXL6wgeyuRg4Qh5M8MLFbISB/9C2xkiHYHV6qfoEDmw/0FhTIgLOfDsCAneDV9XO1RcZKsxaURrXkfijskwe+50GwEEKl04H2VR/aj7f9KOLrgONugnKzHlSS9wO4H9USGDAKNsyu3OIpC96EKZD7cV0MptodLWCp+efowRpg3sMRHeqaOfp5CzeFUN9XQStYfK4puOB96BQAOOIb2jfEm+gu0ArmAGMbTOiWWIrEQixcYtfjo6kG/ZJGi0OB2l2kilhsdn9PzFfG53AlSqMlrgUk0ND/uNWoVZdhSsSu6T86N8109z3eUZ2o1DPsWcwuTWd2B7QCFhGZZ3nhK3Xf1YKJ1sHAxw78BtOnYrqAPYfSrqgFo8EiIgSTTLapiIMSSf5p4K32rapNKRhNFrEfHs4C7pv22Ryt+ao2pWCT/+Vl04LPEKeMh6AbxVmDykPJGIJ5Xc3sXBwn83XtgC1Vm85o6ffojGZYfPE4SQid0TIZpawpbp0EmY5VKPuvqkFntIyH6S7CVI6Fw6BnEd+juu8awfg3GNHHrROBzBEgG9TkgsEiomE2cj9xzD0lcvm1Q5tc+KKL4PALK8GAIZ1MYy/Hz5D6lQE50OjStkrBcaBuMcuDSsAkRV+miG1AfdbU4IfxKVgwVP7YgZSRyqQk/63LOghP9M0aRp0/EbEc3zRk94DXc9WD0qZkKV0LXr0KR7SduNbM1rn5qlrUX2KAEwFHImzoB5fljX7p5UyT5hHj0cJebVfr5mLjF9JenGVxDCykENCo62vIRsHKLEM/JWquN2HAaVztqGufY4lt9sUYSyuzDCGdSRI9XrahOvPBEZtFHso+m6EiAjywuc7q8MCH7qMR0Us2cwv24/bXwTF39uBa/M3fE2ZFKuCA2JW/aoHVc6xPS5kIt64JItqTWZaPIpqvKfYLa7t8pCl13+FykqxIBpKfsWObEoF1bi1RfXglz2UXvFJ28ei4+fKF1XIy0X9n5Nz6BzwBMshJvMECJOCfizfBN0sP8JN8NeHPd+/d9+/dfVC9uHgzVtpnael+NsLeNrGBQvyl8Tr4AxLg9FLLVVc1BCfY8FmvN9HX8vYdV/S2wJIkM2zjgkaRAQfEiLFoGCGafSht9LsEE0HsCNuTRl1fJVThnOIR0XHVH6aazAtkzzYdxQruOS1GoieJunhTn8Kk4SoHb4+ia7g6YCzBgnSgUQt2sIvFdN/vGCCvP+ByHAukgNMeHkWjEcfKpd77HSDu6xHPSiXJPTpfQnvxg7xQClkiPOWD/PG4Mzpnzpw5cz4n/geYxEgcorbvuAAAAABJRU5ErkJggg==",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANXSURBVHgB7ZpNTBNBFIDfdgsUf4qAPwkiJuitIJrggYMJJGKPngC5ESMHj+DRQ8HEeFCBE/4bj0q8aDxIT40aIcFEE+WESCLSoIi0hVqkbNd5E7cpaafd0p12u86XkDTz0+Tb9+bN2wYAgUAgEJgXKd3k6WurraoqeVQVWqHABMOr4F9eyrTMZ5PlvoVR1wfWAqZw+9W14wrAezAJOoUpqiS1Ld5u9KWas7E2xSQYhiJFUlUPa44pbIY0zoFW1oQN/jOEsNURwlZHCFsdOxiA+5gdmg7LwJONpTcQnrure333ndTjhgg31cngbjTkq5io/u+gqM91r+9mjIszbHVE0TKSUCQGLz/9gfkVBVw1JdBQY4faKjnjnuC6ChUOCZzlxseDm/C9179h4Nlq0viFUztg8OzulHvezm5A/+MQfUDD55zQ2VwORsNF+KY3DEPeNfrZSSLlOmiH6YVNCJHI3ScPwlkuwaUzu7bs8ZCHg3O84SI8QSKFuF1lMEIipaXm+UcBGCcpjmK9JNI4Pv9Lgb4nofge3nApWk8vVsLDnj1whaRu4jns+peioYhKo418I+mrybJS3Ui4nWF3Q1nSWHA9Fv+MqY60HCmloi31pTT1PSnOvZHwbY8IWICCJKI0lV+F6ZiWzhpYyPIFd+GO0RUqrdHZ7ICBPKQui7w3HhOzURrtQsFdePLyXli4cQC8/dX0XGO0sVpP+zehEOQtwi7SZY10VdA7GBmbikAh4CKMHdOQN5w0jrLYYiKhhIqdTwwvWpiqHbdW6OfaKtuW9hCbDO3OdToK895iuDCmLkZx2h+FPtIXT3yOkru2hJzdWPxaQnrzeBUlwuVaetBTQaOMBWrsXYT+JYKNRqa3Jl5wET5EZLAqU1lSnPCVD2k5WkpTHLsrFp0nHfHv4AG3xgMLFHZQ2XZRw6SS80T8xGN1xG9aGoHYOOhl8sdOiM6VAU/2fZ2Bho/V+hbblQDAz9RTrD1+5TroZexLJbxY5nuvts+Eod5Xl3EdaVwDqgJtLGFLpbQmu983xfwvHssI65FFLCGsVxYpeuFsZJGiFs5WFila4e3IIkUpvF1ZJJ2wD0xILrJIOuFBMBm5yiJM4cWBSZ8MygkwSaTXZVvOsgKBQCAwO38B4ghF8Qon7ukAAAAASUVORK5CYII=",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcDSURBVHgB7Zp5bBRVHMd/783eu7RFKm0pYhGMonhEi4gJBAoFIQFJaAsUElRMJAJCgEDkrFgDckgIBIlyRKVcLXI0mCAuoBGhtFwiknDJUY4WSkuh7c525v18UyQsZdmdazf8sZ+k2Zn3fu/4zu/NO35TgBgxYsSI8eRCIAqkTb75ogSsHyJLR4JvEKBtENDNs2T+V0OAHAWCRywC3d/e+fTefXnEBxEiYoKTplx3U8K6E5nOBELeBkABQnYE4Zk4l+y0CJUEWQEgW7lnVsI5MJmICG478VpPZqFzAbG72jJJLjtr6bDSBylYhYirUaqasy+vvWkeN11w6pQbkxDlhfySqi2T6LBiosv+mL7gX4KVZe2eGn8GTMA0wdmbNwv7S7ov5VWO1VIuzmaVUjx2gYTsC9ZYZdJz12zPcTCIaYLbTKpcBYSN1lLGJgjs2TgncLXhRwOBSv6e9/JOb/EPGED1sAvFjd5dZo+7/sOHWsoIhGBbj52qEquA0BqR7Oy54G4yGMCw4OrMLq/zJWbORxWbyMKLX8kO5sdwZSghrB33rE3Q3Hwalcg3YABDgjdnZwuNCD/y8dZUT2b1H0LBmUmY5L8ZUnSy2w52gep7nRAHZ+TXDgSdGBLc49albD7UOgemdWi4SNeenUbaiVeDik502vhEZdHdLlIR65O//QJ0Ykgwn0QmBEtv46+EdWem4KBbXjkw/Sm7svxY91Ogn/IHlUtBGMVrWckrug4qEVtuRclz4LX0jVnvgQ50z9JVvbu+JAM7GcpGIhZck5SFK5JHUP6+nu+Q4Bnpne460Nyuf15VnM9mn0EQpoaqT0z4mYmtNjU5iRBSUDq0aCRoRLfgGxnpE5GQJWpst7fKPDW/7dh+575OvRzKrld+3ed88p4dLE9yH5Prk5cEbE9JXXtKnirMKfSDBvQPaULT1ZjRFo2Yk7JxVDixCntnuudwD+xuns7s5fy9XdbMOeguF6EdaET/5EGwW1gjC0NnxpVd8UvPl4JKBBTyA++ZpQrqk5ZwsdIjffXbSGfQiH4PI0kJZ+LqcQ1tL1X/ChqwS44y/iM1NUF9WJ+yiDHrzaC2FFgn0IiBWRodoXIdXSuYvWslJZT+CxooziP1fGY5r1z7Wq9lzHb1sX1EBnbQiG7B5N7hPSi2jrdlZ8a9jjIZPaAdj69VETa6D4Y8Q/Peh93VPVpEJ7ylumDpQoKIzoEXH3SUQA/QQO95Dc/54/am+BOKw68gCLdBI0Y8fOWRyuL94Mk9S6hDDrDDIYhgBZWInt+Hi4nrVNkKBE+DRox4+OGZ18qwRdZ5pohuRgLzWpeBCt7eMCxNTFw1BvmWRY29TKjmEJBuwQzgSOC9q99lpK0baHBb/Lhxj2UWhKCgqNPzSBt3I2FtQR1iWXZh9DwsMHn//Wtn92tof+VW6LoYzG30Wn6TvMJA3JvWNMPzoU7wT2eq6LXl72RtSmSEjqASvssrbor8acRQxKOyT5cTjterXnS+e8mipZyyi+Cb4XKuuCXvcfyyus7y+oYOgpY6kMD7h4du+R40Yui0ZOtUvcLR46rmOrhIC49Ipili19S/gFrF8od13dLCsRV0YEhw/KCz66lbvgQ68fpTG1fXvwBaQZktKhlQUAs6MHYezoTbfPL6EnRwUfawxXdfFRh3l5Zy3PgCddk2g04Mx7SsYiMP8YDqw4FCBXPilNpuUM1sOtonc0sHbwx78nochgWTASDKIIzkT/6OGnsJKfus9i25XHbpEbuxdFjRWjCAKWFaRx/xNF9iwsaZlFVoeV0nOCUlaJrV/y9cLqN/MhjEFMEK1kxpIQ/XhtwT8tkYNvk66mkT+SlkyNHhO66CQUwTrGAV5PF8ffw7WN5uXypbXveyrnWfbzJmlI3YdghMwPSPab5f7M8LVFY6l3A/7bQUD6NrejJJzwNGWFk2fMsnTVcmYKqHFRx9xTNEwHH376/JLphQ2w11ij0nMt90MEmsgumCFSy95AKGsKia2XF87TtYw+yaRxJXeJcv0v1PjNhZDSYSEcEKtj7S1Jl30rdfkd26XhvKILdkxBZTvgk/VC9ECL5/wuNi/Bjuq5uaywLML83dUgwRIGKCFUpyd1QAxVxNhYCcZS6/7m9H4YioYIWynK1KYH25SvM6Sknfw4OK6yFCRFywgtQgz+JD/IIK03mHcgo1hXW1EhXBxz7YVsN/poUxO4d7Wi2ACBOVf0y7z5ubsrwEMSNYHgWSc2hYUSFEmKh4OKC5/MdknI6G2KYeQBSxETzIB9WJ5un8c8xiiBJRFXwgp7CBHyObe9JHJct2iBJRHtK8QcSfAu/5l/ySktwNFRAloi6Y76BOkoCQEI9FfwdRJOqCmxolkEeA1PJQ7SGRkqgN5xgxYsSI8aTzH2nNf0clEZaBAAAAAElFTkSuQmCC",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUwSURBVHgB7VrNixxFFH9VPbOz6+6G1UWRYCAxEQ/CIijoSYUIHoRFCBsWBPWwFw/e8geIBxcP0YufoOBBT15yyR4kIB49eEviB8oimBjCfsTMZueru36+mo+dnp7+qKruHoLMD4aufvWqun5dr957VT1EU0wxxRRT3L8QZAlwm4Mrp88L0X5bAM8RMNuVDmq7F4y2iLsidC9rTbn07KXZYy+8I568sEMlQpIl7v749BlPtN4TKniREDBZRbl//NJkdXmtIxsfAV9UqURYE674u28C6vHhjDkAMW2F9Lj39fYfu181tjdPArC2PhNUyBrBcR5wqF3UVMO6CeacBCEqgsS6DGiRbnyywZJdKhjWM4wg3CbHLCc/oSoIq+3mwZe4+uFDVDCsCffWnUYZZI8gNenOXPsi/v54mQqEA2ENpNwbmm82eGxYb7fqnwE/OCy9xE7zAjnqkX4PmuXQd66z/dOnRZl3DsKg8QEazCqMhQNIUuqtzlzrIn55P7d5F2PSXe5Irs+AyH5Olft/3a/St9euvTtDOVCASWvArIyobFDjE1STC4pSUOWWrzxRq1zOE6ftCetBDaxZz6rRzCJdBp/UwW98uUdZ4Dj9ktdpbtZ/v+Bk3o7eDwYyE52hDIfb5N/aIninSFTnqeek+/pS5yRaE3zVSY9ak81/m8DahhDfBWSBgty9SZiidBnPMrW2KeCfXxekgrBeaMPRK3pM/GXszOtZvk0WyEnYdBbJODp5M3yzQOTfY9IqRdcx0y7QpKNyRIpI0RnKtOlWaiApQR0mDRXpR0T7sENJJm1bHwGTkjzTvH2i4DDkvMWIihMcCMckHLE6g6JJyIqXVZi0JuY3ovWYtEmnIYmsjc5Q5vVJB63RQxKN7CA2jgIJZ6WZLuuu10ZWe+Wg01/T+g0I0Dxn2mQJB8IqWwWGYcowHe3GXybtsSNDp7emJ7iGKWlUw8LsKVILKzwqL2NiY7y0Lnf2+aTwZ168+yPawuvNrvCF0XuPQzGER8IOx8/Tm4Rjz5MLur2oFsmr55j0/pixCJ2AVdAlvDAnJ2HSSJ81HhFqJygXZI23Cg8Pnzf2CHSldXLomu5X6BcXeyB4VO2Eggm7Z0DxfVmkroYoOLUMIWiQ2LtMdPhrv4lBmNKuePlVgnZ4WbpwI15e4qGY8M4WiTtXzMOUt0Bq/in2RivpfedA+dvD3AkIjESmKCfxOAIs7m02IL3yYmCfaRXvpU3y57H7JOeUxecu2aL4xEPEVqbIhmUgRDIpJDk6qwHsCWuLNrYkc7Jm3eVo20d5Xpq/fmL2JNH8CpnFU86eJB/eVZYy9PKhvO0hDx7HNwiPvhFfHwfBw5l5xKD7iR7xGHppPfjaY5QP+U04ihJy6aJM0H7fbIICCfc9bPfELd+gtLcGbxH7N5Fn5EMJubQiefNzwvIqxb9PZPTMpxvtm70DABRlLUOU4KV5+f7zNYlb31A0KCMcr4fS0bZdK+GvEGO+IjrTboc8jse0BnJ9+DQoGmVfaYeAxZl1edvDTDUXskk65ijFpJE6mHSTJpO2k9wtCUGI37HZ7HYSZKb75v4adjnTsiasEPDHTKE/ZnrmrfKSjRXD36v4ZAnrOCxl7Xu+7KVrIfKLqwuLsmYWIT30i/jzwev71pNs/29aDpP1rcUPPKnOc/kEhM0/82KIIk1n/EXwgJsQ4rpX81YfONu4QZZwCmbYOlM7DG6fpap6hmBi2tn5t4r9+j0uU8Ad1fEuLb3W/KvrT6aYYooppvgf4T/3R4R9AIheOAAAAABJRU5ErkJggg==",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKWSURBVHgB7ZrxddMwEMY/eAzQEbQB2QCxQTdAG1AmsDcoGzQbkA3sDRImsDdINigWsaEPLOm7WpLdVr/37o8olzt9J1mRLQOFQqFQKGyGd8iLGu0p/WivAj3Y/WDHwc6DPXqsGX01Xhg3g1UIC/RZN5jB/7Nhc3zFMqEu4ZtD4TolHxNZhw2N9hfEHVWX2Ry3WJkK6YX+axVWYg2xk90hM7eQd7IZO6rx9/9Yj20/nhFPIxMK10VEIlSRcfeCuGdkWsgaQadqyKkhK2ZSDNKKnagFeQwS0pGd6LCcJmOuWQz4qmssRwvyGSTgSCZvEA92lGPm/M0O61T7TpBXMwHfg0OypWsRj73AVzNOH8DxifQ7wX8zb28dbfE+jp9/DnYY7OLwv4zxFMKwfaRgp9XBE0Nj/iajg38G7cncZ0RCcv3WjhiK6OzO8dtakF8hAHMN34Cnd7Q3COe4F8acYxdyYAQr8FwcnVAIo0F0OEBwcNhVmmVOsALPnOAeEYkteA7JJXFBYmILVjNtJ/D0M22SggVhBC+tuhXcEn495osTY9H8AyNYMkLK0f4N/sLZ7z4LY7riRIF9KvngiaExf3tp23yrs+TxTxB2a3kCt1f1+bS4jqL12T2J69taWhQ4WkSkBl/lmIuMEuStmYDsKt2CxyAeWuB7QGQacJUObSMldGTOIxJgwE8vjeVoQT6DRLAVjzHKbK4OCTHgq17h+VSCPAaJaZBWtERsjJkUREF2PPoA/qhFUswOmY5aLBp8xyazOybXYZpE6GTZz4olj1BjW42VqPGGxE7YqZXrlQeDjaAgOzOWWoONvsJkEFe4HdXsrzdIUVgu3AqtEfnxTg70YN8R/tuxAo+jr0ZCysulhUKhUCisxy8ilCIokEEQogAAAABJRU5ErkJggg==",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGjSURBVHgB7dpPSwJRFAXwczX8h5pto4KgRava9FHCVRGhtGoh1K5N+xZBy0CRkBZFH6bWrUKCoEDUdDSb25N073tvmGEe97eRgXk4ZwYeZy4DCCGEEEIIEQhCQPhkNYfcILXQyYPcmG7fB4iAdWBmUL+avlG/ZXW0WGCQp/74Mb8xqtElfITIOnC/kjn0me9gQN2ro+WGZ7TWVAKWJsy7MMTgHYTMOnDcSGDXSWDXSWDXWQemBL0gRpZgqbjmtbpv6T115/ZVR8xCE9dKJZ3z25QfrV+3hzAU6MtDZ7zgy8NMMjmsqjJ+AS00Avn3hfrPGU3LmqbAApvoVtLn6pKvYMKn42LTa0JTbDctTmILBmSXdp0Edp0Edp0EjgtivMKAdZee05pLz/R6w2k37OisIcJIhX0qNPRb1pR14Plcujf5KqPLWoF9UJ397KbOmo/E0u9247MHQ9aBv6uZA2Y+/T/Sr+YrzY7WE7YV6Vw6CrJLu04Cu04Cu04C67KZSxPRM0IWyVxa9bGx6sQPhbrXQsgimUuXUtF91CKEEEIIIURA/gBq8YENqwvlIAAAAABJRU5ErkJggg==",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA4ZSURBVHgB7ZoJXJTlvsd/7ywMDDAMAwwoi+yDooiC5RJqYprLSdRjWt7T1bJyqzS1XDJNXA7XXHCtk1k3tY6pecRcICWXTNFyQxZBEBERWWcYmPWd97nPDAmMIIqM3Xs/h+/nM5+Z93mf53nf/7P8n/8yQDvttNNOO/8OuIRFQRLyLNqCtHOnZ3sG3QwIDjmApwQPtoJHJsSPMfwqlCk+A8bZobVIw/yHhutPH5ypo9/sQGCp7d6tEbbrlKDolV4s7+onNW/H9v49G86hMY/dVhoeOTbacH7PVJ2vhzOHSD+TBM7fhuIpIIDNIIV3lAz6h5qQ8r42YNtp4cm5e0K+UhvIbFTeqIZzWCiEJAaECeaBuDAgfBNBDW2nnPOC5q3lY/Qe9gJi6WlQmMk8Ff3pz2zYGNsJLDBmFlWZF4wJPAZ4q7+RGRJuen3WP0WxPATa9Q7SdhjZnUUHFwIXewIeraoxMCirYeDrylna3CdEziFQzg3JV+EfsDG2E9hOdvtGWYVVkb8bh3/N0HZ6WBOxHUEnGWn23sTebGx8eegwVOUcgQ2x3R4u/l1zqwKVaCNKDYNfcgUY28MoXfaS/rDAPWQubIhNNWGJil+ONlBYwcPMlBgUBm9GqmgFirQdsW6cYTWkoR/DRjCwIZFdg1MvLal9vnHZ5lMSnK3oDndnoIMxDe8PMULIb34Zv/+9PeZtTEMHTw/L9b3Scsyb9x6CcQbLf7SbZazMTUQbsekMq/RMbePrneeE6DBkA3bu2o31n+1GzNT9eHNvMKq1zY+zhkjrhTXjKXfHhg1bkaHqhLcHsEvRMdQdbcR2AsvC+r4VYxjZuOjknUCMGTmk/rpvrx5YuuZbfHDIv9ku7KCGRqO1KpO6SDD2P+ejuy8n5enIu2gjthKY6eFt3PrhiwbrUoFDk4r+ft4YNGExvjsvbHJvsEKPE2fO11/fLrqLuYsTMKh/b6QVeyAu0jQZ4eGtt+IaYRuBZYqh84cbIpgHVqojVwKO46zKMrPz8HLci0jO92nSzUuRLPbuSAQhdXv8+MmzWLNpOy5ezQSRhCG2M+uDQmMg2gAfNiDMX7Z1y6u6wAcFZjgdrqq7oosiyHJ98co1dI8ZheCATuD4DugpuQTRA5ZAR9FdbEquxaABMejeLQz9nu2JIYOew/Gje9FLXohd54UF0FWcxRPy5AK7hs6H2C2Mfu691J1dOyqSbdJXoAeHj7/Jw7DhoyES2cHBwR75BbcxeeJYXMnIRrRzGjU+6urqWcZyBrs7EXiyF7Fu3y2EhnVDdI9ulpkuqxFgyoefo1d0ryE5xephxVXkGHTlSqsHuiucIXKbQgfkwsNeu23HkkdQMFh+/OhIdkLCX/UWk/BBskod8GnWeKxbsRASiVN9+d8mv44d08RA6WlsPqrCrO9EYP9o7iAkSF03ED/d6Y7ikjKEdw7GzDf/w6rfZf+12bAkYfMAVGadg6siAhyGgiFdQETxUKXn46kIbEameGPfVM226yU8qOgMLR1lwH0nAHx7YMA+FNTI8dHydQgJ8ocXPWpST6dhway3EBnRmfoOHA4ePIC4SQvAkYbz+Vb6z/Dz6fjQxxYV30PfoeMrbxeV7KCuaSaM7Amo83Pw1HENefvKOm9C9nQgeVu8yZElvpbflk9WImlMaXkluXotm2i0WvIgl65kkhfiJhO+WxhJ/Pwb8jgc+ekkgVQxqjWv++TOw8CBApw4wYJjbpi9pAgfDhIH0rCsxd5A6HSrJh5uruBTt+jUmQuIHdAHAkHD482znbJ/O1jWRMsfT7X4+dBnEOKJVvDkAl8pfoEqrtH0F5m1W6Q5ki4QO1AF9FofY919OXVneU27T0k9g+u5N7E3KdliVTk5ihES7A+5mxs8PGRwdnKEkA4EazJZjJDS8ir0jo5o0o+RZTF/6WrzpuxLbW09GF4FFZ4es8xVKLMLYHOB69w2i+tWIwnxWTVGP9zJvpGNbO/RbDPzPu3fLxrPx/S2XN+8VWTR3PkFhfj1wiUYjSzM4RMBnw+hUIj9P6Yg5YevYG8vsurHPCgx/XppDqacWAuGcQILZ/AZIRy4Gigf/to28YfvKvHORwdEz60fr5PUFxqqmq0b5O+L7NwGJRrQycfyaY7yyirLgDworJnC28XY+PmO71F1/arVjeYf+xRwVUzdNdevQWH9GEWISddE0ajVNWTG3E8eSynNWrCSUIGblBsNBvLqG+/egSzCB/+bUGd92RfvNhL6+pZmBaH7l6zdvP2hglYpVWTe4gRCDY4m96qrq8nkaXMLaZAwDE+ATUzL+3Cayp8P5njqdUYmNjbMxDCVv1MfbwC1JLys6plNzZzcAmzZtgtlFVUWe7taXYvL6VnYTMuSjhzH7BmTEdU93Kpdfm4WJr45J2f/kdNxUF3PxP8Z5KHde0QE5Rxc7Eu4PR0JyfkHIZyp2dlMz7hOfjiYQr75bj85d+EyUaqqrStwHEk7f4FMmTG7im6bRegYJUYbsGnEw4Is2EfuxCwaF8X+VS7h3M1ntJ8rwd9GhKNT9CuALz3JBC2/M2s04uyFi0g+fhqXrqT/dvR42i46XjuhzmlTCMnMowWWBfk6CB3HanXaJKhy81uqypeGvvZGf2Niwli9VCpuOKIGrRFjcBcW10v4kDkycPTqChe5AmJZJzBUeJ2Rg1arV2fl5lVkZuXk3ygoylWra89AZJ+Me1dLYUNaFrhjR/HQPi9e/GL9CsX2nXsrlq7a0gfVWblN6rl0c/V21a1JnKCfPCbKaNVpMQ3Ob0oVYeUYXX2Z2Su6q2KohwTsOCfk1qaINlJ3aiU6yyot1ttTpGWlxffutyFh0ZzoHl3xXJ8ocfLxU5F3apg90JRZhTbCApxPnfpAO6J3oMlK2DtVDGbTwNyikQa4ODQ4FPZ2DDycTPCiQXkhn2Hyy3m9C8tMBcj+Pa2+sTRsYP9u0v1RYdKFudVyEaetOAMb0HLEg+G85B5ulp9myycxYVGMk4NojlUdt7BJ2yfpe/m4WruGSVcEWJNih68n6SyZBQs+I2hYgyrXkZeB4CmWolI1gxVxOlCjJbE+HOsaOn3BMO3PJz+ojdw3TesXP0r/dxoz6wMb0LLAhNFUVqnqL3tHRyJ+/juLLP7nfVji4eNqHXbde1GInHs8rB2vh1j0xz1HmoCI+rTOZbRzpd7CMiB8Li4X8vBMAIf3Yo2CtIWaT4b3Dyrb/ppu08oxDYvIz808YIwTbEDLAhuFafTYaAgj0nP1vWH2wvGxAcmQBIbUFXL7dqVZW6ieNAMoeLBnxQxqALtYFRUw/aDWM7AX1g3KMwEmHHpH4z75OWP9ziipZvD3Q3aXqKN/DDagZYFrr91bvXHb0bJymkG5sgRI/QuY397HZ3+56jVnKPkJEsVEqHJufvGLMJV6dfXEhJhgziSeudFIRZg0TbqP3/iDKjmdv+1oRvMmfWUtg1EbHQrSS/nm8C+BDXikpVVrEB83GA2TBstSHXnGutSRPY2wDglnpZ29uTGOLpteuXCTr1RqeYG0rL6dOeUZf1AEGuv64+0v0b1Jd4JTXW7t62/3Y2nC5hlVxZJVezI4bYmK9wzd6yJPCaGuH4MvfxHi7Z2iw5fvOIxFRdYd2IjHMzykwQMXjOTv/nhEtdy+mcmgpiQSjgrRuQPBy9F1/nAtXarTvxXhvyfrGj2NNo5YjAuqKIyYMDOxLO/srIZndKaHMjfM3ZGL0RpRVqvn/wvKCaeApRxsyONbWu4KRTc5u2lmLDs4js4ataKaVBm5UQw/GYeefiacyePT6Aaw/mU9rPxkGhRYdViEhfv4o6C8noQ/mdabli6B0SIh//UBoWykk4gJpkkyCU2OiUqpchkRwWJYN5b6xwxCPAnMZe/+U4TNr+rhK7MeoGUHReolScJJUOb+gD+R1ntLTt4uNMefnZeTG5+ldE/LLhHwR3RjI5eN0jNmw8OR+up1BgVdpdS8lDsTxG0R6+iqEDQ2NwcoTLQmM/5kkWcWtBUZ+JNo1QzbuSk++HC4fhXN7POOZQqUzytY6bhoFo0FuY/ZfIw/JKpZf1yQwBm1W7r5ibbtm6Yb/WDsevmPIt3iA8IP6UxvwJ9AqwSOez4oY/90TZeW6piV1dqfhPjshN1XxSr+skYBNZ7MO+TLw+9pJz0bYLJqszrZDkuSRHO0pTlr8ZRp1ZJ2ksomTokx+jLNDFNeGQ/LD9nppu6w35F0TTBVfTd3ywOpEKJVVyb9esfTkaY++/o12tP9gk3m8O7QY/leEl1NxTEaAuajWuAEzwiafymwqTPROqUlDXnn5DztBvNfkxozLFFcdjSDvx5Cuy9Reu3eo7oRyBSr90zTzI2LtJYl8y7PrMF1NL5t52gHnonulKJKXs2lQuzNLWc+ReWNNu/1VgrsLx0Xxfvt+6naoMbFW08IyfTd4kEozz7x2F15h3y0ZKQhftZgwyPrqrQM5nwvqvjynF0Eyq8Xow20TkvrlLpMpbzCS8KNifZvWJI9/TjmcLogoLik8uvH7kpdeSo5z7NG4oDYPkGmFk1cs2XnJeXE207ws6GvvIg20PpjSVeR/ttduSBQTvp37lAntPlPZb/k8r2u3lCuaE1X5jxvSp7nLR7DDKo7ppqHIwy+OiMkP2fx5kBf1aa/Rj15TIv6ritHGxYO6cKKblYw+PiA/fqsrNzZeBLcwp95qat2B9UNoS70iDObrybObMczKKtmKpKu8C9dLORttYWR0sb8MHURWcELNNWRjw6CVGRkPHpDPgzzfzfumfxp+tQFhCekuSIT9Y/UsGdLUdz24F077bTTTjv/H/gf3ZR9LTAkr9gAAAAASUVORK5CYII=",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhqSURBVHgB7ZptcFTVGcefc+/uJoQGQgTCW7IbCGQ3aaFWmNEqEBxnsGPVGUEcx2J2g9Kiop06nb44UzNOp/3QfsAv0iIkG4t0hOlM37HU1ohSgRILCZDNBJLNbkK1tCRpRJLN3vP4PxFHJHvv3t1s4s64v5nde+49r895fc5zDlGOHDly5MheBE0iZa3bZrFzZJUmeDUzV+LTl/FzMpM+lrkgAyUYECx6mbhFCjrqyKOj4fLgAE0SGRe44uhDM0aKXBs05g2SxXoh2EGpwSjWH0nS/jlVzldaxK5RyiAZE9jT7S+Sw/QUMT+FpptFmaFPI7FHn0G7zy9sjFIGmLDA9Vyv7Wnv3iZI/BipFdEkgCaPIO2fRr3BX9AEmZDAaFUPD9PLKNBXaSoQ/JbGYnPYFwxTmqQtsDsUuF0yNQniRTSVML2nOcS94WWNxygNNEoDd0fgEcy6B6dcWIWgEmnwEXfIX0dpkHILl7XXbSWSv6QsQJOiLlzd2JhKnJQEVt0YLfs3yh5imi7WpNK9bQvsafd7pKRjGARzKZtgimrTaA2UlbCd4LbHsCTam3XCKgSVymHeaze4LYFLQ3XfwuNWylrErZ4zgW/aCpksQPk7W9xGvvGmqklKBSbow+K/WDv78TaEn4F3qJmcJ5QmxrwI63chZY5+LZ8WJ9PDk+q58QL5qGBLYdvg/08IcVwX8nSM9O6ot+EC2aS87cGSUUe+V2dRTLqxmqTwQQe/Iw0dfJYcFk/i+ZxVIMsWrujcnheLD3XBuSBB1OccLmNP15KXIpRhKjq/lhcz5q7EiLsHPUENJXvDibnf5Yx7zi19+f9mQSxrMSaHNlEiYZleiVQ1PkuTxLmlB0fwOHL1R54OvxfjYbtmiA0suMQ0IobKiOHcCFeDWRDrSUuKTYkT5rM0hYQrg6FoZfDxnv3uBRj3AXTLsGlgyRut0jLt0mrzTs4rl0y8D0d8wbXXfqjofGjGaFyvJqH5sMEvYxI3aMSzUesleMfkxBoyU3vbK3gfxPcefMOEZmALqHcquexuCmaH6goLWD4N5/hexhwvKp5T1Drv55cpFYFLQ7X3wBLxOzJFvEZC/hVhStDFb0fNQ1hy0sToQ4GOodu+oQlxSLWsVeCydv/v8bj7+u9Mxp1R36/+kiiO+RiWtMp6SuM7CLMpK2fm7CYLkd59SPc+7MSUQG1Ie48uY7/trtrXk6AMp5H5OIEFayvwSCiw6RhGDa+kzAAlja/gOUxje/mU+BJi7DCEK1x61r9bqbcfeyjDA4ZF4jlG01aZJWg+htsDbSjfF8kGWIcHWFAnrB6H4T5v6HxCl3Qxprne37pswaV6US/HAqKQC0Nds5ykFTLJ+VLoXk3KxahdZUD4CsZ2EosJK3tXE/46kc96lH5N4mDiHFaRpQnLSqYC+7vx8JCloNxOOj89c+bcw2aTRCosag+s1UhiMhQP4LWK0ieMSbU8kYeVwH2UUOH4BE2nG8PLgidpEig/9Y3KeJ7ju+g196JhZ6cUmbg34mtKqB1aKR5Jx5tDuIYSffdwfT6FwvOwCOWzJueTSxQYUhgO3bgiJA+QIQeKP/jChZaV5ibY7hV7O/B4ZEHHg993sOsxCP44CmRztyZMG3JCXRr8QefYdp7mGoGJ9m4kVsNqoiHy4me5RDGLOAz0LVi3/81SNhu61txX2XDKLLyasLC2/wwG+42UnHS6dADKAFfQVMLUgxIdQmsGe3yN/xjn/3qNw13iuchJzMEQqrXHF1yRyE8zz5tbaaoR5Mb/o8j7iPtsoLmsI1D7Kf91zXFWxzNJQC8zNdo7zPPmjoloFOh+cWzx3sPy8T8WYhAzuoGnjr6sWmcJfgWW8QWvxQq+tuxs4Husc21e/2jHaKHzWQhzg43M3zTzMhVYE47Dko0fkA1QLe9AM3objhOk6115l4ZPnrvZfIumGDuxOBO+iVxaNSqjhqTEmirGjzvBPiHpeGymfa1Vc4qTFmVNzKLTW4o13fgPnDpZgFZ7LOpt3EkZABNTDVr2YSR6l/0ZeTyL3/U4m9fVxxP5WfbZsjP+VzHK11uF0STND1cH373+ew3XO3pbe+eNkjFXuMZ2S+jQLIn1wZEhR+eFlbs+MEtz+anN0wddjm1wPoHx7KZUYPpTpCr4dTNvS4HHThgkv2gVBt1tn9DoRclcBjPPbWgZVUClhxeTZUQxgr3rcVRoC8bqnwv58htnqg/Erg2iepkQxjNI/ztkF+baSFXTS6bZWsVdfH7rTGMkFuZJOhX8FEwX1JJkaNqO69fjslAgqox+yZLActYj8tkLQ96wWRhLi0fXkl2DEPZ5mgrEmBrr16U86W73H3SHNo9NYBWdgTkQtsROEhj/O62E/SibJHj+5S/iPOqekla+DhTuVeyPbrZ37sy9NFqwPLJ8Z79VqKSG+PCNQbX1+xF9BmA+uNPuITuz9pNkwipsnTxE2i6/gNpupuzl79Eqe0ujvbOlTQcMMUwBuPooy1AWTAixxW5424dp6Nph6IV1apdDWQKWwUEmx8ZUrkCkdAOg29d0CKdDT1CWgG3lkxHf7pZU4qS1O1DXDTB77qIkaufkIUZZp9rossZfU4qkf6mlve4WGCT3cXIjQabpw4bigYi36QilQVqXWhQ9voa3UVvrUGev0xShVgoU+LZ0hb2axsQpDQW2Yd/7Q5qkWz3KDAw77zPRquALNEEydmZQBUV/SDO+DQP+wynvcMxQh+qCduCg+/lMXTjN+OXSW6L3T+sbKrj/6qnAXZQqyoTD9Bpcv3G4Lu/vWnJgkDJIxgW+lptObHVenD66nlmuwJq5Gpmpaw7T1bWHsY6KI2h18gW/U8x8XOiyNZ8db3V4G4YoR44cOXJ8DvkQ+CYxwJjw83MAAAAASUVORK5CYII=",m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIGSURBVHgB7ZrvTcMwEMUfTFA2MBMAE5ANKBt0BJgARoAJwgZlg8AE0AnSDcIGxqfkQ2UlDk7u3EvxT3pSpEh5fqn/XNQDMplMJqOXM8Rz7XTnVHTXK6Tlx+m706vTHkIYp62TVaayGxsr9Es2AKxS1d0Y2cJqDeprdmiD9u0tJXCDmdO7BGAXpi0mYgDYhWpwap9jmAcsl/XQjVDgKyyX26EbocKDNgCJouIDbbFAz6apZ8APFScXiIR7XdELLHp8ngW8LCbAPYBNwEuigouG07we8SqY/QYDhzYtTvYj97+RiFSBVzPvs5Eq8NhuXEAB3GuqGvAxkKnXo7EComCbLiTpCXKfnb2ECo9Jb0kRvdlSrWE15MCnTg586qQOTCXkvdOl043TI9pPORVwn4tf6C8hDWTO4mi4B2ACXmsBv2g4zas/+HH/yr1o2rSSfCKmCmyghJSB11AO9yZCa3QT8EuyhkNYIdHx5P8zUAj4RGMF5Z/HpYBHNFJhXzwfI+QTjcQg/GqLrmshr6MHrrznr7oXYIXUS8rCY3dwTZtW3+Z1VCQKevpLpRJ4rq8GE0gxMClVQ6FCU/oTy2WHCSype8eXwUQ0NqKNqcQMDHQ3pPmqwfBl9q8a0w5D1wCsUjUQONON0xsAq0xbREzjKe3DBm0PF7U1HbN9mI7NdyTsHshkMpmMNL8sh8RnoKthkAAAAABJRU5ErkJggg==",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL1SURBVHgB7ZpNiI1RGMf/PgZRYjVDNBdbpcnE7HwksmCnUGKhUZSNMlZcNRspYWZh4SM7mQVjwwIXKVNE+ewqRj4Ss/CtKXQ9z7zvrdvM+3Gec8577nun86tfU7e5z3me9+s857wX8Hg8Ho/H4/FkwwQ0Fs1kW/h3GjlMviMfkl/hkKnkNvI6+YEsk+fJRTCHiztMviQrMf4kT5OtcMA68lVCMl3QYyK5H8GZqyg6SC5ARrSQZxUT2QgZBfIO1Aut9SYyoB3BpauaxD2ow5dwGXrFVl0Fi2wmv2kksVIx/mWYFcueggUmk0cMkjimMMZBg/i1PoMhM8g+wyTKKWMUEEwzNgr+AgPmk48sJPGPnJkwzlELY1T9C01WkG8tJtIRM04TginF1jjDMeOM3JdxdJInEHQ0tlhCDkR8vgHBgeXbZjDMaxm5FcF8LOU9NOjF2CP3grwB/SPfEzNWU8znazTHuQoNOIlrYQDuV7l1rPbeezQTKUHOfY1xdkKTOWQR0Q+b4xqJDEHOFY1xWpEBsxE8/qXJzIWMu8L4l5KC6TwQqnCxJyGnXfC/PCUuh4x+ZAj3vTy/Ss7AAaizVxj7NRxQgiypXsW40yGfm7fAAV2QJfVYMW5RGLcPjuiALDG2OSVmAbJb5XP4HSfw3DwEWcG7UmKeE8bbB8f0QJZg0q5EpzDWE3IKHLMWsiR5NdMSEWch+UMQ5yMcXsq18BP1O2RFd4+KMQ/yp/IO1JF+yJLlrdW28LvcYAwIv6+yg5Ip2yFLmOUl4QXIW9TnqMN9Oxrurf9AXrTUN6jTfRtFCdkW+4lcDANMFg9R3EK28JuIp8gRvAGe1dktIofwSzWdNXKa3cgxZ2C3WJ01t1NWw16xF5G8s5oLeDHxAObF8p7ZJDQI62FW7CE0ILchL/QXuRsNCvfJkgUFv0M2airywCakt5s8jfE2Ue4fTqosRfSyj9eyRXIWHOLqZ0vcwvJ7ogL5G8HPjPg9VQUej8fj8Xg8nnHCf0mlVkcZo3SnAAAAAElFTkSuQmCC",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALjSURBVHgB7ZnNS1RRGMafmazMj4rsw0hMEQ0X0SKRIhDcugq0Vi7a2MKVe0Fw5VIQ/AsGaeE2DMGNLQwlQmNC7IMI+0CEUitRy27PmXMHp/SccWbOvc6F9wc/rvoyd3xmzj333PcAgiAIgiAIgiAIwn5iyBEPuMDDJXqVnqeV9Byt8v+u6mW0lB7PUL1X3DeTXd/fGW77btE1uuq74f++QtfpO570M1zDkJW0ny5Sr8h8SR/ScriAJ6qhr4ow6P/OeHq0FRS2nL6NQNi0j1AIPMGDCIVNe8eWKZ4l831Ej7u2YrbANxE9rtmKxtsSh8ZlBDHlB88mPR3Tt7p92L7hOkQTtQaoNhVtgc/AFc3NXIaUIkQumgq2wFVwRW8vsLAAtLYiJGpMhXACK5qagNlZYHwcaGhAwBhHpy1wBYKgqwuYnweGh4Mc5mWmgi1wYcs0GxX8LPv6gKUlPdxjOT/DZKPIAqeprQVGR4G5OaCtDQ45aSrYAoc3rba0ANPTQCIB1NfDASWmQjyfFwVGd7ce5h0dKJB4zgWkFlshk0wCnZ3AxAQK5I+pYPsWtxEWa2xiDA0BIyPscWzBAbumgi3wdwTNBjs2Y2PA4CCbNitwiPFTO7rAU1NsGvXrGdo9m6aCLfAPBMHyMtDTA0xOIkC+mQq2SWsdLlHX5sAA0NgYdFhF7v87p+h7ztou7e2eV10dZpvnlimXrQFwm4cZRJM6BvtwUME2pD8imqgZ+pOpaAv8BZbpvYh5EdO7FwdiDOy/6AmiR9JWzNa1fI7o8dRWtD6Ienq/hqt5XEE0WKQ3GOoX8oWhW+lqiLeUfH1PnTxbqtB19HGRBt2hCc/SuMskp94KT3qWh+vQ3X125VKNPrVHrPpfp6BbK0p1Kaiuwwns7Q8fO8RbqKccNRx3sLc/rH7+Cb03/BV6FaX2iN/QZ/R1TNcOhfNmkglPT5AqdAn+XcOnQhZ03QmCIAiCIAiCEDh/Acf/25ujaxe5AAAAAElFTkSuQmCC",f=i.p+"drawing/IBMPlexMono-Medium-2ebb03f221700c9b.woff2",C=i.p+"drawing/IBMPlexSans-Medium-ca3046f66b97fb2a.woff2",w=i.p+"drawing/IBMPlexSerif-Medium-493712db4062284b.woff2",M=i.p+"drawing/Shantell_Sans-Normal-SemiBold-1eb412157cea7761.woff2",A="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE4IDVhMSAxIDAgMCAwLTEtMWgtNGExIDEgMCAwIDAtMSAxdjIzSDNhMSAxIDAgMSAwIDAgMmgyNGExIDEgMCAxIDAgMC0yaC05VjVaIi8+PC9zdmc+",x="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIgMTNhMSAxIDAgMCAxIDEtMWgyNGExIDEgMCAwIDEgMSAxdjRhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTF2LTRaIi8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE0IDNhMSAxIDAgMSAxIDIgMHYyNGExIDEgMCAwIDEtMiAwVjNaIi8+PC9zdmc+",S="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEzIDJhMSAxIDAgMCAwLTEgMXYxMUgzYTEgMSAwIDEgMCAwIDJoOXYxMWExIDEgMCAwIDAgMSAxaDRhMSAxIDAgMCAwIDEtMVYxNmg5YTEgMSAwIDAgMCAwLTJoLTlWM2ExIDEgMCAwIDAtMS0xaC00WiIvPjwvc3ZnPg==",v="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgM2ExIDEgMCAwIDEgMiAwdjI0YTEgMSAwIDEgMS0yIDBWM1oiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMCAxMmgyNWExIDEgMCAwIDEgMSAxdjRhMSAxIDAgMCAxLTEgMUgwdi02WiIvPjwvc3ZnPg==",L="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTQgMTNhMSAxIDAgMCAxIDEtMWgyNXY2SDVhMSAxIDAgMCAxLTEtMXYtNFoiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMjggM2ExIDEgMCAxIDEgMiAwdjI0YTEgMSAwIDAgMS0yIDBWM1oiLz48L3N2Zz4=",j="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTMgMGExIDEgMCAxIDAgMCAyaDl2MjNhMSAxIDAgMCAwIDEgMWg0YTEgMSAwIDAgMCAxLTFWMmg5YTEgMSAwIDEgMCAwLTJIM1oiLz48L3N2Zz4=",N="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEyLjUgMjEuNSA2IDE1bTAgMCA2LjUtNi41TTYgMTVoMTgiLz48L3N2Zz4=",D="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEgMTVoMjZNMTMgMjZsMTYtMTFMMTMgNCIvPjwvc3ZnPg==",Z="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEgMTVoMjhtMCAwVjJtMCAxM3YxMyIvPjwvc3ZnPg==",E="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Im0xOC40MTQgMy44MjggOS45IDkuOWEyIDIgMCAwIDEgMCAyLjgyOGwtOS45IDkuOWEyIDIgMCAwIDEtMi44MjggMGwtOS45LTkuOWEyIDIgMCAwIDEgMC0yLjgyOGw5LjktOS45YTIgMiAwIDAgMSAyLjgyOCAwWiIvPjxwYXRoIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xIDE1aDQiLz48L3N2Zz4=",k="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yOSAxNWMwIDYuMDc1LTQuOTI1IDExLTExIDExUzcgMjEuMDc1IDcgMTUgMTEuOTI1IDQgMTggNHMxMSA0LjkyNSAxMSAxMVoiLz48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMSAxNWg1Ii8+PC9zdmc+",T="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEgMTVoMjgiLz48L3N2Zz4=",z="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEgMTVoNG0zIDEyaDE4YTMgMyAwIDAgMCAzLTNWNmEzIDMgMCAwIDAtMy0zSDhhMyAzIDAgMCAwLTMgM3YxOGEzIDMgMCAwIDAgMyAzWiIvPjwvc3ZnPg==",W="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEgMTRhMSAxIDAgMSAwIDAgMnYtMlpNMjkgMmgxYTEgMSAwIDAgMC0xLjU4NS0uODFMMjkgMlptMCAyNi0uNTg1LjgxQTEgMSAwIDAgMCAzMCAyOGgtMVpNMSAxNmgxMHYtMkgxdjJaTTI4IDJ2MjZoMlYyaC0yWm0xLjU4NSAyNS4xOS0xOC0xMy0xLjE3IDEuNjIgMTggMTMgMS4xNy0xLjYyWm0tMTgtMTEuMzggMTgtMTMtMS4xNy0xLjYyLTE4IDEzIDEuMTcgMS42MloiLz48L3N2Zz4=",Y="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEgMTUuMTU0aDEwLjY5Mm0xLTExLjY5MnYyMy4wNzZMMjguODQ2IDE1IDEyLjY5MiAzLjQ2MloiLz48L3N2Zz4=",P="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE1IDhhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAyWk0xNiAxMWExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDBaTTE1IDE2YTEgMSAwIDEgMCAwLTIgMSAxIDAgMCAwIDAgMlpNMjAgMTVhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWk0yMyAxNmExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDJaIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMiAzLjVBMS41IDEuNSAwIDAgMSAzLjUgMmgyM0ExLjUgMS41IDAgMCAxIDI4IDMuNXYyM2ExLjUgMS41IDAgMCAxLTEuNSAxLjVoLTIzQTEuNSAxLjUgMCAwIDEgMiAyNi41di0yM1pNNCAyNlY0aDIydjIySDRaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",G="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTUgMjcuNWMwLTcuMiAzLjgtMTAuNCAxMC0xMC40czEwIDMuMiAxMCAxMC40TTE1IDE1LjZBNi4zIDYuMyAwIDEgMCAxNSAzYTYuMyA2LjMgMCAwIDAgMCAxMi42WiIvPjwvc3ZnPg==",O="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEuOTgxIDEyLjQ3MmMtLjE0My4yMjIuMTE1LjUyOS4zNTEuNDEzLjgxNS0uNCAxLjYwNC0uODIzIDIuMzc1LTEuMjg4LjIyNy0uMTM3LjQ3Ni4xMDguMzI5LjMyOC0xLjkwNCAyLjg1Ny02LjYzMiA5Ljg3My0xLjQyNyAxMC4zMzMgMy4xNi4yNzkgNi4zMy0yLjI5NiA5LjMwNC00Ljk4NS4yMTktLjE5Ny41MjUuMDYyLjM2MS4zMDctMi40MiAzLjYzNC02Ljg1OSAxMS4wNTYtMS4wMjUgMTEuNDEgNS4wNzQuMzA4IDMuOTA0LTQuMzkyIDE1LjQzLTEwLjczOC44MzgtLjQ2IDEuMTAyLTEuNDEyLjg5Mi0yLjM0LS4zNzItMS45OTQtNC4xMzUtMS45NjItNi4yMjQtMS40MTQtLjI1NS4wNjctLjUtLjI1My0uMzI5LS40NTMgMi41NDYtMi45ODYgOS44NTMtMTAuNDQgNS4yNTItMTIuNzY4QzIzLjIxOS0uNzcgMTMuOTE4IDguODk4IDkuOTY1IDEyLjU0MWMtLjIwOC4xOTEtLjQzNS0uMDIyLS4yNjctLjI1IDEuOTQ0LTIuNjM4IDQuNDg4LTUuNTYgNC45NDUtOC41OTdhMS44MDcgMS44MDcgMCAwIDAtLjIzOC0xLjIxNCAyLjA1NyAyLjA1NyAwIDAgMC0uOTcxLS44NTRDOS4xMjQtLjI4NCA0LjIwMyA5LjAyOCAxLjk4IDEyLjQ3MloiLz48L3N2Zz4=",R="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTguNSAxMi42MzkgMTUgNi41bTAgMCA2LjUgNi4xMzlNMTUgNi41djE3Ii8+PC9zdmc+",F="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTguNSAxNS41IDE1IDltMCAwIDYuNSA2LjVNMTUgOXYxOE0zIDNoMjQiLz48L3N2Zz4=",B="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIyLjkzNCA3LjQ1NGExLjI1IDEuMjUgMCAwIDEgLjM2MiAxLjczbC04LjUgMTNhMS4yNSAxLjI1IDAgMCAxLTEuODg3LjI0bC01LjUtNWExLjI1IDEuMjUgMCAxIDEgMS42ODItMS44NDlsNC40MTUgNC4wMTQgNy42OTgtMTEuNzczYTEuMjUgMS4yNSAwIDAgMSAxLjczLS4zNjJaIi8+PC9zdmc+",J="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0zIDNoMjR2MjRIM1YzWiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0yMi45MzQgNy40NTRhMS4yNSAxLjI1IDAgMCAxIC4zNjIgMS43M2wtOC41IDEzYTEuMjUgMS4yNSAwIDAgMS0xLjg4Ny4yNGwtNS41LTVhMS4yNSAxLjI1IDAgMSAxIDEuNjgyLTEuODQ5bDQuNDE1IDQuMDE0IDcuNjk4LTExLjc3M2ExLjI1IDEuMjUgMCAwIDEgMS43My0uMzYyWiIvPjwvc3ZnPg==",H="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0zIDNoMjR2MjRIM1YzWiIvPjwvc3ZnPg==",X="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi4yNyAxMi4zMTZhMSAxIDAgMCAxIDEuNDE0LS4wNDZMMTUgMTkuMTNsNy4zMTYtNi44NmExIDEgMCAxIDEgMS4zNjggMS40NmwtOCA3LjVhMSAxIDAgMCAxLTEuMzY4IDBsLTgtNy41YTEgMSAwIDAgMS0uMDQ2LTEuNDE0WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",V="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNjg0IDYuMjdhMSAxIDAgMCAxIC4wNDUgMS40MTRMMTAuODcgMTVsNi44NiA3LjMxNmExIDEgMCAxIDEtMS40NiAxLjM2OGwtNy41LThhMSAxIDAgMCAxIDAtMS4zNjhsNy41LThhMSAxIDAgMCAxIDEuNDE0LS4wNDZaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",_="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMzE3IDYuMjdhMSAxIDAgMCAxIDEuNDEzLjA0Nmw3LjUgOGExIDEgMCAwIDEgMCAxLjM2OGwtNy41IDhhMSAxIDAgMSAxLTEuNDU5LTEuMzY4TDE5LjEzIDE1bC02Ljg1OS03LjMxNmExIDEgMCAwIDEgLjA0Ni0xLjQxNFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",U="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi4yNyAxNy42ODRhMSAxIDAgMCAwIDEuNDE0LjA0NkwxNSAxMC44N2w3LjMxNiA2Ljg2YTEgMSAwIDEgMCAxLjM2OC0xLjQ2bC04LTcuNWExIDEgMCAwIDAtMS4zNjggMGwtOCA3LjVhMSAxIDAgMCAwLS4wNDYgMS40MTRaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",K="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTcuNTI3IDguNzMzIDEzLjc5NSAxNWwtNi4yNjggNi4yNjhtOC42NzgtMTIuNTM2TDIyLjQ3MyAxNWwtNi4yNjggNi4yNjciLz48L3N2Zz4=",Q="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIyLjQ3MyAyMS4yNjcgMTYuMjA1IDE1bDYuMjY4LTYuMjY4bS04LjY3OCAxMi41MzZMNy41MjcgMTVsNi4yNjgtNi4yNjciLz48L3N2Zz4=",q="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCAydjJoMTBWMkg4Wm0tMi0uNUExLjUgMS41IDAgMCAxIDcuNSAwaDExQTEuNSAxLjUgMCAwIDEgMjAgMS41VjJoMWEzIDMgMCAwIDEgMyAzdjloLTJWNWExIDEgMCAwIDAtMS0xaC0xdi41QTEuNSAxLjUgMCAwIDEgMTguNSA2aC0xMUExLjUgMS41IDAgMCAxIDYgNC41VjRINWExIDEgMCAwIDAtMSAxdjIwYTEgMSAwIDAgMCAxIDFoN3YySDVhMyAzIDAgMCAxLTMtM1Y1YTMgMyAwIDAgMSAzLTNoMXYtLjVaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMjggMjlhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWk0yOCAyNWExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDBaTTI4IDIxYTEgMSAwIDEgMS0yIDAgMSAxIDAgMCAxIDIgMFpNMjggMTdhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWk0yNCAxN2ExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDBaTTIwIDE3YTEgMSAwIDEgMS0yIDAgMSAxIDAgMCAxIDIgMFpNMTYgMTdhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWk0xNiAyMWExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDBaTTE2IDI1YTEgMSAwIDEgMS0yIDAgMSAxIDAgMCAxIDIgMFpNMTYgMjlhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWk0yMCAyOWExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDBaTTI0IDI5YTEgMSAwIDEgMS0yIDAgMSAxIDAgMCAxIDIgMFoiLz48L3N2Zz4=",$="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE5LjkyOCA1LjM3MWExIDEgMCAxIDAtMS44NTctLjc0MmwtOCAyMGExIDEgMCAwIDAgMS44NTcuNzQybDgtMjBaTTcuNzA3IDEwLjI5M2ExIDEgMCAwIDEgMCAxLjQxNEw0LjQxNCAxNWwzLjI5MyAzLjI5M2ExIDEgMCAxIDEtMS40MTQgMS40MTRsLTQtNGExIDEgMCAwIDEgMC0xLjQxNGw0LTRhMSAxIDAgMCAxIDEuNDE0IDBaTTIyLjI5MyAxMC4yOTNhMSAxIDAgMCAxIDEuNDE0IDBsNCA0YTEgMSAwIDAgMSAwIDEuNDE0bC00IDRhMSAxIDAgMSAxLTEuNDE0LTEuNDE0TDI1LjU4NiAxNWwtMy4yOTMtMy4yOTNhMSAxIDAgMCAxIDAtMS40MTRaIi8+PC9zdmc+",ee="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjAuOTMgMTUuMTVjLTEuNTg4IDAtMi45MTYuMjY4LTMuOTc5Ljc4Mi0uNTMxLjI1Ny0xLjIxMS0xLjY1Ni4zNS0yLjE0OSAxLjEwMi0uMzQ3IDIuMzIyLS41MDggMy42My0uNTA4IDIuMzEyIDAgNC4zNTQuNTAzIDUuOTQ3IDEuNjU0IDEuNjA5IDEuMTYyIDIuNjU4IDIuOTE0IDMuMTA1IDUuMjA4YS45MzguOTM4IDAgMCAxLTEuODQuMzU4Yy0uMzcyLTEuOTEtMS4yMDQtMy4yMDktMi4zNjQtNC4wNDctMS4xNzYtLjg1LTIuNzkxLTEuMjk4LTQuODQ4LTEuMjk4Wk00LjI2IDIwLjA5NWMtMS4xNDIuNzYyLTEuOTggMS45MzQtMi40MTQgMy42MzdhLjkzNy45MzcgMCAxIDEtMS44MTctLjQ2NGMuNTM1LTIuMDkzIDEuNjE2LTMuNjgyIDMuMTkyLTQuNzMzIDEuNTU4LTEuMDM4IDMuNTE1LTEuNDk0IDUuNzE4LTEuNDk0IDIuNzQ0IDAgNS4xMDguNzA5IDYuNzg0IDIuMzYgMS42NzggMS42NTQgMi41MTYgNC4xMDYgMi41MTYgNy4yNzRhLjkzNy45MzcgMCAxIDEtMS44NzUgMGMwLTIuODUyLS43NS00Ljc1LTEuOTU3LTUuOTM4LTEuMjEtMS4xOTItMy4wMjctMS44MjEtNS40NjgtMS44MjEtMS45NiAwLTMuNTE5LjQwNi00LjY3OCAxLjE4WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE0LjA4OCA4LjQ4Yy44NzMuMzcgMS42MjYuOTcgMi4xODMgMS43MjJhNC4zMzEgNC4zMzEgMCAxIDEgLjYwNSAxLjA1MSA1LjI1MiA1LjI1MiAwIDAgMSAuMzgzIDIuNzU1IDYuMjA2IDYuMjA2IDAgMSAwLTMuMTctNS41MjdaIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS44MjcgMTIuNzFhNi4yMDYgNi4yMDYgMCAxIDEgMTIuNDEyIDAgNi4yMDYgNi4yMDYgMCAwIDEtMTIuNDEyIDBabTYuMjA2LTQuMzMxYTQuMzMxIDQuMzMxIDAgMSAwIDAgOC42NjIgNC4zMzEgNC4zMzEgMCAwIDAgMC04LjY2MloiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",te="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTMiIGZpbGw9IiMwMDAiLz48L3N2Zz4=",ie="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik01IDNhNCA0IDAgMCAwLTQgNHYxMGE0IDQgMCAwIDAgNCA0aDEwbDYgNnYtNmg0YTQgNCAwIDAgMCA0LTRWN2E0IDQgMCAwIDAtNC00SDVaIi8+PC9zdmc+",ne="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIzLjU2MyA4LjA2M2ExLjE1IDEuMTUgMCAxIDAtMS42MjYtMS42MjZMMTUgMTMuMzc0IDguMDYzIDYuNDM3YTEuMTUgMS4xNSAwIDAgMC0xLjYyNiAxLjYyNkwxMy4zNzQgMTVsLTYuOTM3IDYuOTM3YTEuMTUgMS4xNSAwIDEgMCAxLjYyNiAxLjYyNkwxNSAxNi42MjZsNi45MzcgNi45MzdhMS4xNSAxLjE1IDAgMSAwIDEuNjI2LTEuNjI2TDE2LjYyNiAxNWw2LjkzNy02LjkzN1oiLz48L3N2Zz4=",se="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTI1LjcwNyA1LjcwN2ExIDEgMCAwIDAtMS40MTQtMS40MTRMMTUgMTMuNTg2IDUuNzA3IDQuMjkzYTEgMSAwIDAgMC0xLjQxNCAxLjQxNEwxMy41ODYgMTVsLTkuMjkzIDkuMjkzYTEgMSAwIDEgMCAxLjQxNCAxLjQxNEwxNSAxNi40MTRsOS4yOTMgOS4yOTNhMSAxIDAgMCAwIDEuNDE0LTEuNDE0TDE2LjQxNCAxNWw5LjI5My05LjI5M1oiLz48L3N2Zz4=",oe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNDY1IDIuMjQ3YTEzLjA1NSAxMy4wNTUgMCAwIDEgNS4wNyAwIDEuNjEgMS42MSAwIDEgMS0uNjI1IDMuMTYgOS44MzUgOS44MzUgMCAwIDAtMy44MiAwIDEuNjEgMS42MSAwIDEgMS0uNjI1LTMuMTZaTTEwLjAxIDQuNjMzYTEuNjEgMS42MSAwIDAgMS0uNDQyIDIuMjM0IDkuODQyIDkuODQyIDAgMCAwLTIuNyAyLjdBMS42MSAxLjYxIDAgMCAxIDQuMTkgNy43NzcgMTMuMDYzIDEzLjA2MyAwIDAgMSA3Ljc3NiA0LjE5YTEuNjEgMS42MSAwIDAgMSAyLjIzNC40NDJabTkuOTggMGExLjYxIDEuNjEgMCAwIDEgMi4yMzQtLjQ0MiAxMy4wNjMgMTMuMDYzIDAgMCAxIDMuNTg1IDMuNTg1IDEuNjEgMS42MSAwIDEgMS0yLjY3NiAxLjc5MiA5Ljg0MSA5Ljg0MSAwIDAgMC0yLjctMi43IDEuNjEgMS42MSAwIDAgMS0uNDQzLTIuMjM1Wk00LjE0IDExLjE5N2ExLjYxIDEuNjEgMCAwIDEgMS4yNjcgMS44OTMgOS44MzUgOS44MzUgMCAwIDAgMCAzLjgyIDEuNjEgMS42MSAwIDEgMS0zLjE2LjYyNSAxMy4wNTUgMTMuMDU1IDAgMCAxIDAtNS4wNyAxLjYxIDEuNjEgMCAwIDEgMS44OTMtMS4yNjhabTIxLjcyIDBhMS42MSAxLjYxIDAgMCAxIDEuODkzIDEuMjY4IDEzLjA1MyAxMy4wNTMgMCAwIDEgMCA1LjA3IDEuNjEgMS42MSAwIDEgMS0zLjE2LS42MjUgOS44MzMgOS44MzMgMCAwIDAgMC0zLjgyIDEuNjEgMS42MSAwIDAgMSAxLjI2Ny0xLjg5M1pNNC42MzMgMTkuOTlhMS42MSAxLjYxIDAgMCAxIDIuMjM0LjQ0MiA5Ljg0MSA5Ljg0MSAwIDAgMCAyLjcgMi43IDEuNjEgMS42MSAwIDAgMS0xLjc5MSAyLjY3NyAxMy4wNjMgMTMuMDYzIDAgMCAxLTMuNTg1LTMuNTg1IDEuNjEgMS42MSAwIDAgMSAuNDQyLTIuMjM0Wm0yMC43MzQgMGExLjYxIDEuNjEgMCAwIDEgLjQ0MiAyLjIzNCAxMy4wNjQgMTMuMDY0IDAgMCAxLTMuNTg1IDMuNTg1IDEuNjEgMS42MSAwIDEgMS0xLjc5Mi0yLjY3NiA5Ljg0MSA5Ljg0MSAwIDAgMCAyLjctMi43IDEuNjEgMS42MSAwIDAgMSAyLjIzNS0uNDQzWm0tMTQuMTcgNS44N2ExLjYxIDEuNjEgMCAwIDEgMS44OTMtMS4yNjcgOS44MzMgOS44MzMgMCAwIDAgMy44MiAwIDEuNjEgMS42MSAwIDEgMSAuNjI1IDMuMTYgMTMuMDUzIDEzLjA1MyAwIDAgMS01LjA3IDAgMS42MSAxLjYxIDAgMCAxLTEuMjY4LTEuODkzWiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",re="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE3IDMuNzkyYTIgMiAwIDEgMS00IDAgMiAyIDAgMCAxIDQgMFpNMTcgMjUuNzkxYTIgMiAwIDEgMS00IDAgMiAyIDAgMCAxIDQgMFpNMjIuMjMyIDYuMjY1YTIgMiAwIDEgMS0zLjQ2NC0yIDIgMiAwIDAgMSAzLjQ2NCAyWk0xMS4yMzIgMjUuMzE4YTIgMiAwIDEgMS0zLjQ2NC0yIDIgMiAwIDAgMSAzLjQ2NCAyWk0yNS41MjYgMTEuMDI0YTIgMiAwIDEgMS0yLTMuNDY1IDIgMiAwIDAgMSAyIDMuNDY1Wk02LjQ3NCAyMi4wMjRhMiAyIDAgMSAxLTItMy40NjUgMiAyIDAgMCAxIDIgMy40NjVaTTI2IDE2Ljc5MWEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRaTTQgMTYuNzkxYTIgMiAwIDEgMSAwLTQgMiAyIDAgMCAxIDAgNFpNMjMuNTI2IDIyLjAyNGEyIDIgMCAxIDEgMi0zLjQ2NSAyIDIgMCAwIDEtMiAzLjQ2NVpNNC40NzQgMTEuMDI0YTIgMiAwIDEgMSAyLTMuNDY1IDIgMiAwIDAgMS0yIDMuNDY1Wk0xOC43NjggMjUuMzE4YTIgMiAwIDEgMSAzLjQ2NC0yIDIgMiAwIDAgMS0zLjQ2NCAyWk03Ljc2OCA2LjI2NWEyIDIgMCAxIDEgMy40NjQtMiAyIDIgMCAwIDEtMy40NjQgMloiLz48L3N2Zz4=",ae="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjEuODg4IDE1LjczM2MwLTQuMTYtNC4wMjItNi44MS04Ljc3Ni02LjgxLTMuNjMgMC02LjEzIDIuNjQxLTYuODQgNS4yNDYtMS4zMTEgNC44MDYgMS42MjIgOC44NTkgNS40MDMgOS45MjIgNi4wMzggMS4xOSAxMC4yMTMtMi41OTkgMTAuMjEzLTguMzU4Wk0xNy4xNDMgMi4xODRjNC45MTMuNzIgOC45NTIgNC40MTcgMTAuMjgxIDkuMTdDMzEuMjgxIDI0LjQ2IDE0LjgxNCAzMy4xMzEgNi4yNzEgMjQuNTktMy40NTkgMTQuODYxIDQuODMxLjE4NyAxNy4xNDMgMi4xODRaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",le="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTEuNSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjMiLz48L3N2Zz4=",ce="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNOC4xNjEgMTQuMDI0YTIuNTI3IDIuNTI3IDAgMCAxIDEuODQtLjgyNGMuNjkuMDAzIDEuMzUxLjMgMS44MzguODI0LjQ4OC41MjUuNzYxIDEuMjM2Ljc2MSAxLjk3NnMtLjI3MyAxLjQ1LS43NiAxLjk3NkEyLjUyNyAyLjUyNyAwIDAgMSAxMCAxOC44YTIuNTI3IDIuNTI3IDAgMCAxLTEuODM5LS44MjVBMi45MDYgMi45MDYgMCAwIDEgNy40MDEgMTZjMC0uNzQuMjczLTEuNDUuNzYtMS45NzZaTTE4LjE1OSAxNC4wMjRhMi41MjcgMi41MjcgMCAwIDEgMS44MzktLjgyNGMuNjkuMDAzIDEuMzUyLjMgMS44MzkuODI0LjQ4Ny41MjUuNzYgMS4yMzYuNzYgMS45NzZzLS4yNzMgMS40NS0uNzYgMS45NzZhMi41MjcgMi41MjcgMCAwIDEtMS44NC44MjQgMi41MjcgMi41MjcgMCAwIDEtMS44MzgtLjgyNUEyLjkwNyAyLjkwNyAwIDAgMSAxNy4zOTggMTZjMC0uNzQuMjczLTEuNDUuNzYtMS45NzZaIi8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEyIDYuOGMtLjIwOS0uNzE1LTEuMjQ4LTIuMDgyLTItMi4yLTEuNTMuMTY3LTMuOTcgMS4wMjQtNS40IDEuOC0xLjAyNSAxLjE3Mi0yLjA4IDQuMTU2LTIuNDkgNS44LS42ODUgMi43MzYtMS4wNjYgNi4wNDgtMS4xMTUgOS4yLjk1NiAxLjgxOSA0LjQzNCAzLjggNi41MDUgNCAuNDgzLS41MjQgMS45LTIuOCAxLjktMi44bTguNTk1LTE1LjhjLjIwOS0uNzE1IDEuMjQ4LTIuMDgyIDItMi4yIDEuNTMuMTY3IDMuOTcgMS4wMjQgNS40IDEuOCAxLjAyNSAxLjE3MiAyLjA4IDQuMTU2IDIuNDkgNS44LjY4NSAyLjczNiAxLjA2NiA2LjA0OCAxLjExNSA5LjItLjk1NiAxLjgxOS00LjQzNCAzLjgtNi41MDUgNC0uNDgzLS41MjQtMS45LTIuOC0xLjktMi44TTcgOWMuNi0uOCAzLTIgOC0yczcuNCAxLjIgOCAyTTUuOCAyMC40QzYuNiAyMS42IDguNCAyMyAxNSAyM3M4LjQtMS40IDkuMi0yLjYiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDMwdjMwSDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+",de="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIgMTJoOWExIDEgMCAwIDEgMSAxdjRhMSAxIDAgMCAxLTEgMUgydi02Wk0xOCAxM2ExIDEgMCAwIDEgMS0xaDl2NmgtOWExIDEgMCAwIDEtMS0xdi00Wk0wIDNhMSAxIDAgMCAxIDIgMHYyNGExIDEgMCAxIDEtMiAwVjNaTTI4IDNhMSAxIDAgMSAxIDIgMHYyNGExIDEgMCAwIDEtMiAwVjNaIi8+PC9zdmc+",ue="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEyIDJoNnY5YTEgMSAwIDAgMS0xIDFoLTRhMSAxIDAgMCAxLTEtMVYyWk0xMiAxOWExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMCAxIDEgMXY5aC02di05Wk0yIDFhMSAxIDAgMCAxIDEtMWgyNGExIDEgMCAxIDEgMCAySDNhMSAxIDAgMCAxLTEtMVpNMiAyOWExIDEgMCAwIDEgMS0xaDI0YTEgMSAwIDEgMSAwIDJIM2ExIDEgMCAwIDEtMS0xWiIvPjwvc3ZnPg==",he="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTQuNSIgY3k9IjE1LjUiIHI9IjQuNSIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==",pe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTcuMjUgMTVhMi4yNSAyLjI1IDAgMSAxLTQuNSAwIDIuMjUgMi4yNSAwIDAgMSA0LjUgMFpNMTcuMjUgMTVhMi4yNSAyLjI1IDAgMSAxLTQuNSAwIDIuMjUgMi4yNSAwIDAgMSA0LjUgMFpNMjcuMjUgMTVhMi4yNSAyLjI1IDAgMSAxLTQuNSAwIDIuMjUgMi4yNSAwIDAgMSA0LjUgMFoiLz48L3N2Zz4=",ge="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE3LjI1IDVhMi4yNSAyLjI1IDAgMSAxLTQuNSAwIDIuMjUgMi4yNSAwIDAgMSA0LjUgMFpNMTcuMjUgMTVhMi4yNSAyLjI1IDAgMSAxLTQuNSAwIDIuMjUgMi4yNSAwIDAgMSA0LjUgMFpNMTcuMjUgMjVhMi4yNSAyLjI1IDAgMSAxLTQuNSAwIDIuMjUgMi4yNSAwIDAgMSA0LjUgMFoiLz48L3N2Zz4=",Ie="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTExIDkuMjVhMi4yNSAyLjI1IDAgMSAwIDAtNC41IDIuMjUgMi4yNSAwIDAgMCAwIDQuNVpNMTkgOS4yNWEyLjI1IDIuMjUgMCAxIDAgMC00LjUgMi4yNSAyLjI1IDAgMCAwIDAgNC41Wk0yMS4yNSAxNWEyLjI1IDIuMjUgMCAxIDEtNC41IDAgMi4yNSAyLjI1IDAgMCAxIDQuNSAwWk0xMSAxNy4yNWEyLjI1IDIuMjUgMCAxIDAgMC00LjUgMi4yNSAyLjI1IDAgMCAwIDAgNC41Wk0yMS4yNSAyM2EyLjI1IDIuMjUgMCAxIDEtNC41IDAgMi4yNSAyLjI1IDAgMCAxIDQuNSAwWk0xMSAyNS4yNWEyLjI1IDIuMjUgMCAxIDAgMC00LjUgMi4yNSAyLjI1IDAgMCAwIDAgNC41WiIvPjwvc3ZnPg==",me="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMiAxOWEzIDMgMCAwIDAgMyAzaDN2LTJINWExIDEgMCAwIDEtMS0xVjVhMSAxIDAgMCAxIDEtMWgxNGExIDEgMCAwIDEgMSAxdjNoLTlhMyAzIDAgMCAwLTMgM3YxNGEzIDMgMCAwIDAgMyAzaDE0YTMgMyAwIDAgMCAzLTNWMTFhMyAzIDAgMCAwLTMtM2gtM1Y1YTMgMyAwIDAgMC0zLTNINWEzIDMgMCAwIDAtMyAzdjE0Wm04LThhMSAxIDAgMCAxIDEtMWgxNGExIDEgMCAwIDEgMSAxdjE0YTEgMSAwIDAgMS0xIDFIMTFhMSAxIDAgMCAxLTEtMVYxMVoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",ye="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTI0IDkuMjczIDExLjc5NSAyMS40NzdhLjUwMy41MDMgMCAwIDEtLjE1Ni4xMDZMNiAyNGwyLjQxNy01LjYzOWEuNTAxLjUwMSAwIDAgMSAuMTA2LS4xNTZMMjAuNzI3IDYgMjQgOS4yNzNaIi8+PC9zdmc+",be="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEzIDVIN2EyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTZhMiAyIDAgMCAwIDItMnYtNk0xOSA1aDZtMCAwdjZtMC02TDEzIDE3Ii8+PC9zdmc+",fe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0YTEgMSAwIDAgMC0xIDF2MjBhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjEyaC03YTEgMSAwIDAgMS0xLTFWNEg3Wm0xMSAxLjQxNEwyMi41ODYgMTBIMThWNS40MTRaTTQgNWEzIDMgMCAwIDEgMy0zaDEwYTEgMSAwIDAgMSAuNzA3LjI5M2w4IDhBMSAxIDAgMCAxIDI2IDExdjE0YTMgMyAwIDAgMS0zIDNIN2EzIDMgMCAwIDEtMy0zVjVaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",Ce="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCA0aDE4djE4aC0yVjhhMiAyIDAgMCAwLTItMkg4VjRaTTYgNlY0YTIgMiAwIDAgMSAyLTJoMThhMiAyIDAgMCAxIDIgMnYxOGEyIDIgMCAwIDEtMiAyaC0ydjJhMiAyIDAgMCAxLTIgMkg0YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDJabTE2IDE4djJINFY4aDJ2MTRhMiAyIDAgMCAwIDIgMmgxNFptMC0ySDhWOGgxNHYxNFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",we="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjYgNEg4djJoMTRhMiAyIDAgMCAxIDIgMnYxNGgyVjRaTTYgNHYySDRhMiAyIDAgMCAwLTIgMnYxOGEyIDIgMCAwIDAgMiAyaDE4YTIgMiAwIDAgMCAyLTJ2LTJoMmEyIDIgMCAwIDAgMi0yVjRhMiAyIDAgMCAwLTItMkg4YTIgMiAwIDAgMC0yIDJabTE2IDIySDRWOGgxOHYxOFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjQzOCAxNS41NTNhLjk2OC45NjggMCAwIDEgMCAxLjQxN2wtMS40OSAxLjQxOGExLjA5MSAxLjA5MSAwIDAgMS0xLjQ5IDAgLjk2OC45NjggMCAwIDEgMC0xLjQxOGwxLjQ5LTEuNDE3YTEuMDkxIDEuMDkxIDAgMCAxIDEuNDkgMFptLTQuNDY4IDUuNjdhLjk2OC45NjggMCAwIDAgMC0xLjQxOCAxLjA5MSAxLjA5MSAwIDAgMC0xLjQ5IDBsLTEuNDkgMS40MTdhLjk2OC45NjggMCAwIDAgMCAxLjQxOCAxLjA5MSAxLjA5MSAwIDAgMCAxLjQ5IDBsMS40OS0xLjQxOFptLTQuNDY4IDIuODM0YS45NjguOTY4IDAgMCAxIDAgMS40MThsLTEuNDkgMS40MTdhMS4wOTEgMS4wOTEgMCAwIDEtMS40OSAwIC45NjguOTY4IDAgMCAxIDAtMS40MTdsMS40OS0xLjQxOGExLjA5MSAxLjA5MSAwIDAgMSAxLjQ5IDBabTAtMTcuMDFhLjk2OC45NjggMCAwIDEgMCAxLjQxOGwtMS40OSAxLjQxOGExLjA5MSAxLjA5MSAwIDAgMS0xLjQ5IDAgLjk2OC45NjggMCAwIDEgMC0xLjQxOGwxLjQ5LTEuNDE3YTEuMDkxIDEuMDkxIDAgMCAxIDEuNDkgMFptLTQuNDY5IDUuNjdhLjk2OC45NjggMCAwIDAgMC0xLjQxNyAxLjA5MSAxLjA5MSAwIDAgMC0xLjQ4OSAwbC0xLjQ5IDEuNDE3YS45NjguOTY4IDAgMCAwIDAgMS40MTggMS4wOTEgMS4wOTEgMCAwIDAgMS40OSAwbDEuNDktMS40MThabS00LjQ2NyAyLjgzNWEuOTY4Ljk2OCAwIDAgMSAwIDEuNDE4bC0xLjQ5IDEuNDE3YTEuMDkxIDEuMDkxIDAgMCAxLTEuNDkgMCAuOTY5Ljk2OSAwIDAgMSAwLTEuNDE3bDEuNDktMS40MTdhMS4wOTEgMS4wOTEgMCAwIDEgMS40OSAwWk0yMy40MzcgMTEuM2EuOTY4Ljk2OCAwIDAgMCAwLTEuNDE4IDEuMDkxIDEuMDkxIDAgMCAwLTEuNDg5IDBsLTEuNDkgMS40MThhLjk2OC45NjggMCAwIDAgMCAxLjQxNyAxLjA5MSAxLjA5MSAwIDAgMCAxLjQ5IDBsMS40OS0xLjQxN1ptLTQuNDY3IDIuODM1YS45NjkuOTY5IDAgMCAxIDAgMS40MTdsLTEuNDkgMS40MThhMS4wOTEgMS4wOTEgMCAwIDEtMS40OSAwIC45NjguOTY4IDAgMCAxIDAtMS40MThsMS40OS0xLjQxN2ExLjA5MSAxLjA5MSAwIDAgMSAxLjQ5IDBabS00LjQ2OCA1LjY3YS45NjkuOTY5IDAgMCAwIDAtMS40MTggMS4wOTEgMS4wOTEgMCAwIDAtMS40OSAwbC0xLjQ5IDEuNDE4YS45NjguOTY4IDAgMCAwIDAgMS40MTcgMS4wOTEgMS4wOTEgMCAwIDAgMS40OSAwbDEuNDktMS40MTdabS00LjQ2OCAyLjgzNWEuOTY4Ljk2OCAwIDAgMSAwIDEuNDE3bC0xLjQ5IDEuNDE4YTEuMDkxIDEuMDkxIDAgMCAxLTEuNDkgMCAuOTY4Ljk2OCAwIDAgMSAwLTEuNDE4bDEuNDktMS40MTdhMS4wOTEgMS4wOTEgMCAwIDEgMS40OSAwWm0wLTE1LjU5My0xLjQ5IDEuNDE4YTEuMDkxIDEuMDkxIDAgMCAxLTEuNDkgMCAuOTY4Ljk2OCAwIDAgMSAwLTEuNDE4YzEuMTA1LTEuMDUgNC43NzItMS43MDUgMi45OCAwWk01LjU2NiAxMS4zYS45NjguOTY4IDAgMCAwIDAtMS40MTggMS4wOTEgMS4wOTEgMCAwIDAtMS40OSAwTDIuNTg2IDExLjNhLjk2OC45NjggMCAwIDAgMCAxLjQxNyAxLjA5MSAxLjA5MSAwIDAgMCAxLjQ5IDBsMS40OS0xLjQxN1ptMTcuODcxIDkuOTIyYS45NjguOTY4IDAgMCAxIDAgMS40MThsLTEuNDg5IDEuNDE3YTEuMDkxIDEuMDkxIDAgMCAxLTEuNDkgMCAuOTY4Ljk2OCAwIDAgMSAwLTEuNDE3bDEuNDktMS40MThhMS4wOTEgMS4wOTEgMCAwIDEgMS40OSAwWm0tNC40NjggNS42N2EuOTY4Ljk2OCAwIDAgMCAwLTEuNDE3IDEuMDkxIDEuMDkxIDAgMCAwLTEuNDg5IDBsLTEuNDkgMS40MTdjLTEuODE4IDEuNzMxIDEuODYgMS4wNjYgMi45OCAwWm0wLTE3LjAxYS45NjguOTY4IDAgMCAwIDAtMS40MTcgMS4wOTEgMS4wOTEgMCAwIDAtMS40ODkgMGwtMS40OSAxLjQxN2EuOTY4Ljk2OCAwIDAgMCAwIDEuNDE4IDEuMDkxIDEuMDkxIDAgMCAwIDEuNDkgMGwxLjQ5LTEuNDE4Wm0tNC40NjggMi44MzVhLjk2OC45NjggMCAwIDEgMCAxLjQxOGwtMS40ODkgMS40MTdhMS4wOTEgMS4wOTEgMCAwIDEtMS40OSAwIC45NjguOTY4IDAgMCAxIDAtMS40MTdsMS40OS0xLjQxOGExLjA5MSAxLjA5MSAwIDAgMSAxLjQ5IDBabS00LjQ2NyA1LjY3YS45NjguOTY4IDAgMCAwIDAtMS40MTcgMS4wOTEgMS4wOTEgMCAwIDAtMS40OSAwbC0xLjQ5IDEuNDE3YS45NjguOTY4IDAgMCAwIDAgMS40MTggMS4wOTEgMS4wOTEgMCAwIDAgMS40OSAwbDEuNDktMS40MThabS00LjQ2OCAyLjgzNWEuOTY4Ljk2OCAwIDAgMSAwIDEuNDE4bC0xLjQ5IDEuNDE3YTEuMDkxIDEuMDkxIDAgMCAxLTEuNDkgMCAuOTY5Ljk2OSAwIDAgMSAwLTEuNDE3bDEuNDktMS40MThhMS4wOTEgMS4wOTEgMCAwIDEgMS40OSAwWiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",Me="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjYgNEg4djJoMTRhMiAyIDAgMCAxIDIgMnYxNGgyVjRaTTYgNHYySDRhMiAyIDAgMCAwLTIgMnYxOGEyIDIgMCAwIDAgMiAyaDE4YTIgMiAwIDAgMCAyLTJ2LTJoMmEyIDIgMCAwIDAgMi0yVjRhMiAyIDAgMCAwLTItMkg4YTIgMiAwIDAgMC0yIDJabTE2IDIySDRWOGgxOHYxOFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",Ae="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjYgNEg4djJoMTRhMiAyIDAgMCAxIDIgMnYxNGgyVjRaTTYgNHYySDRhMiAyIDAgMCAwLTIgMnYxOGEyIDIgMCAwIDAgMiAyaDE4YTIgMiAwIDAgMCAyLTJ2LTJoMmEyIDIgMCAwIDAgMi0yVjRhMiAyIDAgMCAwLTItMkg4YTIgMiAwIDAgMC0yIDJabTE2IDIySDRWOGgxOHYxOFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjMyIiBkPSJNNCA4aDE4djE4SDRWOFoiLz48L3N2Zz4=",xe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMy4yIiBkPSJNMjIuOTY1IDExLjk2M2MtMy45MzYgMC03LjMwNSA2LjM2OS0zLjkwOCA5LjY2MyAzLjM5NyAzLjI5NCA1Ljc4Ny00LjE3MyA1Ljg1My03LjAyOC4wNjYtMi44NTUgMS40MDYgNS4xMjggMy4yOTMgNy40N00xLjggMTguNThzNC4zMzYtMS4zMTEgMTEuMjktMS4zOTltLTkuMzY3LTYuMzczYTE1OS4wOTYgMTU5LjA5NiAwIDAgMC0uMDg1IDYuMjE3bTAgMGMuMDE0IDMuMjkuMDggNC43MzMtLjM5NSA1LjE2NS0uMjk0LjI2OC0uMTYtMi4xOS4zOTUtNS4xNjVabTAgMGMuNzc5LTQuMTggMi4zODQtOS4zODQgNC43ODgtOS40OTkgNC4xMTYtLjE5NyAxLjM4NiA4LjExIDUuODIzIDE1LjA1NSIvPjwvc3ZnPg==",Se="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTExLjM1OCAyMy45MzUtMS4yNzctNC42MUg0LjY5bC0xLjI1IDQuNjFIMEw1LjEwNiA1Ljc1Mmg0Ljc0MWw1LjEzMiAxOC4xODNoLTMuNjIxWk03LjUwMyA5LjExM2gtLjIwOWwtMi4wMDYgNy40MjRoNC4yMkw3LjUwMyA5LjExM1pNMjguMDQ2IDIzLjkzNWMtLjgxNiAwLTEuNDUtLjItMS45MDEtLjU5OS0uNDM1LS40MTctLjY5NS0uOTktLjc4Mi0xLjcyaC0uMTNhMy40MDcgMy40MDcgMCAwIDEtMS40MzMgMS45NTVjLS43MTIuNDUxLTEuNTkuNjc3LTIuNjMxLjY3Ny0xLjM1NSAwLTIuNDMxLS4zNTYtMy4yMy0xLjA2OC0uOC0uNzEyLTEuMTk5LTEuNzAyLTEuMTk5LTIuOTcgMC0yLjcxIDEuOTg5LTQuMDY0IDUuOTY2LTQuMDY0aDIuMzd2LS44ODZjMC0uODUtLjIwOC0xLjQ5My0uNjI1LTEuOTI3LS40MTctLjQzNC0xLjA5NC0uNjUyLTIuMDMyLS42NTItLjg1IDAtMS41MzcuMTY2LTIuMDU4LjQ5Ni0uNTIuMzMtLjk2NC43NTUtMS4zMjggMS4yNzZsLTEuOTAyLTEuNjE1Yy40MTctLjc0NyAxLjA4NS0xLjM3MiAyLjAwNi0xLjg3Ni45MzgtLjUyIDIuMTQ1LS43ODEgMy42MjEtLjc4MSAxLjc3MSAwIDMuMTUyLjQxNyA0LjE0MiAxLjI1IDEuMDA3LjgxNiAxLjUxIDIuMDQgMS41MSAzLjY3M3Y2LjMzSDMwdjIuNTAxaC0xLjk1NFptLTUuNzU3LTEuOThjLjc5OSAwIDEuNDU5LS4xODIgMS45OC0uNTQ3LjUzOC0uMzgyLjgwOC0uODk0LjgwOC0xLjUzN3YtMS43OTdoLTIuMjkzYy0xLjgyMyAwLTIuNzM1LjU3My0yLjczNSAxLjcydi41MmMwIC41MzkuMi45NDcuNTk5IDEuMjI1LjQuMjc3Ljk0Ni40MTYgMS42NDEuNDE2WiIvPjwvc3ZnPg==",ve="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTEyLjUwNCAyNC0xLjQyLTQuNTE1aC02LjI5TDMuMzk5IDI0SDBMNS45MzUgNi4yOTZoNC4xNkwxNS45NzkgMjRoLTMuNDc1Wk03Ljk5IDkuMzRoLS4xMjZsLTIuMjU4IDcuMjhoNC42NjdMNy45OSA5LjM0Wk0yOC4yIDI0Yy0uNzExIDAtMS4yNzctLjIwMy0xLjctLjYwOS0uNDA2LS40MjMtLjY2LS45OC0uNzYxLTEuNjc0aC0uMTUyYy0uMjIuODYzLS42NjggMS41MTQtMS4zNDUgMS45NTMtLjY3Ni40MjMtMS41MTMuNjM0LTIuNTEuNjM0LTEuMzUzIDAtMi4zOTMtLjM1NS0zLjEyLTEuMDY1LS43MjctLjcxLTEuMDktMS42NTctMS4wOS0yLjg0IDAtMS4zNy40OS0yLjM4NSAxLjQ3LTMuMDQ0Ljk4MS0uNjc3IDIuMzc2LTEuMDE1IDQuMTg1LTEuMDE1aDIuMjU4di0uOTY0YzAtLjc0NC0uMTk1LTEuMzE5LS41ODQtMS43MjQtLjM4OS0uNDA2LTEuMDE0LS42MS0xLjg3Ny0uNjEtLjc2IDAtMS4zNzguMTctMS44NTEuNTA4YTQuNzggNC43OCAwIDAgMC0xLjE2NyAxLjE2N2wtMS45MjctMS43MjVhNS40NzcgNS40NzcgMCAwIDEgMS45NTItMS44MjZjLjgxMi0uNDczIDEuODg2LS43MSAzLjIyMi0uNzEgMS43OTIgMCAzLjE1My40MDYgNC4wODMgMS4yMTcuOTMuODEyIDEuMzk1IDEuOTc5IDEuMzk1IDMuNXY2LjI0SDMwVjI0aC0xLjhabS01LjM3OC0yLjA1NWMuNzI3IDAgMS4zNDQtLjE2IDEuODUyLS40ODIuNTA3LS4zMi43Ni0uNzk0Ljc2LTEuNDJ2LTEuNzVoLTIuMDhjLTEuNjkgMC0yLjUzNi41NDEtMi41MzYgMS42MjN2LjQzMWMwIC41NDIuMTcuOTQ3LjUwOCAxLjIxOC4zNTUuMjU0Ljg1NC4zOCAxLjQ5Ni4zOFoiLz48L3N2Zz4=",Le="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMjIuMDAzaDEuMjYyTDYuNzA2IDYuMjE1SDkuOGw1LjQ0NSAxNS43ODhoMS4yNjJ2MS40ODVIOS42NXYtMS40ODVoMi4wNTRsLTEuMjg3LTMuODg1SDQuNDU0bC0xLjI4NiAzLjg4NUg1LjIydjEuNDg1SDB2LTEuNDg1Wm00LjktNS40NDRoNS4wNzNMNy40OTggOC44ODhoLS4xMjRMNC45IDE2LjU1OVpNMjEuNjg1IDIzLjc4NWMtMS4zMzYgMC0yLjMyNi0uMzIyLTIuOTctLjk2NS0uNjQzLS42NDQtLjk2NC0xLjUzNS0uOTY0LTIuNjczIDAtMS4yNTQuNDUzLTIuMjAyIDEuMzYtMi44NDYuOTI1LS42NDMgMi4zNi0uOTY1IDQuMzA2LS45NjVoMS43NTd2LTEuNTU5YzAtMS4wMDYtLjIwNi0xLjc2NS0uNjE4LTIuMjc2LS40MTMtLjUyOC0xLjA4OS0uNzkyLTIuMDMtLjc5Mi0uNzI1IDAtMS4yODYuMTA3LTEuNjgyLjMyMXYuMWMuMTY1LjA5OC4zMjIuMjU1LjQ3LjQ3LjE2NS4xOTcuMjQ4LjQ3OC4yNDguODQgMCAuNDgtLjE0OS44NzUtLjQ0NiAxLjE4OS0uMjguMjk3LS43MDEuNDQ1LTEuMjYyLjQ0NS0uNDc4IDAtLjg3NC0uMTU2LTEuMTg4LS40Ny0uMjk3LS4zMTMtLjQ0NS0uNzI2LS40NDUtMS4yMzcgMC0uMzk2LjEwNy0uNzc2LjMyMi0xLjEzOS4yMy0uMzguNTY5LS43MDkgMS4wMTQtLjk5LjQ0Ni0uMjk2Ljk5LS41MjcgMS42MzMtLjY5Mi42Ni0uMTgyIDEuNDItLjI3MyAyLjI3Ny0uMjczIDEuNjUgMCAyLjg4Ny4zOCAzLjcxMiAxLjEzOS44MjUuNzQyIDEuMjM3IDEuNzkgMS4yMzcgMy4xNDN2Ny40NzNIMzB2MS4yMzdjLS4yNDcuMTY1LS41NzcuMjg5LS45OS4zNzFhNS4zOSA1LjM5IDAgMCAxLTEuMjYyLjE0OWMtLjgyNSAwLTEuNDE5LS4xOTgtMS43ODItLjU5NC0uMzYzLS40MTItLjU0NC0uOTMyLS41NDQtMS41NnYtLjA3M2gtLjEyNGE0LjM5IDQuMzkgMCAwIDEtLjQ0NS44MTYgMy4xNTkgMy4xNTkgMCAwIDEtLjY5My43MThjLS4yOC4xOTgtLjYyNy4zNjMtMS4wNC40OTUtLjM5NS4xMzItLjg3NC4xOTgtMS40MzUuMTk4Wm0xLjI2Mi0xLjk4Yy42NiAwIDEuMTk2LS4xNTcgMS42MDktLjQ3LjQxMi0uMzE0LjYxOC0uODQxLjYxOC0xLjU4NHYtMi4wNzloLTEuNDFjLS45OSAwLTEuNy4xODItMi4xMjguNTQ1LS40MTMuMzQ2LS42MTkuODUtLjYxOSAxLjUxdi40NDVjMCAuNTYuMTczLjk3My41MiAxLjIzNy4zNjMuMjY0LjgzMy4zOTYgMS40MS4zOTZaIi8+PC9zdmc+",je="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0ibTE1IDI2LjgyMyAxMS42NTQtMTQuMTY1YTEgMSAwIDAgMC0uNzcyLTEuNjM1SDIxLjh2LTguMkg4LjJ2OC4ySDQuMTE4YTEgMSAwIDAgMC0uNzcyIDEuNjM1TDE1IDI2LjgyM1oiLz48L3N2Zz4=",Ne="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0ibTMgMTQuODIyIDE0LjE2NSAxMS42NTVhMSAxIDAgMCAwIDEuNjM1LS43NzJ2LTQuMDgySDI3di0xMy42aC04LjJWMy45NGExIDEgMCAwIDAtMS42MzUtLjc3MkwzIDE0LjgyMloiLz48L3N2Zz4=",De="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTI3IDE0LjgyMiAxMi44MzUgMy4xNjhhMSAxIDAgMCAwLTEuNjM1Ljc3MnY0LjA4M0gzdjEzLjZoOC4ydjQuMDgyYTEgMSAwIDAgMCAxLjYzNS43NzJMMjcgMTQuODIyWiIvPjwvc3ZnPg==",Ze="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTE1IDIuODIzIDMuMzQ2IDE2Ljk4N2ExIDEgMCAwIDAgLjc3MiAxLjYzNkg4LjJ2OC4yaDEzLjZ2LTguMmg0LjA4MmExIDEgMCAwIDAgLjc3Mi0xLjYzNkwxNSAyLjgyM1oiLz48L3N2Zz4=",Ee="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xNi40MTQgMS45NyAyOC4wMyAxMy41ODdhMiAyIDAgMCAxIDAgMi44MjhMMTYuNDE0IDI4LjAzYTIgMiAwIDAgMS0yLjgyOCAwTDEuOTcgMTYuNDE0YTIgMiAwIDAgMSAwLTIuODI4TDEzLjU4NiAxLjk3YTIgMiAwIDAgMSAyLjgyOCAwWiIvPjwvc3ZnPg==",ke="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yNyAxNWMwIDYuNjI3LTUuMzczIDEyLTEyIDEyUzMgMjEuNjI3IDMgMTUgOC4zNzMgMyAxNSAzczEyIDUuMzczIDEyIDEyWiIvPjwvc3ZnPg==",Te="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xNC4wMDkgMy4yMTdhMiAyIDAgMCAxIDEuOTgyIDBsOC44MjYgNS4wMzhhMiAyIDAgMCAxIDEuMDA5IDEuNzM3djEwLjAxNmEyIDIgMCAwIDEtMS4wMDkgMS43MzdsLTguODI1IDUuMDM4YTIgMiAwIDAgMS0xLjk4MyAwbC04LjgyNi01LjAzOGEyIDIgMCAwIDEtMS4wMDktMS43MzdWOS45OTJhMiAyIDAgMCAxIDEuMDA5LTEuNzM3bDguODI2LTUuMDM4WiIvPjwvc3ZnPg==",ze="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xNC4yNDIgMy4yMjRhMiAyIDAgMCAxIDEuNTE2IDBsNy4wODIgMi45YTIgMiAwIDAgMSAxLjA4NyAxLjA3OWwyLjkxNSA2Ljk1N2EyIDIgMCAwIDEgMCAxLjU0NmwtMi45MTUgNi45NTdhMiAyIDAgMCAxLTEuMDg3IDEuMDc4bC03LjA4MiAyLjlhMiAyIDAgMCAxLTEuNTE2IDBsLTcuMDgyLTIuOWEyIDIgMCAwIDEtMS4wODctMS4wNzhsLTIuOTE1LTYuOTU3YTIgMiAwIDAgMSAwLTEuNTQ2bDIuOTE1LTYuOTU3QTIgMiAwIDAgMSA3LjE2IDYuMTI1bDcuMDgyLTIuOVoiLz48L3N2Zz4=",We="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xNSAzYzQuODUyIDAgOCAzLjgyMSA4IDguODE3djYuMzY2QzIzIDIzLjE4IDE5Ljg1MiAyNyAxNSAyN2MtNC44MiAwLTcuOTQ4LTMuNzcxLTgtOC43MjN2LTYuNDZDNyA2LjgyIDEwLjE0OCAzIDE1IDNaIi8+PC9zdmc+",Ye="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xMy44MjQgMy44NGEyIDIgMCAwIDEgMi4zNTIgMEwyNi4yIDExLjEyNGEyIDIgMCAwIDEgLjcyNyAyLjIzNmwtMy44MyAxMS43ODdhMiAyIDAgMCAxLTEuOTAyIDEuMzgySDguODA0YTIgMiAwIDAgMS0xLjkwMi0xLjM4M0wzLjA3MiAxMy4zNmEyIDIgMCAwIDEgLjcyNy0yLjIzNkwxMy44MjQgMy44NFoiLz48L3N2Zz4=",Pe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yNSAzYTIgMiAwIDAgMSAyIDJ2MjBhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDIwWiIvPjwvc3ZnPg==",Ge="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik01Ljc3MSAzYTIgMiAwIDAgMC0xLjk0OSAyLjQ1bDQuNjE2IDIwQTIgMiAwIDAgMCAxMC4zODYgMjdIMjQuMjNhMiAyIDAgMCAwIDEuOTQ5LTIuNDVsLTQuNjE2LTIwQTIgMiAwIDAgMCAxOS42MTMgM0g1Ljc3MVoiLz48L3N2Zz4=",Oe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yNC4yMjkgM2EyIDIgMCAwIDEgMS45NDkgMi40NWwtNC42MTYgMjBBMiAyIDAgMCAxIDE5LjYxMyAyN0g1Ljc3MWEyIDIgMCAwIDEtMS45NDktMi40NWw0LjYxNi0yMEEyIDIgMCAwIDEgMTAuMzg2IDNIMjQuMjNaIi8+PC9zdmc+",Re="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Im03LjM0NyAxNy43NC0uODEuNTg3LjgxLS41ODgtNC4xMTMtNS42NiA2LjY1NC0yLjE2MWEyIDIgMCAwIDAgMS0uNzI3TDE1IDMuNTMxbDQuMTEyIDUuNjYuODA5LS41ODgtLjgxLjU4OGEyIDIgMCAwIDAgMS4wMDEuNzI3bDYuNjU0IDIuMTYxLTQuMTEzIDUuNjZhMiAyIDAgMCAwLS4zODIgMS4xNzZ2Ni45OTZsLTYuNjUzLTIuMTYyLS4zMDkuOTUuMzEtLjk1YTIgMiAwIDAgMC0xLjIzNyAwbC4zMDkuOTUtLjMxLS45NS02LjY1MyAyLjE2MnYtNi45OTZhMiAyIDAgMCAwLS4zODEtMS4xNzZaIi8+PC9zdmc+",Fe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xOS42MTMgM2EyIDIgMCAwIDEgMS45NSAxLjU1bDQuNjE1IDIwYTIgMiAwIDAgMS0xLjk1IDIuNDVINS43NzJhMiAyIDAgMCAxLTEuOTQ5LTIuNDVsNC42MTYtMjBBMiAyIDAgMCAxIDEwLjM4NiAzaDkuMjI3WiIvPjwvc3ZnPg==",Be="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yNy41NSAyNkgyLjQ1TDE1IDRsMTIuNTUgMjJaIi8+PC9zdmc+",Je="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yNSAzYTIgMiAwIDAgMSAyIDJ2MjBhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDIwWiIvPjxwYXRoIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Im04IDggMTQgMTRNMjIgOCA4IDIyIi8+PC9zdmc+",He="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuOTk5LjVDNi45OTMuNS41IDYuOTkyLjUgMTVjMCA2LjQwNiA0LjE1NCAxMS44NDEgOS45MTYgMTMuNzYuNzI2LjEzMi45OS0uMzE2Ljk5LS43IDAtLjM0NS0uMDEyLTEuMjU2LS4wMi0yLjQ2Ni00LjAzMy44NzYtNC44ODQtMS45NDQtNC44ODQtMS45NDQtLjY2LTEuNjc1LTEuNjEtMi4xMjEtMS42MS0yLjEyMS0xLjMxNy0uOS4xLS44ODEuMS0uODgxIDEuNDU1LjEwMiAyLjIyIDEuNDk0IDIuMjIgMS40OTQgMS4yOTQgMi4yMTYgMy4zOTUgMS41NzYgNC4yMiAxLjIwNC4xMzMtLjkzNi41MDctMS41NzUuOTIxLTEuOTM3LTMuMjItLjM2Ny02LjYwNS0xLjYxLTYuNjA1LTcuMTY3IDAtMS41ODQuNTY2LTIuODc3IDEuNDkzLTMuODktLjE1LS4zNjctLjY0Ny0xLjg0Mi4xNDItMy44MzggMCAwIDEuMjE3LS4zOSAzLjk4NyAxLjQ4NUExMy45MjYgMTMuOTI2IDAgMCAxIDE1IDcuNTEyYzEuMjMyLjAwNiAyLjQ3Mi4xNjYgMy42My40ODcgMi43NjktMS44NzUgMy45ODQtMS40ODUgMy45ODQtMS40ODUuNzkxIDEuOTk2LjI5NCAzLjQ3LjE0NSAzLjgzNy45MyAxLjAxNCAxLjQ5IDIuMzA3IDEuNDkgMy44OTEgMCA1LjU3LTMuMzkgNi43OTYtNi42MiA3LjE1NS41Mi40NDguOTg0IDEuMzMzLjk4NCAyLjY4NiAwIDEuOTM4LS4wMTggMy41MDItLjAxOCAzLjk3NyAwIC4zODguMjYyLjg0Ljk5Ny42OThDMjUuMzQ5IDI2LjgzNiAyOS41IDIxLjQwNSAyOS41IDE1IDI5LjUgNi45OSAyMy4wMDcuNSAxNC45OTkuNVoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",Xe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIuOSAxLjlhMSAxIDAgMCAwLTEgMXY0YTEgMSAwIDAgMCAyIDB2LTNoM2ExIDEgMCAxIDAgMC0yaC00Wk0xMS45IDEuOWExIDEgMCAxIDAgMCAyaDZhMSAxIDAgMSAwIDAtMmgtNlpNMTAuOSAyNi45YTEgMSAwIDAgMSAxLTFoNmExIDEgMCAxIDEgMCAyaC02YTEgMSAwIDAgMS0xLTFaTTMuOSAxMS45YTEgMSAwIDEgMC0yIDB2NmExIDEgMCAxIDAgMiAwdi02Wk0yNi45IDEwLjlhMSAxIDAgMCAxIDEgMXY2YTEgMSAwIDEgMS0yIDB2LTZhMSAxIDAgMCAxIDEtMVpNMjIuOSAxLjlhMSAxIDAgMSAwIDAgMmgzdjNhMSAxIDAgMSAwIDIgMHYtNGMwLS41NTItLjQ1LTEtMS4wMDItMUgyMi45Wk0yLjkgMjEuOWExIDEgMCAwIDEgMSAxdjNoM2ExIDEgMCAxIDEgMCAyaC00YTEgMSAwIDAgMS0xLTF2LTRhMSAxIDAgMCAxIDEtMVpNMjcuOSAyMi45YTEgMSAwIDEgMC0yIDBsLS4wMDIgM0gyMi45YTEgMSAwIDEgMCAwIDJoNGExIDEgMCAwIDAgMS0xdi00WiIvPjwvc3ZnPg==",Ve="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQgMjYgMjYgNE0xIDE1YzMgNC44IDggOCAxNCA4czExLTMuMiAxNC04Yy0zLTQuOC04LTgtMTQtOFM0IDEwLjIgMSAxNVoiLz48L3N2Zz4=",_e="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTUgNy4zOThhMy42MDIgMy42MDIgMCAxIDAgMCA3LjIwNCAzLjYwMiAzLjYwMiAwIDAgMCAwLTcuMjA0Wk0xMy4zOTggMTFhMS42MDIgMS42MDIgMCAxIDEgMy4yMDQgMCAxLjYwMiAxLjYwMiAwIDAgMS0zLjIwNCAwWiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDJoMjFBMi41IDIuNSAwIDAgMSAyOCA0LjV2MjFhMi41IDIuNSAwIDAgMS0yLjUgMi41aC0yMUEyLjUgMi41IDAgMCAxIDIgMjUuNXYtMjFBMi41IDIuNSAwIDAgMSA0LjUgMlpNMjYgNC41djE0LjA4NmwtMy4yOTMtMy4yOTNhMSAxIDAgMCAwLTEuNDE0IDBsLTUuNTQzIDUuNTQzLTcuMDE5LTcuNTE4YTEgMSAwIDAgMC0xLjQzOC0uMDI1TDQgMTYuNTg2VjQuNWEuNS41IDAgMCAxIC41LS41aDIxYS41LjUgMCAwIDEgLjUuNVptLTIyIDIxdi02LjA4NmwzLjk3NS0zLjk3NSA3LjAxNCA3LjUxM0wxNy43NDcgMjZINC41YS41LjUgMCAwIDEtLjUtLjVabTIxLjUuNWgtNS4wNTVsLTMuMzQtMy42OUwyMiAxNy40MTNsNCA0VjI1LjVhLjUuNSAwIDAgMS0uNS41WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",Ue="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xNSAyNy4yOTVjNi43OSAwIDEyLjI5NS01LjUwNSAxMi4yOTUtMTIuMjk2QzI3LjI5NSA4LjIxIDIxLjc5IDIuNzA0IDE1IDIuNzA0UzIuNzA0IDguMjA5IDIuNzA0IDE0Ljk5OSA4LjIxIDI3LjI5NSAxNSAyNy4yOTVaIi8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xMyAyMWgybTIgMGgtMm0wIDB2LThoLTIiLz48Y2lyY2xlIGN4PSIxNSIgY3k9IjkiIHI9IjEuNSIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==",Ke="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExIDlIOS4yNWMtMS4xNjIgMC0xLjc0MiAwLTIuMjI1LjA5Mi0xLjk4NC4zNzktMy41MzQgMS44NjctMy45MjkgMy43NzJDMyAxMy4zMjcgMyAxMy44ODQgMyAxNWMwIDEuMTE1IDAgMS42NzMuMDk2IDIuMTM2LjM5NSAxLjkwNSAxLjk0NSAzLjM5MyAzLjkyOSAzLjc3MkM3LjUwOCAyMSA4LjA4OCAyMSA5LjI1IDIxSDExbTgtMTJoMS43NWMxLjE2MiAwIDEuNzQyIDAgMi4yMjYuMDkyIDEuOTgzLjM3OSAzLjUzMyAxLjg2NyAzLjkyOCAzLjc3MkMyNyAxMy4zMjcgMjcgMTMuODg0IDI3IDE1YzAgMS4xMTUgMCAxLjY3My0uMDk2IDIuMTM2LS4zOTUgMS45MDUtMS45NDUgMy4zOTMtMy45MjggMy43NzItLjQ4My4wOTItMS4wNjQuMDkyLTIuMjI2LjA5MkgxOU0xMC4wMDIgMTVoMTAiLz48L3N2Zz4=",Qe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDE0Ljg0OGExIDEgMCAwIDEgMS0xaDkuNjQ2YTEgMSAwIDAgMSAxIDFWMjFhMSAxIDAgMCAxLTEgMUgxMGExIDEgMCAwIDEtMS0xdi02LjE1MloiLz48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTE4LjMxNyAxMy44NDh2LTIuMTc0QzE4LjMxNyA5LjQyNiAxNy4wNzMgOCAxNC44MjUgOHMtMy40OTYgMS40My0zLjQ5NiAzLjY3N3YyLjE3MSIvPjwvc3ZnPg==",qe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik01IDE0LjAyMWExIDEgMCAwIDEgMS0xaDE4YTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMUg2YTEgMSAwIDAgMS0xLTF2LTEyWiIvPjxwYXRoIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMjEgMTMuMDIyVjkuMjg4YzAtMy44Ni0yLjEzNi02LjMxLTUuOTk3LTYuMzFDMTEuMTQzIDIuOTc5IDkgNS40MzQgOSA5LjI5NXYzLjcyOCIvPjwvc3ZnPg==",$e="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTMuOTIzIDZDMy40MTMgNiAzIDYuNDQ4IDMgN3MuNDEzIDEgLjkyMyAxaDIyLjE1NGMuNTEgMCAuOTIzLS40NDguOTIzLTFzLS40MTMtMS0uOTIzLTFIMy45MjNaTTMgMTVjMC0uNTUyLjQxMy0xIC45MjMtMWgyMi4xNTRjLjUxIDAgLjkyMy40NDguOTIzIDFzLS40MTMgMS0uOTIzIDFIMy45MjNDMy40MTMgMTYgMyAxNS41NTIgMyAxNVpNMyAyM2MwLS41NTIuNDEzLTEgLjkyMy0xaDIyLjE1NGMuNTEgMCAuOTIzLjQ0OC45MjMgMXMtLjQxMyAxLS45MjMgMUgzLjkyM0MzLjQxMyAyNCAzIDIzLjU1MiAzIDIzWiIvPjwvc3ZnPg==",et="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTQuNSAxNWExIDEgMCAwIDEgMS0xaDE5YTEgMSAwIDEgMSAwIDJoLTE5YTEgMSAwIDAgMS0xLTFaIi8+PC9zdmc+",tt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTI3LjI1IDE0LjVhMi4yNSAyLjI1IDAgMSAxLTQuNSAwIDIuMjUgMi4yNSAwIDAgMSA0LjUgMFpNNy4yNSAxNC41YTIuMjUgMi4yNSAwIDEgMS00LjUgMCAyLjI1IDIuMjUgMCAwIDEgNC41IDBaTTE3LjI1IDQuNWEyLjI1IDIuMjUgMCAxIDEtNC41IDAgMi4yNSAyLjI1IDAgMCAxIDQuNSAwWk0xNy4yNSAyNC41YTIuMjUgMi4yNSAwIDEgMS00LjUgMCAyLjI1IDIuMjUgMCAwIDEgNC41IDBaTTYuNSA0Ljc1YTEuNSAxLjUgMCAxIDEtMyAwIDEuNSAxLjUgMCAwIDEgMyAwWk02LjUgMjQuNzVhMS41IDEuNSAwIDEgMS0zIDAgMS41IDEuNSAwIDAgMSAzIDBaTTE2LjUgMTQuNWExLjUgMS41IDAgMSAxLTMgMCAxLjUgMS41IDAgMCAxIDMgMFpNMjYuNSAyNC43NWExLjUgMS41IDAgMSAxLTMgMCAxLjUgMS41IDAgMCAxIDMgMFpNMjYuNSA0Ljc1YTEuNSAxLjUgMCAxIDEtMyAwIDEuNSAxLjUgMCAwIDEgMyAwWiIvPjwvc3ZnPg==",it="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xIDJhMSAxIDAgMCAxIDEtMWgxMGExIDEgMCAwIDEgMSAxdjEwYTEgMSAwIDAgMS0xIDFIMmExIDEgMCAwIDEtMS0xVjJabTAgMTZhMSAxIDAgMCAxIDEtMWgxMGExIDEgMCAwIDEgMSAxdjEwYTEgMSAwIDAgMS0xIDFIMmExIDEgMCAwIDEtMS0xVjE4Wk0xNyAyYTEgMSAwIDAgMSAxLTFoMTBhMSAxIDAgMCAxIDEgMXYxMGExIDEgMCAwIDEtMSAxSDE4YTEgMSAwIDAgMS0xLTFWMlptMCAxNmExIDEgMCAwIDEgMS0xaDEwYTEgMSAwIDAgMSAxIDF2MTBhMSAxIDAgMCAxLTEgMUgxOGExIDEgMCAwIDEtMS0xVjE4WiIvPjwvc3ZnPg==",nt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0YTEgMSAwIDAgMC0xIDF2MjBhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjkuNDE0TDE4LjU4NiA0SDdaTTQgNWEzIDMgMCAwIDEgMy0zaDExLjU4NkEyIDIgMCAwIDEgMjAgMi41ODZMMjUuNDE0IDhBMiAyIDAgMCAxIDI2IDkuNDE0VjI1YTMgMyAwIDAgMS0zIDNIN2EzIDMgMCAwIDEtMy0zVjVaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDlhMSAxIDAgMCAxIDEtMWg2YTEgMSAwIDEgMSAwIDJIOWExIDEgMCAwIDEtMS0xWm0wIDZhMSAxIDAgMCAxIDEtMWgxMmExIDEgMCAxIDEgMCAySDlhMSAxIDAgMCAxLTEtMVptMCA2YTEgMSAwIDAgMSAxLTFoMTJhMSAxIDAgMSAxIDAgMkg5YTEgMSAwIDAgMS0xLTFaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",st="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE2IDUuNWExIDEgMCAxIDAtMiAwVjE0SDUuNWExIDEgMCAxIDAgMCAySDE0djguNWExIDEgMCAxIDAgMiAwVjE2aDguNWExIDEgMCAxIDAgMC0ySDE2VjUuNVoiLz48L3N2Zz4=",ot="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xNSAyNy4yOTVjNi43OSAwIDEyLjI5NS01LjUwNSAxMi4yOTUtMTIuMjk2QzI3LjI5NSA4LjIxIDIxLjc5IDIuNzA0IDE1IDIuNzA0UzIuNzA0IDguMjA5IDIuNzA0IDE0Ljk5OUMyLjcwNCAyMS43OSA4LjIxIDI3LjI5NSAxNSAyNy4yOTVaIi8+PGNpcmNsZSBjeD0iMTUiIGN5PSIyMSIgcj0iMS41IiBmaWxsPSIjMDAwIi8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMi4yIiBkPSJNMTEgMTIuNWMwLTIgMS43LTMuNzUgNC0zLjc1czQgMS43NSA0IDMuNzVjMCAzLjE5LTQgMy4xNS00IDQuOSIvPjwvc3ZnPg==",rt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMi4zIiBkPSJNOSA4LjJjMC0zLjE2MSAzLjAzOS01LjUgNi01LjVzNiAyLjMzOSA2IDUuNWMwIDUuNTAzLTYgNS4zNDUtNiAxMC44Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE2Ljc1IDI0Ljk2NWExLjc1IDEuNzUgMCAxIDEtMy41IDAgMS43NSAxLjc1IDAgMCAxIDMuNSAwWiIvPjwvc3ZnPg==",at="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjAuMjkzIDQuMjkzYTEgMSAwIDAgMSAxLjQxNCAwbDQgNGExIDEgMCAwIDEgMCAxLjQxNGwtNCA0YTEgMSAwIDAgMS0xLjQxNC0xLjQxNEwyMi41ODYgMTBIMTJhNyA3IDAgMSAwIDAgMTRoOGExIDEgMCAxIDEgMCAyaC04YTkgOSAwIDEgMSAwLTE4aDEwLjU4NmwtMi4yOTMtMi4yOTNhMSAxIDAgMCAxIDAtMS40MTRaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",lt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTIuNDA4IiBjeT0iMTIuNDA4IiByPSI5LjQwOCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMjcuMDggMjUuMjRhMS4zMDEgMS4zMDEgMCAwIDEtMS44NCAxLjg0TDE4Ljg5IDIwLjczYTEuMyAxLjMgMCAxIDEgMS44NC0xLjg0bDYuMzUxIDYuMzUxWiIvPjxwYXRoIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik03LjkwOCAxMi40MDhhNC41IDQuNSAwIDEgMCA0LjUtNC41Ii8+PGNpcmNsZSBjeD0iOS4yMTYiIGN5PSI5LjE1NSIgcj0iMSIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==",ct="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMSIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE1LjU5NyA3LjE4NkEuMjUuMjUgMCAwIDAgMTYgNi45OVY1YzMuOTYzIDAgNi4zNy43MjcgNy44MjEgMi4xNzlDMjUuMjczIDguNjMgMjYgMTEuMDM3IDI2IDE1YTEgMSAwIDEgMCAyIDBjMC00LjExMi0uNzM1LTcuMjA2LTIuNzY1LTkuMjM1QzIzLjIwNSAzLjczNSAyMC4xMTMgMyAxNiAzVjEuMDExYS4yNS4yNSAwIDAgMC0uNDAzLS4xOTdsLTMuODQzIDIuOTg5YS4yNS4yNSAwIDAgMCAwIC4zOTVsMy44NDMgMi45ODhaIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy41IDlBMS41IDEuNSAwIDAgMCAyIDEwLjV2MTdBMS41IDEuNSAwIDAgMCAzLjUgMjloMTdhMS41IDEuNSAwIDAgMCAxLjUtMS41di0xN0ExLjUgMS41IDAgMCAwIDIwLjUgOWgtMTdabS41IDJ2MTZoMTZWMTFINFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",dt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE0LjQwMyA3LjIxN0EuMjUuMjUgMCAwIDEgMTQgNy4wMlY1LjAzYy0zLjk2MyAwLTYuMzcuNzI4LTcuODIxIDIuMThDNC43MjcgOC42NiA0IDExLjA2OCA0IDE1LjAzYTEgMSAwIDAgMS0yIDBjMC00LjExMi43MzUtNy4yMDUgMi43NjUtOS4yMzVDNi43OTUgMy43NjUgOS44ODggMy4wMzEgMTQgMy4wMzFWMS4wNDJhLjI1LjI1IDAgMCAxIC40MDMtLjE5N2wzLjg0MyAyLjk4OGEuMjUuMjUgMCAwIDEgMCAuMzk1bC0zLjg0MyAyLjk4OVoiLz48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi41IDkuMDNhMS41IDEuNSAwIDAgMSAxLjUgMS41djE3YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMTdhMS41IDEuNSAwIDAgMS0xLjUtMS41di0xN2ExLjUgMS41IDAgMCAxIDEuNS0xLjVoMTdabS0uNSAydjE2SDEwdi0xNmgxNloiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",ut="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIxIDQuNVY5bTQtMy41VjlNNC41IDIxSDltLTMuNS00SDltLTMuNSA4SDlNMiA5aDdtMCAwVjJtMCA3aDIwVjFIMXYyOGg4VjlabTgtMy41VjlNNS41IDEzSDltNC03LjVWOSIvPjwvc3ZnPg==",ht="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTMiIGN5PSIxMyIgcj0iOCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJtMTkgMTkgNiA2Ii8+PC9zdmc+",pt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIxLjUgMTcuNSAxNSAyNG0wIDAtNi41LTYuNU0xNSAyNFY2Ii8+PC9zdmc+",gt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIxLjUgMTQuNSAxNSAyMW0wIDAtNi41LTYuNU0xNSAyMVYzbTEyIDI0SDMiLz48L3N2Zz4=",It="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTI3IDlIMTZtMTEgMTJoLTNNMyA5aDNNMyAyMWgxMW0xLTEyYTQgNCAwIDEgMS04IDAgNCA0IDAgMCAxIDggMFptOCAxMmE0IDQgMCAxIDEtOCAwIDQgNCAwIDAgMSA4IDBaIi8+PC9zdmc+",mt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwLjc1IDEzLjdhMS43NSAxLjc1IDAgMSAwIDAtMy41IDEuNzUgMS43NSAwIDAgMCAwIDMuNVpNMTkuMjUgMTMuN2ExLjc1IDEuNzUgMCAxIDAgMC0zLjUgMS43NSAxLjc1IDAgMCAwIDAgMy41WiIvPjxwYXRoIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yMC43NDUgMTlBNi45OTIgNi45OTIgMCAwIDEgMTUgMjJhNi45OTIgNi45OTIgMCAwIDEtNS43NDUtM00xNSAyNy4yOTZjNi43OSAwIDEyLjI5Ni01LjUwNSAxMi4yOTYtMTIuMjk2QzI3LjI5NiA4LjIxIDIxLjc5IDIuNzA0IDE1IDIuNzA0IDguMjEgMi43MDQgMi43MDQgOC4yMSAyLjcwNCAxNWMwIDYuNzkgNS41MDUgMTIuMjk2IDEyLjI5NiAxMi4yOTZaTTEwLjc1IDEzLjdhMS43NSAxLjc1IDAgMSAwIDAtMy41IDEuNzUgMS43NSAwIDAgMCAwIDMuNVptOC41IDBhMS43NSAxLjc1IDAgMSAwIDAtMy41IDEuNzUgMS43NSAwIDAgMCAwIDMuNVoiLz48L3N2Zz4=",yt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTFNMjEgM3YzTTkgMjd2LTNtMTIgM1YxNk05IDE1YTQgNCAwIDEgMSAwIDggNCA0IDAgMCAxIDAtOFptMTItOGE0IDQgMCAxIDEgMCA4IDQgNCAwIDAgMSAwLThaIi8+PC9zdmc+",bt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xMSAxNWE0IDQgMCAxIDEtOCAwIDQgNCAwIDAgMSA4IDBabTE2LThhNCA0IDAgMSAxLTggMCA0IDQgMCAwIDEgOCAwWm0wIDE2YTQgNCAwIDEgMS04IDAgNCA0IDAgMCAxIDggMFpNMTkgMjFsLTgtNW04LTctOCA1Ii8+PC9zdmc+",ft="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIwLjUgOUgyM2EyIDIgMCAwIDEgMiAydjEyYTIgMiAwIDAgMS0yIDJIN2EyIDIgMCAwIDEtMi0yVjExYTIgMiAwIDAgMSAyLTJoMi41bTUuNSA4VjNtLTQuNSAyLjVMMTUgMWw0LjUgNC41Ii8+PC9zdmc+",Ct="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMSIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTQuNDIgNS43OTIgMy42MyA2LjEzNGguMTQxbDMuNjQ4LTYuMTM1aDQuMjk4bC01LjQ5MyA5IDUuNjE2IDloLTQuMzc3TDguMTkgMTcuNjQ4aC0uMTRMNC4zNTkgMjMuNzlIMGw1LjYzNC05LTUuNTI5LTloNC4zMTZaTTE4LjU0NSAyMy43OTF2LTE4aDMuODA2djE0Ljg2M2g3LjcxNnYzLjEzN0gxOC41NDVaIi8+PC9zdmc+",wt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTkgMjMuNzkxdi0xOGgzLjgwNnYxNC44NjNoNy43MTd2My4xMzdIOVoiLz48L3N2Zz4=",Mt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTUgNS43OTJoNC42OTNsNC45NTcgMTIuMDkzaC4yMTFsNC45NTctMTIuMDk0aDQuNjk0djE4SDIwLjgyVjEyLjA3NmgtLjE1bC00LjY1NyAxMS42MjhoLTIuNTE0TDguODQxIDEyLjAzMmgtLjE1djExLjc2SDV2LTE4WiIvPjwvc3ZnPg==",At="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE4LjA2NSAxMS4wNjhjLS4wNjktLjY5LS4zNjItMS4yMjYtLjg4MS0xLjYwOC0uNTE5LS4zODItMS4yMjMtLjU3My0yLjExMi0uNTczLS42MDQgMC0xLjExNS4wODUtMS41My4yNTctLjQxNy4xNjUtLjczNi4zOTYtLjk1OS42OTJhMS42NjcgMS42NjcgMCAwIDAtLjMyNSAxLjAxYy0uMDExLjMxMy4wNTUuNTg2LjE5Ny44Mi4xNDguMjM0LjM1LjQzNi42MDcuNjA3LjI1Ny4xNjUuNTUzLjMxLjg5LjQzNi4zMzYuMTIuNjk1LjIyMyAxLjA3Ny4zMDhsMS41NzMuMzc2Yy43NjQuMTcxIDEuNDY1LjQgMi4xMDQuNjg0YTYuMzg2IDYuMzg2IDAgMCAxIDEuNjU5IDEuMDUyYy40NjcuNDE2LjgzLjkwNyAxLjA4NiAxLjQ3MS4yNjIuNTY0LjM5NiAxLjIxMS40MDIgMS45NDEtLjAwNiAxLjA3Mi0uMjggMi4wMDEtLjgyMSAyLjc4OC0uNTM2Ljc4LTEuMzExIDEuMzg4LTIuMzI2IDEuODIxLTEuMDEuNDI4LTIuMjI2LjY0Mi0zLjY1MS42NDItMS40MTQgMC0yLjY0Ni0uMjE3LTMuNjk0LS42NS0xLjA0NC0uNDM0LTEuODU5LTEuMDc1LTIuNDQ2LTEuOTI0LS41ODItLjg1NS0uODg2LTEuOTEzLS45MTUtMy4xNzNoMy41ODNjLjA0LjU4Ny4yMDggMS4wNzguNTA0IDEuNDcxLjMwMy4zODguNzA0LjY4MSAxLjIwNi44OC41MDguMTk1IDEuMDguMjkxIDEuNzE5LjI5MS42MjcgMCAxLjE3MS0uMDkgMS42MzMtLjI3My40NjgtLjE4My44My0uNDM2IDEuMDg2LS43NjEuMjU3LS4zMjUuMzg1LS42OTkuMzg1LTEuMTIgMC0uMzk0LS4xMTctLjcyNC0uMzUtLjk5Mi0uMjI5LS4yNjgtLjU2NS0uNDk2LTEuMDEtLjY4NC0uNDM5LS4xODgtLjk3Ny0uMzYtMS42MTYtLjUxNGwtMS45MDctLjQ3OGMtMS40NzYtLjM2LTIuNjQyLS45MjEtMy40OTctMS42ODVzLTEuMjgtMS43OTMtMS4yNzQtMy4wODdjLS4wMDYtMS4wNi4yNzYtMS45ODcuODQ2LTIuNzc5LjU3Ni0uNzkyIDEuMzY2LTEuNDEgMi4zNjktMS44NTYgMS4wMDMtLjQ0NCAyLjE0My0uNjY3IDMuNDItLjY2NyAxLjMgMCAyLjQzNS4yMjMgMy40MDQuNjY3Ljk3NC40NDUgMS43MzMgMS4wNjQgMi4yNzQgMS44NTYuNTQyLjc5Mi44MjEgMS43MS44MzggMi43NTRoLTMuNTQ4WiIvPjwvc3ZnPg==",xt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTYgNnYyYzAgNS42IDAgOC40IDEuMDkgMTAuNTRhMTAgMTAgMCAwIDAgNC4zNyA0LjM3QzEzLjYgMjQgMTYuNCAyNCAyMiAyNGgyIi8+PC9zdmc+",St="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTYgNnYxOGgxOCIvPjwvc3ZnPg==",vt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMi42IiBkPSJNMyAyOFYybTggMjZWMm04IDI2VjJtOCAyNlYyIi8+PC9zdmc+",Lt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMi42IiBkPSJNMjggMjdIMm0yNi04SDJtMjYtOEgybTI2LThIMiIvPjwvc3ZnPg==",jt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIgMTJoMjZ2Nkgydi02Wk0wIDNhMSAxIDAgMCAxIDIgMHYyNGExIDEgMCAxIDEtMiAwVjNaTTI4IDNhMSAxIDAgMSAxIDIgMHYyNGExIDEgMCAwIDEtMiAwVjNaIi8+PC9zdmc+",Nt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIgMWExIDEgMCAwIDEgMS0xaDI0YTEgMSAwIDEgMSAwIDJIM2ExIDEgMCAwIDEtMS0xWk0xMiAyaDZ2MjZoOWExIDEgMCAxIDEgMCAySDNhMSAxIDAgMSAxIDAtMmg5VjJaIi8+PC9zdmc+",Dt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTcgMjFoMTZNOSAxNWgxMk01IDloMjAiLz48L3N2Zz4=",Zt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTUgMjFoMjBNNSAxNWg3bTcgMGg2TTUgOWgyMCIvPjwvc3ZnPg==",Et="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTUgMjFoMTZNNSAxNWgxME01IDloMjAiLz48L3N2Zz4=",kt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTkgMjFoMTZtLTEwLTZoMTBNNSA5aDIwIi8+PC9zdmc+",Tt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTI0IDE4LjQ2N1Y2bTAgMEgxMS41MzNNMjQgNiA3IDIzIi8+PC9zdmc+",zt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMiAzLjVBMS41IDEuNSAwIDAgMSAzLjUgMmgyM0ExLjUgMS41IDAgMCAxIDI4IDMuNXYyM2ExLjUgMS41IDAgMCAxLTEuNSAxLjVoLTIzQTEuNSAxLjUgMCAwIDEgMiAyNi41di0yM1pNNCAyNlY0aDIydjIySDRaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTYgOC4wNzhhMSAxIDAgMSAwLTIgMHY1LjVIOC41YTEgMSAwIDEgMCAwIDJIMTR2NS41YTEgMSAwIDEgMCAyIDB2LTUuNWg1LjVhMSAxIDAgMSAwIDAtMkgxNnYtNS41WiIvPjwvc3ZnPg==",Wt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0ibTYuNzM2IDEzLjY2LTMuNDMgMy40M2EyIDIgMCAwIDAgMCAyLjgyOGw1LjMwNCA1LjMwNGE1IDUgMCAwIDAgNy4wNzEgMGwxLjMwOC0xLjMwOE02LjczNiAxMy42NiAxNy44NTQgMi41NDNsMTAuMjUzIDEwLjI1M0wxNi45OSAyMy45MTRNNi43MzYgMTMuNjYgMTYuOTkgMjMuOTE0Ii8+PC9zdmc+",Yt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEwLjIgMjdINWEyIDIgMCAwIDEtMi0ydi01LjJNMTkuOCAyN0gyNWEyIDIgMCAwIDAgMi0ydi01LjJNMyAxMC4yVjVhMiAyIDAgMCAxIDItMmg1LjJtOS42IDBIMjVhMiAyIDAgMCAxIDIgMnY1LjIiLz48L3N2Zz4=",Pt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTguNjM2IDE2LjAyMmMtLjE5LS43MjMtLjM4LTEuNjE4LS43OC0yLjk1LS43NTctMi40OS0yLjA3NS00LjgtMi43MjMtNy4zMjYtLjQyNS0xLjgxIDEuMTItMy42NDMgMy4wNDYtMi45NjkgMi45NDkgMS4wMzYgMy44NjggNi4xMDkgNC4yODMgOC42NzhsLjE1Mi44NTZjLS4yMDMtMy43MDctLjQ2OS02LjEyNiAwLTkuMTcyLjQ2My0yLjg5IDQuODg4LTIuODI1IDUuMjU0LjAzOC4xODkgMi4wNzkuMTkgNC4xNTQuMTkgNi4yNDIgMCAuNDM3IDAgMy4wODIuMDM4IDIuNzk3LjExNC0xLjI1Ni4xNzEtNi4wNy42NDctNy40OTggMS4wNC0zLjE5IDQuODkzLTIuMDI4IDUuMDgzLjg3Ni4xNTcgMi4xLS4wNjIgNC4yOS0uMTE0IDYuMzk0IDAgLjA3Ni0uMDIuNTcuMDM4LjM0Mi41NzQtMS43ODYuMDc2LTYuNzM2IDMuMTg3LTYuMTE5IDEuMDI3LjIwNCAyLjkzMSAxLjU5IDEuNTQyIDYuMjg5LTEuOTYgNi42MzEtNC41IDkuNDk4LTQuNSAxNi41aC0xNGMwLTUtNi42MS04LjgyLTguNS0xMi41OTgtLjQxOC0uNzk5LS42MjYtMS44MDctLjM2LTIuNTMuNDM4LTEuMTIzIDEuMjU0LTEuNzEzIDIuNTY4LTEuNTggMi4xNDIuMjA2IDMuMDA4IDIuMDMyIDQuOTQ5IDMuNzNaIi8+PC9zdmc+",Gt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjYwNCAyNS4xMjMgMjcuMTUxIDkuNTU0IDIwLjAzMiAyLjM1IDQuNDg2IDE3LjkxOG03LjExOCA3LjIwNS0zLjgxOCAxLjYzNi00LjkzNy01LjAyMyAxLjYzNy0zLjgxOW03LjExOCA3LjIwNi03LjExOC03LjIwNiIvPjwvc3ZnPg==",Ot="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTI1IDUgNSAyNSIvPjwvc3ZnPg==",Rt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTUgNy4zOThhMy42MDIgMy42MDIgMCAxIDAgMCA3LjIwNCAzLjYwMiAzLjYwMiAwIDAgMCAwLTcuMjA0Wk0xMy4zOTggMTFhMS42MDIgMS42MDIgMCAxIDEgMy4yMDQgMCAxLjYwMiAxLjYwMiAwIDAgMS0zLjIwNCAwWiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDJoMjFBMi41IDIuNSAwIDAgMSAyOCA0LjV2MjFhMi41IDIuNSAwIDAgMS0yLjUgMi41aC0yMUEyLjUgMi41IDAgMCAxIDIgMjUuNXYtMjFBMi41IDIuNSAwIDAgMSA0LjUgMlpNMjYgNC41djE0LjA4NmwtMy4yOTMtMy4yOTNhMSAxIDAgMCAwLTEuNDE0IDBsLTUuNTQzIDUuNTQzLTcuMDE5LTcuNTE4YTEgMSAwIDAgMC0xLjQzOC0uMDI1TDQgMTYuNTg2VjQuNWEuNS41IDAgMCAxIC41LS41aDIxYS41LjUgMCAwIDEgLjUuNVptLTIyIDIxdi02LjA4NmwzLjk3NS0zLjk3NSA3LjAxNCA3LjUxM0wxNy43NDcgMjZINC41YS41LjUgMCAwIDEtLjUtLjVabTIxLjUuNWgtNS4wNTVsLTMuMzQtMy42OUwyMiAxNy40MTNsNCA0VjI1LjVhLjUuNSAwIDAgMS0uNS41WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",Ft="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjMuODU0LjMxNWMuNDItLjQyIDEuMTAyLS40MiAxLjUyMyAwbDQuMzA4IDQuMzA4Yy40Mi40Mi40MiAxLjEwMyAwIDEuNTIzbC04LjQ5MiA4LjQ5MmMtLjE2NC4xNjQtLjM1My4zLS41Ni40MDNsLTguNDYgNC4yM2ExLjA3NyAxLjA3NyAwIDAgMS0xLjQ0NC0xLjQ0NWw0LjIzLTguNDU5Yy4xMDMtLjIwNy4yNC0uMzk2LjQwMy0uNTZMMjMuODU0LjMxNVptLjc2MSAyLjI4NS03LjczIDcuNzMtMi4yMzYgNC40NzMuNTQ4LjU0OCA0LjQ3My0yLjIzNiA3LjczLTcuNzNMMjQuNjE1IDIuNlptLTUuMzg0LS40NDYtMi4xNTQgMi4xNTRoLTguODNjLS45MjMgMC0xLjU1IDAtMi4wMzUuMDQtLjQ3Mi4wMzktLjcxNC4xMDktLjg4Mi4xOTRhMi4xNTQgMi4xNTQgMCAwIDAtLjk0MS45NDJjLS4wODYuMTY4LS4xNTYuNDEtLjE5NS44ODItLjA0LjQ4NC0uMDQgMS4xMTItLjA0IDIuMDM0djEzLjM1NGMwIC45MjIgMCAxLjU1LjA0IDIuMDM0LjAzOS40NzIuMTA5LjcxNC4xOTUuODgyLjIwNi40MDUuNTM2LjczNS45NC45NDEuMTcuMDg2LjQxLjE1Ni44ODMuMTk1LjQ4NS4wNCAxLjExMi4wNCAyLjAzNC4wNEgyMS42Yy45MjIgMCAxLjU1IDAgMi4wMzQtLjA0LjQ3Mi0uMDM5LjcxNC0uMTA5Ljg4Mi0uMTk1LjQwNi0uMjA2LjczNS0uNTM2Ljk0Mi0uOTQuMDg1LS4xNy4xNTUtLjQxLjE5NC0uODgzLjA0LS40ODUuMDQtMS4xMTIuMDQtMi4wMzR2LTguODMxbDIuMTU0LTIuMTU0djExLjAyOWMwIC44NjcgMCAxLjU4My0uMDQ3IDIuMTY2LS4wNS42MDUtLjE1NiAxLjE2MS0uNDIyIDEuNjg0YTQuMzA4IDQuMzA4IDAgMCAxLTEuODgzIDEuODgzYy0uNTIzLjI2Ni0xLjA3OS4zNzItMS42ODQuNDIxLS41ODMuMDQ4LTEuMjk5LjA0OC0yLjE2NS4wNDhIOC4yMDJjLS44NjcgMC0xLjU4MyAwLTIuMTY1LS4wNDgtLjYwNi0uMDUtMS4xNjItLjE1NS0xLjY4NS0uNDIyYTQuMzA4IDQuMzA4IDAgMCAxLTEuODgyLTEuODgyYy0uMjY3LS41MjMtLjM3My0xLjA4LS40MjItMS42ODRDMiAyMy4zOCAyIDIyLjY2NSAyIDIxLjc5N1Y4LjM1NmMwLS44NjcgMC0xLjU4My4wNDgtMi4xNjYuMDQ5LS42MDUuMTU1LTEuMTYxLjQyMi0xLjY4NGE0LjMwOCA0LjMwOCAwIDAgMSAxLjg4Mi0xLjg4M2MuNTIzLS4yNjYgMS4wOC0uMzcyIDEuNjg0LS40MjIuNTgzLS4wNDcgMS4yOTktLjA0NyAyLjE2Ni0uMDQ3SDE5LjIzWiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",Bt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0ibTQuNjM2IDIzLjE4MiAxLjU5OS0zLjczYS41LjUgMCAwIDEgLjEwNi0uMTU3TDIyLjYzNiAzIDI3IDcuMzY0IDEwLjcwNCAyMy42NTlhLjUwMS41MDEgMCAwIDEtLjE1Ni4xMDZsLTMuNzMgMS41OTltLTIuMTgyLTIuMTgyTDMgMjdsMy44MTgtMS42MzZtLTIuMTgyLTIuMTgyIDIuMTgyIDIuMTgyIi8+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTMgMjcgMS43MTQtNEw3IDI1LjI4NiAzIDI3WiIvPjwvc3ZnPg==",Jt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Im0xNy4wNzIgMjguNzEzIDQuMjQ1LTEuOTM1LTQuNDE1LTkuNzAxIDguMDM3LS4zNTVMNy4xMjMgMS4yODd2MjMuNTVsNS41MjUtNS44MjYgNC40MjQgOS43MDJaIi8+PC9zdmc+",Ht="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTExLjUwOSAyNGExIDEgMCAxIDAgMCAydi0yWm03IDJhMSAxIDAgMSAwIDAtMnYyWk03IDVWNGExIDEgMCAwIDAtMSAxaDFabTE2IDBoMWExIDEgMCAwIDAtMS0xdjFabS0xIDRhMSAxIDAgMSAwIDIgMGgtMlpNNiA5YTEgMSAwIDAgMCAyIDBINlptMTAgMTUuNXYtMTloLTJ2MTloMlpNMTEuNTA5IDI2aDd2LTJoLTd2MlpNNyA2aDE2VjRIN3YyWm0xNyAzVjVoLTJ2NGgyWk04IDlWNUg2djRoMloiLz48L3N2Zz4=",Xt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSAzLjN2MS44aDlWMy4zaC05Wm0xMC44IDEuOFYyLjg1YTEuMzUgMS4zNSAwIDAgMC0xLjM1LTEuMzVoLTkuOUExLjM1IDEuMzUgMCAwIDAgOC43IDIuODVWNS4xSDMuM2EuOS45IDAgMCAwIDAgMS44aDEuOTYxYzAgLjA1LjAwMi4xMDIuMDA3LjE1NGwxLjcgMTkuOEExLjggMS44IDAgMCAwIDguNzYgMjguNWgxMi40NzhhMS44IDEuOCAwIDAgMCAxLjc5NC0xLjY0NmwxLjctMTkuOGMuMDA0LS4wNTIuMDA2LS4xMDMuMDA2LS4xNTRIMjYuN2EuOS45IDAgMSAwIDAtMS44aC01LjRabTEuNjM5IDEuOEg3LjA2bDEuNyAxOS44aDEyLjQ3OGwxLjctMTkuOFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjMyNSAxMS40MDNhLjkuOSAwIDAgMSAuOTcyLjgyMmwuOSAxMC44YS45LjkgMCAxIDEtMS43OTQuMTVsLS45LTEwLjhhLjkuOSAwIDAgMSAuODIyLS45NzJaTTE3LjYyNSAyMy45OTdhLjkuOSAwIDAgMS0uODIyLS45NzJsLjktMTAuOGEuOS45IDAgMCAxIDEuNzk0LjE1bC0uOSAxMC44YS45LjkgMCAwIDEtLjk3Mi44MjJaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",Vt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTggMTJoMTRsLTcgOS03LTlaIi8+PC9zdmc+",_t="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTggMThoMTRsLTctOS03IDlaIi8+PC9zdmc+",Ut="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIwLjcyIDQuMTM3YTUuMjU0IDUuMjU0IDAgMCAwLTUuMjUzIDUuMjU2YzAgLjQxLjA0Ny44MS4xMzUgMS4xOTVhMTQuOTE5IDE0LjkxOSAwIDAgMS0xMC44MjktNS40OSA1LjI1MSA1LjI1MSAwIDAgMC0uNzEgMi42NDFjMCAxLjgyMy45MjggMy40MzIgMi4zMzcgNC4zNzRhNS4yNDEgNS4yNDEgMCAwIDEtMi4zOC0uNjU4di4wNjhhNS4yNTYgNS4yNTYgMCAwIDAgNC4yMTQgNS4xNTIgNS4yOTQgNS4yOTQgMCAwIDEtMi4zNzIuMDkgNS4yNTcgNS4yNTcgMCAwIDAgNC45MDggMy42NDcgMTAuNTQyIDEwLjU0MiAwIDAgMS02LjUyNiAyLjI1Yy0uNDI0IDAtLjg0Mi0uMDI1LTEuMjU0LS4wNzNhMTQuODU4IDE0Ljg1OCAwIDAgMCA4LjA1MyAyLjM2YzkuNjY1IDAgMTQuOTQ4LTguMDA1IDE0Ljk0OC0xNC45NDcgMC0yLjk2LTIuMDk0LTUuODY1LTUuMjcxLTUuODY1WiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0yNi4zOTMgNy4xMzhhMTAuNTIgMTAuNTIgMCAwIDAgMy4wMTctLjgyN2wtLjAwMy4wMDNhMTAuNjggMTAuNjggMCAwIDEtMi42MiAyLjcxOGwtMS40Mi0zLjUyN2ExMC40ODggMTAuNDg4IDAgMCAwIDMuMzM2LTEuMjc1IDUuMjY4IDUuMjY4IDAgMCAxLTIuMzEgMi45MDhaIi8+PC9zdmc+",Kt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOS43MDcgNC4yOTNhMSAxIDAgMCAxIDAgMS40MTRMNy40MTQgOEgxOGE5IDkgMCAxIDEgMCAxOGgtOGExIDEgMCAxIDEgMC0yaDhhNyA3IDAgMSAwIDAtMTRINy40MTRsMi4yOTMgMi4yOTNhMSAxIDAgMCAxLTEuNDE0IDEuNDE0bC00LTRhMSAxIDAgMCAxIDAtMS40MTRsNC00YTEgMSAwIDAgMSAxLjQxNCAwWiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",Qt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTIuOSAxLjlhMSAxIDAgMCAwLTEgMXY0YTEgMSAwIDAgMCAyIDB2LTNoM2ExIDEgMCAxIDAgMC0yaC00Wk0xMS45IDEuOWExIDEgMCAxIDAgMCAyaDZhMSAxIDAgMSAwIDAtMmgtNlpNMTAuOSAyNi45YTEgMSAwIDAgMSAxLTFoNmExIDEgMCAxIDEgMCAyaC02YTEgMSAwIDAgMS0xLTFaTTMuOSAxMS45YTEgMSAwIDEgMC0yIDB2NmExIDEgMCAxIDAgMiAwdi02Wk0yNi45IDEwLjlhMSAxIDAgMCAxIDEgMXY2YTEgMSAwIDEgMS0yIDB2LTZhMSAxIDAgMCAxIDEtMVpNMjcuOSAyMi45YTEgMSAwIDEgMC0yIDBsLS4wMDIgM0gyMi45YTEgMSAwIDEgMCAwIDJoNGExIDEgMCAwIDAgMS0xdi00WiIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTI3LjI5MyAzLjcwNyAzLjcwNyAyNy4yOTNhMSAxIDAgMCAxLTEuNDE0LTEuNDE0TDI1Ljg3OSAyLjI5M2ExIDEgMCAxIDEgMS40MTQgMS40MTRaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",qt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xMCAxNS40NjFhMSAxIDAgMCAxIDEtMWg4Ljc3YTEgMSAwIDAgMSAxIDFWMjFhMSAxIDAgMCAxLTEgMUgxMWExIDEgMCAwIDEtMS0xdi01LjUzOVoiLz48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTE4LjYxNiAxNC40NjF2LTMuMDg0QzE4LjYxNiA5LjMgMTcuNDYyIDggMTUuMzgzIDhjLTEuMTQxIDAtMi4wMDMuMzc0LTIuNTQ4IDEuMDc3LS40NDcuNTc3LS42ODEgMS4zNi0uNjgxIDIuMjk3Ii8+PC9zdmc+",$t="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik01IDE1YTEgMSAwIDAgMSAxLTFoMThhMSAxIDAgMCAxIDEgMXYxMmExIDEgMCAwIDEtMSAxSDZhMSAxIDAgMCAxLTEtMVYxNVoiLz48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIxIDE0VjguMjcyQzIxIDQuNDEyIDE4Ljg1OCAyIDE0Ljk5NyAyYy0yLjEyIDAtMy43Mi42OTUtNC43MzIgMkM5LjQzNSA1LjA3MiA5IDYuNTI2IDkgOC4yNjciLz48L3N2Zz4=",ei="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTE5IDE1YTQgNCAwIDEgMS04IDAgNCA0IDAgMCAxIDggMFoiLz48L3N2Zz4=",ti="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTYuNCIgY3k9IjIxLjM4IiByPSIxLjUiIGZpbGw9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTUuMDU0IDkuNGExLjM0NyAxLjM0NyAwIDEgMSAyLjY5MiAwbC0uMzA4IDguMDAyYTEuMDQgMS4wNCAwIDAgMS0yLjA3NiAwTDE1LjA1MyA5LjRaIi8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yOS45NiAyMy44NSAxNi41MTQgMS4yOTNhLjYuNiAwIDAgMC0xLjAzIDBMMi4wNCAyMy44NWEuNi42IDAgMCAwIC41MTUuOTA3aDI2Ljg4OGEuNi42IDAgMCAwIC41MTUtLjkwN1oiLz48L3N2Zz4=",ii="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTIuNDA4IiBjeT0iMTIuNDA4IiByPSI5LjQwOCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB3aWR0aD0iMi42MDIiIGhlaWdodD0iOS4xMDciIHg9IjExLjEwNyIgeT0iNy44NTQiIGZpbGw9IiMwMDAiIHJ4PSIxLjMwMSIvPjxyZWN0IHdpZHRoPSIyLjYwMiIgaGVpZ2h0PSI5LjEwNyIgeD0iMTYuOTYxIiB5PSIxMS4xMDciIGZpbGw9IiMwMDAiIHJ4PSIxLjMwMSIgdHJhbnNmb3JtPSJyb3RhdGUoOTAgMTYuOTYgMTEuMTA3KSIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0yNy4wOCAyNS4yNGExLjMwMSAxLjMwMSAwIDAgMS0xLjg0IDEuODRMMTguODkgMjAuNzNhMS4zIDEuMyAwIDEgMSAxLjg0LTEuODRsNi4zNTEgNi4zNTFaIi8+PC9zdmc+",ni="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTIuNDA4IiBjeT0iMTIuNDA4IiByPSI5LjQwOCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB3aWR0aD0iMi42MDIiIGhlaWdodD0iOS4xMDciIHg9IjE2Ljk2MSIgeT0iMTEuMTA3IiBmaWxsPSIjMDAwIiByeD0iMS4zMDEiIHRyYW5zZm9ybT0icm90YXRlKDkwIDE2Ljk2IDExLjEwNykiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMjcuMDggMjUuMjRhMS4zMDEgMS4zMDEgMCAwIDEtMS44NCAxLjg0TDE4Ljg5IDIwLjczYTEuMyAxLjMgMCAxIDEgMS44NC0xLjg0bDYuMzUxIDYuMzUxWiIvPjwvc3ZnPg==",si=i.p+"drawing/ar-cf3360a3251fd569.json",oi=i.p+"drawing/ca-3ec185bf193f0e4a.json",ri=i.p+"drawing/da-3e7032a846418073.json",ai=i.p+"drawing/de-ef7f7ad0dceb8679.json",li="data:application/json;base64,e30=",ci=i.p+"drawing/es-f6ba4a7e449da821.json",di="data:application/json;base64,ewoJImFjdGlvbi5icmluZy1mb3J3YXJkIjogItin2YbYqtmC2KfZhCDYqNmHINiz2YXYqiDYrNmE2YgiLAoJImFjdGlvbi5icmluZy10by1mcm9udCI6ICLYp9mG2KrZgtin2YQg2KjZhyDYrNmE2YgiLAoJImFjdGlvbi5jb3B5IjogItqp2b7bjCIsCgkiYWN0aW9uLmN1dCI6ICLYqNix24zYr9mGIiwKCSJhY3Rpb24uZGVsZXRlIjogItit2LDZgSIsCgkiYWN0aW9uLmR1cGxpY2F0ZSI6ICLYqtqp2KvbjNix2qnYsdiv2YYiLAoJImFjdGlvbi5mbGlwLWhvcml6b250YWwiOiAi2YjYp9ix2YjZhtmH4oCM2LPYp9iy24wg2KfZgdmC24wiLAoJImFjdGlvbi5mbGlwLXZlcnRpY2FsIjogItmI2KfYsdmI2YbZh+KAjNiz2KfYstuMINi52YXZiNiv24wiLAoJImFjdGlvbi5mbGlwLWhvcml6b250YWwuc2hvcnQiOiAi2YjYp9ix2YjZhtmH4oCM2LPYp9iy24wg2KfZgdmC24wiLAoJImFjdGlvbi5mbGlwLXZlcnRpY2FsLnNob3J0IjogItmI2KfYsdmI2YbZh+KAjNiz2KfYstuMINi52YXZiNiv24wiLAoJImFjdGlvbi5ncm91cCI6ICLar9ix2YjZh+KAjNio2YbYr9uMIiwKCSJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogItio2KfYsdqv2LDYp9ix24wg2LHYs9in2YbZhyIsCgkiYWN0aW9uLnBhc3RlIjogItis2KfbjOKAjNqv2LDYp9ix24wiLAoJImFjdGlvbi5yZWRvIjogItin2YbYrNin2YUg2K/ZiNio2KfYsdmHIiwKCSJhY3Rpb24uc2VsZWN0LWFsbCI6ICLYp9mG2KrYrtin2Kgg2YfZhdmHIiwKCSJhY3Rpb24uc2VsZWN0LW5vbmUiOiAi2KfZhtiq2K7Yp9ioINmH24zahuKAjNuM2qkiLAoJImFjdGlvbi5zZW5kLWJhY2t3YXJkIjogItin2YbYqtmC2KfZhCDYqNmHINiz2YXYqiDYudmC2KgiLAoJImFjdGlvbi5zZW5kLXRvLWJhY2siOiAi2KfZhtiq2YLYp9mEINio2Ycg2LnZgtioIiwKCSJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZS5tZW51IjogItit2KfZhNiqINiq2KfYsduM2qkiLAoJImFjdGlvbi50b2dnbGUtZGFyay1tb2RlIjogItit2KfZhNiqINiq2KfYsduM2qkiLAoJImFjdGlvbi50b2dnbGUtZGVidWctbW9kZS5tZW51IjogItit2KfZhNiqINi524zYqOKAjNuM2KfYqNuMIiwKCSJhY3Rpb24udG9nZ2xlLWRlYnVnLW1vZGUiOiAi2K3Yp9mE2Kog2LnbjNio4oCM24zYp9io24wiLAoJImFjdGlvbi50b2dnbGUtZm9jdXMtbW9kZS5tZW51IjogItit2KfZhNiqINiq2YXYsdqp2LIiLAoJImFjdGlvbi50b2dnbGUtZm9jdXMtbW9kZSI6ICLYrdin2YTYqiDYqtmF2LHaqdiyIiwKCSJhY3Rpb24udG9nZ2xlLWdyaWQubWVudSI6ICLZhtmF2KfbjNi0INiu2LfZiNi3INix2KfZh9mG2YXYpyIsCgkiYWN0aW9uLnVuZG8iOiAi2YjYp9qv2LHYr9in2YbbjCIsCgkiYWN0aW9uLnVuZ3JvdXAiOiAi2YTYutmIINqv2LHZiNmH4oCM2KjZhtiv24wiLAoJImFjdGlvbi56b29tLWluIjogItio2LLYsdqv4oCM2YbZhdin24zbjCIsCgkiYWN0aW9uLnpvb20tb3V0IjogItqp2Yjahtqp4oCM2YbZhdin24zbjCIsCgkiYWN0aW9uLnpvb20tdG8tZml0IjogItio2LLYsdqv4oCM2YbZhdin24zbjCDZhdiq2YbYp9iz2Kgg2KjYpyDYtdmB2K3ZhyIsCgkiYWN0aW9uLnpvb20tdG8tc2VsZWN0aW9uIjogItio2LLYsdqv4oCM2YbZhdin24zbjCDYqNmHINmG2KfYrduM2Ycg2KfZhtiq2K7Yp9io4oCM2LTYr9mHIiwKCSJnZW8tc3R5bGUuZWxsaXBzZSI6ICLar9ix2K/bjCIsCgkiZ2VvLXN0eWxlLnJlY3RhbmdsZSI6ICLahtmH2KfYsdqv2YjYtCIsCgkiZ2VvLXN0eWxlLnRyaWFuZ2xlIjogItiz2YfigIzar9mI2LQiLAoJImFycm93aGVhZFN0YXJ0LXN0eWxlLmFycm93IjogItmB2ZDZhNmQ2LQiLAoJImFycm93aGVhZFN0YXJ0LXN0eWxlLnRyaWFuZ2xlIjogItiz2YfigIzar9mI2LQiLAoJImFycm93aGVhZEVuZC1zdHlsZS5hcnJvdyI6ICLZgdmQ2YTZkNi0IiwKCSJhcnJvd2hlYWRFbmQtc3R5bGUudHJpYW5nbGUiOiAi2LPZh+KAjNqv2YjYtCIsCgkic3BsaW5lLXN0eWxlLmxpbmUiOiAi2K7YtyIsCgkidG9vbC5zZWxlY3QiOiAi2KfZhtiq2K7Yp9ioIiwKCSJ0b29sLmRyYXciOiAi2LHYs9mFIiwKCSJ0b29sLmVyYXNlciI6ICLZvtin2qnigIzaqdmGIiwKCSJ0b29sLmFycm93IjogItmB2ZDZhNmQ2LQiLAoJInRvb2wuZWxsaXBzZSI6ICLar9ix2K/bjCIsCgkidG9vbC5yZWN0YW5nbGUiOiAi2obZh9in2LHar9mI2LQiLAoJInRvb2wudHJpYW5nbGUiOiAi2LPZh+KAjNqv2YjYtCIsCgkidG9vbC5ub3RlIjogItio2LHar9mHINqG2LPYqNin2YYiLAoJInRvb2wudGV4dCI6ICLZhdiq2YYiLAoJIm1lbnUuY29weS1hcyI6ICLaqdm+24wg2KjZh+KAjNi52YbZiNin2YYiLAoJIm1lbnUuZWRpdCI6ICLZiNuM2LHYp9uM2LQiLAoJIm1lbnUuZXhwb3J0LWFzIjogItiu2LHZiNis24zigIzar9ix2YHYqtmGINio2YfigIzYudmG2YjYp9mGIiwKCSJtZW51LmZpbGUiOiAi2b7YsdmI2YbYr9mHIiwKCSJtZW51Lmxhbmd1YWdlIjogItiy2KjYp9mGIiwKCSJtZW51LnByZWZlcmVuY2VzIjogItiq2LHYrNuM2K3Yp9iqIiwKCSJtZW51LnZpZXciOiAi2YbZhdin24zYtCIsCgkiY29udGV4dC1tZW51LmNvcHktYXMiOiAi2qnZvtuMINio2YfigIzYudmG2YjYp9mGIiwKCSJjb250ZXh0LW1lbnUuZXhwb3J0LWFzIjogItiu2LHZiNis24zigIzar9ix2YHYqtmGINio2YfigIzYudmG2YjYp9mGIiwKCSJjb250ZXh0LW1lbnUubW92ZS10by1wYWdlIjogItin2YbYqtmC2KfZhCDYqNmHINio2LHar9mHIiwKCSJwYWdlLW1lbnUuY3JlYXRlLW5ldy1wYWdlIjogItin24zYrNin2K8g2KjYsdqv2YciLAoJInBhZ2UtbWVudS5wYWdlIjogItio2LHar9mHIiwKCSJwYWdlLW1lbnUuZWRpdC1zdGFydCI6ICLZiNuM2LHYp9uM2LQiLAoJInBhZ2UtbWVudS5zdWJtZW51LmR1cGxpY2F0ZS1wYWdlIjogItiq2qnYq9uM2LHaqdix2K/ZhiIsCgkicGFnZS1tZW51LnN1Ym1lbnUuZGVsZXRlIjogItit2LDZgSIsCgkic2hhcmUtbWVudS5jb3B5LWxpbmsiOiAi2qnZvtuM4oCM2qnYsdiv2YYg2b7bjNmI2YbYryDYr9i52YjYqiIsCgkic2hhcmUtbWVudS5jb3B5LXJlYWRvbmx5LWxpbmsiOiAi2qnZvtuM4oCM2qnYsdiv2YYg2b7bjNmI2YbYryDYutuM2LHZgtin2KjZhCDZiNuM2LHYp9uM2LQiLAoJImhlbHAtbWVudS5rZXlib2FyZC1zaG9ydGN1dHMiOiAi2YXbjNin2YbigIzYqNix2YfYp9uMINi12YHYrdmH4oCM2qnZhNuM2K8iLAoJImVkaXQtbGluay1kaWFsb2cuY2FuY2VsIjogItmE2LrZiCIsCgkiZWRpdC1wYWdlcy1kaWFsb2cuY3JlYXRlLW5ldy1wYWdlIjogItin24zYrNin2K8g2KjYsdqv2YciLAoJImVkaXQtcGFnZXMtZGlhbG9nLmRlbGV0ZSI6ICLYrdiw2YEiLAoJImVkaXQtcGFnZXMtZGlhbG9nLmR1cGxpY2F0ZS1wYWdlIjogItiq2qnYq9uM2LHaqdix2K/ZhiIsCgkic2hvcnRjdXRzLWRpYWxvZy50aXRsZSI6ICLZhduM2KfZhuKAjNio2LHZh9in24wg2LXZgdit2YfigIzaqdmE24zYryIsCgkic2hvcnRjdXRzLWRpYWxvZy5lZGl0IjogItmI24zYsdin24zYtCIsCgkic2hvcnRjdXRzLWRpYWxvZy5maWxlIjogItm+2LHZiNmG2K/ZhyIsCgkic2hvcnRjdXRzLWRpYWxvZy5wcmVmZXJlbmNlcyI6ICLYqtix2KzbjNit2KfYqiIsCgkic2hvcnRjdXRzLWRpYWxvZy50b29scyI6ICLYp9io2LLYp9ix2YfYpyIsCgkic2hvcnRjdXRzLWRpYWxvZy50cmFuc2Zvcm0iOiAi2KrYutuM24zYsSDYtNqp2YQiLAoJInNob3J0Y3V0cy1kaWFsb2cudmlldyI6ICLZhtmF2KfbjNi0IiwKCSJzdHlsZS1wYW5lbC50aXRsZSI6ICLYs9io2qnigIzZh9inIiwKCSJzdHlsZS1wYW5lbC5hbGlnbiI6ICLYqtix2KfYsiIsCgkic3R5bGUtcGFuZWwuY29sb3IiOiAi2LHZhtqvIiwKCSJzdHlsZS1wYW5lbC5kYXNoIjogItiu2LfigIzahtuM2YYiLAoJInN0eWxlLXBhbmVsLmZpbGwiOiAi2KrZiNm+2Y/YsSIsCgkic3R5bGUtcGFuZWwuZm9udCI6ICLZgtmE2YUiLAoJInN0eWxlLXBhbmVsLnNpemUiOiAi2KfZhtiv2KfYstmHIiwKCSJzdHlsZS1wYW5lbC50ZXh0IjogItmF2KrZhiIsCgkiYWN0aW9uLmFsaWduLWJvdHRvbSI6ICLYqtix2KfYsiDYqNmHINm+2KfbjNuM2YYiLAoJImFjdGlvbi5hbGlnbi1jZW50ZXItaG9yaXpvbnRhbCI6ICLYqtix2KfYsiDYqNmHINmF2LHaqdiyINin2YHZgtuMIiwKCSJhY3Rpb24uYWxpZ24tY2VudGVyLXZlcnRpY2FsIjogItiq2LHYp9iyINio2Ycg2YXYsdqp2LIg2LnZhdmI2K/bjCIsCgkiYWN0aW9uLmFsaWduLWNlbnRlci1ob3Jpem9udGFsLnNob3J0IjogItiq2LHYp9iyINio2Ycg2YXYsdqp2LIg2KfZgdmC24wiLAoJImFjdGlvbi5hbGlnbi1jZW50ZXItdmVydGljYWwuc2hvcnQiOiAi2KrYsdin2LIg2KjZhyDZhdix2qnYsiDYudmF2YjYr9uMIiwKCSJhY3Rpb24uYWxpZ24tbGVmdCI6ICLYqtix2KfYsiDYqNmHINqG2b4iLAoJImFjdGlvbi5hbGlnbi1yaWdodCI6ICLYqtix2KfYsiDYqNmHINix2KfYs9iqIiwKCSJhY3Rpb24uYWxpZ24tdG9wIjogItiq2LHYp9iyINio2Ycg2KjYp9mE2KciLAoJImFjdGlvbi5kaXN0cmlidXRlLWhvcml6b250YWwiOiAi2b7Yrti04oCM2qnYsdiv2YYg2KfZgdmC24wiLAoJImFjdGlvbi5kaXN0cmlidXRlLXZlcnRpY2FsIjogItm+2K7YtOKAjNqp2LHYr9mGINi52YXZiNiv24wiLAoJImFjdGlvbi5kaXN0cmlidXRlLWhvcml6b250YWwuc2hvcnQiOiAi2b7Yrti04oCM2qnYsdiv2YYg2KfZgdmC24wiLAoJImFjdGlvbi5kaXN0cmlidXRlLXZlcnRpY2FsLnNob3J0IjogItm+2K7YtOKAjNqp2LHYr9mGINi52YXZiNiv24wiLAoJImFjdGlvbi5zdHJldGNoLWhvcml6b250YWwiOiAi2qnYtOKAjNii2YjYsdiv2YYg2KfZgdmC24wiLAoJImFjdGlvbi5zdHJldGNoLXZlcnRpY2FsIjogItqp2LTigIzYotmI2LHYr9mGINi52YXZiNiv24wiLAoJImFjdGlvbi5zdHJldGNoLWhvcml6b250YWwuc2hvcnQiOiAi2qnYtOKAjNii2YjYsdiv2YYg2KfZgdmC24wiLAoJImFjdGlvbi5zdHJldGNoLXZlcnRpY2FsLnNob3J0IjogItqp2LTigIzYotmI2LHYr9mGINi52YXZiNiv24wiLAoJImFjdGlvbi50b2dnbGUtZ3JpZCI6ICLZhtmF2KfbjNi0INiu2LfZiNi3INix2KfZh9mG2YXYpyIsCgkiYWN0aW9uLnRvZ2dsZS1zbmFwLW1vZGUubWVudSI6ICLZh9mF24zYtNmHINmG2YLYp9i3INqG2LPYqNin2YYg2LHYpyDZhti02KfZhiDYqNiv2YciLAoJImFjdGlvbi50b2dnbGUtc25hcC1tb2RlIjogItmH2YXbjNi02Ycg2YbZgtin2Lcg2obYs9io2KfZhiDYsdinINmG2LTYp9mGINio2K/ZhyIsCgkiYWN0aW9uLnRvZ2dsZS10cmFuc3BhcmVudC5jb250ZXh0LW1lbnUiOiAi2LTZgdin2YEiLAoJImFjdGlvbi50b2dnbGUtdHJhbnNwYXJlbnQubWVudSI6ICLYtNmB2KfZgSIsCgkiY29sb3Itc3R5bGUuYmxhY2siOiAi2YXYtNqp24wiLAoJImNvbG9yLXN0eWxlLmJsdWUiOiAi2KLYqNuMIiwKCSJjb2xvci1zdHlsZS5ncmVlbiI6ICLYs9io2LIiLAoJImNvbG9yLXN0eWxlLmdyZXkiOiAi2K7Yp9qp2LPYqtix24wiLAoJImNvbG9yLXN0eWxlLm9yYW5nZSI6ICLZhtin2LHZhtis24wiLAoJImNvbG9yLXN0eWxlLnJlZCI6ICLZgtix2YXYsiIsCgkiY29sb3Itc3R5bGUudmlvbGV0IjogItio2YbZgdi0IiwKCSJjb2xvci1zdHlsZS55ZWxsb3ciOiAi2LLYsdivIiwKCSJmaWxsLXN0eWxlLnNvbGlkIjogItiq2YjZvtmP2LEiLAoJImRhc2gtc3R5bGUuZGFzaGVkIjogItiu2LfigIzahtuM2YYiLAoJImRhc2gtc3R5bGUuZG90dGVkIjogItmG2YLYt9mH4oCM2obbjNmGIiwKCSJkYXNoLXN0eWxlLmRyYXciOiAi2LHYs9mFIiwKCSJkYXNoLXN0eWxlLnNvbGlkIjogItiq2YjZvtmP2LEiLAoJInNpemUtc3R5bGUucyI6ICLaqdmI2obaqSIsCgkic2l6ZS1zdHlsZS5tIjogItmF2KrZiNiz2LciLAoJInNpemUtc3R5bGUubCI6ICLYqNiy2LHaryIsCgkiZm9udC1zdHlsZS5kcmF3IjogItix2LPZhSIsCgkidG9vbC5saW5lIjogItiu2LciLAoJImhlbHAtbWVudS5kaXNjb3JkIjogItiv24zYs9qp2YjYsdivIiwKCSJoZWxwLW1lbnUuZ2l0aHViIjogItqv24zYquKAjNmH2KfYqCIsCgkiaGVscC1tZW51LnR3aXR0ZXIiOiAi2KrZiNuM24zYqtixIiwKCSJsaW5rcy1tZW51LmRpc2NvcmQiOiAi2K/bjNiz2qnZiNix2K8iLAoJImxpbmtzLW1lbnUuZ2l0aHViIjogItqv24zYquKAjNmH2KfYqCIsCgkibGlua3MtbWVudS50d2l0dGVyIjogItiq2YjbjNuM2KrYsSIsCgkiZW1iZWQtZGlhbG9nLmNhbmNlbCI6ICLZhNi62YgiLAoJInRvb2wtcGFuZWwuc2hhcGVzIjogIti02qnZhOKAjNmH2KciLAoJInRvb2wtcGFuZWwudG9vbHMiOiAi2KfYqNiy2KfYsdmH2KciLAoJImZvY3VzLW1vZGUudG9nZ2xlLWZvY3VzLW1vZGUiOiAi2K3Yp9mE2Kog2KrZhdix2qnYsiIsCgkiZmlsZS1zeXN0ZW0uY29uZmlybS1vcGVuLmNhbmNlbCI6ICLZhNi62YgiCn0K",ui=i.p+"drawing/fi-1dce6328eb5e71ca.json",hi=i.p+"drawing/fr-79340bed743acf73.json",pi="data:application/json;base64,ewogICAgImFjdGlvbi5hbGlnbi1ib3R0b20iOiAiQWxpw7FhciBhYmFpeG8iLAogICAgImFjdGlvbi5hbGlnbi1jZW50ZXItaG9yaXpvbnRhbCI6ICJBbGnDsWFyIGFvIGNlbnRybyBob3Jpem9udGFsbWVudGUiLAogICAgImFjdGlvbi5hbGlnbi1jZW50ZXItdmVydGljYWwiOiAiQWxpw7FhciBhbyBjZW50cm8gdmVydGljYWxtZW50ZSIsCiAgICAiYWN0aW9uLmFsaWduLWNlbnRlci1ob3Jpem9udGFsLnNob3J0IjogIkFsacOxYXIgYW8gY2VudHJvIGhvcml6b250YWxtZW50ZSIsCiAgICAiYWN0aW9uLmFsaWduLWNlbnRlci12ZXJ0aWNhbC5zaG9ydCI6ICJBbGnDsWFyIGFvIGNlbnRybyB2ZXJ0aWNhbG1lbnRlIiwKICAgICJhY3Rpb24uYWxpZ24tbGVmdCI6ICJBbGnDsWFyIMOhIGVzcXVlcmRhIiwKICAgICJhY3Rpb24uYWxpZ24tcmlnaHQiOiAiQWxpw7FhciDDoSBkZXJlaXRhIiwKICAgICJhY3Rpb24uYWxpZ24tdG9wIjogIkFsacOxYXIgYXJyaWJhIiwKICAgICJhY3Rpb24uYnJpbmctZm9yd2FyZCI6ICJNb3ZlciBhZGlhbnRlIiwKICAgICJhY3Rpb24uYnJpbmctdG8tZnJvbnQiOiAiTW92ZXIgYW8gZnJvbnRlIiwKICAgICJhY3Rpb24uY29weSI6ICJDb3BpYXIiLAogICAgImFjdGlvbi5jdXQiOiAiQ29ydGFyIiwKICAgICJhY3Rpb24uZGVsZXRlIjogIkJvcnJhciIsCiAgICAiYWN0aW9uLmRpc3RyaWJ1dGUtaG9yaXpvbnRhbCI6ICJEaXN0cmlidcOtciBob3Jpem9udGFsbWVudGUiLAogICAgImFjdGlvbi5kaXN0cmlidXRlLXZlcnRpY2FsIjogIkRpc3RyaWJ1w61yIHZlcnRpY2FsbWVudGUiLAogICAgImFjdGlvbi5kaXN0cmlidXRlLWhvcml6b250YWwuc2hvcnQiOiAiRGlzdHJpYnXDrXIgaG9yaXpvbnRhbG1lbnRlIiwKICAgICJhY3Rpb24uZGlzdHJpYnV0ZS12ZXJ0aWNhbC5zaG9ydCI6ICJEaXN0cmlidcOtciB2ZXJ0aWNhbG1lbnRlIiwKICAgICJhY3Rpb24uZHVwbGljYXRlIjogIkR1cGxpY2FyIiwKICAgICJhY3Rpb24uZmxpcC1ob3Jpem9udGFsIjogIlZvbHRlYXIgaG9yaXpvbnRhbG1lbnRlIiwKICAgICJhY3Rpb24uZmxpcC12ZXJ0aWNhbCI6ICJWb2x0ZWFyIHZlcnRpY2FsbWVudGUiLAogICAgImFjdGlvbi5mbGlwLWhvcml6b250YWwuc2hvcnQiOiAiVm9sdGVhciBob3Jpem9udGFsbWVudGUiLAogICAgImFjdGlvbi5mbGlwLXZlcnRpY2FsLnNob3J0IjogIlZvbHRlYXIgdmVydGljYWxtZW50ZSIsCiAgICAiYWN0aW9uLmdyb3VwIjogIkFncnVwYXIiLAogICAgImFjdGlvbi5pbnNlcnQtbWVkaWEiOiAiU3ViaXIgbWVkaW9zIiwKICAgICJhY3Rpb24ucGFzdGUiOiAiUGVnYXIiLAogICAgImFjdGlvbi5yZWRvIjogIlJlZmFjZXIiLAogICAgImFjdGlvbi5zZWxlY3QtYWxsIjogIlNlbGVjaW9uYXIgdG9kbyIsCiAgICAiYWN0aW9uLnNlbGVjdC1ub25lIjogIlNlbGVjaW9uYXIgbmFkYSIsCiAgICAiYWN0aW9uLnNlbmQtYmFja3dhcmQiOiAiTW92ZXIgYXRyw6FzIiwKICAgICJhY3Rpb24uc2VuZC10by1iYWNrIjogIk1vdmVyIGFvIGZvbmRvIiwKICAgICJhY3Rpb24uc3RyZXRjaC1ob3Jpem9udGFsIjogIkVzdGlyYXIgaG9yaXpvbnRhbG1lbnRlIiwKICAgICJhY3Rpb24uc3RyZXRjaC12ZXJ0aWNhbCI6ICJFc3RpcmFyIHZlcnRpY2FsbWVudGUiLAogICAgImFjdGlvbi5zdHJldGNoLWhvcml6b250YWwuc2hvcnQiOiAiRXN0aXJhciBob3Jpem9udGFsbWVudGUiLAogICAgImFjdGlvbi5zdHJldGNoLXZlcnRpY2FsLnNob3J0IjogIkVzdGlyYXIgdmVydGljYWxtZW50ZSIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kYXJrLW1vZGUubWVudSI6ICJNb2RvIGVzY3VybyIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kYXJrLW1vZGUiOiAiTW9kbyBlc2N1cm8iLAogICAgImFjdGlvbi50b2dnbGUtZGVidWctbW9kZS5tZW51IjogIk1vZG8gZGVwdXJhY2nDs24iLAogICAgImFjdGlvbi50b2dnbGUtZGVidWctbW9kZSI6ICJNb2RvIGRlcHVyYWNpw7NuIiwKICAgICJhY3Rpb24udG9nZ2xlLWZvY3VzLW1vZGUubWVudSI6ICJNb2RvIGNvbmNlbnRyYWNpw7NuIiwKICAgICJhY3Rpb24udG9nZ2xlLWZvY3VzLW1vZGUiOiAiTW9kbyBjb25jZW50cmFjacOzbiIsCiAgICAiYWN0aW9uLnRvZ2dsZS1ncmlkLm1lbnUiOiAiQW1vc2FyIGN1YWRyw61jdWxhIiwKICAgICJhY3Rpb24udG9nZ2xlLWdyaWQiOiAiQW1vc2FyIGN1YWRyw61jdWxhIiwKICAgICJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZS5tZW51IjogIkFtb3NhciBwdW50b3MgZGUgYXh1c3RlIiwKICAgICJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZSI6ICJBbW9zYXIgcHVudG9zIGRlIGF4dXN0ZSIsCiAgICAiYWN0aW9uLnRvZ2dsZS10cmFuc3BhcmVudC5jb250ZXh0LW1lbnUiOiAiVHJhbnNwYXJlbnRlIiwKICAgICJhY3Rpb24udG9nZ2xlLXRyYW5zcGFyZW50Lm1lbnUiOiAiVHJhbnNwYXJlbnRlIiwKICAgICJhY3Rpb24udW5kbyI6ICJEZXNmYWNlciIsCiAgICAiYWN0aW9uLnVuZ3JvdXAiOiAiRGVzYWdydXBhciIsCiAgICAiYWN0aW9uLnpvb20taW4iOiAiQWNoZWdhciIsCiAgICAiYWN0aW9uLnpvb20tb3V0IjogIkFmYXN0YXIiLAogICAgImFjdGlvbi56b29tLXRvLWZpdCI6ICJBeHVzdGFyIMOhIHZlbnTDoSIsCiAgICAiYWN0aW9uLnpvb20tdG8tc2VsZWN0aW9uIjogIkFjaGVnYXIgw6Egc2VsZWNjacOzbiIsCiAgICAiY29sb3Itc3R5bGUuYmxhY2siOiAiTmVncm8iLAogICAgImNvbG9yLXN0eWxlLmJsdWUiOiAiQXp1bCIsCiAgICAiY29sb3Itc3R5bGUuZ3JlZW4iOiAiVmVyZGUiLAogICAgImNvbG9yLXN0eWxlLmdyZXkiOiAiR3JpcyIsCiAgICAiY29sb3Itc3R5bGUub3JhbmdlIjogIkxhcmFueGEiLAogICAgImNvbG9yLXN0eWxlLnJlZCI6ICJWZXJtZWxsbyIsCiAgICAiY29sb3Itc3R5bGUudmlvbGV0IjogIlZpb2xldGEiLAogICAgImNvbG9yLXN0eWxlLnllbGxvdyI6ICJBbWFyZWxvIiwKICAgICJmaWxsLXN0eWxlLnNvbGlkIjogIkNvbnTDrW51byIsCiAgICAiZGFzaC1zdHlsZS5kYXNoZWQiOiAiRGlzY29udMOtbnVvIiwKICAgICJkYXNoLXN0eWxlLmRvdHRlZCI6ICJQdW50ZWFkbyIsCiAgICAiZGFzaC1zdHlsZS5kcmF3IjogIkRlYnV4YXIiLAogICAgImRhc2gtc3R5bGUuc29saWQiOiAiQ29udMOtbnVvIiwKICAgICJzaXplLXN0eWxlLnMiOiAiUGVxdWVubyIsCiAgICAic2l6ZS1zdHlsZS5tIjogIk1lZGlhbm8iLAogICAgInNpemUtc3R5bGUubCI6ICJHcmFuZGUiLAogICAgImZvbnQtc3R5bGUuZHJhdyI6ICJEZWJ1eGFyIiwKICAgICJnZW8tc3R5bGUuZWxsaXBzZSI6ICJFbGlwc2UiLAogICAgImdlby1zdHlsZS5yZWN0YW5nbGUiOiAiUmVjdMOhbmd1bG8iLAogICAgImdlby1zdHlsZS50cmlhbmdsZSI6ICJUcmnDoW5ndWxvIiwKICAgICJhcnJvd2hlYWRTdGFydC1zdHlsZS5hcnJvdyI6ICJGcmVjaGEiLAogICAgImFycm93aGVhZFN0YXJ0LXN0eWxlLnRyaWFuZ2xlIjogIlRyacOhbmd1bG8iLAogICAgImFycm93aGVhZEVuZC1zdHlsZS5hcnJvdyI6ICJGcmVjaGEiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS50cmlhbmdsZSI6ICJUcmnDoW5ndWxvIiwKICAgICJzcGxpbmUtc3R5bGUubGluZSI6ICJMacOxYSIsCiAgICAidG9vbC5zZWxlY3QiOiAiU2VsZWNjaW9uYXIiLAogICAgInRvb2wuZHJhdyI6ICJEZWJ1eGFyIiwKICAgICJ0b29sLmVyYXNlciI6ICJCb3JyYWRvciIsCiAgICAidG9vbC5hcnJvdyI6ICJGcmVjaGEiLAogICAgInRvb2wuZWxsaXBzZSI6ICJFbGlwc2UiLAogICAgInRvb2wubGluZSI6ICJMacOxYSIsCiAgICAidG9vbC5yZWN0YW5nbGUiOiAiUmVjdMOhbmd1bG8iLAogICAgInRvb2wudHJpYW5nbGUiOiAiVHJpw6FuZ3VsbyIsCiAgICAidG9vbC5ub3RlIjogIlBlZ2F0aW5hIiwKICAgICJ0b29sLnRleHQiOiAiVGV4dG8iLAogICAgIm1lbnUuY29weS1hcyI6ICJDb3BpYXIgY29tbyIsCiAgICAibWVudS5lZGl0IjogIkVkaXRhciIsCiAgICAibWVudS5leHBvcnQtYXMiOiAiRXhwb3J0YXIgY29tbyIsCiAgICAibWVudS5maWxlIjogIkFycXVpdm8iLAogICAgIm1lbnUubGFuZ3VhZ2UiOiAiSWRpb21hIiwKICAgICJtZW51LnByZWZlcmVuY2VzIjogIlByZWZlcmVuY2lhcyIsCiAgICAibWVudS52aWV3IjogIlZlciIsCiAgICAiY29udGV4dC1tZW51LmNvcHktYXMiOiAiQ29waWFyIGNvbW8iLAogICAgImNvbnRleHQtbWVudS5leHBvcnQtYXMiOiAiRXhwb3J0YXIgY29tbyIsCiAgICAiY29udGV4dC1tZW51Lm1vdmUtdG8tcGFnZSI6ICJNb3ZlciDDoSBww6F4aW5hIiwKICAgICJwYWdlLW1lbnUuY3JlYXRlLW5ldy1wYWdlIjogIkNyZWFyIHDDoXhpbmEiLAogICAgInBhZ2UtbWVudS5wYWdlIjogIlDDoXhpbmEiLAogICAgInBhZ2UtbWVudS5lZGl0LXN0YXJ0IjogIkVkaXRhciIsCiAgICAicGFnZS1tZW51LnN1Ym1lbnUuZHVwbGljYXRlLXBhZ2UiOiAiRHVwbGljYXIiLAogICAgInBhZ2UtbWVudS5zdWJtZW51LmRlbGV0ZSI6ICJCb3JyYXIiLAogICAgInNoYXJlLW1lbnUuY29weS1saW5rIjogIkNvcGlhciBpbnZpdGFjacOzbiIsCiAgICAic2hhcmUtbWVudS5jb3B5LXJlYWRvbmx5LWxpbmsiOiAiQ29waWFyIGludml0YWNpw7NuIChzw7MgbGVjdHVyYSkiLAogICAgImhlbHAtbWVudS5kaXNjb3JkIjogIkRpc2NvcmQiLAogICAgImhlbHAtbWVudS5naXRodWIiOiAiR2l0SHViIiwKICAgICJoZWxwLW1lbnUua2V5Ym9hcmQtc2hvcnRjdXRzIjogIkF0YWxsb3MgZGUgdGVjbGFkbyIsCiAgICAiaGVscC1tZW51LnR3aXR0ZXIiOiAiVHdpdHRlciIsCiAgICAibGlua3MtbWVudS5kaXNjb3JkIjogIkRpc2NvcmQiLAogICAgImxpbmtzLW1lbnUuZ2l0aHViIjogIkdpdEh1YiIsCiAgICAibGlua3MtbWVudS50d2l0dGVyIjogIlR3aXR0ZXIiLAogICAgImVkaXQtbGluay1kaWFsb2cuY2FuY2VsIjogIkNhbmNlbGFyIiwKICAgICJlbWJlZC1kaWFsb2cuY2FuY2VsIjogIkNhbmNlbGFyIiwKICAgICJlZGl0LXBhZ2VzLWRpYWxvZy5jcmVhdGUtbmV3LXBhZ2UiOiAiQ3JlYXIgcMOheGluYSIsCiAgICAiZWRpdC1wYWdlcy1kaWFsb2cuZGVsZXRlIjogIkJvcnJhciIsCiAgICAiZWRpdC1wYWdlcy1kaWFsb2cuZHVwbGljYXRlLXBhZ2UiOiAiRHVwbGljYXIiLAogICAgInNob3J0Y3V0cy1kaWFsb2cudGl0bGUiOiAiQXRhbGxvcyBkZSB0ZWNsYWRvIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmVkaXQiOiAiRWRpdGFyIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmZpbGUiOiAiQXJxdWl2byIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy5wcmVmZXJlbmNlcyI6ICJQcmVmZXJlbmNpYXMiLAogICAgInNob3J0Y3V0cy1kaWFsb2cudG9vbHMiOiAiRmVycmFtZW50YXMiLAogICAgInNob3J0Y3V0cy1kaWFsb2cudHJhbnNmb3JtIjogIlRyYW5zZm9ybWFyIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLnZpZXciOiAiVmVyIiwKICAgICJzdHlsZS1wYW5lbC50aXRsZSI6ICJFc3RpbG9zIiwKICAgICJzdHlsZS1wYW5lbC5hbGlnbiI6ICJBbGnDsWFtZW50byIsCiAgICAic3R5bGUtcGFuZWwuY29sb3IiOiAiQ29yIiwKICAgICJzdHlsZS1wYW5lbC5kYXNoIjogIkxpw7FhIiwKICAgICJzdHlsZS1wYW5lbC5maWxsIjogIlJlY2hlbyIsCiAgICAic3R5bGUtcGFuZWwuZm9udCI6ICJGb250ZSIsCiAgICAic3R5bGUtcGFuZWwuc2l6ZSI6ICJUYW1hw7FvIiwKICAgICJzdHlsZS1wYW5lbC50ZXh0IjogIlRleHRvIiwKICAgICJ0b29sLXBhbmVsLnNoYXBlcyI6ICJGb3JtYXMiLAogICAgInRvb2wtcGFuZWwudG9vbHMiOiAiRmVycmFtZW50YXMiLAogICAgImZvY3VzLW1vZGUudG9nZ2xlLWZvY3VzLW1vZGUiOiAiTW9kbyBjb25jZW50cmFjacOzbiIsCiAgICAiZmlsZS1zeXN0ZW0uZmlsZS1vcGVuLWVycm9yLmdlbmVyaWMtY29ycnVwdGVkLWZpbGUiOiAiTyBhcnF1aXZvIHF1ZSBpbnRlbnRvdSBhYnJpciBlc3TDoSBjb3Jyb21waWRvLiIsCiAgICAiZmlsZS1zeXN0ZW0uY29uZmlybS1vcGVuLnRpdGxlIjogIlNvYnJlc2NyaWJpciBvIHByb3hlY3RvIGFjdHVhbD8iLAogICAgImZpbGUtc3lzdGVtLmNvbmZpcm0tb3Blbi5kZXNjcmlwdGlvbiI6ICJBYnJpciB1biBhcnF1aXZvIHZhaSByZW1wbGF6YXIgbyBhY3R1YWwgcHJveGVjdG8gZSBjYWxxdWVyYSBjYW1iaW8gc2VuIGdhcmRhciBwZXJkZXJhc2UuIEVzdMOhcyBzZWd1cm8gZGUgcXVlIHF1ZXJlcyBjb250aW51YXI/IiwKICAgICJmaWxlLXN5c3RlbS5jb25maXJtLW9wZW4uY2FuY2VsIjogIkNhbmNlbGFyIiwKICAgICJmaWxlLXN5c3RlbS5jb25maXJtLW9wZW4ub3BlbiI6ICJBYnJpciBhcnF1aXZvIiwKICAgICJmaWxlLXN5c3RlbS5jb25maXJtLW9wZW4uZG9udC1zaG93LWFnYWluIjogIk5vbiBwcmVndW50YXIgb3V0cmEgdmV6IiwKICAgICJ0b2FzdC5lcnJvci5leHBvcnQtZmFpbC50aXRsZSI6ICJFcnJvIG5hIGV4cG9ydGFjacOzbiIsCiAgICAidG9hc3QuZXJyb3IuZXhwb3J0LWZhaWwuZGVzYyI6ICJFcnJvIGFvIGV4cG9ydGFyIGEgaW1heGUiLAogICAgInRvYXN0LmVycm9yLmNvcHktZmFpbC50aXRsZSI6ICJFcnJvIG5hIGNvcGlhIiwKICAgICJ0b2FzdC5lcnJvci5jb3B5LWZhaWwuZGVzYyI6ICJFcnJvIGFvIGNvcGlhciBhIGltYXhlIiwKICAgICJmaWxlLXN5c3RlbS5zaGFyZWQtZG9jdW1lbnQtZmlsZS1vcGVuLWVycm9yLnRpdGxlIjogIk5vbiBzZSBwdWlkbyBhYnJpciBvIGFycXVpdm8iLAogICAgImZpbGUtc3lzdGVtLnNoYXJlZC1kb2N1bWVudC1maWxlLW9wZW4tZXJyb3IuZGVzY3JpcHRpb24iOiAiQWJyaXIgYXJxdWl2b3MgZGVuZGUgcHJveGVjdG9zIGNvbXBhcnRpZG9zIG5vbiBlc3TDoSBwZXJtaXRpZG8uIiwKICAgICJ2c2NvZGUuZmlsZS1vcGVuLnRpdGxlIjogIk1pZ3JhciBhcnF1aXZvIiwKICAgICJ2c2NvZGUuZmlsZS1vcGVuLmRvbnQtc2hvdy1hZ2FpbiI6ICJOb24gcHJlZ3VudGFyIG91dHJhIHZleiIsCiAgICAidnNjb2RlLmZpbGUtb3Blbi5kZXNjIjogIkVzdGUgYXJxdWl2byBmb2kgY3JlYWRvIGN1bmhhIHZlcnNpw7NuIGFudGlnYSBkZSB0bGRyYXcuIFF1ZXJlcyBhY3R1YWxpemFsbyBwYXJhIHF1ZSBmdW5jaW9uZSBjYSBub3ZhIHZlcnNpw7NuPyIsCiAgICAidnNjb2RlLmNvbmZpcm0tb3Blbi5jYW5jZWwiOiAiUGVjaGFyIGFycXVpdm8iLAogICAgInZzY29kZS5jb25maXJtLW9wZW4ub3BlbiI6ICJDb250aW51YXIiLAogICAgImNvbnRleHQucGFnZXMubmV3LXBhZ2UiOiAiTm92YSBww6F4aW5hIgp9",gi="data:application/json;base64,ewoJImFjdGlvbi5icmluZy1mb3J3YXJkIjogIteU15bXliDXp9eT15nXnteUIiwKCSJhY3Rpb24uYnJpbmctdG8tZnJvbnQiOiAi15TXkdeQINec15fXlteZ16oiLAoJImFjdGlvbi5jb3B5IjogIteU16LXqtenIiwKCSJhY3Rpb24uY3V0IjogIteS15bXldeoIiwKCSJhY3Rpb24uZGVsZXRlIjogItee15fXpyIsCgkiYWN0aW9uLmR1cGxpY2F0ZSI6ICLXqdeb16TXnCIsCgkiYWN0aW9uLmZsaXAtaG9yaXpvbnRhbCI6ICLXlNek15XXmiDXkNeV16TXp9eZ16oiLAoJImFjdGlvbi5mbGlwLXZlcnRpY2FsIjogIteU16TXldeaINeQ16DXm9eZ16oiLAoJImFjdGlvbi5mbGlwLWhvcml6b250YWwuc2hvcnQiOiAi15TXpNeV15og15DXldek16fXmdeqIiwKCSJhY3Rpb24uZmxpcC12ZXJ0aWNhbC5zaG9ydCI6ICLXlNek15XXmiDXkNeg15vXmdeqIiwKCSJhY3Rpb24uZ3JvdXAiOiAi16fXkdelIiwKCSJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogIteU16LXnNeQ16og157Xk9eZ15QiLAoJImFjdGlvbi5wYXN0ZSI6ICLXlNeT15HXpyIsCgkiYWN0aW9uLnJlZG8iOiAi16LXqdeUINee15fXk9epIiwKCSJhY3Rpb24uc2VsZWN0LWFsbCI6ICLXkdeX16gg15TXm9ecIiwKCSJhY3Rpb24uc2VsZWN0LW5vbmUiOiAi15HXmNecINeR15fXmdeo15QiLAoJImFjdGlvbi5zZW5kLWJhY2t3YXJkIjogIteU15bXliDXkNeX15XXqNeUIiwKCSJhY3Rpb24uc2VuZC10by1iYWNrIjogIteU15HXkCDXnNeq15fXqteZ16oiLAoJImFjdGlvbi50b2dnbGUtZGFyay1tb2RlLm1lbnUiOiAi157XpteRINeX16nXldeaIiwKCSJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZSI6ICLXntem15Eg15fXqdeV15oiLAoJImFjdGlvbi50b2dnbGUtZGVidWctbW9kZS5tZW51IjogItee16bXkSDXk9eZ15HXkNeSIiwKCSJhY3Rpb24udG9nZ2xlLWRlYnVnLW1vZGUiOiAi157XpteRINeT15nXkdeQ15IiLAoJImFjdGlvbi50b2dnbGUtZm9jdXMtbW9kZS5tZW51IjogItee16bXkSDXpNeV16fXldehIiwKCSJhY3Rpb24udG9nZ2xlLWZvY3VzLW1vZGUiOiAi157XpteRINek15XXp9eV16EiLAoJImFjdGlvbi50b2dnbGUtZ3JpZC5tZW51IjogIijXkteo15nXkynXlNeo15DXlCDXqNep16og16LXmdee15XXkyIsCgkiYWN0aW9uLnVuZG8iOiAi15HXmNecIiwKCSJhY3Rpb24udW5ncm91cCI6ICLXkdeY15wg16fXmdeR15XXpSIsCgkiYWN0aW9uLnpvb20taW4iOiAi15TXkteT15wg16rXpteV15LXlCIsCgkiYWN0aW9uLnpvb20tb3V0IjogIteU16fXmNefINeq16bXldeS15QiLAoJImFjdGlvbi56b29tLXRvLWZpdCI6ICLXlteV150g15zXlNeq15DXnteUIiwKCSJhY3Rpb24uem9vbS10by1zZWxlY3Rpb24iOiAi15bXldedINec15HXl9eZ16jXlCIsCgkiZ2VvLXN0eWxlLmVsbGlwc2UiOiAi15DXnNeZ16TXodeUIiwKCSJnZW8tc3R5bGUucmVjdGFuZ2xlIjogItee16jXldeR16IiLAoJImdlby1zdHlsZS50cmlhbmdsZSI6ICLXntep15XXnNepIiwKCSJhcnJvd2hlYWRTdGFydC1zdHlsZS5hcnJvdyI6ICLXl9elIiwKCSJhcnJvd2hlYWRTdGFydC1zdHlsZS50cmlhbmdsZSI6ICLXntep15XXnNepIiwKCSJhcnJvd2hlYWRFbmQtc3R5bGUuYXJyb3ciOiAi15fXpSIsCgkiYXJyb3doZWFkRW5kLXN0eWxlLnRyaWFuZ2xlIjogItee16nXldec16kiLAoJInNwbGluZS1zdHlsZS5saW5lIjogIten15UiLAoJInRvb2wuc2VsZWN0IjogIteh157XnyIsCgkidG9vbC5kcmF3IjogItem15nXmdeoIiwKCSJ0b29sLmVyYXNlciI6ICLXnteX16ciLAoJInRvb2wuYXJyb3ciOiAi15fXpSIsCgkidG9vbC5lbGxpcHNlIjogIteQ15zXmdek16HXlCIsCgkidG9vbC5yZWN0YW5nbGUiOiAi157XqNeV15HXoiIsCgkidG9vbC50cmlhbmdsZSI6ICLXntep15XXnNepIiwKCSJ0b29sLm5vdGUiOiAi15PXkdeZ16fXmSIsCgkidG9vbC50ZXh0IjogIteY16fXodeYIiwKCSJtZW51LmNvcHktYXMiOiAi15TXoteq16cg15siLAoJIm1lbnUuZWRpdCI6ICLXoteo15nXm9eUIiwKCSJtZW51LmV4cG9ydC1hcyI6ICLXmdeZ16bXkCDXmyIsCgkibWVudS5maWxlIjogIten15XXkdelIiwKCSJtZW51Lmxhbmd1YWdlIjogItep16TXlCIsCgkibWVudS5wcmVmZXJlbmNlcyI6ICLXnteQ16TXmdeZ16DXmdedIiwKCSJtZW51LnZpZXciOiAi16rXpteV15LXlCIsCgkiY29udGV4dC1tZW51LmNvcHktYXMiOiAi15TXoteq16cg15siLAoJImNvbnRleHQtbWVudS5leHBvcnQtYXMiOiAi15nXmdem15Ag15siLAoJImNvbnRleHQtbWVudS5tb3ZlLXRvLXBhZ2UiOiAi15TXlteWINec15PXoyIsCgkicGFnZS1tZW51LmNyZWF0ZS1uZXctcGFnZSI6ICLXpteV16gg15PXoyIsCgkicGFnZS1tZW51LmVkaXQtc3RhcnQiOiAi16LXqNeZ15vXlCIsCgkicGFnZS1tZW51LnN1Ym1lbnUuZHVwbGljYXRlLXBhZ2UiOiAi16nXm9ek15wiLAoJInBhZ2UtbWVudS5zdWJtZW51LmRlbGV0ZSI6ICLXnteX16ciLAoJInNoYXJlLW1lbnUuY29weS1saW5rIjogIteU16LXqtenINen15nXqdeV16gg15TXltee16DXlCIsCgkiZWRpdC1saW5rLWRpYWxvZy5jYW5jZWwiOiAi15HXmNecIiwKCSJlZGl0LXBhZ2VzLWRpYWxvZy5jcmVhdGUtbmV3LXBhZ2UiOiAi16bXldeoINeT16MiLAoJImVkaXQtcGFnZXMtZGlhbG9nLmRlbGV0ZSI6ICLXnteX16ciLAoJImVkaXQtcGFnZXMtZGlhbG9nLmR1cGxpY2F0ZS1wYWdlIjogItep15vXpNecIiwKCSJzaG9ydGN1dHMtZGlhbG9nLmVkaXQiOiAi16LXqNeZ15vXlCIsCgkic2hvcnRjdXRzLWRpYWxvZy5maWxlIjogIten15XXkdelIiwKCSJzaG9ydGN1dHMtZGlhbG9nLnByZWZlcmVuY2VzIjogItee15DXpNeZ15nXoNeZ150iLAoJInNob3J0Y3V0cy1kaWFsb2cudmlldyI6ICLXqtem15XXkteUIiwKCSJzdHlsZS1wYW5lbC50aXRsZSI6ICLXoteZ16bXldeRIiwKCSJzdHlsZS1wYW5lbC5hbGlnbiI6ICLXmdeZ16nXldeoIiwKCSJzdHlsZS1wYW5lbC5jb2xvciI6ICLXpteR16IiLAoJInN0eWxlLXBhbmVsLmRhc2giOiAi15LXkdeV15wiLAoJInN0eWxlLXBhbmVsLmZpbGwiOiAi157XnNeQIiwKCSJzdHlsZS1wYW5lbC5mb250IjogIteS15XXpNefIiwKCSJzdHlsZS1wYW5lbC5zaXplIjogIteS15XXk9ecIiwKCSJzdHlsZS1wYW5lbC50ZXh0IjogIteY16fXodeYIiwKCSJhY3Rpb24udG9nZ2xlLWdyaWQiOiAiKNeS16jXmdeTKdeU16jXkNeUINeo16nXqiDXoteZ157XldeTIiwKCSJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZS5tZW51IjogIteU16jXkNeUINen15XXldeZINee16rXkNeoIiwKCSJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZSI6ICLXlNeo15DXlCDXp9eV15XXmSDXnteq15DXqCIsCgkiZGFzaC1zdHlsZS5kcmF3IjogItem15nXmdeoIiwKCSJmb250LXN0eWxlLmRyYXciOiAi16bXmdeZ16giLAoJInRvb2wubGluZSI6ICLXp9eVIiwKCSJlbWJlZC1kaWFsb2cuY2FuY2VsIjogIteR15jXnCIsCgkiZm9jdXMtbW9kZS50b2dnbGUtZm9jdXMtbW9kZSI6ICLXntem15Eg16TXlden15XXoSIsCgkiZmlsZS1zeXN0ZW0uY29uZmlybS1vcGVuLmNhbmNlbCI6ICLXkdeY15wiCn0K",Ii=i.p+"drawing/hi-in-5477871446a60d44.json",mi="data:application/json;base64,ewogICAgInZzY29kZS5maWxlLW9wZW4udGl0bGUiOiAiRmlsZSBtaWdyw6Fsw6FzYSIsCiAgICAidnNjb2RlLmZpbGUtb3Blbi5kb250LXNob3ctYWdhaW4iOiAiTmUga8OpcmRlemQgdMO2YmJldCIsCiAgICAidnNjb2RlLmZpbGUtb3Blbi5kZXNjIjogIkV6IGEgZmlsZSBlZ3kgZWzFkXrFkSB2ZXJ6acOzdmFsIGvDqXN6w7xsdC4gRnJpc3PDrXRzw7xrLCBob2d5IGF6IMO6aiB2ZXJ6acOzdmFsIGlzIG3FsWvDtmRqw7ZuPyIsCiAgICAidnNjb2RlLmNvbmZpcm0tb3Blbi5jYW5jZWwiOiAiQmV6w6Fyw6FzIiwKICAgICJ2c2NvZGUuY29uZmlybS1vcGVuLm9wZW4iOiAiRm9seXRhdMOhcyIsCiAgICAiY29udGV4dC5wYWdlcy5uZXctcGFnZSI6ICLDmmogb2xkYWwiCn0=",yi=i.p+"drawing/it-c86599a3e1084fa9.json",bi="data:application/json;base64,ewoJImFjdGlvbi5icmluZy1mb3J3YXJkIjogIuOBsuOBqOOBpOWJjeOBq+enu+WLlSIsCgkiYWN0aW9uLmJyaW5nLXRvLWZyb250IjogIuacgOWJjemdouOBq+enu+WLlSIsCgkiYWN0aW9uLmNvcHkiOiAi44Kz44OU44O8IiwKCSJhY3Rpb24uY3V0IjogIuWIh+OCiuWPluOCiiIsCgkiYWN0aW9uLmRlbGV0ZSI6ICLliYrpmaQiLAoJImFjdGlvbi5kdXBsaWNhdGUiOiAi6KSH6KO9IiwKCSJhY3Rpb24uZmxpcC1ob3Jpem9udGFsIjogIuawtOW5s+aWueWQkeOBq+WPjei7oiIsCgkiYWN0aW9uLmZsaXAtdmVydGljYWwiOiAi5Z6C55u05pa55ZCR44Gr5Y+N6LuiIiwKCSJhY3Rpb24uZmxpcC1ob3Jpem9udGFsLnNob3J0IjogIuawtOW5s+aWueWQkeOBq+WPjei7oiIsCgkiYWN0aW9uLmZsaXAtdmVydGljYWwuc2hvcnQiOiAi5Z6C55u05pa55ZCR44Gr5Y+N6LuiIiwKCSJhY3Rpb24uZ3JvdXAiOiAi44Kw44Or44O844OU44Oz44KwIiwKCSJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogIuODoeODh+OCo+OCouOCkuOCouODg+ODl+ODreODvOODiSIsCgkiYWN0aW9uLnBhc3RlIjogIuiyvOOCiuS7mOOBkSIsCgkiYWN0aW9uLnJlZG8iOiAi44KE44KK55u044GXIiwKCSJhY3Rpb24uc2VsZWN0LWFsbCI6ICLjgZnjgbnjgabpgbjmip4iLAoJImFjdGlvbi5zZWxlY3Qtbm9uZSI6ICLpgbjmip7jgpLop6PpmaQiLAoJImFjdGlvbi5zZW5kLWJhY2t3YXJkIjogIuOBsuOBqOOBpOW+jOOCjeOBq+enu+WLlSIsCgkiYWN0aW9uLnNlbmQtdG8tYmFjayI6ICLmnIDog4zpnaLjgavnp7vli5UiLAoJImFjdGlvbi50b2dnbGUtZGFyay1tb2RlLm1lbnUiOiAi44OA44O844Kv44Oi44O844OJIiwKCSJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZSI6ICLjg4Djg7zjgq/jg6Ljg7zjg4kiLAoJImFjdGlvbi50b2dnbGUtZGVidWctbW9kZS5tZW51IjogIuODh+ODkOODg+OCsOODouODvOODiSIsCgkiYWN0aW9uLnRvZ2dsZS1kZWJ1Zy1tb2RlIjogIuODh+ODkOODg+OCsOODouODvOODiSIsCgkiYWN0aW9uLnRvZ2dsZS1mb2N1cy1tb2RlLm1lbnUiOiAi44OV44Kp44O844Kr44K544Oi44O844OJIiwKCSJhY3Rpb24udG9nZ2xlLWZvY3VzLW1vZGUiOiAi44OV44Kp44O844Kr44K544Oi44O844OJIiwKCSJhY3Rpb24udG9nZ2xlLWdyaWQubWVudSI6ICLjgrDjg6rjg4Pjg4njgpLooajnpLoiLAoJImFjdGlvbi51bmRvIjogIuWFg+OBq+aIu+OBmSIsCgkiYWN0aW9uLnVuZ3JvdXAiOiAi44Kw44Or44O844OX6Kej6ZmkIiwKCSJhY3Rpb24uem9vbS1pbiI6ICLmi6HlpKciLAoJImFjdGlvbi56b29tLW91dCI6ICLnuK7lsI8iLAoJImFjdGlvbi56b29tLXRvLWZpdCI6ICLmi6HlpKfjgZfjgabjgZnjgbnjgabjgpLooajnpLoiLAoJImFjdGlvbi56b29tLXRvLXNlbGVjdGlvbiI6ICLpgbjmip7jgZfjgZ/jgqLjgqTjg4bjg6DjgavlkIjjgo/jgZvjgabmi6HlpKciLAoJImdlby1zdHlsZS5lbGxpcHNlIjogIualleWGhuW9oiIsCgkiZ2VvLXN0eWxlLnJlY3RhbmdsZSI6ICLplbfmlrnlvaIiLAoJImdlby1zdHlsZS50cmlhbmdsZSI6ICLkuInop5LlvaIiLAoJImFycm93aGVhZFN0YXJ0LXN0eWxlLmFycm93IjogIuefouWNsCIsCgkiYXJyb3doZWFkU3RhcnQtc3R5bGUudHJpYW5nbGUiOiAi5LiJ6KeS5b2iIiwKCSJhcnJvd2hlYWRFbmQtc3R5bGUuYXJyb3ciOiAi55+i5Y2wIiwKCSJhcnJvd2hlYWRFbmQtc3R5bGUudHJpYW5nbGUiOiAi5LiJ6KeS5b2iIiwKCSJzcGxpbmUtc3R5bGUubGluZSI6ICLnt5oiLAoJInRvb2wuc2VsZWN0IjogIumBuOaKniIsCgkidG9vbC5kcmF3IjogIuaPj+eUuyIsCgkidG9vbC5lcmFzZXIiOiAi5raI44GX44K044OgIiwKCSJ0b29sLmFycm93IjogIuefouWNsCIsCgkidG9vbC5lbGxpcHNlIjogIualleWGhuW9oiIsCgkidG9vbC5yZWN0YW5nbGUiOiAi6ZW35pa55b2iIiwKCSJ0b29sLnRyaWFuZ2xlIjogIuS4ieinkuW9oiIsCgkidG9vbC5ub3RlIjogIuOBteOBm+OCkyIsCgkidG9vbC50ZXh0IjogIuODhuOCreOCueODiCIsCgkibWVudS5jb3B5LWFzIjogIuW9ouW8j+OCkumBuOaKnuOBl+OBpuOCs+ODlOODvCIsCgkibWVudS5lZGl0IjogIue3qOmbhiIsCgkibWVudS5leHBvcnQtYXMiOiAi5b2i5byP44KS6YG45oqe44GX44Gm44Ko44Kv44K544Od44O844OIIiwKCSJtZW51LmZpbGUiOiAi44OV44Kh44Kk44OrIiwKCSJtZW51Lmxhbmd1YWdlIjogIuiogOiqniIsCgkibWVudS5wcmVmZXJlbmNlcyI6ICLoqK3lrpoiLAoJIm1lbnUudmlldyI6ICLooajnpLoiLAoJImNvbnRleHQtbWVudS5jb3B5LWFzIjogIuW9ouW8j+OCkumBuOaKnuOBl+OBpuOCs+ODlOODvCIsCgkiY29udGV4dC1tZW51LmV4cG9ydC1hcyI6ICLlvaLlvI/jgpLpgbjmip7jgZfjgabjgqjjgq/jgrnjg53jg7zjg4giLAoJImNvbnRleHQtbWVudS5tb3ZlLXRvLXBhZ2UiOiAi44Oa44O844K444G456e75YuVIiwKCSJwYWdlLW1lbnUuY3JlYXRlLW5ldy1wYWdlIjogIuODmuODvOOCuOOCkuS9nOaIkCIsCgkicGFnZS1tZW51LmVkaXQtc3RhcnQiOiAi57eo6ZuGIiwKCSJwYWdlLW1lbnUuc3VibWVudS5kdXBsaWNhdGUtcGFnZSI6ICLopIfoo70iLAoJInBhZ2UtbWVudS5zdWJtZW51LmRlbGV0ZSI6ICLliYrpmaQiLAoJInNoYXJlLW1lbnUuY29weS1saW5rIjogIuWFseacieODquODs+OCr+OCkuOCr+ODquODg+ODl+ODnOODvOODieOBq+OCs+ODlOODvCIsCgkiZWRpdC1saW5rLWRpYWxvZy5jYW5jZWwiOiAi44Kt44Oj44Oz44K744OrIiwKCSJlZGl0LXBhZ2VzLWRpYWxvZy5jcmVhdGUtbmV3LXBhZ2UiOiAi44Oa44O844K444KS5L2c5oiQIiwKCSJlZGl0LXBhZ2VzLWRpYWxvZy5kZWxldGUiOiAi5YmK6ZmkIiwKCSJlZGl0LXBhZ2VzLWRpYWxvZy5kdXBsaWNhdGUtcGFnZSI6ICLopIfoo70iLAoJInNob3J0Y3V0cy1kaWFsb2cuZWRpdCI6ICLnt6jpm4YiLAoJInNob3J0Y3V0cy1kaWFsb2cuZmlsZSI6ICLjg5XjgqHjgqTjg6siLAoJInNob3J0Y3V0cy1kaWFsb2cucHJlZmVyZW5jZXMiOiAi6Kit5a6aIiwKCSJzaG9ydGN1dHMtZGlhbG9nLnZpZXciOiAi6KGo56S6IiwKCSJzdHlsZS1wYW5lbC50aXRsZSI6ICLjgrnjgr/jgqTjg6siLAoJInN0eWxlLXBhbmVsLmFsaWduIjogIumFjee9riIsCgkic3R5bGUtcGFuZWwuY29sb3IiOiAi6ImyIiwKCSJzdHlsZS1wYW5lbC5kYXNoIjogIue3miIsCgkic3R5bGUtcGFuZWwuZmlsbCI6ICLloZfjgorjgaTjgbbjgZciLAoJInN0eWxlLXBhbmVsLmZvbnQiOiAi44OV44Kp44Oz44OIIiwKCSJzdHlsZS1wYW5lbC5zaXplIjogIuWkquOBlS/jgrXjgqTjgroiLAoJInN0eWxlLXBhbmVsLnRleHQiOiAi44OG44Kt44K544OIIiwKCSJhY3Rpb24udG9nZ2xlLWdyaWQiOiAi44Kw44Oq44OD44OJ44KS6KGo56S6IiwKCSJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZS5tZW51IjogIuOCueODiuODg+ODl+OCkuW4uOOBq+ihqOekuiIsCgkiYWN0aW9uLnRvZ2dsZS1zbmFwLW1vZGUiOiAi44K544OK44OD44OX44KS5bi444Gr6KGo56S6IiwKCSJkYXNoLXN0eWxlLmRyYXciOiAi5o+P55S7IiwKCSJmb250LXN0eWxlLmRyYXciOiAi5o+P55S7IiwKCSJ0b29sLmxpbmUiOiAi57eaIiwKCSJlbWJlZC1kaWFsb2cuY2FuY2VsIjogIuOCreODo+ODs+OCu+ODqyIsCgkiZm9jdXMtbW9kZS50b2dnbGUtZm9jdXMtbW9kZSI6ICLjg5Xjgqnjg7zjgqvjgrnjg6Ljg7zjg4kiLAoJImZpbGUtc3lzdGVtLmNvbmZpcm0tb3Blbi5jYW5jZWwiOiAi44Kt44Oj44Oz44K744OrIgp9Cg==",fi=i.p+"drawing/ko-kr-ee3b58b5e0bf659e.json",Ci="data:application/json;base64,ewogICAgImFjdGlvbi5icmluZy1mb3J3YXJkIjogItio2pXbhiDZvtuO2LTbldmI25UiLAogICAgImFjdGlvbi5icmluZy10by1mcm9udCI6ICLYqNqv2YjYp9iy2LHbjtiq25XZiNuVINio24Yg2b7bjti025XZiNuVIiwKICAgICJhY3Rpb24uY29weSI6ICLaqduG2b7bjCDYqNqp25UiLAogICAgImFjdGlvbi5jdXQiOiAi2KjalduM2YYiLAogICAgImFjdGlvbi5kZWxldGUiOiAi2LPalduM2YbbldmI25UiLAogICAgImFjdGlvbi5kdXBsaWNhdGUiOiAi2K/ZiNmI2KjYp9ix25Xaqdix2K/ZhtuV2YjblSIsCiAgICAiYWN0aW9uLmZsaXAtaG9yaXpvbnRhbCI6ICLYptin2LPbhtuM24wg2Yjbldix2q/bldqV2KfZhtiv2YYiLAogICAgImFjdGlvbi5mbGlwLXZlcnRpY2FsIjogItiz2KrZiNmG24wg2Yjbldix2q/bldqV2KfZhtiv2YYiLAogICAgImFjdGlvbi5mbGlwLWhvcml6b250YWwuc2hvcnQiOiAi2KbYp9iz24bbjNuMINmI25XYsdqv25Xaldin2YbYr9mGIiwKICAgICJhY3Rpb24uZmxpcC12ZXJ0aWNhbC5zaG9ydCI6ICLYs9iq2YjZhtuMINmI25XYsdqv25Xaldin2YbYr9mGIiwKICAgICJhY3Rpb24uZ3JvdXAiOiAi2qnbhtmF25XatduVIiwKICAgICJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogItiv2Kfar9ix2KrZhtuMINmF24zYr9uM2KciLAogICAgImFjdGlvbi5wYXN0ZSI6ICLZvtuV24zYs9iqINio2qnblSIsCiAgICAiYWN0aW9uLnJlZG8iOiAi2K/ZiNmI2KjYp9ix25Ug2KjbjNqp25XYsduV2YjblSIsCiAgICAiYWN0aW9uLnNlbGVjdC1hbGwiOiAi2YfbldmF2YjZiNuM2KfZhiDZh9uV2rXYqNqY247YsdmHIiwKICAgICJhY3Rpb24uc2VsZWN0LW5vbmUiOiAi2YfbjNqGINmH2YfigIzatdmF2YfigIzYqNqY247YsdmH4oCMIiwKICAgICJhY3Rpb24uc2VuZC1iYWNrd2FyZCI6ICLYqNuV2LHbldmIINiv2YjYp9mI25UiLAogICAgImFjdGlvbi5zZW5kLXRvLWJhY2siOiAi2KjahtuGINio24Yg2b7YtNiq25XZiNuVIiwKICAgICJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZS5tZW51IjogItiv24bYrtuMINiq2KfYsduM2qkiLAogICAgImFjdGlvbi50b2dnbGUtZGFyay1tb2RlIjogItiv24bYrtuMINiq2KfYsduM2qkiLAogICAgImFjdGlvbi50b2dnbGUtZGVidWctbW9kZS5tZW51IjogItmF24bYr9uMINmH25XatduV2K/bhtiy24zZhiIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kZWJ1Zy1tb2RlIjogItmF24bYr9uMINmH25XatduV2K/bhtiy24zZhiIsCiAgICAiYWN0aW9uLnRvZ2dsZS1mb2N1cy1tb2RlLm1lbnUiOiAi2K/bhtiu24wg2YHbhtqp25XYsyIsCiAgICAiYWN0aW9uLnRvZ2dsZS1mb2N1cy1tb2RlIjogItiv24bYrtuMINmB24baqduV2LMiLAogICAgImFjdGlvbi50b2dnbGUtZ3JpZC5tZW51IjogItiq24balduMINm+24zYtNin2YYg2KjYr9uVIiwKICAgICJhY3Rpb24udG9nZ2xlLWdyaWQiOiAi2KrbhtqV24wg2b7bjNi02KfZhiDYqNiv25UiLAogICAgImFjdGlvbi50b2dnbGUtc25hcC1tb2RlLm1lbnUiOiAi2YfbldmF24zYtNuVINmI247ZhtuV24wg2K7bjtix2Kcg2b7bjNi02KfZhiDYqNiv25UiLAogICAgImFjdGlvbi50b2dnbGUtc25hcC1tb2RlIjogItmH25XZhduM2LTblSDZiNuO2YbblduMINiu247YsdinINm+24zYtNin2YYg2KjYr9uVIiwKICAgICJhY3Rpb24udG9nZ2xlLXRyYW5zcGFyZW50LmNvbnRleHQtbWVudSI6ICLaldmI2YjZhiIsCiAgICAiYWN0aW9uLnRvZ2dsZS10cmFuc3BhcmVudC5tZW51IjogItqV2YjZiNmGIiwKICAgICJhY3Rpb24udW5kbyI6ICLZvtin2LTbldqp2LTblSDYqNqp25UiLAogICAgImFjdGlvbi51bmdyb3VwIjogItmE2KfYqNix2K/ZhtuMINqp24bZhduV2rXblSIsCiAgICAiYWN0aW9uLnpvb20taW4iOiAi2YfbjtmG2KfZhtuVINm+247YtNuV2YjblSIsCiAgICAiYWN0aW9uLnpvb20tb3V0IjogItiv2YjZiNixINiu2LPYqtmG25XZiNuVIiwKICAgICJhY3Rpb24uem9vbS10by1maXQiOiAi2LLZiNmI2YUg2KjaqduVINio24Yg2KbbldmI25XbjCDZhNuV2q/bldq124zYr9inINio2q/ZiNmG2KzbjtiqIiwKICAgICJhY3Rpb24uem9vbS10by1zZWxlY3Rpb24iOiAi2LLZiNmI2YUg2KjaqduVINio24Yg2Yfbldq12KjamNin2LHYr9mGIiwKICAgICJkYXNoLXN0eWxlLmRyYXciOiAi2YjbjtmG25XaqduO2LTYp9mGIiwKICAgICJmb250LXN0eWxlLmRyYXciOiAi2YjbjtmG25XaqduO2LTYp9mGIiwKICAgICJnZW8tc3R5bGUuZWxsaXBzZSI6ICLYqNuM2KjZhNuMIiwKICAgICJnZW8tc3R5bGUucmVjdGFuZ2xlIjogItmE2KfaqduO2LTblSIsCiAgICAiZ2VvLXN0eWxlLnRyaWFuZ2xlIjogItiz247ar9uG2LTblSIsCiAgICAiYXJyb3doZWFkU3RhcnQtc3R5bGUuYXJyb3ciOiAi2KrbjNixIiwKICAgICJhcnJvd2hlYWRTdGFydC1zdHlsZS50cmlhbmdsZSI6ICLYs9uO2q/bhti025UiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS5hcnJvdyI6ICLYqtuM2LEiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS50cmlhbmdsZSI6ICLYs9uO2q/bhti025UiLAogICAgInNwbGluZS1zdHlsZS5saW5lIjogItmH247atSIsCiAgICAidG9vbC5zZWxlY3QiOiAi2K/bldiz2YbbjNin2LTZhtqp2LHYr9mGIiwKICAgICJ0b29sLmRyYXciOiAi2YjbjtmG25XaqduO2LTYp9mGIiwKICAgICJ0b29sLmVyYXNlciI6ICLYs9qV25XYsduV2YjblSIsCiAgICAidG9vbC5hcnJvdyI6ICLYqtuM2LEiLAogICAgInRvb2wuZWxsaXBzZSI6ICLYqNuM2KjZhNuMIiwKICAgICJ0b29sLmxpbmUiOiAi2Yfbjtq1IiwKICAgICJ0b29sLnJlY3RhbmdsZSI6ICLZhNin2qnbjti025UiLAogICAgInRvb2wudHJpYW5nbGUiOiAi2LPbjtqv24bYtNuVIiwKICAgICJ0b29sLm5vdGUiOiAi2obbldiz2b7Yp9mIIiwKICAgICJ0b29sLnRleHQiOiAi2K/bldmCIiwKICAgICJtZW51LmNvcHktYXMiOiAi2qnbhtm+24wg2YjbldqpIiwKICAgICJtZW51LmVkaXQiOiAi2K/bldiz2Kraqdin2LHbjCIsCiAgICAibWVudS5leHBvcnQtYXMiOiAi2YfbldmG2KfYsdiv25Xaqdix2K/ZhiDZiNuV2qkiLAogICAgIm1lbnUuZmlsZSI6ICLZgdin24zZhNuO2qkiLAogICAgIm1lbnUubGFuZ3VhZ2UiOiAi2LLZhdin2YYiLAogICAgIm1lbnUucHJlZmVyZW5jZXMiOiAi2K7ZiNin2LPYqiIsCiAgICAibWVudS52aWV3IjogItiv24zZhduV2YYiLAogICAgImNvbnRleHQtbWVudS5jb3B5LWFzIjogItqp24bZvtuMINmI25XaqSIsCiAgICAiY29udGV4dC1tZW51LmV4cG9ydC1hcyI6ICLZh9uV2YbYp9ix2K/bldqp2LHYr9mGINmI25XaqSIsCiAgICAiY29udGV4dC1tZW51Lm1vdmUtdG8tcGFnZSI6ICLYqNqG24Yg2KjbhiDZhNin2b7bldqV25UiLAogICAgInBhZ2UtbWVudS5jcmVhdGUtbmV3LXBhZ2UiOiAi2K/YsdmI2LPYqtqp2LHYr9mG24wg2YTYp9m+25XalduVIiwKICAgICJwYWdlLW1lbnUucGFnZSI6ICLZhNin2b7bldqV25UiLAogICAgInBhZ2UtbWVudS5lZGl0LXN0YXJ0IjogItiv25XYs9iq2qnYp9ix24wiLAogICAgInBhZ2UtbWVudS5zdWJtZW51LmR1cGxpY2F0ZS1wYWdlIjogItiv2YjZiNio2KfYsduV2qnYsdiv2YbbldmI25UiLAogICAgInBhZ2UtbWVudS5zdWJtZW51LmRlbGV0ZSI6ICLYs9qV24zZhtuV2YjblSIsCiAgICAic2hhcmUtbWVudS5jb3B5LWxpbmsiOiAi2YTbjNmG2qnbjCDYqNin2Ybar9mH247YtNiq2qnYsdiv2YYg2qnbhtm+24wg2KjaqduVIiwKICAgICJzaGFyZS1tZW51LmNvcHktcmVhZG9ubHktbGluayI6ICLYqNuVINi0247ZiNuV24zbldqp24wg2YfbldqV25XZhduV2qnbjCDaqduG2b7bjCDYqNqp25UiLAogICAgImhlbHAtbWVudS5rZXlib2FyZC1zaG9ydGN1dHMiOiAi2qnZiNix2Kraqdix2KfZiNuV2qnYp9mG24wg2Krbldiu2Krbldqp2YTbjNmEIiwKICAgICJlZGl0LWxpbmstZGlhbG9nLmNhbmNlbCI6ICLalduV2Kraqdix2K/ZhtuV2YjblSIsCiAgICAiZW1iZWQtZGlhbG9nLmNhbmNlbCI6ICLalduV2Kraqdix2K/ZhtuV2YjblSIsCiAgICAiZWRpdC1wYWdlcy1kaWFsb2cuY3JlYXRlLW5ldy1wYWdlIjogItiv2LHZiNiz2Kraqdix2K/ZhtuMINmE2KfZvtuV2pXblSIsCiAgICAiZWRpdC1wYWdlcy1kaWFsb2cuZGVsZXRlIjogItiz2pXbjNmG25XZiNuVIiwKICAgICJlZGl0LXBhZ2VzLWRpYWxvZy5kdXBsaWNhdGUtcGFnZSI6ICLYr9mI2YjYqNin2LHbldqp2LHYr9mG25XZiNuVIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLnRpdGxlIjogItqp2YjYsdiq2qnYsdin2Yjbldqp2KfZhtuMINiq25XYrtiq25XaqdmE24zZhCIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy5lZGl0IjogItiv25XYs9iq2qnYp9ix24wiLAogICAgInNob3J0Y3V0cy1kaWFsb2cuZmlsZSI6ICLZgdin24zZhNuO2qkiLAogICAgInNob3J0Y3V0cy1kaWFsb2cucHJlZmVyZW5jZXMiOiAi2K7ZiNin2LPYqiIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy50b29scyI6ICLYptin2YXYsdin2LLbldqp2KfZhiIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy50cmFuc2Zvcm0iOiAi2q/bhtqV24zZhiIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy52aWV3IjogItiv24zZhduV2YYiLAogICAgInN0eWxlLXBhbmVsLnRpdGxlIjogItmG25XYrti025Xaqdin2YYiLAogICAgInN0eWxlLXBhbmVsLmFsaWduIjogItqV247aqdiu2LPYqtmGIiwKICAgICJzdHlsZS1wYW5lbC5jb2xvciI6ICLYsduV2YbaryIsCiAgICAic3R5bGUtcGFuZWwuZGFzaCI6ICLZhNuV2Kog2YTbldiqIiwKICAgICJzdHlsZS1wYW5lbC5maWxsIjogItm+2pXaqdix2K/ZhtuV2YjblSIsCiAgICAic3R5bGUtcGFuZWwuZm9udCI6ICLZh9uO2rUiLAogICAgInN0eWxlLXBhbmVsLnNpemUiOiAi2YLbldio2KfYsduVIiwKICAgICJzdHlsZS1wYW5lbC50ZXh0IjogItiv25XZgiIsCiAgICAidG9vbC1wYW5lbC50b29scyI6ICLYptin2YXYsdin2LLbldqp2KfZhiIsCiAgICAiZm9jdXMtbW9kZS50b2dnbGUtZm9jdXMtbW9kZSI6ICLYr9uG2K7bjCDZgduG2qnbldizIiwKICAgICJmaWxlLXN5c3RlbS5jb25maXJtLW9wZW4uY2FuY2VsIjogItqV25XYqtqp2LHYr9mG25XZiNuVIgp9",wi="data:application/json;base64,WwoJewoJCSJsb2NhbGUiOiAiYXIiLAoJCSJsYWJlbCI6ICLYudix2KjZiiIKCX0sCgl7CgkJImxvY2FsZSI6ICJjYSIsCgkJImxhYmVsIjogIkNhdGFsw6AiCgl9LAoJewoJCSJsb2NhbGUiOiAiZGEiLAoJCSJsYWJlbCI6ICJEYW5pc2giCgl9LAoJewoJCSJsb2NhbGUiOiAiZGUiLAoJCSJsYWJlbCI6ICJEZXV0c2NoIgoJfSwKCXsKCQkibG9jYWxlIjogImVuIiwKCQkibGFiZWwiOiAiRW5nbGlzaCIKCX0sCgl7CgkJImxvY2FsZSI6ICJlcyIsCgkJImxhYmVsIjogIkVzcGHDsW9sIgoJfSwKCXsKCQkibG9jYWxlIjogImZhIiwKCQkibGFiZWwiOiAi2YHYp9ix2LPbjCIKCX0sCgl7CgkJImxvY2FsZSI6ICJmaSIsCgkJImxhYmVsIjogIlN1b21pIgoJfSwKCXsKCQkibG9jYWxlIjogImZyIiwKCQkibGFiZWwiOiAiRnJhbsOnYWlzIgoJfSwKCXsKCQkibG9jYWxlIjogImdsIiwKCQkibGFiZWwiOiAiR2FsZWdvIgoJfSwKCXsKCQkibG9jYWxlIjogImhlIiwKCQkibGFiZWwiOiAi16LXkdeo15nXqiIKCX0sCgl7CgkJImxvY2FsZSI6ICJpdCIsCgkJImxhYmVsIjogIkl0YWxpYW5vIgoJfSwKCXsKCQkibG9jYWxlIjogImphIiwKCQkibGFiZWwiOiAi5pel5pys6KqeIgoJfSwKCXsKCQkibG9jYWxlIjogImtvLWtyIiwKCQkibGFiZWwiOiAi7ZWc6rWt7Ja0IgoJfSwKCXsKCQkibG9jYWxlIjogImt1IiwKCQkibGFiZWwiOiAi2qnZiNix2K/bjCIKCX0sCgl7CgkJImxvY2FsZSI6ICJoaS1pbiIsCgkJImxhYmVsIjogIuCkueCkv+CkqOCljeCkpuClgCIKCX0sCgl7CgkJImxvY2FsZSI6ICJodSIsCgkJImxhYmVsIjogIk1hZ3lhciIKCX0sCgl7CgkJImxvY2FsZSI6ICJteSIsCgkJImxhYmVsIjogIuGAmeGAvOGAlOGAuuGAmeGArOGAheGArCIKCX0sCgl7CgkJImxvY2FsZSI6ICJuZSIsCgkJImxhYmVsIjogIuCkqOClh+CkquCkvuCksuClgCIKCX0sCgl7CgkJImxvY2FsZSI6ICJubyIsCgkJImxhYmVsIjogIk5vcndlZ2lhbiIKCX0sCgl7CgkJImxvY2FsZSI6ICJwbCIsCgkJImxhYmVsIjogIlBvbHNraSIKCX0sCgl7CgkJImxvY2FsZSI6ICJwdC1iciIsCgkJImxhYmVsIjogIlBvcnR1Z3XDqnMgLSBCcmFzaWwiCgl9LAoJewoJCSJsb2NhbGUiOiAicHQtcHQiLAoJCSJsYWJlbCI6ICJQb3J0dWd1w6pzIC0gRXVyb3BldSIKCX0sCgl7CgkJImxvY2FsZSI6ICJybyIsCgkJImxhYmVsIjogIlJvbcOibsSDIgoJfSwKCXsKCQkibG9jYWxlIjogInJ1IiwKCQkibGFiZWwiOiAiUnVzc2lhbiIKCX0sCgl7CgkJImxvY2FsZSI6ICJzdiIsCgkJImxhYmVsIjogIlN2ZW5za2EiCgl9LAoJewoJCSJsb2NhbGUiOiAidGUiLAoJCSJsYWJlbCI6ICLgsKTgsYbgsLLgsYHgsJfgsYEiCgl9LAoJewoJCSJsb2NhbGUiOiAidGgiLAoJCSJsYWJlbCI6ICLguKDguLLguKnguLLguYTguJfguKIiCgl9LAoJewoJCSJsb2NhbGUiOiAidHIiLAoJCSJsYWJlbCI6ICJUw7xya8OnZSIKCX0sCgl7CgkJImxvY2FsZSI6ICJ1ayIsCgkJImxhYmVsIjogIlVrcmFpbmlhbiIKCX0sCgl7CgkJImxvY2FsZSI6ICJ2aSIsCgkJImxhYmVsIjogIlRp4bq/bmcgVmnhu4d0IgoJfSwKCXsKCQkibG9jYWxlIjogInpoLWNuIiwKCQkibGFiZWwiOiAiQ2hpbmVzZSAtIFNpbXBsaWZpZWQiCgl9LAoJewoJCSJsb2NhbGUiOiAiemgtdHciLAoJCSJsYWJlbCI6ICLnuYHpq5TkuK3mlocgKOWPsOeBoykiCgl9Cl0K",Mi=i.p+"drawing/main-08684ef7a315b641.json",Ai=i.p+"drawing/my-0e485a7ee21bc3fd.json",xi=i.p+"drawing/ne-579ae9ed2f96804c.json",Si="data:application/json;base64,ewogICAgImFjdGlvbi5jb3B5IjogIktvcGllciIsCiAgICAiYWN0aW9uLmN1dCI6ICJLbGlwcCB1dCIsCiAgICAiYWN0aW9uLmRlbGV0ZSI6ICJTbGV0dCIsCiAgICAiYWN0aW9uLmR1cGxpY2F0ZSI6ICJEdXBsaXNlciIsCiAgICAiYWN0aW9uLmZsaXAtaG9yaXpvbnRhbCI6ICJTbnUgaG9yaXNvbnRhbHQiLAogICAgImFjdGlvbi5mbGlwLXZlcnRpY2FsIjogIlNudSB2ZXJ0aWthbHQiLAogICAgImFjdGlvbi5ncm91cCI6ICJHcnVwcGVyIiwKICAgICJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogIkxhc3Qgb3BwIG1lZGlhIiwKICAgICJhY3Rpb24ucGFzdGUiOiAiTGltIGlubiIsCiAgICAiYWN0aW9uLnJlZG8iOiAiR2rDuHIgb20iLAogICAgImFjdGlvbi5zZWxlY3QtYWxsIjogIlZlbGcgYWxsZSIsCiAgICAiYWN0aW9uLnNlbGVjdC1ub25lIjogIlZlbGcgaW5nZW4iLAogICAgImFjdGlvbi51bmRvIjogIkFuZ3JlIiwKICAgICJhY3Rpb24udW5ncm91cCI6ICJBdmdydXBwZXIiLAogICAgImFjdGlvbi56b29tLWluIjogIlpvb20gaW5uIiwKICAgICJhY3Rpb24uem9vbS1vdXQiOiAiWm9vbSB1dCIsCiAgICAiYWN0aW9uLnpvb20tdG8tZml0IjogIlpvb20gZm9yIMOlIHBhc3NlIiwKICAgICJhY3Rpb24uem9vbS10by1zZWxlY3Rpb24iOiAiWm9vbSB0aWwgdmFsZyIsCiAgICAiZGFzaC1zdHlsZS5kcmF3IjogIlRlZ24iLAogICAgImZvbnQtc3R5bGUuZHJhdyI6ICJUZWduIiwKICAgICJnZW8tc3R5bGUuZWxsaXBzZSI6ICJFbGxpcHNlIiwKICAgICJnZW8tc3R5bGUucmVjdGFuZ2xlIjogIlJla3RhbmdlbCIsCiAgICAiZ2VvLXN0eWxlLnRyaWFuZ2xlIjogIlRyZWthbnQiLAogICAgImFycm93aGVhZFN0YXJ0LXN0eWxlLmFycm93IjogIlBpbCIsCiAgICAiYXJyb3doZWFkU3RhcnQtc3R5bGUudHJpYW5nbGUiOiAiVHJla2FudCIsCiAgICAiYXJyb3doZWFkRW5kLXN0eWxlLmFycm93IjogIlBpbCIsCiAgICAiYXJyb3doZWFkRW5kLXN0eWxlLnRyaWFuZ2xlIjogIlRyZWthbnQiLAogICAgInNwbGluZS1zdHlsZS5saW5lIjogIkxpbmplIiwKICAgICJ0b29sLnNlbGVjdCI6ICJWZWxnIiwKICAgICJ0b29sLmRyYXciOiAiVGVnbiIsCiAgICAidG9vbC5lcmFzZXIiOiAiVmlza2Vsw6ZyIiwKICAgICJ0b29sLmFycm93IjogIlBpbCIsCiAgICAidG9vbC5lbGxpcHNlIjogIkVsbGlwc2UiLAogICAgInRvb2wubGluZSI6ICJMaW5qZSIsCiAgICAidG9vbC5yZWN0YW5nbGUiOiAiUmVrdGFuZ2VsIiwKICAgICJ0b29sLnRyaWFuZ2xlIjogIlRyZWthbnQiLAogICAgInRvb2wubm90ZSI6ICJMYXBwIiwKICAgICJ0b29sLnRleHQiOiAiVGVrc3QiLAogICAgIm1lbnUuY29weS1hcyI6ICJLb3BpZXIgc29tIiwKICAgICJtZW51LmVkaXQiOiAiUmVkaWdlciIsCiAgICAibWVudS5leHBvcnQtYXMiOiAiRWtzcG9ydGVyIHNvbSIsCiAgICAibWVudS5maWxlIjogIkZpbCIsCiAgICAibWVudS5sYW5ndWFnZSI6ICJTcHLDpWsiLAogICAgIm1lbnUucHJlZmVyZW5jZXMiOiAiUHJlZmVyYW5zZXIiLAogICAgIm1lbnUudmlldyI6ICJWaXMiLAogICAgImNvbnRleHQtbWVudS5jb3B5LWFzIjogIktvcGllciBzb20iLAogICAgImNvbnRleHQtbWVudS5leHBvcnQtYXMiOiAiRWtzcG9ydGVyIHNvbSIsCiAgICAiY29udGV4dC1tZW51Lm1vdmUtdG8tcGFnZSI6ICJGbHl0dCB0aWwgc2lkZSIsCiAgICAicGFnZS1tZW51LnN1Ym1lbnUuZGVsZXRlIjogIlNsZXR0IiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmVkaXQiOiAiUmVkaWdlciIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy5maWxlIjogIkZpbCIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy5wcmVmZXJlbmNlcyI6ICJQcmVmZXJhbnNlciIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy52aWV3IjogIlZpcyIsCiAgICAic3R5bGUtcGFuZWwudGl0bGUiOiAiU3RpbGVyIiwKICAgICJzdHlsZS1wYW5lbC5hbGlnbiI6ICJKdXN0ZXIiLAogICAgInN0eWxlLXBhbmVsLmNvbG9yIjogIkZhcmdlIiwKICAgICJzdHlsZS1wYW5lbC5kYXNoIjogIkxpbmplIiwKICAgICJzdHlsZS1wYW5lbC5maWxsIjogIkZ5bGwiLAogICAgInN0eWxlLXBhbmVsLmZvbnQiOiAiVGVrc3R0eXBlIiwKICAgICJzdHlsZS1wYW5lbC5zaXplIjogIlN0w7hycmVsc2UiLAogICAgInN0eWxlLXBhbmVsLnRleHQiOiAiVGVrc3QiCn0=",vi="data:application/json;base64,ewogICAgImFjdGlvbi5jb3B5LWFzLWpzb24uc2hvcnQiOiAiSlNPTiIsCiAgICAiYWN0aW9uLmNvcHktYXMtcG5nLnNob3J0IjogIlBORyIsCiAgICAiYWN0aW9uLmNvcHktYXMtcG5nIjogIktvcGl1aiBqYWtvIFBORyIsCiAgICAiYWN0aW9uLmNvcHktYXMtc3ZnLnNob3J0IjogIlNWRyIsCiAgICAiYWN0aW9uLmNvcHkiOiAiS29waXVqIiwKICAgICJhY3Rpb24uY3V0IjogIld5dG5paiIsCiAgICAiYWN0aW9uLmRlbGV0ZSI6ICJVc3XFhCIsCiAgICAiYWN0aW9uLmR1cGxpY2F0ZSI6ICJQb3dpZWwiLAogICAgImFjdGlvbi5leHBvcnQtYXMtanNvbi5zaG9ydCI6ICJKU09OIiwKICAgICJhY3Rpb24uZXhwb3J0LWFzLXBuZy5zaG9ydCI6ICJQTkciLAogICAgImFjdGlvbi5leHBvcnQtYXMtc3ZnLnNob3J0IjogIlNWRyIsCiAgICAiYWN0aW9uLmZsaXAtaG9yaXpvbnRhbCI6ICJPZHdyw7PEhyB3IHBvemlvbWllIiwKICAgICJhY3Rpb24uZmxpcC12ZXJ0aWNhbCI6ICJPZHdyw7PEhyB3IHBpb25pZSIsCiAgICAiYWN0aW9uLmdyb3VwIjogIkdydXB1aiIsCiAgICAiYWN0aW9uLmluc2VydC1tZWRpYSI6ICJaYcWCYWR1aiBtdWx0aW1lZGlhIiwKICAgICJhY3Rpb24ucGFzdGUiOiAiV2tsZWoiLAogICAgImFjdGlvbi5yZWRvIjogIlBvd3TDs3J6IiwKICAgICJhY3Rpb24uc2VsZWN0LWFsbCI6ICJaYXpuYWN6IHdzenlzdGtvIiwKICAgICJhY3Rpb24uc2VsZWN0LW5vbmUiOiAiT2R6bmFjeiB3c3p5c3RrbyIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kYXJrLW1vZGUubWVudSI6ICJUcnliIGNpZW1ueSIsCiAgICAiYWN0aW9uLnVuZG8iOiAiQ29mbmlqIiwKICAgICJhY3Rpb24udW5ncm91cCI6ICJSb3pncnVwdWoiLAogICAgImFjdGlvbi56b29tLWluIjogIlByenlibGnFvCIsCiAgICAiYWN0aW9uLnpvb20tb3V0IjogIk9kZGFsIiwKICAgICJhY3Rpb24uem9vbS10by1maXQiOiAiV3lwZcWCbmlqIGVrcmFuIiwKICAgICJhY3Rpb24uem9vbS10by1zZWxlY3Rpb24iOiAiUHJ6eWJsacW8IGRvIHphem5hY3plbmlhIiwKICAgICJjb2xvci1zdHlsZS5ibGFjayI6ICJDemFybnkiLAogICAgImNvbG9yLXN0eWxlLmJsdWUiOiAiTmllYmllc2tpIiwKICAgICJjb2xvci1zdHlsZS5ncmVlbiI6ICJaaWVsb255IiwKICAgICJjb2xvci1zdHlsZS5ncmV5IjogIlN6YXJ5IiwKICAgICJjb2xvci1zdHlsZS5saWdodC1ibHVlIjogIkphc25vbmllYmllc2tpIiwKICAgICJjb2xvci1zdHlsZS5saWdodC1ncmVlbiI6ICJKYXNub3ppZWxvbnkiLAogICAgImNvbG9yLXN0eWxlLmxpZ2h0LXJlZCI6ICJKYXNub2N6ZXJ3b255IiwKICAgICJjb2xvci1zdHlsZS5saWdodC12aW9sZXQiOiAiSmFzbnkgZmlvbGV0IiwKICAgICJjb2xvci1zdHlsZS5vcmFuZ2UiOiAiUG9tYXJhxYRjem93eSIsCiAgICAiY29sb3Itc3R5bGUucmVkIjogIkN6ZXJ3b255IiwKICAgICJjb2xvci1zdHlsZS52aW9sZXQiOiAiRmlvbGV0b3d5IiwKICAgICJjb2xvci1zdHlsZS55ZWxsb3ciOiAixbvDs8WCdHkiLAogICAgImRhc2gtc3R5bGUuZHJhdyI6ICJSeXN1aiIsCiAgICAib3BhY2l0eS1zdHlsZS4wLjEiOiAiMTAlIiwKICAgICJvcGFjaXR5LXN0eWxlLjAuMjUiOiAiMjUlIiwKICAgICJvcGFjaXR5LXN0eWxlLjAuNSI6ICI1MCUiLAogICAgIm9wYWNpdHktc3R5bGUuMC43NSI6ICI3NSUiLAogICAgIm9wYWNpdHktc3R5bGUuMSI6ICIxMDAlIiwKICAgICJmb250LXN0eWxlLmRyYXciOiAiUnlzdWoiLAogICAgImdlby1zdHlsZS5kaWFtb25kIjogIlJvbWIiLAogICAgImdlby1zdHlsZS5lbGxpcHNlIjogIkVsaXBzYSIsCiAgICAiZ2VvLXN0eWxlLnJlY3RhbmdsZSI6ICJQcm9zdG9rxIV0IiwKICAgICJnZW8tc3R5bGUucmhvbWJ1cy0yIjogIlJvbWIgMiIsCiAgICAiZ2VvLXN0eWxlLnJob21idXMiOiAiUm9tYiIsCiAgICAiZ2VvLXN0eWxlLnN0YXIiOiAiR3dpYXpkYSIsCiAgICAiZ2VvLXN0eWxlLnRyYXBlem9pZCI6ICJUcmFwZXoiLAogICAgImdlby1zdHlsZS50cmlhbmdsZSI6ICJUcsOzamvEhXQiLAogICAgImFycm93aGVhZFN0YXJ0LXN0eWxlLmFycm93IjogIlN0cnphxYJrYSIsCiAgICAiYXJyb3doZWFkU3RhcnQtc3R5bGUuZGlhbW9uZCI6ICJSb21iIiwKICAgICJhcnJvd2hlYWRTdGFydC1zdHlsZS50cmlhbmdsZSI6ICJUcsOzamvEhXQiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS5hcnJvdyI6ICJTdHJ6YcWCa2EiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS5kaWFtb25kIjogIlJvbWIiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS5zcXVhcmUiOiAiS3dhZHJhdCIsCiAgICAiYXJyb3doZWFkRW5kLXN0eWxlLnRyaWFuZ2xlIjogIlRyw7Nqa8SFdCIsCiAgICAic3BsaW5lLXN0eWxlLmxpbmUiOiAiTGluaWEiLAogICAgInRvb2wuc2VsZWN0IjogIlphem5hY3oiLAogICAgInRvb2wuZHJhdyI6ICJSeXN1aiIsCiAgICAidG9vbC5lcmFzZXIiOiAiR3Vta2EiLAogICAgInRvb2wuYXJyb3ciOiAiU3RyemHFgmthIiwKICAgICJ0b29sLmRpYW1vbmQiOiAiUm9tYiIsCiAgICAidG9vbC5lbGxpcHNlIjogIkVsaXBzYSIsCiAgICAidG9vbC5oZXhhZ29uIjogIlN6ZcWbY2lva8SFdCIsCiAgICAidG9vbC5saW5lIjogIkxpbmlhIiwKICAgICJ0b29sLm9jdGFnb24iOiAiT8WbbWlva8SFdCIsCiAgICAidG9vbC5vdmFsIjogIk93YWwiLAogICAgInRvb2wucGVudGFnb24iOiAiUGnEmWNpb2vEhXQiLAogICAgInRvb2wucmVjdGFuZ2xlIjogIlByb3N0b2vEhXQiLAogICAgInRvb2wucmhvbWJ1cyI6ICJSb21iIiwKICAgICJ0b29sLnN0YXIiOiAiR3dpYXpkYSIsCiAgICAidG9vbC50cmlhbmdsZSI6ICJUcsOzamvEhXQiLAogICAgInRvb2wubm90ZSI6ICJOYWtsZWprYSIsCiAgICAidG9vbC50ZXh0IjogIlRla3N0IiwKICAgICJtZW51LmNvcHktYXMiOiAiS29waXVqIGpha28iLAogICAgIm1lbnUuZWRpdCI6ICJFZHljamEiLAogICAgIm1lbnUuZXhwb3J0LWFzIjogIkVrc3BvcnR1aiBqYWtvIiwKICAgICJtZW51LmZpbGUiOiAiUGxpayIsCiAgICAibWVudS5sYW5ndWFnZSI6ICJKxJl6eWsiLAogICAgIm1lbnUucHJlZmVyZW5jZXMiOiAiUHJlZmVyZW5jamUiLAogICAgIm1lbnUudmlldyI6ICJXaWRvayIsCiAgICAiY29udGV4dC1tZW51LmNvcHktYXMiOiAiS29waXVqIGpha28iLAogICAgImNvbnRleHQtbWVudS5leHBvcnQtYXMiOiAiRWtzcG9ydHVqIGpha28iLAogICAgImNvbnRleHQtbWVudS5tb3ZlLXRvLXBhZ2UiOiAiUHJ6ZW5pZcWbIG5hIHN0cm9uxJkiLAogICAgInBhZ2UtbWVudS5uZXctcGFnZS1pbml0aWFsLW5hbWUiOiAiU3Ryb25hIDEiLAogICAgInBhZ2UtbWVudS5wYWdlIjogIlN0cm9uYSIsCiAgICAicGFnZS1tZW51LnN1Ym1lbnUuZGVsZXRlIjogIlVzdcWEIiwKICAgICJzaGFyZS1tZW51LmNyZWF0ZS1wcm9qZWN0IjogIk5vd3kgd3Nww7NsbnkgcHJvamVrdCIsCiAgICAicGVvcGxlLW1lbnUudGl0bGUiOiAiTHVkemllIiwKICAgICJwZW9wbGUtbWVudS5jaGFuZ2UtY29sb3IiOiAiWm1pZcWEIGtvbG9yIiwKICAgICJoZWxwLW1lbnUuZGlzY29yZCI6ICJEaXNjb3JkIiwKICAgICJoZWxwLW1lbnUuZ2l0aHViIjogIkdpdEh1YiIsCiAgICAiaGVscC1tZW51LnR3aXR0ZXIiOiAiVHdpdHRlciIsCiAgICAibGlua3MtbWVudS5kaXNjb3JkIjogIkRpc2NvcmQiLAogICAgImxpbmtzLW1lbnUuZ2l0aHViIjogIkdpdEh1YiIsCiAgICAibGlua3MtbWVudS50d2l0dGVyIjogIlR3aXR0ZXIiLAogICAgImVkaXQtcGFnZXMtZGlhbG9nLm1vcmUtbWVudSI6ICJNZW51IiwKICAgICJlZGl0LXBhZ2VzLWRpYWxvZy5uZXctcGFnZS1pbml0aWFsLW5hbWUiOiAiU3Ryb25hIDEiLAogICAgInJlbG9hZC1maWxlLWRpYWxvZy5yZXZlcnQiOiAiTmllLCBkemnEmWt1asSZIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLnRpdGxlIjogIlNrcsOzdHkga2xhd2lhdHVyb3dlIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmVkaXQiOiAiRWR5Y2phIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmZpbGUiOiAiUGxpayIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy5wcmVmZXJlbmNlcyI6ICJQcmVmZXJlbmNqZSIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy52aWV3IjogIldpZG9rIiwKICAgICJzdHlsZS1wYW5lbC50aXRsZSI6ICJTdHlsZSIsCiAgICAic3R5bGUtcGFuZWwuYWxpZ24iOiAiV3lyw7N3bmFuaWUiLAogICAgInN0eWxlLXBhbmVsLmNvbG9yIjogIktvbG9yIiwKICAgICJzdHlsZS1wYW5lbC5kYXNoIjogIkxpbmlhIiwKICAgICJzdHlsZS1wYW5lbC5maWxsIjogIld5cGXFgm5pZW5pZSIsCiAgICAic3R5bGUtcGFuZWwuZm9udCI6ICJDemNpb25rYSIsCiAgICAic3R5bGUtcGFuZWwuc2l6ZSI6ICJSb3ptaWFyIiwKICAgICJzdHlsZS1wYW5lbC50ZXh0IjogIlRla3N0IiwKICAgICJ0b29sLXBhbmVsLnRoaW5ncyI6ICJSemVjenkiLAogICAgImZpbGUtc3lzdGVtLmNvbmZpcm0tb3Blbi5kb250LXNob3ctYWdhaW4iOiAiTmllIHB5dGFqIHBvbm93bmllIiwKICAgICJ2c2NvZGUuZmlsZS1vcGVuLmRvbnQtc2hvdy1hZ2FpbiI6ICJOaWUgcHl0YWogcG9ub3duaWUiLAogICAgInZzY29kZS5jb25maXJtLW9wZW4uY2FuY2VsIjogIlphbWtuaWogcGxpayIsCiAgICAiY29udGV4dC5wYWdlcy5uZXctcGFnZSI6ICJOb3dhIHN0cm9uYSIKfQ==",Li="data:application/json;base64,ewoJImFjdGlvbi5icmluZy1mb3J3YXJkIjogIkF2YW7Dp2FyIiwKCSJhY3Rpb24uYnJpbmctdG8tZnJvbnQiOiAiVHJhemVyIHBhcmEgRnJlbnRlIiwKCSJhY3Rpb24uY29weSI6ICJDb3BpYXIiLAoJImFjdGlvbi5jdXQiOiAiQ29ydGFyIiwKCSJhY3Rpb24uZGVsZXRlIjogIkRlbGV0YXIiLAoJImFjdGlvbi5kdXBsaWNhdGUiOiAiRHVwbGljYXIiLAoJImFjdGlvbi5mbGlwLWhvcml6b250YWwiOiAiVmlyYXIgSG9yaXpvbnRhbG1lbnRlIiwKCSJhY3Rpb24uZmxpcC12ZXJ0aWNhbCI6ICJWaXJhciBWZXJ0aWNhbG1lbnRlIiwKCSJhY3Rpb24uZmxpcC1ob3Jpem9udGFsLnNob3J0IjogIlZpcmFyIEhvcml6b250YWxtZW50ZSIsCgkiYWN0aW9uLmZsaXAtdmVydGljYWwuc2hvcnQiOiAiVmlyYXIgVmVydGljYWxtZW50ZSIsCgkiYWN0aW9uLmdyb3VwIjogIkFncnVwYXIiLAoJImFjdGlvbi5pbnNlcnQtbWVkaWEiOiAiQ2FycmVnYXIgTcOtZGlhIiwKCSJhY3Rpb24ucGFzdGUiOiAiQ29sYXIiLAoJImFjdGlvbi5yZWRvIjogIlJlZmF6ZXIiLAoJImFjdGlvbi5zZWxlY3QtYWxsIjogIlNlbGVjaW9uYXIgdG9kb3MiLAoJImFjdGlvbi5zZWxlY3Qtbm9uZSI6ICJTZWxlY2lvbmFyIG5lbmh1bSIsCgkiYWN0aW9uLnNlbmQtYmFja3dhcmQiOiAiRW52aWFyIHBhcmEgVHLDoXMiLAoJImFjdGlvbi5zZW5kLXRvLWJhY2siOiAiUmVjdWFyIiwKCSJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZS5tZW51IjogIk1vZG8gRXNjdXJvIiwKCSJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZSI6ICJNb2RvIEVzY3VybyIsCgkiYWN0aW9uLnRvZ2dsZS1kZWJ1Zy1tb2RlLm1lbnUiOiAiTW9kbyBEZWJ1ZyIsCgkiYWN0aW9uLnRvZ2dsZS1kZWJ1Zy1tb2RlIjogIk1vZG8gRGVidWciLAoJImFjdGlvbi50b2dnbGUtZm9jdXMtbW9kZS5tZW51IjogIk1vZG8gRm9jbyIsCgkiYWN0aW9uLnRvZ2dsZS1mb2N1cy1tb2RlIjogIk1vZG8gRm9jbyIsCgkiYWN0aW9uLnRvZ2dsZS1ncmlkLm1lbnUiOiAiTW9zdHJhciBHcmFkZSIsCgkiYWN0aW9uLnVuZG8iOiAiRGVzZmF6ZXIiLAoJImFjdGlvbi51bmdyb3VwIjogIkRlc2FncnVwYXIiLAoJImFjdGlvbi56b29tLWluIjogIkF1bWVudGFyIHpvb20iLAoJImFjdGlvbi56b29tLW91dCI6ICJEaW1pbnVpciB6b29tIiwKCSJhY3Rpb24uem9vbS10by1maXQiOiAiWm9vbSBwYXJhIGFqdXN0ZSIsCgkiYWN0aW9uLnpvb20tdG8tc2VsZWN0aW9uIjogIlpvb20gcGFyYSBhIHNlbGXDp8OjbyIsCgkiZ2VvLXN0eWxlLmVsbGlwc2UiOiAiRWxpcHNlIiwKCSJnZW8tc3R5bGUucmVjdGFuZ2xlIjogIlJldMOibmd1bG8iLAoJImdlby1zdHlsZS50cmlhbmdsZSI6ICJUcmnDom5ndWxvIiwKCSJhcnJvd2hlYWRTdGFydC1zdHlsZS5hcnJvdyI6ICJTZXRhIiwKCSJhcnJvd2hlYWRTdGFydC1zdHlsZS50cmlhbmdsZSI6ICJUcmnDom5ndWxvIiwKCSJhcnJvd2hlYWRFbmQtc3R5bGUuYXJyb3ciOiAiU2V0YSIsCgkiYXJyb3doZWFkRW5kLXN0eWxlLnRyaWFuZ2xlIjogIlRyacOibmd1bG8iLAoJInNwbGluZS1zdHlsZS5saW5lIjogIkxpbmhhIiwKCSJ0b29sLnNlbGVjdCI6ICJTZWxlY2lvbmFyIiwKCSJ0b29sLmRyYXciOiAiRGVzZW5oYXIiLAoJInRvb2wuZXJhc2VyIjogIkJvcnJhY2hhIiwKCSJ0b29sLmFycm93IjogIlNldGEiLAoJInRvb2wuZWxsaXBzZSI6ICJFbGlwc2UiLAoJInRvb2wucmVjdGFuZ2xlIjogIlJldMOibmd1bG8iLAoJInRvb2wudHJpYW5nbGUiOiAiVHJpw6JuZ3VsbyIsCgkidG9vbC5ub3RlIjogIkFkZXNpdm8iLAoJInRvb2wudGV4dCI6ICJUZXh0byIsCgkibWVudS5jb3B5LWFzIjogIkNvcGlhciBjb21vIiwKCSJtZW51LmVkaXQiOiAiRWRpdGFyIiwKCSJtZW51LmV4cG9ydC1hcyI6ICJFeHBvcnRhciBjb21vIiwKCSJtZW51LmZpbGUiOiAiQXJxdWl2byIsCgkibWVudS5sYW5ndWFnZSI6ICJJZGlvbWEiLAoJIm1lbnUucHJlZmVyZW5jZXMiOiAiUHJlZmVyw6puY2lhcyIsCgkibWVudS52aWV3IjogIlZpc3VhbGl6YXIiLAoJImNvbnRleHQtbWVudS5jb3B5LWFzIjogIkNvcGlhciBjb21vIiwKCSJjb250ZXh0LW1lbnUuZXhwb3J0LWFzIjogIkV4cG9ydGFyIGNvbW8iLAoJImNvbnRleHQtbWVudS5tb3ZlLXRvLXBhZ2UiOiAiTW92ZXIgcGFyYSBQw6FnaW5hIiwKCSJwYWdlLW1lbnUuY3JlYXRlLW5ldy1wYWdlIjogIkNyaWFyIFDDoWdpbmEiLAoJInBhZ2UtbWVudS5wYWdlIjogIlDDoWdpbmEiLAoJInBhZ2UtbWVudS5lZGl0LXN0YXJ0IjogIkVkaXRhciIsCgkicGFnZS1tZW51LnN1Ym1lbnUuZHVwbGljYXRlLXBhZ2UiOiAiRHVwbGljYXIiLAoJInBhZ2UtbWVudS5zdWJtZW51LmRlbGV0ZSI6ICJEZWxldGFyIiwKCSJzaGFyZS1tZW51LmNvcHktbGluayI6ICJDb3BpYXIgTGluayBkZSBDb252aXRlIiwKCSJzaGFyZS1tZW51LmNvcHktcmVhZG9ubHktbGluayI6ICJDb3BpYXIgTGluayBSZWFkT25seSIsCgkiaGVscC1tZW51LmtleWJvYXJkLXNob3J0Y3V0cyI6ICJBdGFsaG9zIGRlIFRlY2xhZG8iLAoJImVkaXQtbGluay1kaWFsb2cuY2FuY2VsIjogIkNhbmNlbGFyIiwKCSJlZGl0LXBhZ2VzLWRpYWxvZy5jcmVhdGUtbmV3LXBhZ2UiOiAiQ3JpYXIgUMOhZ2luYSIsCgkiZWRpdC1wYWdlcy1kaWFsb2cuZGVsZXRlIjogIkRlbGV0YXIiLAoJImVkaXQtcGFnZXMtZGlhbG9nLmR1cGxpY2F0ZS1wYWdlIjogIkR1cGxpY2FyIiwKCSJzaG9ydGN1dHMtZGlhbG9nLnRpdGxlIjogIkF0YWxob3MgZGUgVGVjbGFkbyIsCgkic2hvcnRjdXRzLWRpYWxvZy5lZGl0IjogIkVkaXRhciIsCgkic2hvcnRjdXRzLWRpYWxvZy5maWxlIjogIkFycXVpdm8iLAoJInNob3J0Y3V0cy1kaWFsb2cucHJlZmVyZW5jZXMiOiAiUHJlZmVyw6puY2lhcyIsCgkic2hvcnRjdXRzLWRpYWxvZy50b29scyI6ICJGZXJyYW1lbnRhcyIsCgkic2hvcnRjdXRzLWRpYWxvZy50cmFuc2Zvcm0iOiAiVHJhbnNmb3JtYXIiLAoJInNob3J0Y3V0cy1kaWFsb2cudmlldyI6ICJWaXN1YWxpemFyIiwKCSJzdHlsZS1wYW5lbC50aXRsZSI6ICJFc3RpbG9zIiwKCSJzdHlsZS1wYW5lbC5hbGlnbiI6ICJBbGluaGFtZW50byIsCgkic3R5bGUtcGFuZWwuY29sb3IiOiAiQ29yIiwKCSJzdHlsZS1wYW5lbC5kYXNoIjogIlRyYcOnbyIsCgkic3R5bGUtcGFuZWwuZmlsbCI6ICJQcmVlbmNoZXIiLAoJInN0eWxlLXBhbmVsLmZvbnQiOiAiRm9udGUiLAoJInN0eWxlLXBhbmVsLnNpemUiOiAiVGFtYW5obyIsCgkic3R5bGUtcGFuZWwudGV4dCI6ICJUZXh0byIsCgkiYWN0aW9uLmFsaWduLWJvdHRvbSI6ICJBbGluaGFyIGVtYmFpeG8iLAoJImFjdGlvbi5hbGlnbi1jZW50ZXItaG9yaXpvbnRhbCI6ICJBbGluaGFyIGFvIGNlbnRybyBuYSBob3Jpem9udGFsIiwKCSJhY3Rpb24uYWxpZ24tY2VudGVyLXZlcnRpY2FsIjogIkFsaW5oYXIgYW8gY2VudHJvIG5hIHZlcnRpY2FsIiwKCSJhY3Rpb24uYWxpZ24tY2VudGVyLWhvcml6b250YWwuc2hvcnQiOiAiQWxpbmhhciBhbyBjZW50cm8gbmEgaG9yaXpvbnRhbCIsCgkiYWN0aW9uLmFsaWduLWNlbnRlci12ZXJ0aWNhbC5zaG9ydCI6ICJBbGluaGFyIGFvIGNlbnRybyBuYSB2ZXJ0aWNhbCIsCgkiYWN0aW9uLmFsaWduLWxlZnQiOiAiQWxpbmhhciDDoCBlc3F1ZXJkYSIsCgkiYWN0aW9uLmFsaWduLXJpZ2h0IjogIkFsaW5oYXIgw6AgZGlyZWl0YSIsCgkiYWN0aW9uLmFsaWduLXRvcCI6ICJBbGluaGFzIGVtIGNpbWEiLAoJImFjdGlvbi5kaXN0cmlidXRlLWhvcml6b250YWwiOiAiRGlzdHJ1aWJ1aXIgbmEgaG9yaXpvbnRhbCIsCgkiYWN0aW9uLmRpc3RyaWJ1dGUtdmVydGljYWwiOiAiRGlzdHJ1aWJ1aXIgbmEgdmVydGljYWwiLAoJImFjdGlvbi5kaXN0cmlidXRlLWhvcml6b250YWwuc2hvcnQiOiAiRGlzdHJ1aWJ1aXIgbmEgaG9yaXpvbnRhbCIsCgkiYWN0aW9uLmRpc3RyaWJ1dGUtdmVydGljYWwuc2hvcnQiOiAiRGlzdHJ1aWJ1aXIgbmEgdmVydGljYWwiLAoJImFjdGlvbi5zdHJldGNoLWhvcml6b250YWwiOiAiRXN0aWNhciBuYSBob3Jpem9udGFsIiwKCSJhY3Rpb24uc3RyZXRjaC12ZXJ0aWNhbCI6ICJFc3RpY2FyIG5hIHZlcnRpY2FsIiwKCSJhY3Rpb24uc3RyZXRjaC1ob3Jpem9udGFsLnNob3J0IjogIkVzdGljYXIgbmEgaG9yaXpvbnRhbCIsCgkiYWN0aW9uLnN0cmV0Y2gtdmVydGljYWwuc2hvcnQiOiAiRXN0aWNhciBuYSB2ZXJ0aWNhbCIsCgkiYWN0aW9uLnRvZ2dsZS1ncmlkIjogIk1vc3RyYXIgR3JhZGUiLAoJImFjdGlvbi50b2dnbGUtc25hcC1tb2RlLm1lbnUiOiAiTW9zdHJhciBQb250b3MgZGUgQWp1c3RlIiwKCSJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZSI6ICJNb3N0cmFyIFBvbnRvcyBkZSBBanVzdGUiLAoJImFjdGlvbi50b2dnbGUtdHJhbnNwYXJlbnQuY29udGV4dC1tZW51IjogIlRyYW5zcGFyZW50ZSIsCgkiYWN0aW9uLnRvZ2dsZS10cmFuc3BhcmVudC5tZW51IjogIlRyYW5zcGFyZW50ZSIsCgkiZGFzaC1zdHlsZS5kcmF3IjogIkRlc2VuaGFyIiwKCSJmb250LXN0eWxlLmRyYXciOiAiRGVzZW5oYXIiLAoJInRvb2wubGluZSI6ICJMaW5oYSIsCgkiZW1iZWQtZGlhbG9nLmNhbmNlbCI6ICJDYW5jZWxhciIsCgkidG9vbC1wYW5lbC50b29scyI6ICJGZXJyYW1lbnRhcyIsCgkiZm9jdXMtbW9kZS50b2dnbGUtZm9jdXMtbW9kZSI6ICJNb2RvIEZvY28iLAoJImZpbGUtc3lzdGVtLmNvbmZpcm0tb3Blbi5jYW5jZWwiOiAiQ2FuY2VsYXIiCn0K",ji="data:application/json;base64,ewogICAgImFjdGlvbi5icmluZy1mb3J3YXJkIjogIk1vdmVyIGFjaW1hIiwKICAgICJhY3Rpb24uYnJpbmctdG8tZnJvbnQiOiAiQ29sb2NhciDDoCBGcmVudGUiLAogICAgImFjdGlvbi5jb3B5IjogIkNvcGlhciIsCiAgICAiYWN0aW9uLmN1dCI6ICJDb3J0YXIiLAogICAgImFjdGlvbi5kZWxldGUiOiAiQXBhZ2FyIiwKICAgICJhY3Rpb24uZHVwbGljYXRlIjogIkR1cGxpY2FyIiwKICAgICJhY3Rpb24uZmxpcC1ob3Jpem9udGFsIjogIkludmVydGVyIEhvcml6b250YWxtZW50ZSIsCiAgICAiYWN0aW9uLmZsaXAtdmVydGljYWwiOiAiSW52ZXJ0ZXIgVmVydGljYWxtZW50ZSIsCiAgICAiYWN0aW9uLmZsaXAtaG9yaXpvbnRhbC5zaG9ydCI6ICJJbnZlcnRlciBIb3Jpem9udGFsbWVudGUiLAogICAgImFjdGlvbi5mbGlwLXZlcnRpY2FsLnNob3J0IjogIkludmVydGVyIFZlcnRpY2FsbWVudGUiLAogICAgImFjdGlvbi5ncm91cCI6ICJBZ3J1cGFyIiwKICAgICJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogIlVwbG9hZCBNw6lkaWEiLAogICAgImFjdGlvbi5wYXN0ZSI6ICJDb2xhciIsCiAgICAiYWN0aW9uLnJlZG8iOiAiUmVmYXplciIsCiAgICAiYWN0aW9uLnNlbGVjdC1hbGwiOiAiU2VsZWNpb25hciB0b2RvcyIsCiAgICAiYWN0aW9uLnNlbGVjdC1ub25lIjogIlNlbGVjaW9uYXIgbmVuaHVtIiwKICAgICJhY3Rpb24uc2VuZC1iYWNrd2FyZCI6ICJNb3ZlciBhYmFpeG8iLAogICAgImFjdGlvbi5zZW5kLXRvLWJhY2siOiAiQ29sb2NhciBubyBGdW5kbyIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kYXJrLW1vZGUubWVudSI6ICJNb2RvIEVzY3VybyIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kYXJrLW1vZGUiOiAiTW9kbyBFc2N1cm8iLAogICAgImFjdGlvbi50b2dnbGUtZGVidWctbW9kZS5tZW51IjogIk1vZG8gRGVidWciLAogICAgImFjdGlvbi50b2dnbGUtZGVidWctbW9kZSI6ICJNb2RvIERlYnVnIiwKICAgICJhY3Rpb24udG9nZ2xlLWZvY3VzLW1vZGUubWVudSI6ICJNb2RvIEZvY28iLAogICAgImFjdGlvbi50b2dnbGUtZm9jdXMtbW9kZSI6ICJNb2RvIEZvY28iLAogICAgImFjdGlvbi50b2dnbGUtZ3JpZC5tZW51IjogIk1vc3RyYXIgR3JlbGhhIiwKICAgICJhY3Rpb24udG9nZ2xlLWdyaWQiOiAiTW9zdHJhciBHcmVsaGEiLAogICAgImFjdGlvbi50b2dnbGUtc25hcC1tb2RlLm1lbnUiOiAiTW9zdHJhciBQb250b3MgZGUgQWp1c3RlIiwKICAgICJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZSI6ICJNb3N0cmFyIFBvbnRvcyBkZSBBanVzdGUiLAogICAgImFjdGlvbi51bmRvIjogIkRlc2ZhemVyIiwKICAgICJhY3Rpb24udW5ncm91cCI6ICJEZXNhZ3J1cGFyIiwKICAgICJhY3Rpb24uem9vbS1pbiI6ICJBdW1lbnRhciB6b29tIiwKICAgICJhY3Rpb24uem9vbS1vdXQiOiAiRGltaW51aXIgem9vbSIsCiAgICAiYWN0aW9uLnpvb20tdG8tZml0IjogIlpvb20gcGFyYSBjYWJlciIsCiAgICAiYWN0aW9uLnpvb20tdG8tc2VsZWN0aW9uIjogIlpvb20gbmEgc2VsZcOnw6NvIiwKICAgICJkYXNoLXN0eWxlLmRyYXciOiAiRGVzZW5oYXIiLAogICAgImZvbnQtc3R5bGUuZHJhdyI6ICJEZXNlbmhhciIsCiAgICAiZ2VvLXN0eWxlLmVsbGlwc2UiOiAiRWxpcHNlIiwKICAgICJnZW8tc3R5bGUucmVjdGFuZ2xlIjogIlJldMOibmd1bG8iLAogICAgImdlby1zdHlsZS50cmlhbmdsZSI6ICJUcmnDom5ndWxvIiwKICAgICJhcnJvd2hlYWRTdGFydC1zdHlsZS5hcnJvdyI6ICJTZXRhIiwKICAgICJhcnJvd2hlYWRTdGFydC1zdHlsZS50cmlhbmdsZSI6ICJUcmnDom5ndWxvIiwKICAgICJhcnJvd2hlYWRFbmQtc3R5bGUuYXJyb3ciOiAiU2V0YSIsCiAgICAiYXJyb3doZWFkRW5kLXN0eWxlLnRyaWFuZ2xlIjogIlRyacOibmd1bG8iLAogICAgInNwbGluZS1zdHlsZS5saW5lIjogIkxpbmhhIiwKICAgICJ0b29sLnNlbGVjdCI6ICJTZWxlY2lvbmFyIiwKICAgICJ0b29sLmRyYXciOiAiRGVzZW5oYXIiLAogICAgInRvb2wuZXJhc2VyIjogIkJvcnJhY2hhIiwKICAgICJ0b29sLmFycm93IjogIlNldGEiLAogICAgInRvb2wuZWxsaXBzZSI6ICJFbGlwc2UiLAogICAgInRvb2wubGluZSI6ICJMaW5oYSIsCiAgICAidG9vbC5yZWN0YW5nbGUiOiAiUmV0w6JuZ3VsbyIsCiAgICAidG9vbC50cmlhbmdsZSI6ICJUcmnDom5ndWxvIiwKICAgICJ0b29sLm5vdGUiOiAiUG9zdC1pdCIsCiAgICAidG9vbC50ZXh0IjogIlRleHRvIiwKICAgICJtZW51LmNvcHktYXMiOiAiQ29waWFyIGNvbW8iLAogICAgIm1lbnUuZWRpdCI6ICJFZGl0YXIiLAogICAgIm1lbnUuZXhwb3J0LWFzIjogIkV4cG9ydGFyIGNvbW8iLAogICAgIm1lbnUuZmlsZSI6ICJGaWNoZWlybyIsCiAgICAibWVudS5sYW5ndWFnZSI6ICJMw61uZ3VhIiwKICAgICJtZW51LnByZWZlcmVuY2VzIjogIlByZWZlcsOqbmNpYXMiLAogICAgIm1lbnUudmlldyI6ICJWaXN1YWxpemFyIiwKICAgICJjb250ZXh0LW1lbnUuY29weS1hcyI6ICJDb3BpYXIgY29tbyIsCiAgICAiY29udGV4dC1tZW51LmV4cG9ydC1hcyI6ICJFeHBvcnRhciBjb21vIiwKICAgICJjb250ZXh0LW1lbnUubW92ZS10by1wYWdlIjogIk1vdmVyIHBhcmEgUMOhZ2luYSIsCiAgICAicGFnZS1tZW51LmNyZWF0ZS1uZXctcGFnZSI6ICJDcmlhciBQw6FnaW5hIiwKICAgICJwYWdlLW1lbnUuZWRpdC1zdGFydCI6ICJFZGl0YXIiLAogICAgInBhZ2UtbWVudS5zdWJtZW51LmR1cGxpY2F0ZS1wYWdlIjogIkR1cGxpY2FyIiwKICAgICJwYWdlLW1lbnUuc3VibWVudS5kZWxldGUiOiAiQXBhZ2FyIiwKICAgICJzaGFyZS1tZW51LmNvcHktbGluayI6ICJDb3BpYXIgTGluayBkZSBDb252aXRlIiwKICAgICJlZGl0LWxpbmstZGlhbG9nLmNhbmNlbCI6ICJDYW5jZWxhciIsCiAgICAiZW1iZWQtZGlhbG9nLmNhbmNlbCI6ICJDYW5jZWxhciIsCiAgICAiZWRpdC1wYWdlcy1kaWFsb2cuY3JlYXRlLW5ldy1wYWdlIjogIkNyaWFyIFDDoWdpbmEiLAogICAgImVkaXQtcGFnZXMtZGlhbG9nLmRlbGV0ZSI6ICJBcGFnYXIiLAogICAgImVkaXQtcGFnZXMtZGlhbG9nLmR1cGxpY2F0ZS1wYWdlIjogIkR1cGxpY2FyIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmVkaXQiOiAiRWRpdGFyIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmZpbGUiOiAiRmljaGVpcm8iLAogICAgInNob3J0Y3V0cy1kaWFsb2cucHJlZmVyZW5jZXMiOiAiUHJlZmVyw6puY2lhcyIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy52aWV3IjogIlZpc3VhbGl6YXIiLAogICAgInN0eWxlLXBhbmVsLnRpdGxlIjogIkVzdGlsb3MiLAogICAgInN0eWxlLXBhbmVsLmFsaWduIjogIkFsaW5oYW1lbnRvIiwKICAgICJzdHlsZS1wYW5lbC5jb2xvciI6ICJDb3IiLAogICAgInN0eWxlLXBhbmVsLmRhc2giOiAiVHJhw6dvIiwKICAgICJzdHlsZS1wYW5lbC5maWxsIjogIlByZWVuY2hlciIsCiAgICAic3R5bGUtcGFuZWwuZm9udCI6ICJGb250ZSIsCiAgICAic3R5bGUtcGFuZWwuc2l6ZSI6ICJUYW1hbmhvIiwKICAgICJzdHlsZS1wYW5lbC50ZXh0IjogIlRleHRvIiwKICAgICJmb2N1cy1tb2RlLnRvZ2dsZS1mb2N1cy1tb2RlIjogIk1vZG8gRm9jbyIsCiAgICAiZmlsZS1zeXN0ZW0uY29uZmlybS1vcGVuLmNhbmNlbCI6ICJDYW5jZWxhciIKfQ==",Ni=i.p+"drawing/ro-954c2e85357d9023.json",Di=i.p+"drawing/ru-c1146cf1f1e9f9b9.json",Zi="data:application/json;base64,ewogICAgImFjdGlvbi5icmluZy1mb3J3YXJkIjogIkZseXR0YSBmcmFtw6V0IiwKICAgICJhY3Rpb24uYnJpbmctdG8tZnJvbnQiOiAiUGxhY2VyYSBsw6RuZ3N0IGZyYW0iLAogICAgImFjdGlvbi5jb3B5IjogIktvcGllcmEiLAogICAgImFjdGlvbi5jdXQiOiAiS2xpcHAgdXQiLAogICAgImFjdGlvbi5kZWxldGUiOiAiUmFkZXJhIiwKICAgICJhY3Rpb24uZHVwbGljYXRlIjogIkR1cGxpY2VyYSIsCiAgICAiYWN0aW9uLmZsaXAtaG9yaXpvbnRhbCI6ICJWw6RuZCBob3Jpc29udGVsbHQiLAogICAgImFjdGlvbi5mbGlwLXZlcnRpY2FsIjogIlbDpG5kIHZlcnRpa2FsdCIsCiAgICAiYWN0aW9uLmZsaXAtaG9yaXpvbnRhbC5zaG9ydCI6ICJWw6RuZCBob3Jpc29udGVsbHQiLAogICAgImFjdGlvbi5mbGlwLXZlcnRpY2FsLnNob3J0IjogIlbDpG5kIHZlcnRpa2FsdCIsCiAgICAiYWN0aW9uLmdyb3VwIjogIkdydXBwZXJhIiwKICAgICJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogIkxhZGRhIHVwcCBtZWRpYSIsCiAgICAiYWN0aW9uLnBhc3RlIjogIktsaXN0cmEgaW4iLAogICAgImFjdGlvbi5yZWRvIjogIkfDtnIgb20iLAogICAgImFjdGlvbi5zZWxlY3QtYWxsIjogIlbDpGxqIGFsbGEiLAogICAgImFjdGlvbi5zZWxlY3Qtbm9uZSI6ICJWw6RsaiBpbmdlbiIsCiAgICAiYWN0aW9uLnNlbmQtYmFja3dhcmQiOiAiRmx5dHRhIGJha8OldCIsCiAgICAiYWN0aW9uLnNlbmQtdG8tYmFjayI6ICJQbGFjZXJhIGzDpG5nc3QgYmFrIiwKICAgICJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZS5tZW51IjogIk3DtnJrdCBsw6RnZSIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kYXJrLW1vZGUiOiAiTcO2cmt0IGzDpGdlIiwKICAgICJhY3Rpb24udG9nZ2xlLWRlYnVnLW1vZGUubWVudSI6ICJEZWJ1Z2zDpGdlIiwKICAgICJhY3Rpb24udG9nZ2xlLWRlYnVnLW1vZGUiOiAiRGVidWdsw6RnZSIsCiAgICAiYWN0aW9uLnRvZ2dsZS1mb2N1cy1tb2RlLm1lbnUiOiAiRm9rdXNsw6RnZSIsCiAgICAiYWN0aW9uLnRvZ2dsZS1mb2N1cy1tb2RlIjogIkZva3VzbMOkZ2UiLAogICAgImFjdGlvbi50b2dnbGUtZ3JpZC5tZW51IjogIlZpc2EgcnV0bsOkdCIsCiAgICAiYWN0aW9uLnRvZ2dsZS1ncmlkIjogIlZpc2EgcnV0bsOkdCIsCiAgICAiYWN0aW9uLnRvZ2dsZS1zbmFwLW1vZGUubWVudSI6ICJWaXNhIGFsbHRpZCBmw6RzdHB1bmt0ZXIiLAogICAgImFjdGlvbi50b2dnbGUtc25hcC1tb2RlIjogIlZpc2EgYWxsdGlkIGbDpHN0cHVua3RlciIsCiAgICAiYWN0aW9uLnRvZ2dsZS10cmFuc3BhcmVudC5jb250ZXh0LW1lbnUiOiAiVHJhbnNwYXJlbnQiLAogICAgImFjdGlvbi50b2dnbGUtdHJhbnNwYXJlbnQubWVudSI6ICJUcmFuc3BhcmVudCIsCiAgICAiYWN0aW9uLnVuZG8iOiAiw4VuZ3JhIiwKICAgICJhY3Rpb24udW5ncm91cCI6ICJBdmdydXBwZXJhIiwKICAgICJhY3Rpb24uem9vbS1pbiI6ICJab29tYSBpbiIsCiAgICAiYWN0aW9uLnpvb20tb3V0IjogIlpvb21hIHV0IiwKICAgICJhY3Rpb24uem9vbS10by1maXQiOiAiQW5wYXNzYSB6b29tIHRpbGwgc2vDpHJtIiwKICAgICJhY3Rpb24uem9vbS10by1zZWxlY3Rpb24iOiAiQW5wYXNzYSB6b29tIHRpbGwgdXJ2YWwiLAogICAgImRhc2gtc3R5bGUuZHJhdyI6ICJSaXRhIiwKICAgICJmb250LXN0eWxlLmRyYXciOiAiUml0YSIsCiAgICAiZ2VvLXN0eWxlLmVsbGlwc2UiOiAiRWxsaXBzIiwKICAgICJnZW8tc3R5bGUucmVjdGFuZ2xlIjogIlJla3RhbmdlbCIsCiAgICAiZ2VvLXN0eWxlLnRyaWFuZ2xlIjogIlRyaWFuZ2VsIiwKICAgICJhcnJvd2hlYWRTdGFydC1zdHlsZS5hcnJvdyI6ICJQaWwiLAogICAgImFycm93aGVhZFN0YXJ0LXN0eWxlLnRyaWFuZ2xlIjogIlRyaWFuZ2VsIiwKICAgICJhcnJvd2hlYWRFbmQtc3R5bGUuYXJyb3ciOiAiUGlsIiwKICAgICJhcnJvd2hlYWRFbmQtc3R5bGUudHJpYW5nbGUiOiAiVHJpYW5nZWwiLAogICAgInNwbGluZS1zdHlsZS5saW5lIjogIkxpbmplIiwKICAgICJ0b29sLnNlbGVjdCI6ICJWw6RsaiIsCiAgICAidG9vbC5kcmF3IjogIlJpdGEiLAogICAgInRvb2wuZXJhc2VyIjogIlJhZGVyYSIsCiAgICAidG9vbC5hcnJvdyI6ICJQaWwiLAogICAgInRvb2wuZWxsaXBzZSI6ICJFbGxpcHMiLAogICAgInRvb2wubGluZSI6ICJMaW5qZSIsCiAgICAidG9vbC5yZWN0YW5nbGUiOiAiUmVrdGFuZ2VsIiwKICAgICJ0b29sLnRyaWFuZ2xlIjogIlRyaWFuZ2VsIiwKICAgICJ0b29sLm5vdGUiOiAiS2xpc3RlcmxhcHAiLAogICAgInRvb2wudGV4dCI6ICJUZXh0IiwKICAgICJtZW51LmNvcHktYXMiOiAiS29waWVyYSBzb20iLAogICAgIm1lbnUuZWRpdCI6ICJSZWRpZ2VyYSIsCiAgICAibWVudS5leHBvcnQtYXMiOiAiRXhwb3J0ZXJhIHRpbGwiLAogICAgIm1lbnUuZmlsZSI6ICJBcmtpdiIsCiAgICAibWVudS5sYW5ndWFnZSI6ICJTcHLDpWsiLAogICAgIm1lbnUucHJlZmVyZW5jZXMiOiAiSW5zdMOkbGxuaW5nYXIiLAogICAgIm1lbnUudmlldyI6ICJJbm5laMOlbGwiLAogICAgImNvbnRleHQtbWVudS5jb3B5LWFzIjogIktvcGllcmEgc29tIiwKICAgICJjb250ZXh0LW1lbnUuZXhwb3J0LWFzIjogIkV4cG9ydGVyYSB0aWxsIiwKICAgICJjb250ZXh0LW1lbnUubW92ZS10by1wYWdlIjogIkZseXR0YSB0aWxsIHNpZGEiLAogICAgInBhZ2UtbWVudS5jcmVhdGUtbmV3LXBhZ2UiOiAiU2thcGEgc2lkYSIsCiAgICAicGFnZS1tZW51LnBhZ2UiOiAiU2lkYSIsCiAgICAicGFnZS1tZW51LmVkaXQtc3RhcnQiOiAiUmVkaWdlcmEiLAogICAgInBhZ2UtbWVudS5zdWJtZW51LmR1cGxpY2F0ZS1wYWdlIjogIkR1cGxpY2VyYSIsCiAgICAicGFnZS1tZW51LnN1Ym1lbnUuZGVsZXRlIjogIlJhZGVyYSIsCiAgICAic2hhcmUtbWVudS5jb3B5LWxpbmsiOiAiS29waWVyYSBsw6RuayBtZWQgcmVkaWdlcmluZ3Nyw6R0dGlnaGV0ZXIiLAogICAgInNoYXJlLW1lbnUuY29weS1yZWFkb25seS1saW5rIjogIktvcGllcmEgbMOkbmsgbWVkIGzDpHNyw6R0dGlnaGV0ZXIiLAogICAgImhlbHAtbWVudS5kaXNjb3JkIjogIkRpc2NvcmQiLAogICAgImhlbHAtbWVudS5naXRodWIiOiAiR2l0SHViIiwKICAgICJoZWxwLW1lbnUua2V5Ym9hcmQtc2hvcnRjdXRzIjogIlRhbmdlbnRib3Jkc2dlbnbDpGdhciIsCiAgICAiaGVscC1tZW51LnR3aXR0ZXIiOiAiVHdpdHRlciIsCiAgICAibGlua3MtbWVudS5kaXNjb3JkIjogIkRpc2NvcmQiLAogICAgImxpbmtzLW1lbnUuZ2l0aHViIjogIkdpdEh1YiIsCiAgICAibGlua3MtbWVudS50d2l0dGVyIjogIlR3aXR0ZXIiLAogICAgImVkaXQtbGluay1kaWFsb2cuY2FuY2VsIjogIkF2YnJ5dCIsCiAgICAiZW1iZWQtZGlhbG9nLmNhbmNlbCI6ICJBdmJyeXQiLAogICAgImVkaXQtcGFnZXMtZGlhbG9nLmNyZWF0ZS1uZXctcGFnZSI6ICJTa2FwYSBzaWRhIiwKICAgICJlZGl0LXBhZ2VzLWRpYWxvZy5kZWxldGUiOiAiUmFkZXJhIiwKICAgICJlZGl0LXBhZ2VzLWRpYWxvZy5kdXBsaWNhdGUtcGFnZSI6ICJEdXBsaWNlcmEiLAogICAgInNob3J0Y3V0cy1kaWFsb2cudGl0bGUiOiAiVGFuZ2VudGJvcmRzZ2VudsOkZ2FyIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLmVkaXQiOiAiUmVkaWdlcmEiLAogICAgInNob3J0Y3V0cy1kaWFsb2cuZmlsZSI6ICJBcmtpdiIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy5wcmVmZXJlbmNlcyI6ICJJbnN0w6RsbG5pbmdhciIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy50b29scyI6ICJWZXJrdHlnIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLnRyYW5zZm9ybSI6ICJUcmFuc2Zvcm0iLAogICAgInNob3J0Y3V0cy1kaWFsb2cudmlldyI6ICJJbm5laMOlbGwiLAogICAgInN0eWxlLXBhbmVsLnRpdGxlIjogIlV0c2VlbmRlIiwKICAgICJzdHlsZS1wYW5lbC5hbGlnbiI6ICJKdXN0ZXJhIiwKICAgICJzdHlsZS1wYW5lbC5jb2xvciI6ICJGw6RyZyIsCiAgICAic3R5bGUtcGFuZWwuZGFzaCI6ICJTdHJlY2siLAogICAgInN0eWxlLXBhbmVsLmZpbGwiOiAiSWZ5bGxkIiwKICAgICJzdHlsZS1wYW5lbC5mb250IjogIlR5cHNuaXR0IiwKICAgICJzdHlsZS1wYW5lbC5zaXplIjogIlN0b3JsZWsiLAogICAgInN0eWxlLXBhbmVsLnRleHQiOiAiVGV4dCIsCiAgICAidG9vbC1wYW5lbC50b29scyI6ICJWZXJrdHlnIiwKICAgICJmb2N1cy1tb2RlLnRvZ2dsZS1mb2N1cy1tb2RlIjogIkZva3VzbMOkZ2UiLAogICAgImZpbGUtc3lzdGVtLmNvbmZpcm0tb3Blbi5jYW5jZWwiOiAiQXZicnl0Igp9",Ei="data:application/json;base64,ewogICAgImFjdGlvbi5hbGlnbi1ib3R0b20iOiAi4LCF4LCh4LGB4LCX4LGB4LCoIOCwleCxgeCwpuCxgeCwsOCxjeCwmuCxgSIsCiAgICAiYWN0aW9uLmFsaWduLWNlbnRlci1ob3Jpem9udGFsIjogIuCwheCwoeCxjeCwoeCwguCwl+CwviDgsK7gsKfgsY3gsK/gsLLgsYsg4LCV4LGB4LCm4LGB4LCw4LGN4LCa4LGBIiwKICAgICJhY3Rpb24uYWxpZ24tY2VudGVyLXZlcnRpY2FsIjogIuCwqOCwv+CwsuCxgeCwteCxgeCwl+CwviDgsK7gsKfgsY3gsK/gsLLgsYsg4LCV4LGB4LCm4LGB4LCw4LGN4LCa4LGBIiwKICAgICJhY3Rpb24uYWxpZ24tY2VudGVyLWhvcml6b250YWwuc2hvcnQiOiAi4LCF4LCh4LGN4LCh4LCC4LCX4LC+IOCwruCwp+CxjeCwr+CwsuCxiyDgsJXgsYHgsKbgsYHgsLDgsY3gsJrgsYEiLAogICAgImFjdGlvbi5hbGlnbi1jZW50ZXItdmVydGljYWwuc2hvcnQiOiAi4LCo4LC/4LCy4LGB4LC14LGB4LCX4LC+IOCwruCwp+CxjeCwr+CwsuCxiyDgsJXgsYHgsKbgsYHgsLDgsY3gsJrgsYEiLAogICAgImFjdGlvbi5hbGlnbi1sZWZ0IjogIuCwjuCwoeCwruCwteCxiOCwquCxgeCwleCxgSDgsJXgsYHgsKbgsYHgsLDgsY3gsJrgsYEiLAogICAgImFjdGlvbi5hbGlnbi1yaWdodCI6ICLgsJXgsYHgsKHgsL/gsLXgsYjgsKrgsYHgsJXgsYEg4LCV4LGB4LCm4LGB4LCw4LGN4LCa4LGBIiwKICAgICJhY3Rpb24uYWxpZ24tdG9wIjogIuCwquCxiOCwleCwvyDgsJXgsYHgsKbgsYHgsLDgsY3gsJrgsYEiLAogICAgImFjdGlvbi5icmluZy1mb3J3YXJkIjogIuCwruCxgeCwguCwpuCxgeCwleCxgSDgsJzgsLDgsYHgsKrgsYEiLAogICAgImFjdGlvbi5icmluZy10by1mcm9udCI6ICLgsK7gsYrgsKbgsJ/gsL/gsJXgsL8g4LCc4LCw4LGB4LCq4LGBIiwKICAgICJhY3Rpb24uY29weSI6ICLgsKjgsJXgsLLgsYEiLAogICAgImFjdGlvbi5jdXQiOiAi4LCV4LCk4LGN4LCk4LC/4LCw4LC/4LCC4LCa4LGBIiwKICAgICJhY3Rpb24uZGVsZXRlIjogIuCwpOCxiuCwsuCwl+Cwv+CwguCwmuCxgSIsCiAgICAiYWN0aW9uLmRpc3RyaWJ1dGUtaG9yaXpvbnRhbCI6ICLgsIXgsKHgsY3gsKHgsILgsJfgsL4g4LCq4LCC4LCa4LGBIiwKICAgICJhY3Rpb24uZGlzdHJpYnV0ZS12ZXJ0aWNhbCI6ICLgsKjgsL/gsLLgsYHgsLXgsYHgsJfgsL4g4LCq4LCC4LCa4LGBIiwKICAgICJhY3Rpb24uZGlzdHJpYnV0ZS1ob3Jpem9udGFsLnNob3J0IjogIuCwheCwoeCxjeCwoeCwguCwl+CwviDgsKrgsILgsJrgsYEiLAogICAgImFjdGlvbi5kaXN0cmlidXRlLXZlcnRpY2FsLnNob3J0IjogIuCwqOCwv+CwsuCxgeCwteCxgeCwl+CwviDgsKrgsILgsJrgsYEiLAogICAgImFjdGlvbi5kdXBsaWNhdGUiOiAi4LCu4LC+4LCw4LGB4LCq4LGN4LCw4LCk4LC/IiwKICAgICJhY3Rpb24uZmxpcC1ob3Jpem9udGFsIjogIuCwheCwoeCxjeCwoeCwguCwl+CwviDgsKrgsLLgsY3gsJ/gsYAiLAogICAgImFjdGlvbi5mbGlwLXZlcnRpY2FsIjogIuCwqOCwv+CwsuCxgeCwteCxgeCwl+CwviDgsKrgsLLgsY3gsJ/gsYAiLAogICAgImFjdGlvbi5mbGlwLWhvcml6b250YWwuc2hvcnQiOiAi4LCF4LCh4LGN4LCh4LCC4LCX4LC+IOCwquCwsuCxjeCwn+CxgCIsCiAgICAiYWN0aW9uLmZsaXAtdmVydGljYWwuc2hvcnQiOiAi4LCo4LC/4LCy4LGB4LC14LGB4LCX4LC+IOCwquCwsuCxjeCwn+CxgCIsCiAgICAiYWN0aW9uLmdyb3VwIjogIuCwl+CxgeCwguCwquCxgeCwl+CwviDgsI/gsLDgsY3gsKrgsLDgsJrgsYEiLAogICAgImFjdGlvbi5pbnNlcnQtbWVkaWEiOiAi4LCO4LCX4LGB4LCu4LCk4LC/IOCwruCwvuCwp+CxjeCwr+CwgiIsCiAgICAiYWN0aW9uLnBhc3RlIjogIuCwheCwpOCwv+CwleCwv+CwguCwmuCxgSIsCiAgICAiYWN0aW9uLnJlZG8iOiAi4LCu4LCz4LGN4LCz4LGAIOCwruCwvuCwsOCxjeCwmuCxgSIsCiAgICAiYWN0aW9uLnNlbGVjdC1hbGwiOiAi4LCF4LCo4LGN4LCo4LGAIOCwjuCwguCwquCwv+CwleCwmuCxhuCwr+CxjeCwr+CwvyIsCiAgICAiYWN0aW9uLnNlbGVjdC1ub25lIjogIuCwjuCwpuCxgCDgsI7gsILgsKrgsL/gsJXgsJrgsYbgsK/gsY3gsK/gsLXgsKbgsY3gsKbgsYEiLAogICAgImFjdGlvbi5zZW5kLWJhY2t3YXJkIjogIuCwteCxhuCwqOCxgeCwleCwleCxgSDgsJzgsLDgsYHgsKrgsYEiLAogICAgImFjdGlvbi5zZW5kLXRvLWJhY2siOiAi4LCG4LCW4LCw4LC/4LCV4LC/IOCwnOCwsOCxgeCwquCxgSIsCiAgICAiYWN0aW9uLnN0cmV0Y2gtaG9yaXpvbnRhbCI6ICLgsIXgsKHgsY3gsKHgsILgsJfgsL4g4LCy4LC+4LCX4LGBIiwKICAgICJhY3Rpb24uc3RyZXRjaC12ZXJ0aWNhbCI6ICLgsKjgsL/gsLLgsYHgsLXgsYHgsJfgsL4g4LCy4LC+4LCX4LGBIiwKICAgICJhY3Rpb24uc3RyZXRjaC1ob3Jpem9udGFsLnNob3J0IjogIuCwheCwoeCxjeCwoeCwguCwl+CwviDgsLLgsL7gsJfgsYEiLAogICAgImFjdGlvbi5zdHJldGNoLXZlcnRpY2FsLnNob3J0IjogIuCwqOCwv+CwsuCxgeCwteCxgeCwl+CwviDgsLLgsL7gsJfgsYEiLAogICAgImFjdGlvbi50b2dnbGUtZGFyay1tb2RlLm1lbnUiOiAi4LCa4LGA4LCV4LCf4LGI4LCoIOCwleCxjeCwsOCwruCwgiIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kYXJrLW1vZGUiOiAi4LCa4LGA4LCV4LCf4LGI4LCoIOCwleCxjeCwsOCwruCwgiIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kZWJ1Zy1tb2RlLm1lbnUiOiAi4LCk4LCq4LGN4LCq4LGB4LCy4LGH4LCw4LGBIOCwleCxjeCwsOCwruCwgiIsCiAgICAiYWN0aW9uLnRvZ2dsZS1kZWJ1Zy1tb2RlIjogIuCwpOCwquCxjeCwquCxgeCwsuCxh+CwsOCxgSDgsJXgsY3gsLDgsK7gsIIiLAogICAgImFjdGlvbi50b2dnbGUtZm9jdXMtbW9kZS5tZW51IjogIuCwpOCxgOCwleCxjeCwt+CwoyDgsJXgsY3gsLDgsK7gsIIiLAogICAgImFjdGlvbi50b2dnbGUtZm9jdXMtbW9kZSI6ICLgsKTgsYDgsJXgsY3gsLfgsKMg4LCV4LGN4LCw4LCu4LCCIiwKICAgICJhY3Rpb24udG9nZ2xlLWdyaWQubWVudSI6ICLgsJrgsJ/gsY3gsLDgsIIg4LCa4LGC4LCq4LGBIiwKICAgICJhY3Rpb24udG9nZ2xlLWdyaWQiOiAi4LCa4LCf4LGN4LCw4LCCIOCwmuCxguCwquCxgSIsCiAgICAiYWN0aW9uLnRvZ2dsZS1zbmFwLW1vZGUubWVudSI6ICLgsI7gsKrgsY3gsKrgsYHgsKHgsYIg4LCm4LGD4LC24LGN4LCv4LCt4LC+4LCX4LCCIOCwmuCxguCwquCxgSIsCiAgICAiYWN0aW9uLnRvZ2dsZS1zbmFwLW1vZGUiOiAi4LCO4LCq4LGN4LCq4LGB4LCh4LGCIOCwpuCxg+CwtuCxjeCwr+CwreCwvuCwl+CwgiDgsJrgsYLgsKrgsYEiLAogICAgImFjdGlvbi50b2dnbGUtdHJhbnNwYXJlbnQuY29udGV4dC1tZW51IjogIuCwleCwvuCwguCwpOCwvyDgsK3gsYfgsKbgsY3gsK/gsK7gsYEiLAogICAgImFjdGlvbi50b2dnbGUtdHJhbnNwYXJlbnQubWVudSI6ICLgsJXgsL7gsILgsKTgsL8g4LCt4LGH4LCm4LGN4LCv4LCu4LGBIiwKICAgICJhY3Rpb24udW5kbyI6ICLgsK7gsL7gsLDgsY3gsKrgsYHgsKjgsL8g4LCk4LC/4LCw4LGB4LCX4LCX4LGK4LCf4LGN4LCf4LGBIiwKICAgICJhY3Rpb24udW5ncm91cCI6ICLgsJfgsYHgsILgsKrgsYHgsKjgsYEg4LCa4LGG4LCm4LCw4LCX4LGK4LCf4LGN4LCf4LGBIiwKICAgICJhY3Rpb24uem9vbS1pbiI6ICLgsKbgsJfgsY3gsJfgsLDgsJfgsL4g4LCa4LGC4LCq4LGBIiwKICAgICJhY3Rpb24uem9vbS1vdXQiOiAi4LCm4LGC4LCw4LCC4LCX4LC+IOCwmuCxguCwquCxgSIsCiAgICAiYWN0aW9uLnpvb20tdG8tZml0IjogIuCwuOCwsOCwv+CwquCxhuCwn+CxjeCwn+CwvyDgsJrgsYLgsKrgsYEiLAogICAgImFjdGlvbi56b29tLXRvLXNlbGVjdGlvbiI6ICLgsI7gsILgsJrgsYHgsJXgsYHgsKjgsY3gsKgg4LC14LC/4LC34LCv4LC+4LCo4LGN4LCo4LGHIOCwmuCxguCwquCxgSIsCiAgICAiZGFzaC1zdHlsZS5kcmF3IjogIuCwl+CxgOCwr+CxjeCwr+CwvyIsCiAgICAiZm9udC1zdHlsZS5kcmF3IjogIuCwl+CxgOCwr+CxjeCwr+CwvyIsCiAgICAiZ2VvLXN0eWxlLmVsbGlwc2UiOiAi4LCm4LGA4LCw4LGN4LCY4LC14LGD4LCk4LGN4LCk4LCCIiwKICAgICJnZW8tc3R5bGUucmVjdGFuZ2xlIjogIuCwpuCxgOCwsOCxjeCwmOCwmuCwpOCxgeCwsOCwuOCxjeCwsOCwgiIsCiAgICAiZ2VvLXN0eWxlLnRyaWFuZ2xlIjogIuCwpOCxjeCwsOCwv+CwreCxgeCwnOCwgiIsCiAgICAiYXJyb3doZWFkU3RhcnQtc3R5bGUuYXJyb3ciOiAi4LCs4LC+4LCj4LCCIiwKICAgICJhcnJvd2hlYWRTdGFydC1zdHlsZS50cmlhbmdsZSI6ICLgsKTgsY3gsLDgsL/gsK3gsYHgsJzgsIIiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS5hcnJvdyI6ICLgsKzgsL7gsKPgsIIiLAogICAgImFycm93aGVhZEVuZC1zdHlsZS50cmlhbmdsZSI6ICLgsKTgsY3gsLDgsL/gsK3gsYHgsJzgsIIiLAogICAgInNwbGluZS1zdHlsZS5saW5lIjogIuCwl+CxgOCwpCIsCiAgICAidG9vbC5zZWxlY3QiOiAi4LCO4LCC4LCq4LC/4LCV4LCa4LGG4LCv4LGN4LCv4LC/IiwKICAgICJ0b29sLmRyYXciOiAi4LCX4LGA4LCv4LGN4LCv4LC/IiwKICAgICJ0b29sLmVyYXNlciI6ICJFcmFzZXIiLAogICAgInRvb2wuYXJyb3ciOiAi4LCs4LC+4LCj4LCCIiwKICAgICJ0b29sLmVsbGlwc2UiOiAi4LCm4LGA4LCw4LGN4LCY4LC14LGD4LCk4LGN4LCk4LCCIiwKICAgICJ0b29sLmxpbmUiOiAi4LCX4LGA4LCkIiwKICAgICJ0b29sLnJlY3RhbmdsZSI6ICLgsKbgsYDgsLDgsY3gsJjgsJrgsKTgsYHgsLDgsLjgsY3gsLDgsIIiLAogICAgInRvb2wudHJpYW5nbGUiOiAi4LCk4LGN4LCw4LC/4LCt4LGB4LCc4LCCIiwKICAgICJ0b29sLm5vdGUiOiAi4LCF4LCk4LGB4LCV4LGN4LCV4LGB4LCo4LGHIiwKICAgICJ0b29sLnRleHQiOiAi4LCF4LCV4LGN4LC34LCw4LCu4LGB4LCy4LGBIiwKICAgICJtZW51LmNvcHktYXMiOiAi4LCo4LCV4LCy4LGB4LCq4LGN4LCw4LCk4LC/4LCX4LC+IOCwh+CwleCxjeCwleCwoeCwv+CwleCwvyIsCiAgICAibWVudS5lZGl0IjogIuCwquCwsOCwv+Cwt+CxjeCwleCwsOCwv+CwguCwmuCxgSIsCiAgICAibWVudS5leHBvcnQtYXMiOiAi4LCO4LCX4LGB4LCu4LCk4LC/IOCwh+CwleCxjeCwleCwoeCwv+CwleCwvyIsCiAgICAibWVudS5maWxlIjogIuCwq+CxiOCwsuCxjSIsCiAgICAibWVudS5sYW5ndWFnZSI6ICLgsK3gsL7gsLciLAogICAgIm1lbnUucHJlZmVyZW5jZXMiOiAi4LCO4LCC4LCa4LGB4LCV4LGK4LCo4LGN4LCo4LC14LC/IiwKICAgICJtZW51LnZpZXciOiAi4LCa4LGC4LCq4LGBIiwKICAgICJjb250ZXh0LW1lbnUuY29weS1hcyI6ICLgsKjgsJXgsLLgsYHgsKrgsY3gsLDgsKTgsL/gsJfgsL4g4LCH4LCV4LGN4LCV4LCh4LC/4LCV4LC/IiwKICAgICJjb250ZXh0LW1lbnUuZXhwb3J0LWFzIjogIuCwjuCwl+CxgeCwruCwpOCwvyDgsIfgsJXgsY3gsJXgsKHgsL/gsJXgsL8iLAogICAgImNvbnRleHQtbWVudS5tb3ZlLXRvLXBhZ2UiOiAi4LCq4LGB4LCf4LCy4LGL4LCV4LC/IOCwnOCwsOCxgeCwquCxgSIsCiAgICAicGFnZS1tZW51LmNyZWF0ZS1uZXctcGFnZSI6ICLgsKrgsYHgsJ8g4LCV4LCy4LGN4LCq4LC/4LCC4LCa4LGBIiwKICAgICJwYWdlLW1lbnUucGFnZSI6ICLgsKrgsYHgsKQiLAogICAgInBhZ2UtbWVudS5lZGl0LXN0YXJ0IjogIuCwquCwsOCwv+Cwt+CxjeCwleCwsOCwv+CwguCwmuCxgSIsCiAgICAicGFnZS1tZW51LnN1Ym1lbnUuZHVwbGljYXRlLXBhZ2UiOiAi4LCu4LC+4LCw4LGB4LCq4LGN4LCw4LCk4LC/IiwKICAgICJwYWdlLW1lbnUuc3VibWVudS5kZWxldGUiOiAi4LCk4LGK4LCy4LCX4LC/4LCC4LCa4LGBIiwKICAgICJzaGFyZS1tZW51LmNvcHktbGluayI6ICLgsIXgsLngsY3gsLXgsL7gsKgg4LCy4LC/4LCC4LCV4LGBIOCwsOCwvuCwr+CwvyIsCiAgICAic2hhcmUtbWVudS5jb3B5LXJlYWRvbmx5LWxpbmsiOiAi4LCu4LC+4LCw4LCo4LC/4LCq4LGN4LCw4LCk4LC/IOCwsuCwv+CwguCwleCxgSDgsLDgsL7gsK/gsL8iLAogICAgImhlbHAtbWVudS5kaXNjb3JkIjogIkRpc2NvcmQiLAogICAgImhlbHAtbWVudS5naXRodWIiOiAiR2l0SHViIiwKICAgICJoZWxwLW1lbnUua2V5Ym9hcmQtc2hvcnRjdXRzIjogIuCwleCxgOCwrOCxi+CwsOCxjeCwoeCxjSDgsLjgsKTgsY3gsLXgsLDgsK7gsL7gsLDgsY3gsJfgsIIiLAogICAgImhlbHAtbWVudS50d2l0dGVyIjogIlR3aXR0ZXIiLAogICAgImxpbmtzLW1lbnUuZGlzY29yZCI6ICJEaXNjb3JkIiwKICAgICJsaW5rcy1tZW51LmdpdGh1YiI6ICJHaXRIdWIiLAogICAgImxpbmtzLW1lbnUudHdpdHRlciI6ICJUd2l0dGVyIiwKICAgICJlZGl0LWxpbmstZGlhbG9nLmNhbmNlbCI6ICLgsLDgsKbgsY3gsKbgsYHgsJrgsYfgsK/gsL8iLAogICAgImVtYmVkLWRpYWxvZy5jYW5jZWwiOiAi4LCw4LCm4LGN4LCm4LGB4LCa4LGH4LCv4LC/IiwKICAgICJlZGl0LXBhZ2VzLWRpYWxvZy5jcmVhdGUtbmV3LXBhZ2UiOiAi4LCq4LGB4LCfIOCwleCwsuCxjeCwquCwv+CwguCwmuCxgSIsCiAgICAiZWRpdC1wYWdlcy1kaWFsb2cuZGVsZXRlIjogIuCwpOCxiuCwsuCwl+Cwv+CwguCwmuCxgSIsCiAgICAiZWRpdC1wYWdlcy1kaWFsb2cuZHVwbGljYXRlLXBhZ2UiOiAi4LCu4LC+4LCw4LGB4LCq4LGN4LCw4LCk4LC/IiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLnRpdGxlIjogIuCwleCxgOCwrOCxi+CwsOCxjeCwoeCxjSDgsLjgsKTgsY3gsLXgsLDgsK7gsL7gsLDgsY3gsJfgsIIiLAogICAgInNob3J0Y3V0cy1kaWFsb2cuZWRpdCI6ICLgsKrgsLDgsL/gsLfgsY3gsJXgsLDgsL/gsILgsJrgsYEiLAogICAgInNob3J0Y3V0cy1kaWFsb2cuZmlsZSI6ICLgsKvgsYjgsLLgsY0iLAogICAgInNob3J0Y3V0cy1kaWFsb2cucHJlZmVyZW5jZXMiOiAi4LCO4LCC4LCa4LGB4LCV4LGK4LCo4LGN4LCo4LC14LC/IiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLnRvb2xzIjogIuCwquCwsOCwv+CwleCwsOCwvuCwsuCxgSIsCiAgICAic2hvcnRjdXRzLWRpYWxvZy50cmFuc2Zvcm0iOiAi4LCu4LC+4LCw4LGN4LCa4LGBIiwKICAgICJzaG9ydGN1dHMtZGlhbG9nLnZpZXciOiAi4LCa4LGC4LCq4LGBIiwKICAgICJzdHlsZS1wYW5lbC50aXRsZSI6ICLgsLXgsL/gsKfgsK7gsYHgsLLgsYEiLAogICAgInN0eWxlLXBhbmVsLmFsaWduIjogIuCwuOCwsOCwv+CwquCwsOCwmuCxgSIsCiAgICAic3R5bGUtcGFuZWwuY29sb3IiOiAi4LCw4LCC4LCX4LGBIiwKICAgICJzdHlsZS1wYW5lbC5kYXNoIjogIuCwheCwoeCxjeCwoSDgsJfgsYDgsKQiLAogICAgInN0eWxlLXBhbmVsLmZpbGwiOiAi4LCo4LC/4LCC4LCq4LGBIiwKICAgICJzdHlsZS1wYW5lbC5mb250IjogIuCwheCwleCxjeCwt+CwsOCwvuCwleCxg+CwpOCwvyIsCiAgICAic3R5bGUtcGFuZWwuc2l6ZSI6ICLgsKrgsLDgsL/gsK7gsL7gsKPgsIIiLAogICAgInN0eWxlLXBhbmVsLnRleHQiOiAi4LCF4LCV4LGN4LC34LCw4LCu4LGB4LCy4LGBIiwKICAgICJ0b29sLXBhbmVsLnRvb2xzIjogIuCwquCwsOCwv+CwleCwsOCwvuCwsuCxgSIsCiAgICAiZm9jdXMtbW9kZS50b2dnbGUtZm9jdXMtbW9kZSI6ICLgsKTgsYDgsJXgsY3gsLfgsKMg4LCV4LGN4LCw4LCu4LCCIiwKICAgICJmaWxlLXN5c3RlbS5jb25maXJtLW9wZW4uY2FuY2VsIjogIuCwsOCwpuCxjeCwpuCxgeCwmuCxh+Cwr+CwvyIKfQ==",ki=i.p+"drawing/th-7a7c99517fc9290a.json",Ti=i.p+"drawing/tr-33eab07764347777.json",zi=i.p+"drawing/uk-5558ba6ec182bcbd.json",Wi=i.p+"drawing/vi-6d8d0d4d0649637b.json",Yi=i.p+"drawing/zh-cn-c104d99a1cb0ea43.json",Pi="data:application/json;base64,ewoJImFjdGlvbi5icmluZy1mb3J3YXJkIjogIuS4iuenu+S4gOWxpCIsCgkiYWN0aW9uLmJyaW5nLXRvLWZyb250IjogIuenu+WIsOacgOS4iuWxpCIsCgkiYWN0aW9uLmNvcHkiOiAi6KSH6KO9IiwKCSJhY3Rpb24uY3V0IjogIuWJquS4iyIsCgkiYWN0aW9uLmRlbGV0ZSI6ICLliKrpmaQiLAoJImFjdGlvbi5kdXBsaWNhdGUiOiAi6KSH6KO9IiwKCSJhY3Rpb24uZmxpcC1ob3Jpem9udGFsIjogIuawtOW5s+e/u+i9iSIsCgkiYWN0aW9uLmZsaXAtdmVydGljYWwiOiAi5Z6C55u057+76L2JIiwKCSJhY3Rpb24uZmxpcC1ob3Jpem9udGFsLnNob3J0IjogIuawtOW5s+e/u+i9iSIsCgkiYWN0aW9uLmZsaXAtdmVydGljYWwuc2hvcnQiOiAi5Z6C55u057+76L2JIiwKCSJhY3Rpb24uZ3JvdXAiOiAi57WE5oiQ576k57WEIiwKCSJhY3Rpb24uaW5zZXJ0LW1lZGlhIjogIuS4iuWCs+WqkumrlCIsCgkiYWN0aW9uLnBhc3RlIjogIuiyvOS4iiIsCgkiYWN0aW9uLnJlZG8iOiAi5Y+W5raI5b6p5Y6fIiwKCSJhY3Rpb24uc2VsZWN0LWFsbCI6ICLlhajpgbgiLAoJImFjdGlvbi5zZWxlY3Qtbm9uZSI6ICLlj5bmtojpgbjlj5YiLAoJImFjdGlvbi5zZW5kLWJhY2t3YXJkIjogIuS4i+enu+S4gOWxpCIsCgkiYWN0aW9uLnNlbmQtdG8tYmFjayI6ICLnp7vliLDmnIDkuIvlsaQiLAoJImFjdGlvbi50b2dnbGUtZGFyay1tb2RlLm1lbnUiOiAi5rex6Imy5qih5byPIiwKCSJhY3Rpb24udG9nZ2xlLWRhcmstbW9kZSI6ICLmt7HoibLmqKHlvI8iLAoJImFjdGlvbi50b2dnbGUtZGVidWctbW9kZS5tZW51IjogIumZpOmMr+aooeW8jyIsCgkiYWN0aW9uLnRvZ2dsZS1kZWJ1Zy1tb2RlIjogIumZpOmMr+aooeW8jyIsCgkiYWN0aW9uLnRvZ2dsZS1mb2N1cy1tb2RlLm1lbnUiOiAi5bCI5rOo5qih5byPIiwKCSJhY3Rpb24udG9nZ2xlLWZvY3VzLW1vZGUiOiAi5bCI5rOo5qih5byPIiwKCSJhY3Rpb24udG9nZ2xlLWdyaWQubWVudSI6ICLpoa/npLrntrLmoLwiLAoJImFjdGlvbi51bmRvIjogIuW+qeWOnyIsCgkiYWN0aW9uLnVuZ3JvdXAiOiAi5Y+W5raI576k57WEIiwKCSJhY3Rpb24uem9vbS1pbiI6ICLmlL7lpKciLAoJImFjdGlvbi56b29tLW91dCI6ICLnuK7lsI8iLAoJImFjdGlvbi56b29tLXRvLWZpdCI6ICLnuK7mlL7oh7PpgannlbblpKflsI8iLAoJImFjdGlvbi56b29tLXRvLXNlbGVjdGlvbiI6ICLnuK7mlL7oh7Ppgbjlj5bnr4TlnI0iLAoJImdlby1zdHlsZS5lbGxpcHNlIjogIuapouWck+W9oiIsCgkiZ2VvLXN0eWxlLnJlY3RhbmdsZSI6ICLplbfmlrnlvaIiLAoJImdlby1zdHlsZS50cmlhbmdsZSI6ICLkuInop5LlvaIiLAoJImFycm93aGVhZFN0YXJ0LXN0eWxlLmFycm93IjogIueuremgrSIsCgkiYXJyb3doZWFkU3RhcnQtc3R5bGUudHJpYW5nbGUiOiAi5LiJ6KeS5b2iIiwKCSJhcnJvd2hlYWRFbmQtc3R5bGUuYXJyb3ciOiAi566t6aCtIiwKCSJhcnJvd2hlYWRFbmQtc3R5bGUudHJpYW5nbGUiOiAi5LiJ6KeS5b2iIiwKCSJzcGxpbmUtc3R5bGUubGluZSI6ICLnm7Tnt5oiLAoJInRvb2wuc2VsZWN0IjogIumBuOWPliIsCgkidG9vbC5kcmF3IjogIuaJi+e5qiIsCgkidG9vbC5lcmFzZXIiOiAi5qmh55qu5pOmIiwKCSJ0b29sLmFycm93IjogIueuremgrSIsCgkidG9vbC5lbGxpcHNlIjogIuapouWck+W9oiIsCgkidG9vbC5yZWN0YW5nbGUiOiAi6ZW35pa55b2iIiwKCSJ0b29sLnRyaWFuZ2xlIjogIuS4ieinkuW9oiIsCgkidG9vbC5ub3RlIjogIuS+v+WIqeiyvCIsCgkidG9vbC50ZXh0IjogIuaWh+WtlyIsCgkibWVudS5jb3B5LWFzIjogIuikh+ijveaIkCIsCgkibWVudS5lZGl0IjogIue3qOi8ryIsCgkibWVudS5leHBvcnQtYXMiOiAi5Yyv5Ye65oiQIiwKCSJtZW51LmZpbGUiOiAi5qqU5qGIIiwKCSJtZW51Lmxhbmd1YWdlIjogIuiqnuiogCIsCgkibWVudS5wcmVmZXJlbmNlcyI6ICLpgbjpoIUiLAoJIm1lbnUudmlldyI6ICLmqqLoppYiLAoJImNvbnRleHQtbWVudS5jb3B5LWFzIjogIuikh+ijveaIkCIsCgkiY29udGV4dC1tZW51LmV4cG9ydC1hcyI6ICLljK/lh7rmiJAiLAoJImNvbnRleHQtbWVudS5tb3ZlLXRvLXBhZ2UiOiAi56e76Iez6aCB6Z2iIiwKCSJwYWdlLW1lbnUuY3JlYXRlLW5ldy1wYWdlIjogIuW7uueri+mggemdoiIsCgkicGFnZS1tZW51LnBhZ2UiOiAi6aCB6Z2iIiwKCSJwYWdlLW1lbnUuZWRpdC1zdGFydCI6ICLnt6jovK8iLAoJInBhZ2UtbWVudS5zdWJtZW51LmR1cGxpY2F0ZS1wYWdlIjogIuikh+ijvSIsCgkicGFnZS1tZW51LnN1Ym1lbnUuZGVsZXRlIjogIuWIqumZpCIsCgkic2hhcmUtbWVudS5jb3B5LWxpbmsiOiAi6KSH6KO96YKA6KuL6YCj57WQIiwKCSJzaGFyZS1tZW51LmNvcHktcmVhZG9ubHktbGluayI6ICLopIfoo73llK/oroDpgKPntZAiLAoJImVkaXQtbGluay1kaWFsb2cuY2FuY2VsIjogIuWPlua2iCIsCgkiZWRpdC1wYWdlcy1kaWFsb2cuY3JlYXRlLW5ldy1wYWdlIjogIuW7uueri+mggemdoiIsCgkiZWRpdC1wYWdlcy1kaWFsb2cuZGVsZXRlIjogIuWIqumZpCIsCgkiZWRpdC1wYWdlcy1kaWFsb2cuZHVwbGljYXRlLXBhZ2UiOiAi6KSH6KO9IiwKCSJzaG9ydGN1dHMtZGlhbG9nLmVkaXQiOiAi57eo6LyvIiwKCSJzaG9ydGN1dHMtZGlhbG9nLmZpbGUiOiAi5qqU5qGIIiwKCSJzaG9ydGN1dHMtZGlhbG9nLnByZWZlcmVuY2VzIjogIumBuOmghSIsCgkic2hvcnRjdXRzLWRpYWxvZy52aWV3IjogIuaqouimliIsCgkic3R5bGUtcGFuZWwudGl0bGUiOiAi5qij5byPIiwKCSJzdHlsZS1wYW5lbC5hbGlnbiI6ICLlsI3pvYoiLAoJInN0eWxlLXBhbmVsLmNvbG9yIjogIumhj+iJsiIsCgkic3R5bGUtcGFuZWwuZGFzaCI6ICLomZvnt5oiLAoJInN0eWxlLXBhbmVsLmZpbGwiOiAi5aGr5YWFIiwKCSJzdHlsZS1wYW5lbC5mb250IjogIuWtl+WeiyIsCgkic3R5bGUtcGFuZWwuc2l6ZSI6ICLlpKflsI8iLAoJInN0eWxlLXBhbmVsLnRleHQiOiAi5paH5a2XIiwKCSJhY3Rpb24udG9nZ2xlLWdyaWQiOiAi6aGv56S657ay5qC8IiwKCSJhY3Rpb24udG9nZ2xlLXNuYXAtbW9kZS5tZW51IjogIuawuOmBoOmhr+ekuuWwjem9iue3miIsCgkiYWN0aW9uLnRvZ2dsZS1zbmFwLW1vZGUiOiAi5rC46YGg6aGv56S65bCN6b2K57eaIiwKCSJkYXNoLXN0eWxlLmRyYXciOiAi5omL57mqIiwKCSJmb250LXN0eWxlLmRyYXciOiAi5omL57mqIiwKCSJ0b29sLmxpbmUiOiAi55u057eaIiwKCSJlbWJlZC1kaWFsb2cuY2FuY2VsIjogIuWPlua2iCIsCgkiZm9jdXMtbW9kZS50b2dnbGUtZm9jdXMtbW9kZSI6ICLlsIjms6jmqKHlvI8iLAoJImZpbGUtc3lzdGVtLmNvbmZpcm0tb3Blbi5jYW5jZWwiOiAi5Y+W5raIIgp9Cg==";function Gi(e,{baseUrl:t="",format:i}={}){const n="string"==typeof e?e:e.src;return i?i(n):n.startsWith("data:")?n:`${t.replace(/\/$/,"")}/${n.replace(/^\.?\//,"")}`}function Oi(e){return{fonts:{monospace:Gi(f,e),sansSerif:Gi(C,e),serif:Gi(w,e),draw:Gi(M,e)},icons:{"align-bottom":Gi(A,e),"align-center-horizontal":Gi(x,e),"align-center-vertical":Gi(S,e),"align-left":Gi(v,e),"align-right":Gi(L,e),"align-top":Gi(j,e),"arrow-left":Gi(N,e),"arrowhead-arrow":Gi(D,e),"arrowhead-bar":Gi(Z,e),"arrowhead-diamond":Gi(E,e),"arrowhead-dot":Gi(k,e),"arrowhead-none":Gi(T,e),"arrowhead-square":Gi(z,e),"arrowhead-triangle-inverted":Gi(W,e),"arrowhead-triangle":Gi(Y,e),"aspect-ratio":Gi(P,e),avatar:Gi(G,e),blob:Gi(O,e),"bring-forward":Gi(R,e),"bring-to-front":Gi(F,e),check:Gi(B,e),"checkbox-checked":Gi(J,e),"checkbox-empty":Gi(H,e),"chevron-down":Gi(X,e),"chevron-left":Gi(V,e),"chevron-right":Gi(_,e),"chevron-up":Gi(U,e),"chevrons-ne":Gi(K,e),"chevrons-sw":Gi(Q,e),"clipboard-copy":Gi(q,e),code:Gi($,e),collab:Gi(ee,e),color:Gi(te,e),comment:Gi(ie,e),"cross-2":Gi(ne,e),cross:Gi(se,e),"dash-dashed":Gi(oe,e),"dash-dotted":Gi(re,e),"dash-draw":Gi(ae,e),"dash-solid":Gi(le,e),discord:Gi(ce,e),"distribute-horizontal":Gi(de,e),"distribute-vertical":Gi(ue,e),dot:Gi(he,e),"dots-horizontal":Gi(pe,e),"dots-vertical":Gi(ge,e),"drag-handle-dots":Gi(Ie,e),duplicate:Gi(me,e),edit:Gi(ye,e),"external-link":Gi(be,e),file:Gi(fe,e),"fill-none":Gi(Ce,e),"fill-pattern":Gi(we,e),"fill-semi":Gi(Me,e),"fill-solid":Gi(Ae,e),"font-draw":Gi(xe,e),"font-mono":Gi(Se,e),"font-sans":Gi(ve,e),"font-serif":Gi(Le,e),"geo-arrow-down":Gi(je,e),"geo-arrow-left":Gi(Ne,e),"geo-arrow-right":Gi(De,e),"geo-arrow-up":Gi(Ze,e),"geo-diamond":Gi(Ee,e),"geo-ellipse":Gi(ke,e),"geo-hexagon":Gi(Te,e),"geo-octagon":Gi(ze,e),"geo-oval":Gi(We,e),"geo-pentagon":Gi(Ye,e),"geo-rectangle":Gi(Pe,e),"geo-rhombus-2":Gi(Ge,e),"geo-rhombus":Gi(Oe,e),"geo-star":Gi(Re,e),"geo-trapezoid":Gi(Fe,e),"geo-triangle":Gi(Be,e),"geo-x-box":Gi(Je,e),github:Gi(He,e),group:Gi(Xe,e),hidden:Gi(Ve,e),image:Gi(_e,e),"info-circle":Gi(Ue,e),link:Gi(Ke,e),"lock-small":Gi(Qe,e),lock:Gi(qe,e),menu:Gi($e,e),minus:Gi(et,e),mixed:Gi(tt,e),pack:Gi(it,e),page:Gi(nt,e),plus:Gi(st,e),"question-mark-circle":Gi(ot,e),"question-mark":Gi(rt,e),redo:Gi(at,e),"reset-zoom":Gi(lt,e),"rotate-ccw":Gi(ct,e),"rotate-cw":Gi(dt,e),ruler:Gi(ut,e),search:Gi(ht,e),"send-backward":Gi(pt,e),"send-to-back":Gi(gt,e),"settings-horizontal":Gi(It,e),"settings-vertical-1":Gi(mt,e),"settings-vertical":Gi(yt,e),"share-1":Gi(bt,e),"share-2":Gi(ft,e),"size-extra-large":Gi(Ct,e),"size-large":Gi(wt,e),"size-medium":Gi(Mt,e),"size-small":Gi(At,e),"spline-cubic":Gi(xt,e),"spline-line":Gi(St,e),"stack-horizontal":Gi(vt,e),"stack-vertical":Gi(Lt,e),"stretch-horizontal":Gi(jt,e),"stretch-vertical":Gi(Nt,e),"text-align-center":Gi(Dt,e),"text-align-justify":Gi(Zt,e),"text-align-left":Gi(Et,e),"text-align-right":Gi(kt,e),"tool-arrow":Gi(Tt,e),"tool-embed":Gi(zt,e),"tool-eraser":Gi(Wt,e),"tool-frame":Gi(Yt,e),"tool-hand":Gi(Pt,e),"tool-highlighter":Gi(Gt,e),"tool-line":Gi(Ot,e),"tool-media":Gi(Rt,e),"tool-note":Gi(Ft,e),"tool-pencil":Gi(Bt,e),"tool-pointer":Gi(Jt,e),"tool-text":Gi(Ht,e),trash:Gi(Xt,e),"triangle-down":Gi(Vt,e),"triangle-up":Gi(_t,e),twitter:Gi(Ut,e),undo:Gi(Kt,e),ungroup:Gi(Qt,e),"unlock-small":Gi(qt,e),unlock:Gi($t,e),visible:Gi(ei,e),"warning-triangle":Gi(ti,e),"zoom-in":Gi(ii,e),"zoom-out":Gi(ni,e)},translations:{ar:Gi(si,e),ca:Gi(oi,e),da:Gi(ri,e),de:Gi(ai,e),en:Gi(li,e),es:Gi(ci,e),fa:Gi(di,e),fi:Gi(ui,e),fr:Gi(hi,e),gl:Gi(pi,e),he:Gi(gi,e),"hi-in":Gi(Ii,e),hu:Gi(mi,e),it:Gi(yi,e),ja:Gi(bi,e),"ko-kr":Gi(fi,e),ku:Gi(Ci,e),languages:Gi(wi,e),main:Gi(Mi,e),my:Gi(Ai,e),ne:Gi(xi,e),no:Gi(Si,e),pl:Gi(vi,e),"pt-br":Gi(Li,e),"pt-pt":Gi(ji,e),ro:Gi(Ni,e),ru:Gi(Di,e),sv:Gi(Zi,e),te:Gi(Ei,e),th:Gi(ki,e),tr:Gi(Ti,e),uk:Gi(zi,e),vi:Gi(Wi,e),"zh-cn":Gi(Yi,e),"zh-tw":Gi(Pi,e)},embedIcons:{codepen:Gi(n,e),codesandbox:Gi(s,e),excalidraw:Gi(o,e),felt:Gi(r,e),figma:Gi(a,e),github_gist:Gi(l,e),google_calendar:Gi(c,e),google_maps:Gi(d,e),google_slides:Gi(u,e),observable:Gi(h,e),replit:Gi(p,e),scratch:Gi(g,e),spotify:Gi(I,e),tldraw:Gi(m,e),vimeo:Gi(y,e),youtube:Gi(b,e)}}}},47771:(e,t,i)=>{"use strict";i.d(t,{gih:()=>q,KDN:()=>m,gVA:()=>ur,Xz7:()=>Ur,ZEF:()=>L,c5_:()=>v,Lu5:()=>n.Lu,Lh0:()=>T,ums:()=>Z,a_T:()=>ua,Etb:()=>I,Pmg:()=>D,DwZ:()=>un,F7R:()=>n.F7,Yzh:()=>bn,iHI:()=>n.iH,xmU:()=>En,XM1:()=>as,KjH:()=>n.Kj,wwX:()=>n.ww,rlI:()=>n.rl,MjR:()=>Ds,bKH:()=>n.bK,luK:()=>n.lu,Anc:()=>n.An,o4I:()=>n.o4,gRN:()=>la,WqU:()=>zs,bcf:()=>re,XU$:()=>oe,NW0:()=>se,F17:()=>n.F1,aou:()=>ne,hR1:()=>R,Ers:()=>pr,VxC:()=>V,kGR:()=>Me,_LC:()=>Ge,Xgj:()=>Oe,eIg:()=>Pe,H$$:()=>Re,ijs:()=>H,uNu:()=>J,y1f:()=>B,T6R:()=>le,YTh:()=>n.YT,uZW:()=>cr,Co2:()=>ce,i87:()=>ae,fNR:()=>Ii,xwP:()=>$e,PFJ:()=>pe,ELf:()=>ue,qDZ:()=>P,uK4:()=>it,BKU:()=>nt});var n=i(91044),s=i(85893),o=i(65097),r=i(82941),a=i(67294),l=i(78751),c=i(80816),d=i(99241),u=i(57492);function h({children:e,className:t="",...i}){return(0,s.jsx)("svg",{...i,className:`rs-svg-container ${t}`,children:e})}function p({type:e,getShapeUtil:t,validator:i,migrations:n={currentVersion:0,firstVersion:0,migrators:{}}}){return{type:e,createShapeUtils:i=>new(t())(i,e),is:t=>t.type===e,validator:i,migrations:n}}const g=2e3,I=40,m=(Symbol("remove"),320),y=[.1,.25,.5,1,2,4,8],b=.1,f={left:{x:-1,y:0},right:{x:1,y:0},up:{x:0,y:-1},down:{x:0,y:1},upLeft:{x:-1,y:-1},upRight:{x:1,y:-1},downLeft:{x:-1,y:1},downRight:{x:1,y:1}},C=32,w={};for(let pa=1;pa<=Math.ceil(8);pa++)w[pa+"_dark"]=`hash_pattern_zoom_${pa}_dark`,w[pa+"_light"]=`hash_pattern_zoom_${pa}_light`;const M={duration:0,easing:l.Lj.easeInOutCubic},A=.09,x=48,S=10,v=300,L=320,j=[{offsetX:0,offsetY:2,blur:4,spread:0,color:"#00000029"},{offsetX:0,offsetY:3,blur:6,spread:0,color:"#0000001f"}],N=[{min:-1,mid:.15,step:100},{min:.05,mid:.375,step:25},{min:.15,mid:1,step:5},{min:.7,mid:2.5,step:1}],D={lineHeight:1.35,fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",padding:"0px",maxWidth:"auto"},Z={s:18,m:24,l:36,xl:44},E={s:18,m:22,l:26,xl:32},k={s:18,m:20,l:24,xl:28},T={draw:"var(--rs-font-draw)",sans:"var(--rs-font-sans)",serif:"var(--rs-font-serif)",mono:"var(--rs-font-mono)"},z={color:[{id:"black",type:"color",icon:"color"},{id:"grey",type:"color",icon:"color"},{id:"light-violet",type:"color",icon:"color"},{id:"violet",type:"color",icon:"color"},{id:"blue",type:"color",icon:"color"},{id:"light-blue",type:"color",icon:"color"},{id:"yellow",type:"color",icon:"color"},{id:"orange",type:"color",icon:"color"},{id:"green",type:"color",icon:"color"},{id:"light-green",type:"color",icon:"color"},{id:"light-red",type:"color",icon:"color"},{id:"red",type:"color",icon:"color"}],fill:[{id:"none",type:"fill",icon:"fill-none"},{id:"semi",type:"fill",icon:"fill-semi"},{id:"solid",type:"fill",icon:"fill-solid"},{id:"pattern",type:"fill",icon:"fill-pattern"}],dash:[{id:"draw",type:"dash",icon:"dash-draw"},{id:"dashed",type:"dash",icon:"dash-dashed"},{id:"dotted",type:"dash",icon:"dash-dotted"},{id:"solid",type:"dash",icon:"dash-solid"}],size:[{id:"s",type:"size",icon:"size-small"},{id:"m",type:"size",icon:"size-medium"},{id:"l",type:"size",icon:"size-large"},{id:"xl",type:"size",icon:"size-extra-large"}],opacity:[{id:"0.1",type:"opacity",icon:"color"},{id:"0.25",type:"opacity",icon:"color"},{id:"0.5",type:"opacity",icon:"color"},{id:"0.75",type:"opacity",icon:"color"},{id:"1",type:"opacity",icon:"color"}],font:[{id:"draw",type:"font",icon:"font-draw"},{id:"sans",type:"font",icon:"font-sans"},{id:"serif",type:"font",icon:"font-serif"},{id:"mono",type:"font",icon:"font-mono"}],align:[{id:"start",type:"align",icon:"text-align-left"},{id:"middle",type:"align",icon:"text-align-center"},{id:"end",type:"align",icon:"text-align-right"},{id:"justify",type:"align",icon:"text-align-justify"}],geo:[{id:"rectangle",type:"geo",icon:"geo-rectangle"},{id:"ellipse",type:"geo",icon:"geo-ellipse"},{id:"triangle",type:"geo",icon:"geo-triangle"},{id:"diamond",type:"geo",icon:"geo-diamond"},{id:"pentagon",type:"geo",icon:"geo-pentagon"},{id:"hexagon",type:"geo",icon:"geo-hexagon"},{id:"octagon",type:"geo",icon:"geo-octagon"},{id:"star",type:"geo",icon:"geo-star"},{id:"rhombus",type:"geo",icon:"geo-rhombus"},{id:"rhombus-2",type:"geo",icon:"geo-rhombus-2"},{id:"oval",type:"geo",icon:"geo-oval"},{id:"trapezoid",type:"geo",icon:"geo-trapezoid"},{id:"arrow-right",type:"geo",icon:"geo-arrow-right"},{id:"arrow-left",type:"geo",icon:"geo-arrow-left"},{id:"arrow-up",type:"geo",icon:"geo-arrow-up"},{id:"arrow-down",type:"geo",icon:"geo-arrow-down"},{id:"x-box",type:"geo",icon:"geo-x-box"}],arrowheadStart:[{id:"none",type:"arrowheadStart",icon:"arrowhead-none"},{id:"arrow",type:"arrowheadStart",icon:"arrowhead-arrow"},{id:"triangle",type:"arrowheadStart",icon:"arrowhead-triangle"},{id:"square",type:"arrowheadStart",icon:"arrowhead-square"},{id:"dot",type:"arrowheadStart",icon:"arrowhead-dot"},{id:"diamond",type:"arrowheadStart",icon:"arrowhead-diamond"},{id:"inverted",type:"arrowheadStart",icon:"arrowhead-triangle-inverted"},{id:"bar",type:"arrowheadStart",icon:"arrowhead-bar"}],arrowheadEnd:[{id:"none",type:"arrowheadEnd",icon:"arrowhead-none"},{id:"arrow",type:"arrowheadEnd",icon:"arrowhead-arrow"},{id:"triangle",type:"arrowheadEnd",icon:"arrowhead-triangle"},{id:"square",type:"arrowheadEnd",icon:"arrowhead-square"},{id:"dot",type:"arrowheadEnd",icon:"arrowhead-dot"},{id:"diamond",type:"arrowheadEnd",icon:"arrowhead-diamond"},{id:"inverted",type:"arrowheadEnd",icon:"arrowhead-triangle-inverted"},{id:"bar",type:"arrowheadEnd",icon:"arrowhead-bar"}],spline:[{id:"line",type:"spline",icon:"spline-line"},{id:"cubic",type:"spline",icon:"spline-cubic"}]};var W=i(86256);const Y=a.createContext({}),P=()=>a.useContext(Y);class G{items=new WeakMap;get(e,t){return this.items.has(e)||this.items.set(e,t(e)),this.items.get(e)}access(e){return this.items.get(e)}set(e,t){this.items.set(e,t)}has(e){return this.items.has(e)}invalidate(e){this.items.delete(e)}bust(){this.items=new WeakMap}}var O=i(97644);const R={preventDefaultLogging:F("tldrawPreventDefaultLogging",!1),pointerCaptureLogging:F("tldrawPointerCaptureLogging",!1),pointerCaptureTracking:F("tldrawPointerCaptureTracking",!1),pointerCaptureTrackingObject:F("tldrawPointerCaptureTrackingObject",new Map,!1),elementRemovalLogging:F("tldrawElementRemovalLogging",!1),debugSvg:F("tldrawDebugSvg",!1),throwToBlob:F("tldrawThrowToBlob",!1),peopleMenu:F("tldrawPeopleMenu",!1)};if("undefined"!=typeof Element){const e=Element.prototype.removeChild;(0,d.Ym)("element removal logging",(()=>{R.elementRemovalLogging.value?Element.prototype.removeChild=function(t){return console.warn("[tldraw] removing child:",t),e.call(this,t)}:Element.prototype.removeChild=e}))}function F(e,t,i=!0){if("undefined"==typeof window)return(0,d.cn)(`debug:${e}`,t);const n=i?function(e){try{return JSON.parse(window.sessionStorage.getItem(`debug:${e}`)??"null")}catch(t){return null}}(e):null,s=(0,d.cn)(`debug:${e}`,n??t);return i&&(0,d.Ym)(`debug:${e}`,(()=>{const i=s.value;try{i===t?window.sessionStorage.removeItem(`debug:${e}`):window.sessionStorage.setItem(`debug:${e}`,JSON.stringify(i))}catch{}})),Object.defineProperty(window,e,{get:()=>s.value,set(e){s.set(e)},configurable:!0}),s}function B(e){const t=e.cloneNode(!0);e.setAttribute("width",+e.getAttribute("width")+""),e.setAttribute("height",+e.getAttribute("height")+"");return(new XMLSerializer).serializeToString(t).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}async function J(e,t){const{type:i,quality:n,scale:s}=t,o=+e.getAttribute("width"),r=+e.getAttribute("height"),a=await H(e),l=await new Promise((e=>{const t=new Image;t.crossOrigin="anonymous",t.onload=async()=>{await new Promise((e=>setTimeout(e,250)));const i=document.createElement("canvas"),n=i.getContext("2d");i.width=o*s,i.height=r*s,n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high",n.drawImage(t,0,0,o*s,r*s),URL.revokeObjectURL(a),e(i)},t.onerror=()=>{e(null)},t.src=a}));if(!l)return null;return await new Promise((e=>l.toBlob((t=>{t&&!R.throwToBlob.value||e(null),e(t)}),"image/"+i,n)))}async function H(e){const t=e.cloneNode(!0);t.setAttribute("encoding",'UTF-8"');const i=new FileReader,n=Array.from(t.querySelectorAll("image"));for(const s of n){const e=s.getAttribute("xlink:href");if(e&&!e.startsWith("data:")){const t=await(await fetch(e)).blob(),n=await new Promise(((e,n)=>{i.onload=()=>e(i.result),i.onerror=()=>n(i.error),i.readAsDataURL(t)}));s.setAttribute("xlink:href",n)}}return X(t)}function X(e){const t=(new XMLSerializer).serializeToString(e);return`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(t)))}`}function V(e,t){const i=document.createElement("a");i.href=e,i.download=t,i.click()}function _(e,t){let i=0;for(;e[t+i];)i+=e[t+i]+1;return i+1}function U(e){const t=new Uint8Array(e);let i,n,s=0,o=0;if(!function(e){return"GIF"===new TextDecoder("ascii").decode(e.slice(0,3))}(e))return!1;for(i=128&t[10],n=7&t[10],s+=6,s+=7,s+=i?3*Math.pow(2,n+1):0;o<2&&s<t.length;)switch(t[s]){case 44:o+=1,i=128&t[s+9],n=7&t[s+9],s+=10,s+=i?3*Math.pow(2,n+1):0,s+=_(t,s+1)+1;break;case 33:s+=2,s+=_(t,s);break;default:s=t.length}return o>1}const K=["image/jpeg","image/png","image/gif","image/svg+xml"],Q=["video/mp4","video/quicktime"],q=K.concat(Q).join(", "),$=e=>K.includes(e);async function ee(e){return await new Promise(((t,i)=>{const n=document.createElement("video");n.onloadeddata=()=>t({w:n.videoWidth,h:n.videoHeight}),n.onerror=e=>{console.error(e),i(new Error("Could not get video size"))},n.crossOrigin="anonymous",n.src=e}))}async function te(e){return await new Promise(((t,i)=>{const n=new Image;n.onload=()=>t({w:n.width,h:n.height}),n.onerror=e=>{console.error(e),i(new Error("Could not get image size"))},n.crossOrigin="anonymous",n.src=e}))}async function ie(e){return await new Promise(((t,i)=>{const s=new FileReader;s.onerror=()=>i(s.error),s.onload=async()=>{let i=s.result;const o=$(e.type),a=o?te:ee;"video/quicktime"===e.type&&i.includes("video/quicktime")&&(i=i.replace("video/quicktime","video/mp4"));const l=await a(i),c=function(e,t){const i=e.w/t.w,n=e.h/t.h;return i<=1&&n<=1?e:i>n?{w:e.w/i,h:e.h/i}:{w:e.w/n,h:e.h/n}}(l,{w:1e3,h:1e3});c===l||"image/jpeg"!==e.type&&"image/png"!==e.type||(i=await async function(e,t,i){return await new Promise((n=>{const s=new Image;s.onload=()=>{const e=document.createElement("canvas"),o=e.getContext("2d");if(!o)return;e.width=2*t,e.height=2*i,o.drawImage(s,0,0,e.width,e.height);const r=e.toDataURL();n(r)},s.crossOrigin="anonymous",s.src=e}))}(i,c.w,c.h));const d=n.F7.createCustomId((0,r.jK)(i)),u=await async function(e){if("image/gif"===e.type)return await new Promise(((t,i)=>{const n=new FileReader;n.onerror=()=>i(n.error),n.onload=()=>{t({isAnimated:!!n.result&&U(n.result)})},n.readAsArrayBuffer(e)}));return{isAnimated:!$(e.type)}}(e),h={id:d,type:o?"image":"video",typeName:"asset",props:{name:e.name,src:i,w:c.w,h:c.h,mimeType:e.type,isAnimated:u.isAnimated}};t(h)},s.readAsDataURL(e)}))}async function ne(e,t,i,s=!1){const o=new l.GF(i.x,i.y),a=new Map,c=await Promise.all(t.map((async(t,i)=>{if(!t.type)throw new Error("No mime type");if(!K.concat(Q).includes(t.type))return console.warn(`${t.name} not loaded - Extension not allowed.`),null;try{const s=await e.onCreateAssetFromFile(t);if("bookmark"===s.type)return;if(!s)throw Error("Could not create an asset");a.set(t,s);return{id:(0,n.F1)(),type:s.type,x:o.x+i,y:o.y,props:{w:s.props.w,h:s.props.h,opacity:"1"}}}catch(s){return console.error(s),null}}))),d=(0,r.oA)(c).sort(((e,t)=>e.x-t.x));if(0===d.length)return;for(let n=0;n<d.length;n++){const e=d[n];if(0===n)e.x-=e.props.w/2,e.y-=e.props.h/2;else{const t=d[n-1];e.x=t.x+t.props.w,e.y=t.y}}const u=(await Promise.all(t.map((async(t,i)=>{const n=d[i];if(!n)return;const s=a.get(t);if(!s)return;let o=e.getAssetById(s.id);return o?(a.delete(t),n.props&&(n.props.assetId=o.id),n):(o=e.getAssetBySrc(s.props.src),o?(n.props&&(n.props.assetId=o.id),n):(n.props&&(n.props.assetId=s.id),n))})))).filter(r.cF);e.createAssets((0,r.oA)([...a.values()])),e.createShapes(u),e.setSelectedIds(u.map((e=>e.id)));const{selectedIds:h,viewportPageBounds:p}=e,g=l.No.Common((0,r.oA)(h.map((t=>e.getPageBoundsById(t)))));g&&!p.contains(g)&&e.zoomToSelection()}function se(e,t,i,s){e.createShapes([{id:(0,n.F1)(),type:"embed",x:i.x-(s.width||450)/2,y:i.y-(s.height||450)/2,props:{w:s.width,h:s.height,doesResize:s.doesResize,url:t,opacity:"1"}}],!0)}async function oe(e,t,i){const s=n.F7.createCustomId((0,r.jK)(t)),o=e.getAssetById(s);o?e.createShapes([{id:e.createShapeId(),type:"bookmark",x:i.x-150,y:i.y-160,props:{assetId:o.id,url:o.props.src,opacity:"1"}}]):e.batch((async()=>{const o=(0,n.F1)();e.createShapes([{id:o,type:"bookmark",x:i.x,y:i.y,props:{url:t,opacity:"1"}}],!0);const r=await e.onCreateBookmarkFromUrl(t);r&&(e.createAssets([{id:s,typeName:"asset",type:"bookmark",props:{src:t,description:r.description,image:r.image,title:r.title}}]),e.updateShapes([{id:o,type:"bookmark",props:{assetId:s,opacity:"1"}}]))}))}function re(e,t,i){const s=(new DOMParser).parseFromString(t,"image/svg+xml").querySelector("svg");if(!s)throw new Error("No <svg/> element present");const o=X(s);let a=parseFloat(s.getAttribute("width")||"0"),l=parseFloat(s.getAttribute("height")||"0");if(!a||!l){document.body.appendChild(s);const e=s.getBoundingClientRect();document.body.removeChild(s),a=e.width,l=e.height}const c=n.F7.createCustomId((0,r.jK)(o));e.batch((()=>{e.createAssets([{id:c,typeName:"asset",type:"image",props:{src:o,w:a,h:l,name:"svg",isAnimated:!0,mimeType:"image/svg+xml"}}]),e.createShapes([{id:(0,n.F1)(),type:"image",x:i.x-a/2,y:i.y-l/2,props:{assetId:c,w:a,h:l,opacity:"1"}}],!0)}))}const ae=e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(t){return!1}},le=e=>{const t=e.split(/[\n\s]/);for(const n of t)try{const e=new URL(n);if("http:"!==e.protocol&&"https:"!==e.protocol)return}catch(i){return}return O(t)},ce=e=>/^<svg/.test(e);let de=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"");function ue(){return de()}function he(e){if(e instanceof HTMLElement)return e;if(e.parentElement)return he(e.parentElement);throw Error("Could not find a parent element of an HTML type!")}function pe(e){e.preventDefault(),R.preventDefaultLogging.value&&console.warn("preventDefault called on event:",e)}function ge(e,t){if(e.setPointerCapture(t.pointerId),R.pointerCaptureTracking.value){const t=R.pointerCaptureTrackingObject.value;t.set(e,(t.get(e)??0)+1)}R.pointerCaptureLogging.value&&console.warn("setPointerCapture called on element:",e,t)}function Ie(e,t){if(e.hasPointerCapture(t.pointerId)){if(e.releasePointerCapture(t.pointerId),R.pointerCaptureTracking.value){const t=R.pointerCaptureTrackingObject.value;1===t.get(e)?t.delete(e):t.has(e)?t.set(e,t.get(e)-1):console.warn("Release without capture")}R.pointerCaptureLogging.value&&console.warn("releasePointerCapture called on element:",e,t)}}function me(e,t){return t.map((t=>{const{offsetX:i,offsetY:n,blur:s,spread:o,color:r}=t,a=new l.GF(i,n),{x:c,y:d}=a.rot(-e);return`${c}px ${d}px ${s}px ${o}px ${r}`})).join(", ")}function ye(){const[e,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)"),i=()=>{t(e.matches)};return i(),e.addEventListener("change",i),()=>e.removeEventListener("change",i)}),[]),e}const be=(e,t)=>e.length<=t?e:e.substring(0,t-3)+"...";const fe=e=>e.split("*").map((e=>function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e))).join(".+"),Ce=(e,t)=>!!e.find((e=>{const i=new RegExp(fe(e));return t.match(i)}));function we(e){return function(e){const t=new URL(e).host.replace("www.","");for(const i of n.Lu)if(Ce(i.hostnames,t)){const t=i.toEmbedUrl(e);if(t)return{definition:i,embedUrl:t,url:e}}}(e)??function(e){const t=new URL(e).host.replace("www.","");for(const i of n.Lu)if(Ce(i.hostnames,t)){const t=i.fromEmbedUrl(e);if(t)return{definition:i,url:t,embedUrl:e}}}(e)}function Me(e){try{return we(e)}catch(t){console.error(t)}}function Ae(e,t){let i=null;for(const[s,o]of Object.entries(t))n.A8.has(s)&&(i||(i={...e}),i[s]=o);return i??e}const xe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Se="a0",ve="A00000000000000000000000000";function Le(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("Invalid index key head: "+e)}function je(e){if(e.length!==Le(e.charAt(0)))throw new Error("invalid integer part of index key: "+e)}function Ne(e){if(void 0===e)throw Error("n is undefined")}function De(e){je(e);const[t,...i]=e.split("");let n=!0;for(let s=i.length-1;n&&s>=0;s--){const e=xe.indexOf(i[s])+1;e===xe.length?i[s]="0":(i[s]=xe.charAt(e),n=!1)}if(n){if("Z"===t)return"a0";if("z"===t)return;const e=String.fromCharCode(t.charCodeAt(0)+1);return e>"a"?i.push("0"):i.pop(),e+i.join("")}return t+i.join("")}function Ze(e,t){if(void 0!==t&&e>=t)throw new Error(e+" >= "+t);if("0"===e.slice(-1)||t&&"0"===t.slice(-1))throw new Error("trailing zero");if(t){let i=0;for(;(e.charAt(i)||"0")===t.charAt(i);)i++;if(i>0)return t.slice(0,i)+Ze(e.slice(i),t.slice(i))}const i=e?xe.indexOf(e.charAt(0)):0,n=void 0!==t?xe.indexOf(t.charAt(0)):xe.length;if(n-i>1){const e=Math.round(.5*(i+n));return xe.charAt(e)}return t&&t.length>1?t.slice(0,1):xe.charAt(i)+Ze(e.slice(1),void 0)}function Ee(e){const t=Le(e.charAt(0));if(t>e.length)throw new Error("invalid index: "+e);return e.slice(0,t)}function ke(e){if(e===ve)throw new Error("invalid index: "+e);const t=Ee(e);if("0"===e.slice(t.length).slice(-1))throw new Error("invalid index: "+e)}function Te(e,t){if(void 0!==e&&ke(e),void 0!==t&&ke(t),void 0!==e&&void 0!==t&&e>=t)throw new Error(e+" >= "+t);if(void 0===e&&void 0===t)return Se;if(void 0===e){if(void 0===t)throw Error("b is undefined");const e=Ee(t),i=t.slice(e.length);if(e===ve)return e+Ze("",i);if(e<t)return e;const n=function(e){je(e);const[t,...i]=e.split("");let n=!0;for(let s=i.length-1;n&&s>=0;s--){const e=xe.indexOf(i[s])-1;-1===e?i[s]=xe.slice(-1):(i[s]=xe.charAt(e),n=!1)}if(n){if("a"===t)return"Z"+xe.slice(-1);if("A"===t)return;const e=String.fromCharCode(t.charCodeAt(0)-1);return e<"Z"?i.push(xe.slice(-1)):i.pop(),e+i.join("")}return t+i.join("")}(e);return Ne(n),n}if(void 0===t){const t=Ee(e),i=e.slice(t.length),n=De(t);return void 0===n?t+Ze(i,void 0):n}const i=Ee(e),n=e.slice(i.length),s=Ee(t),o=t.slice(s.length);if(i===s)return i+Ze(n,o);const r=De(i);return Ne(r),r<t?r:i+Ze(n,void 0)}function ze(e,t,i){if(0===i)return[];if(1===i)return[Te(e,t)];if(void 0===t){let n=Te(e,t);const s=[n];for(let e=0;e<i-1;e++)n=Te(n,t),s.push(n);return s}if(void 0===e){let n=Te(e,t);const s=[n];for(let t=0;t<i-1;t++)n=Te(e,n),s.push(n);return s.reverse(),s}const n=Math.floor(i/2),s=Te(e,t);return[...ze(e,s,n),s,...ze(s,t,i-n-1)]}function We(e,t,i){return ze(e,t,i)}function Ye(e,t){return ze(e,void 0,t)}function Pe(e,t){return ze(e,t,1)[0]}function Ge(e){return ze(e,void 0,1)[0]}function Oe(e){return ze(void 0,e,1)[0]}function Re(e){return["a1",...ze("a1",void 0,e)]}function Fe(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function Be(e,t){return e.id<t.id?-1:e.id>t.id?1:0}function Je({app:e}){const{selectionRotation:t,selectionPageCenter:i,inputs:{originPagePoint:n},selectedShapes:s}=e;return{selectionPageCenter:i,initialCursorAngle:i.angle(n),initialSelectionRotation:t,shapeSnapshots:s.map((t=>({shape:(0,r.v4)(t),initialPagePoint:e.getPagePointById(t.id)})))}}function He({delta:e,app:t,snapshot:i,stage:s}){const{selectionPageCenter:o,shapeSnapshots:r}=i;t.updateShapes(r.map((({shape:i,initialPagePoint:s})=>{const r=(0,n.YT)(i.parentId)?t.getPageTransformById(i.parentId):l.yX.Identity(),a=l.GF.RotWith(s,o,e),c=l.yX.applyToPoint(l.yX.Inverse(r),a),d=(0,l.ws)(i.rotation+e);return{id:i.id,type:i.type,x:c.x,y:c.y,rotation:d}})));const a=[];r.forEach((({shape:e})=>{const i=t.getShapeById(e.id);if(!i)return;const n=t.getShapeUtil(e);if("start"===s||"one-off"===s){const t=n.onRotateStart?.(e);t&&a.push(t)}const o=n.onRotate?.(e,i);if(o&&a.push(o),"end"===s||"one-off"===s){const t=n.onRotateEnd?.(e,i);t&&a.push(t)}})),a.length>0&&t.updateShapes(a)}const Xe={openWindow:(e,t)=>window.open(e,t,"noopener noreferrer")};function Ve(e,t){return e.match(/^\s*$/)?t:e}function _e(e,t){e.isKilled=!0;const{top:i,left:n}=t.getBoundingClientRect();return{point:{x:e.clientX-n,y:e.clientY-i,z:e.pressure},shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey,pointerId:e.pointerId,button:e.button,isPen:"pen"===e.pointerType}}function Ue(e){return`${(0,l.$Z)(e.x)},${(0,l.$Z)(e.y)} `}function Ke(e,t){return`${(0,l.$Z)((e.x+t.x)/2)},${(0,l.$Z)((e.y+t.y)/2)} `}function Qe(e,t=!0){const i=e.length;if(i<2)return"";let n=e[0],s=e[1];if(2===i)return`M${Ue(n)}L${Ue(s)}`;let o="";for(let r=2,a=i-1;r<a;r++)n=e[r],s=e[r+1],o+=Ke(n,s);return t?`M${Ke(e[0],e[1])}Q${Ue(e[1])}${Ke(e[1],e[2])}T${o}${Ke(e[i-1],e[0])}${Ke(e[0],e[1])}Z`:`M${Ue(e[0])}Q${Ue(e[1])}${Ke(e[1],e[2])}${e.length>3?"T":""}${o}L${Ue(e[i-1])}`}function qe(e,t=!1){const i=e.length;if(i<2)return"";let n=e[0].point,s=e[1].point;if(2===i)return`M${Ue(n)}L${Ue(s)}`;let o="";for(let r=2,a=i-1;r<a;r++)n=e[r].point,s=e[r+1].point,o+=Ke(n,s);return t?`M${Ke(e[0].point,e[1].point)}Q${Ue(e[1].point)}${Ke(e[1].point,e[2].point)}T${o}${Ke(e[i-1].point,e[0].point)}${Ke(e[0].point,e[1].point)}Z`:`M${Ue(e[0].point)}Q${Ue(e[1].point)}${Ke(e[1].point,e[2].point)}${e.length>3?"T":""}${o}L${Ue(e[i-1].point)}`}function $e(e,t="_blank"){Xe.openWindow(e,t)}const et=(0,a.createContext)(null);function tt({container:e,children:t}){return(0,s.jsx)(et.Provider,{value:e,children:t})}function it(){return(0,r.kP)((0,a.useContext)(et),"useContainer used outside of <Tldraw />")}function nt(e,t,i=d.LZ){(0,a.useEffect)((()=>{const i=new d.R0(e,t);return i.attach(),i.execute(),()=>{i.detach()}}),i)}const st="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",ot="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",rt='<g><path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/></g>';function at(e,t,i,n,s){const o=(-i-t)*(l.PI/180),r=Math.sin(o),a=Math.cos(o);return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${s};'><defs><filter id='shadow' color-interpolation-filters='sRGB'><feDropShadow dx='${1*a-1*r}' dy='${1*r+1*a}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${t+i} 16 16)${n?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+e.replaceAll('"',"'")+'</g></svg>") 16 16, pointer'}const lt={none:()=>"none",default:()=>"default",pointer:()=>"pointer",cross:()=>"crosshair",move:()=>"move",grab:(e,t,i)=>at('<path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" fill="%23fff"/><g stroke="%23000" stroke-linecap="round" stroke-width=".75"><path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" stroke-linejoin="round"/><path d="m20.5664 21.7344v-3.459"/><path d="m18.5508 21.7461-.016-3.473"/><path d="m16.5547 18.3047.021 3.426"/></g>',e,0,t,i),grabbing:(e,t,i)=>at("<path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042' fill='%23fff'/><g stroke='%23000' stroke-width='.75'><path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042z' stroke-linejoin='round'/><path d='m20.5664 19.7344v-3.459' stroke-linecap='round'/><path d='m18.5508 19.7461-.016-3.473' stroke-linecap='round'/><path d='m16.5547 16.3047.021 3.426' stroke-linecap='round'/></g>",e,0,t,i),text:(e,t,i)=>at("<path fill=\"currentcolor\" d='m6.94 2v-1c-1.35866267-.08246172-2.66601117.53165299-3.47 1.63-.80398883-1.09834701-2.11133733-1.71246172-3.47-1.63v1c1.30781678-.16635468 2.55544738.59885876 3 1.84v5.1h-1v1h1v4.16c-.4476345 1.2386337-1.69302129 2.002471-3 1.84v1c1.35687108.0731933 2.6600216-.5389494 3.47-1.63.8099784 1.0910506 2.11312892 1.7031933 3.47 1.63v-1c-1.28590589.133063-2.49760499-.6252793-2.94-1.84v-4.18h1v-1h-1v-5.08c.43943906-1.21710975 1.65323743-1.97676587 2.94-1.84z' transform='translate(14 9)'/>",e,0,t,i),"resize-edge":(e,t,i)=>at(ot,e,0,t,i),"resize-corner":(e,t,i)=>at(st,e,0,t,i),"ew-resize":(e,t,i)=>at(ot,e,0,t,i),"ns-resize":(e,t,i)=>at(ot,e,90,t,i),"nesw-resize":(e,t,i)=>at(st,e,0,t,i),"nwse-resize":(e,t,i)=>at(st,e,90,t,i),rotate:(e,t,i)=>at(rt,e,45,t,i),"nwse-rotate":(e,t,i)=>at(rt,e,0,t,i),"nesw-rotate":(e,t,i)=>at(rt,e,90,t,i),"senw-rotate":(e,t,i)=>at(rt,e,180,t,i),"swne-rotate":(e,t,i)=>at(rt,e,270,t,i)};function ct(e,t=0,i="black"){return lt[e]((0,l.vi)(t),!1,i)}const dt=["input","select","button","textarea"];function ut(){const{activeElement:e}=document;return!(!e||!(e.getAttribute("contenteditble")||dt.indexOf(e.tagName.toLowerCase())>-1))}const ht=["textarea","input"];const pt={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function gt(e,t,i){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*i):e*t*i/(t+i*e)}function It(e,t,i,n=.15){return 0===n?function(e,t,i){return Math.max(t,Math.min(e,i))}(e,t,i):e<t?-gt(t-e,i-t,n)+t:e>i?+gt(e-i,i-t,n)+i:e}function mt(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function yt(e,t,i){return(t=mt(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ft(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(i),!0).forEach((function(t){yt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Ct={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function wt(e){return e?e[0].toUpperCase()+e.slice(1):""}const Mt=["enter","leave"];function At(e,t="",i=!1){const n=Ct[e],s=n&&n[t]||t;return"on"+wt(e)+wt(s)+(function(e=!1,t){return e&&!Mt.includes(t)}(i,s)?"Capture":"")}const xt=["gotpointercapture","lostpointercapture"];function St(e){let t=e.substring(2).toLowerCase();const i=!!~t.indexOf("passive");i&&(t=t.replace("passive",""));const n=xt.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(n);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:i}}function vt(e){return"touches"in e}function Lt(e){return vt(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function jt(e,t){const i=t.clientX-e.clientX,n=t.clientY-e.clientY,s=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,r=Math.hypot(i,n);return{angle:-180*Math.atan2(i,n)/Math.PI,distance:r,origin:[s,o]}}function Nt(e){return function(e){return Array.from(e.touches).filter((t=>{var i,n;return t.target===e.currentTarget||(null===(i=e.currentTarget)||void 0===i||null===(n=i.contains)||void 0===n?void 0:n.call(i,t.target))}))}(e).map((e=>e.identifier))}function Dt(e,t){const[i,n]=Array.from(e.touches).filter((e=>t.includes(e.identifier)));return jt(i,n)}function Zt(e){let{deltaX:t,deltaY:i,deltaMode:n}=e;return 1===n?(t*=40,i*=40):2===n&&(t*=800,i*=800),[t,i]}function Et(e,...t){return"function"==typeof e?e(...t):e}function kt(){}function Tt(...e){return 0===e.length?kt:1===e.length?e[0]:function(){let t;for(const i of e)t=i.apply(this,arguments)||t;return t}}function zt(e,t){return Object.assign({},t,e||{})}class Wt{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:n}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?Et(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:n}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:i,altKey:n,metaKey:s,ctrlKey:o}=e;Object.assign(t,{shiftKey:i,altKey:n,metaKey:s,ctrlKey:o})}return t}(e)),n.down=n.pressed=n.buttons%2==1||n.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);pt.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[o,r]=t._movement,[a,l]=i.threshold,{_step:c,values:d}=t;if(i.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(o)>=a&&d[0]),!1===c[1]&&(c[1]=Math.abs(r)>=l&&d[1])):(!1===c[0]&&(c[0]=Math.abs(o)>=a&&Math.sign(o)*a),!1===c[1]&&(c[1]=Math.abs(r)>=l&&Math.sign(r)*l)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;const u=[0,0];if(i.hasCustomTransform){const[e,t]=d;u[0]=!1!==c[0]?e-c[0]:0,u[1]=!1!==c[1]?t-c[1]:0}else u[0]=!1!==c[0]?o-c[0]:0,u[1]=!1!==c[1]?r-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(u);const h=t.offset,p=t._active&&!t._blocked||t.active;p&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=Et(i.bounds,t)),this.setup&&this.setup()),t.movement=u,this.computeOffset()));const[g,I]=t.offset,[[m,y],[b,f]]=t._bounds;t.overflow=[g<m?-1:g>y?1:0,I<b?-1:I>f?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const C=t._active&&i.rubberband||[0,0];if(t.offset=function(e,[t,i],[n,s]){const[[o,r],[a,l]]=e;return[It(t,o,r,n),It(i,a,l,s)]}(t._bounds,t.offset,C),t.delta=pt.sub(t.offset,h),this.computeMovement(),p&&(!t.last||s>32)){t.delta=pt.sub(t.offset,h);const e=t.delta.map(Math.abs);pt.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[e[0]/s,e[1]/s])}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const n=this.handler(ft(ft(ft({},t),e),{},{[this.aliasKey]:e.values}));void 0!==n&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class Yt extends Wt{constructor(...e){super(...e),yt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=pt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=pt.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const n="object"==typeof i.axisThreshold?i.axisThreshold[Lt(e)]:i.axisThreshold;t.axis=function([e,t],i){const n=Math.abs(e),s=Math.abs(t);return n>s&&n>i?"x":s>n&&s>i?"y":void 0}(t._movement,n)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const Pt=e=>e,Gt={enabled:(e=!0)=>e,eventOptions:(e,t,i)=>ft(ft({},i.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return pt.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?pt.toVector(e):void 0,transform(e,t,i){const n=e||i.shared.transform;return this.hasCustomTransform=!!n,n||Pt},threshold:e=>pt.toVector(e,0)};const Ot=ft(ft({},Gt),{},{axis(e,t,{axis:i}){if(this.lockDirection="lock"===i,!this.lockDirection)return i},axisThreshold:(e=0)=>e,bounds(e={}){if("function"==typeof e)return t=>Ot.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:i=1/0,top:n=-1/0,bottom:s=1/0}=e;return[[t,i],[n,s]]}});const Rt="undefined"!=typeof window&&window.document&&window.document.createElement;function Ft(){return Rt&&"ontouchstart"in window||Rt&&window.navigator.maxTouchPoints>1}const Bt={isBrowser:Rt,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Ft(),touchscreen:Ft(),pointer:Rt&&"onpointerdown"in window,pointerLock:Rt&&"exitPointerLock"in window.document},Jt={mouse:0,touch:0,pen:8};ft(ft({},Ot),{},{device(e,t,{pointer:{touch:i=!1,lock:n=!1,mouse:s=!1}={}}){return this.pointerLock=n&&Bt.pointerLock,Bt.touch&&i?"touch":this.pointerLock?"mouse":Bt.pointer&&!s?"pointer":Bt.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:i}){if(this.preventScrollDelay="number"==typeof i?i:i||void 0===i&&e?250:void 0,Bt.touchscreen&&!1!==i)return e||(void 0!==i?"y":void 0)},pointerCapture(e,t,{pointer:{capture:i=!0,buttons:n=1,keys:s=!0}={}}){return this.pointerButtons=n,this.keys=s,!this.pointerLock&&"pointer"===this.device&&i},threshold(e,t,{filterTaps:i=!1,tapsThreshold:n=3,axis:s}){const o=pt.toVector(e,i?n:s?1:0);return this.filterTaps=i,this.tapsThreshold=n,o},swipe({velocity:e=.5,distance:t=50,duration:i=250}={}){return{velocity:this.transform(pt.toVector(e)),distance:this.transform(pt.toVector(t)),duration:i}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?ft(ft({},Jt),e):Jt,keyboardDisplacement:(e=10)=>e});function Ht(e){const[t,i]=e.overflow,[n,s]=e._delta,[o,r]=e._direction;(t<0&&n>0&&o<0||t>0&&n<0&&o>0)&&(e._movement[0]=e._movementBound[0]),(i<0&&s>0&&r<0||i>0&&s<0&&r>0)&&(e._movement[1]=e._movementBound[1])}const Xt=ft(ft({},Gt),{},{device(e,t,{shared:i,pointer:{touch:n=!1}={}}){if(i.target&&!Bt.touch&&Bt.gesture)return"gesture";if(Bt.touch&&n)return"touch";if(Bt.touchscreen){if(Bt.pointer)return"pointer";if(Bt.touch)return"touch"}},bounds(e,t,{scaleBounds:i={},angleBounds:n={}}){const s=e=>{const t=zt(Et(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},o=e=>{const t=zt(Et(n,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof i&&"function"!=typeof n?[s(),o()]:e=>[s(e),o(e)]},threshold(e,t,i){this.lockDirection="lock"===i.axis;return pt.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e});ft(ft({},Ot),{},{mouseOnly:(e=!0)=>e});const Vt=Ot;ft(ft({},Ot),{},{mouseOnly:(e=!0)=>e});const _t=new Map,Ut=new Map;function Kt(e){_t.set(e.key,e.engine),Ut.set(e.key,e.resolver)}const Qt={key:"pinch",engine:class extends Wt{constructor(...e){super(...e),yt(this,"ingKey","pinching"),yt(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:i}=this.state;this.state.offset="wheel"===e?pt.add(t,i):[(1+t[0])*i[0],t[1]+i[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,i]=e._movement;if(!e.axis){const n=30*Math.abs(t)-Math.abs(i);n<0?e.axis="angle":n>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout((()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()}),0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,i=this.ctrl.touchIds;if(t._active&&t._touchIds.every((e=>i.has(e))))return;if(i.size<2)return;this.start(e),t._touchIds=Array.from(i).slice(0,2);const n=Dt(e,t._touchIds);this.pinchStart(e,n)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,i=t._pointerEvents,n=this.ctrl.pointerIds;if(t._active&&Array.from(i.keys()).every((e=>n.has(e))))return;if(i.size<2&&i.set(e.pointerId,e),t._pointerEvents.size<2)return;this.start(e);const s=jt(...Array.from(i.values()));this.pinchStart(e,s)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=Dt(e,this.state._touchIds);this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const i=jt(...Array.from(t.values()));this.pinchMove(e,i)}pinchMove(e,t){const i=this.state,n=i._values[1],s=t.angle-n;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),i.origin=t.origin,i.turns=o,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((e=>!this.ctrl.touchIds.has(e)))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(i){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const i=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=pt.sub(t._movement,i),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const t=this.state;t._delta=[-Zt(e)[1]/100*t.offset[0],0],pt.addTo(t._movement,t._delta),Ht(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:Xt},qt={key:"wheel",engine:class extends Yt{constructor(...e){super(...e),yt(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=Zt(e),pt.addTo(t._movement,t._delta),Ht(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},resolver:Vt};function $t(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}const ei={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(Bt.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},ti=["target","eventOptions","window","enabled","transform"];function ii(e={},t){const i={};for(const[n,s]of Object.entries(t))switch(typeof s){case"function":i[n]=s.call(i,e[n],n,e);break;case"object":i[n]=ii(e[n],s);break;case"boolean":s&&(i[n]=e[n])}return i}class ni{constructor(e,t){yt(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,n,s){const o=this._listeners,r=function(e,t=""){const i=Ct[e];return e+(i&&i[t]||t)}(t,i),a=ft(ft({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),s);e.addEventListener(r,n,a);const l=()=>{e.removeEventListener(r,n,a),o.delete(l)};return o.add(l),l}clean(){this._listeners.forEach((e=>e())),this._listeners.clear()}}class si{constructor(){yt(this,"_timeouts",new Map)}add(e,t,i=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...n))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class oi{constructor(e){yt(this,"gestures",new Set),yt(this,"_targetEventStore",new ni(this)),yt(this,"gestureEventStores",{}),yt(this,"gestureTimeoutStores",{}),yt(this,"handlers",{}),yt(this,"config",{}),yt(this,"pointerIds",new Set),yt(this,"touchIds",new Set),yt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&ri(e,"drag");t.wheel&&ri(e,"wheel");t.scroll&&ri(e,"scroll");t.move&&ri(e,"move");t.pinch&&ri(e,"pinch");t.hover&&ri(e,"hover")}(this,e)}setEventIds(e){return vt(e)?(this.touchIds=new Set(Nt(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,i={}){const n=e,{target:s,eventOptions:o,window:r,enabled:a,transform:l}=n,c=$t(n,ti);if(i.shared=ii({target:s,eventOptions:o,window:r,enabled:a,transform:l},ei),t){const e=Ut.get(t);i[t]=ii(ft({shared:i.shared},c),e)}else for(const d in c){const e=Ut.get(d);e&&(i[d]=ii(ft({shared:i.shared},c[d]),e))}return i}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let n;if(!t.target||(n=t.target(),n)){if(t.enabled){for(const t of this.gestures){const s=this.config[t],o=ai(i,s.eventOptions,!!n);if(s.enabled){new(_t.get(t))(this,e,t).bind(o)}}const s=ai(i,t.eventOptions,!!n);for(const t in this.nativeHandlers)s(t,"",(i=>this.nativeHandlers[t](ft(ft({},this.state.shared),{},{event:i,args:e}))),void 0,!0)}for(const e in i)i[e]=Tt(...i[e]);if(!n)return i;for(const e in i){const{device:t,capture:s,passive:o}=St(e);this._targetEventStore.add(n,t,"",i[e],{capture:s,passive:o})}}}}function ri(e,t){e.gestures.add(t),e.gestureEventStores[t]=new ni(e,t),e.gestureTimeoutStores[t]=new si}const ai=(e,t,i)=>(n,s,o,r={},a=!1)=>{var l,c;const d=null!==(l=r.capture)&&void 0!==l?l:t.capture,u=null!==(c=r.passive)&&void 0!==c?c:t.passive;let h=a?n:At(n,s,d);i&&u&&(h+="Passive"),e[h]=e[h]||[],e[h].push(o)},li=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function ci(e,t,i,n,s,o){if(!e.has(i))return;if(!_t.has(n))return void 0;const r=i+"Start",a=i+"End";s[n]=e=>{let n;return e.first&&r in t&&t[r](e),i in t&&(n=t[i](e)),e.last&&a in t&&t[a](e),n},o[n]=o[n]||{}}function di(e,t){const[i,n,s]=function(e){const t={},i={},n=new Set;for(let s in e)li.test(s)?(n.add(RegExp.lastMatch),i[s]=e[s]):t[s]=e[s];return[i,t,n]}(e),o={};return ci(s,i,"onDrag","drag",o,t),ci(s,i,"onWheel","wheel",o,t),ci(s,i,"onScroll","scroll",o,t),ci(s,i,"onPinch","pinch",o,t),ci(s,i,"onMove","move",o,t),ci(s,i,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:n}}function ui(e,t={},i,n){const s=a.useMemo((()=>new oi(e)),[]);if(s.applyHandlers(e,n),s.applyConfig(t,i),a.useEffect(s.effect.bind(s)),a.useEffect((()=>s.clean.bind(s)),[]),void 0===t.target)return s.bind.bind(s)}function hi(e){return e.forEach(Kt),function(e,t){const{handlers:i,nativeHandlers:n,config:s}=di(e,t||{});return ui(i,s,void 0,n)}}const pi=10,gi=/Mac|iPod|iPhone|iPad/.test("undefined"==typeof window?"node":window.navigator.platform);function Ii(e){let{deltaY:t,deltaX:i}=e,n=0;if(e.ctrlKey||e.altKey||e.metaKey){const i=Math.sign(e.deltaY);let s=t;Math.abs(e.deltaY)>pi&&(s=pi*i),n=s/100}else e.shiftKey&&!gi&&(i=t,t=0);return{x:-i,y:-t,z:-n}}const mi=hi([qt,Qt]);let yi;function bi(e){const t=P(),i=a.useMemo((()=>{const i=new l.GF;return{onWheel:({event:e})=>{if(!t.isFocused)return;if(i=Date.now(),void 0===yi?(yi=i,0):i-yi>120&&i-yi<160?(yi=i,1):(yi=i,0))return;var i;if(t.editingId){const e=t.getShapeById(t.editingId);if(e){if(t.getShapeUtil(e).canScroll(e)){const e=t.getPageBoundsById(t.editingId);if(e?.containsPoint(t.inputs.currentPagePoint))return}}}pe(e);const n=Ii(e);if(0===n.x&&0===n.y)return;const s={type:"wheel",name:"wheel",delta:n,shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey};t.dispatch(s)},onPinchStart:n=>{const s=e.current,{event:o,origin:r}=n;o instanceof WheelEvent||(o.target===s||s?.contains(o.target))&&(i.x=r[0],i.y=r[1],t.dispatch({type:"pinch",name:"pinch_start",point:{x:r[0],y:r[1],z:t.camera.z},delta:{x:0,y:0},shiftKey:o.shiftKey,altKey:o.altKey,ctrlKey:o.metaKey||o.ctrlKey}))},onPinchEnd:i=>{const n=e.current,{event:s,origin:o,offset:r}=i;if(s instanceof WheelEvent)return;if(s.target!==n&&!n?.contains(s.target))return;const a=r[0];requestAnimationFrame((()=>{t.dispatch({type:"pinch",name:"pinch_end",point:{x:o[0],y:o[1],z:a},delta:{x:o[0],y:o[1]},shiftKey:s.shiftKey,altKey:s.altKey,ctrlKey:s.metaKey||s.ctrlKey})}))},onPinch:n=>{const s=e.current,{event:o,origin:r,offset:a}=n,l=a[0];if(o instanceof WheelEvent)return;if(o.target!==s&&!s?.contains(o.target))return;const c=r[0]-i.x,d=r[1]-i.y;i.x=r[0],i.y=r[1],t.dispatch({type:"pinch",name:"pinch",point:{x:r[0],y:r[1],z:l},delta:{x:c,y:d},shiftKey:o.shiftKey,altKey:o.altKey,ctrlKey:o.metaKey||o.ctrlKey})}}}),[t,e]);mi(i,{target:e,eventOptions:{passive:!1},pinch:{from:()=>[t.camera.z,0],scaleBounds:()=>({from:t.camera.z,max:8,min:.05})}})}function fi(e,t,i){const n=e.getShapeById(t);return{shape:n,handle:e.getShapeUtil(n).handles(n).find((e=>e.id===i))}}function Ci(e){const t=P();return(0,W.Hg)("isEditing",(()=>t.editingId===e),[t,e])}const wi=(e,t,i)=>new Promise(((n,s)=>{const o=8*t*e,r=document.createElement("canvas");r.width=o,r.height=o;const a=r.getContext("2d");if(!a)throw new Error("No canvas");a.fillStyle=i?"#212529":"#f8f9fa",a.fillRect(0,0,o,o),a.globalCompositeOperation="destination-out",a.lineCap="round",a.lineWidth=1.25*t*e;const l=8/12,c=i=>i*t*e;a.beginPath(),a.moveTo(c(1*l),c(2)),a.lineTo(c(2),c(1*l)),a.moveTo(c(5*l),c(7*l)),a.lineTo(c(7*l),c(5*l)),a.moveTo(c(6),c(11*l)),a.lineTo(c(11*l),c(6)),a.stroke(),r.toBlob((e=>{!e||R.throwToBlob.value?s():n(e)}))})),Mi=(e,t)=>{const i=document.createElement("canvas");return i.width=e[0],i.height=e[1],t(i.getContext("2d")),i.toDataURL()},Ai=function(){const e=P().devicePixelRatio,[t,i]=(0,a.useState)(!1),n=(0,a.useMemo)((()=>(()=>{const e=[];for(let t=1;t<=Math.ceil(8);t++){const i=Mi([1,1],(e=>{e.fillStyle="#e8e8e8",e.fillRect(0,0,1,1)})),n=Mi([1,1],(e=>{e.fillStyle="#2c3036",e.fillRect(0,0,1,1)}));e.push({zoom:t,url:i,darkMode:!1}),e.push({zoom:t,url:n,darkMode:!0})}return e})()),[]),[o,r]=(0,a.useState)(n);(0,a.useEffect)((()=>{const t=[];for(let i=1;i<=Math.ceil(8);i++)t.push(wi(e,i,!1).then((e=>({zoom:i,url:URL.createObjectURL(e),darkMode:!1})))),t.push(wi(e,i,!0).then((e=>({zoom:i,url:URL.createObjectURL(e),darkMode:!0}))));let n=!1;return Promise.all(t).then((e=>{n||(r(e),i(!0))})),()=>{n=!0,i(!1)}}),[e]);return{context:(0,s.jsx)("defs",{children:o.map((e=>{const t=e.zoom+(e.darkMode?"_dark":"_light");return(0,s.jsx)("pattern",{id:w[t],width:8,height:8,patternUnits:"userSpaceOnUse",children:(0,s.jsx)("image",{href:e.url,width:8,height:8})},t)}))}),isReady:t}},xi=8/12;var Si=i(93096);const vi=(e,t,i)=>n=>{if(e.pageState.editingId===t&&(n.isKilled=!0),n.isKilled)return;switch(i){case"pointer_down":if(0!==n.button&&2!==n.button)return;ge(n.currentTarget,n);break;case"pointer_up":Ie(n.currentTarget,n)}const s=e.getShapeById(t);s?e.dispatch({type:"pointer",target:"shape",shape:s,name:i,..._e(n,e.getContainer())}):console.error("Shape not found",t)};const Li=a.memo((function({d:e,color:t,fill:i}){switch(i){case"none":return(0,s.jsx)("path",{className:"rs-hitarea-stroke",fill:"none",d:e});case"solid":return(0,s.jsx)("path",{className:"rs-hitarea-fill-solid",fill:`var(--palette-${t}-semi)`,d:e});case"semi":return(0,s.jsx)("path",{className:"rs-hitarea-fill-solid",fill:"var(--palette-solid)",d:e});case"pattern":return(0,s.jsx)(ji,{color:t,fill:i,d:e})}})),ji=(0,W.j)((function({d:e,color:t}){const i=P(),n=Math.ceil(i.zoomLevel),o=i.zoomLevel<=.18,r=i.userDocumentSettings.isDarkMode;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{className:"rs-hitarea-fill-solid",fill:`var(--palette-${t}-pattern)`,d:e}),(0,s.jsx)("path",{fill:o?`var(--palette-${t}-semi)`:`url(#${w[n+(r?"_dark":"_light")]})`,d:e})]})}));function Ni({d:e,color:t,fill:i,colors:n}){if("none"===i)return;if("pattern"===i){const i=document.createElementNS("http://www.w3.org/2000/svg","g"),s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",e),s.setAttribute("fill",n.background);const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",e),o.setAttribute("mask","url(#hash_mask)"),o.setAttribute("fill",n.pattern[t]),i.appendChild(s),i.appendChild(o),i}const s=document.createElementNS("http://www.w3.org/2000/svg","path");switch(s.setAttribute("d",e),i){case"semi":s.setAttribute("fill",n.solid);break;case"solid":s.setAttribute("fill",n.semi[t])}return s}function Di(e,t){if(t){const i=document.createElementNS("http://www.w3.org/2000/svg","g");return i.appendChild(t),i.appendChild(e),i}return e}function Zi(e,t,i={}){const{closed:n=!1,snap:s=1,start:o="outset",end:r="outset",lengthRatio:a=2,style:l="dashed"}=i;let c=0,d=0,u=1,h=0,p=0;switch(l){case"dashed":u=1,c=Math.min(t*a,e/4);break;case"dotted":u=100,c=t/u;break;default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return n||("outset"===o?(e+=c/2,p+=c/2):"skip"===o&&(e-=c,p-=c),"outset"===r?e+=c/2:"skip"===r&&(e-=c)),d=Math.floor(e/c/(2*u)),d-=d%s,d<3&&"dashed"===l?e/t<5?(c=e,d=1,h=0):(c=.333*e,h=.333*e):(d=Math.max(d,3),c=e/d/(2*u),n?(p=c/2,h=(e-d*c)/d):h=(e-d*c)/Math.max(1,d-1)),{strokeDasharray:[c,h].join(" "),strokeDashoffset:p.toString()}}const Ei=e=>e.stopPropagation();function ki(e,t){const{padding:i=0}=t,n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("font-size",t.fontSize+"px"),n.setAttribute("font-family",t.fontFamily),n.setAttribute("font-style",t.fontStyle),n.setAttribute("font-weight",t.fontWeight),n.setAttribute("line-height",t.lineHeight*t.fontSize+"px"),n.setAttribute("dominant-baseline","mathematical"),n.setAttribute("alignment-baseline","mathematical");const s=t.lines.map((e=>e.trim())),o=[],r=s.length*(t.lineHeight*t.fontSize),a=(Math.ceil(t.height)-r)/2,l=i;for(let c=0;c<s.length;c++){const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttribute("alignment-baseline","mathematical"),e.textContent=s[c].replace(/\s(\s+)/g,((e,t)=>{let i=" ";for(let n=0;n<t.length;n++)i+=" ";return i})),s.length>1&&c<s.length-1&&(e.textContent+="\n"),e.setAttribute("y",a+t.fontSize/2+t.lineHeight*t.fontSize*c+"px"),n.appendChild(e),o.push(e)}switch(t.stroke&&t.strokeWidth&&(n.setAttribute("stroke",t.stroke),n.setAttribute("stroke-width",t.strokeWidth+"px")),t.fill&&n.setAttribute("fill",t.fill),t.textAlign){case"middle":n.setAttribute("text-align","center"),n.setAttribute("text-anchor","start"),o.forEach(((n,o)=>{const r=e.textMeasure.measureText({...D,text:s[o].trim(),fontFamily:t.fontFamily,fontSize:t.fontSize,width:"fit-content",padding:`${i}px`}).w;n.setAttribute("x",l+(t.width-r)/2+"")}));break;case"end":n.setAttribute("text-align","right"),n.setAttribute("text-anchor","start"),o.forEach(((n,o)=>{const r=e.textMeasure.measureText({...D,text:s[o].trim(),fontFamily:t.fontFamily,fontSize:t.fontSize,width:"fit-content",padding:`${i}px`}).w;n.setAttribute("x",l+t.width-r+"")}));break;default:n.setAttribute("text-align","left"),n.setAttribute("text-anchor","start"),o.forEach((e=>e.setAttribute("x",l+"")))}return n}var Ti=Object.defineProperty,zi=Object.getOwnPropertyDescriptor,Wi=(e,t,i,n)=>{for(var s,o=n>1?void 0:n?zi(t,i):t,r=e.length-1;r>=0;r--)(s=e[r])&&(o=(n?s(t,i,o):s(o))||o);return n&&o&&Ti(t,i,o),o};const Yi=new G,Pi=new G;class Gi{constructor(e,t){this.app=e,this.type=t}is(e){return e.type===this.type}canScroll=()=>!1;canUnmount=()=>!0;canBind=(e,t)=>!0;canEdit=()=>!1;canResize=()=>!0;getEditingBounds=e=>this.bounds(e);isClosed=()=>!0;hideResizeHandles=()=>!1;hideRotateHandle=()=>!1;hideSelectionBoundsBg=()=>!1;hideSelectionBoundsFg=()=>!1;isAspectRatioLocked=()=>!1;get handlesCache(){return this.app.store.createComputedCache("handles:"+this.type,(e=>this.getHandles(e)))}handles(e){return this.getHandles?this.handlesCache.get(e.id)??d.LZ:d.LZ}get boundsCache(){return this.app.store.createComputedCache("bounds:"+this.type,(e=>this.getBounds(e)))}bounds(e){const t=this.boundsCache.get(e.id)??new l.No;return 0===t.width||0===t.height?new l.No(t.x,t.y,Math.max(t.width,1),Math.max(t.height,1)):t}transform(e){return Pi.get(e,(e=>l.yX.Compose(l.yX.Translate(e.x,e.y),l.yX.Rotate(e.rotation))))}point(e){return Yi.get(e,(e=>({x:e.x,y:e.y})))}get outlineCache(){return this.app.store.createComputedCache("outline:"+this.type,(e=>this.getOutline(e)))}outline(e){return this.outlineCache.get(e.id)??d.LZ}snapPoints(e){return this.bounds(e).snapPoints}center(e){return this.getCenter(e)}canReceiveNewChildrenOfType(e){return!1}canDropShapes(e,t){return!1}hitTestPoint(e,t){return this.bounds(e).containsPoint(t)}hitTestLineSegment(e,t,i){const n=this.outline(e);for(let s=0;s<n.length;s++){const e=n[s],o=n[(s+1)%n.length];if((0,l.cB)(t,i,e,o))return!0}return!1}onBeforeCreate;onBeforeUpdate;onDragShapesOver;onDragShapesOut;onDropShapesOver;onResizeStart;onResize;onResizeEnd;onTranslateStart;onTranslate;onTranslateEnd;onRotateStart;onRotateEnd;onRotate;onHandleChange;onBindingChange;onChildrenChange;onDoubleClickHandle;onDoubleClickEdge;onDoubleClick;onClick;onEditEnd}function Oi(e,t,i){const n="end"===t?e.end.arrowhead:e.start.arrowhead;if("none"===n)return;const s=function(e,t,i){const n="end"===t?e.end.point:e.start.point,s="end"===t?e.start.point:e.end.point,o=e.isStraight?l.GF.Dist(s,n):Math.abs(e.bodyArc.length),r=Math.max(Math.min(o/5,3*i),i);let a;if(e.isStraight)a=l.GF.Nudge(n,s,r);else{const i=(0,l.bO)(n,r,e.handleArc.center,e.handleArc.radius);a="end"===t?e.handleArc.sweepFlag?i[0]:i[1]:e.handleArc.sweepFlag?i[1]:i[0]}return{point:n,int:a}}(e,t,i);if(s){switch(n){case"bar":return function({int:e,point:t}){const i=l.GF.Sub(e,t).div(2),n=l.GF.Add(t,l.GF.Rot(i,l.gc)),s=l.GF.Sub(t,l.GF.Rot(i,l.gc));return`M ${n.x} ${n.y} L ${s.x} ${s.y}`}(s);case"square":return function({int:e,point:t}){const i=l.GF.Lrp(t,e,.85),n=l.GF.Sub(i,t).div(2),s=l.GF.Add(t,l.GF.Rot(n,l.gc)),o=l.GF.Sub(t,l.GF.Rot(n,l.gc)),r=l.GF.Add(i,l.GF.Rot(n,l.gc)),a=l.GF.Sub(i,l.GF.Rot(n,l.gc));return`M ${s.x} ${s.y} L ${r.x} ${r.y} L ${a.x} ${a.y} L ${o.x} ${o.y} Z`}(s);case"diamond":return function({point:e,int:t}){const i=l.GF.Lrp(e,t,.75),n=l.GF.RotWith(i,e,l.PI/4),s=l.GF.RotWith(i,e,-l.PI/4),o=l.GF.Lrp(n,s,.5);return o.add(l.GF.Sub(o,e)),`M ${o.x} ${o.y} L ${n.x} ${n.y} ${e.x} ${e.y} L ${s.x} ${s.y} Z`}(s);case"dot":return function({point:e,int:t}){const i=l.GF.Lrp(e,t,.45),n=l.GF.Dist(i,e);return`M ${i.x-n},${i.y}\n  a ${n},${n} 0 1,0 ${2*n},0\n  a ${n},${n} 0 1,0 -${2*n},0 `}(s);case"inverted":return function({point:e,int:t}){const i=l.GF.Sub(t,e).div(2),n=l.GF.Add(e,l.GF.Rot(i,l.gc)),s=l.GF.Sub(e,l.GF.Rot(i,l.gc));return`M ${n.x} ${n.y} L ${t.x} ${t.y} L ${s.x} ${s.y} Z`}(s);case"arrow":return function({point:e,int:t}){const i=l.GF.RotWith(t,e,l.PI/6),n=l.GF.RotWith(t,e,-l.PI/6);return`M ${i.x} ${i.y} L ${e.x} ${e.y} L ${n.x} ${n.y}`}(s);case"triangle":return function({point:e,int:t}){const i=l.GF.RotWith(t,e,l.PI/6),n=l.GF.RotWith(t,e,-l.PI/6);return`M ${i.x} ${i.y} L ${e.x} ${e.y} L ${n.x} ${n.y} Z`}(s)}return""}}function Ri(e,t){if("point"===t.type)return;const i=e.getShapeById(t.boundShapeId);return{shape:i,util:e.getShapeUtil(i),transform:e.getPageTransform(i),isExact:t.isExact,didIntersect:!1}}function Fi(e,t,i){if("point"===i.type)return l.GF.From(i);const n=e.getShapeById(i.boundShapeId);if(n){const{point:s,size:o}=e.getBounds(n),r=l.GF.Add(s,l.GF.MulV(i.normalizedAnchor,o)),a=l.yX.applyToPoint(e.getPageTransform(n),r);return l.yX.applyToPoint(l.yX.Inverse(t),a)}return console.error("Expected a bound shape!"),new l.GF(0,0)}function Bi(e,t){const i=e.getPageTransform(t);return{start:Fi(e,i,t.props.start),end:Fi(e,i,t.props.end)}}function Ji(e,t){const{start:i,end:n,arrowheadStart:s,arrowheadEnd:o}=t.props,r=Bi(e,t),a=r.start.clone(),c=r.end.clone(),d=l.GF.Med(a,c),u=l.GF.Sub(c,a).uni(),h=Ri(e,i),p=Ri(e,n),g=e.getPageTransform(t);Hi(c,r.start,g,p),Hi(a,r.end,g,h);let I=x;const m=h&&p&&h.shape===p.shape;!h||!p||m||h.isExact||p.isExact||(p.didIntersect&&!h.didIntersect?h.util.isClosed(h.shape)&&a.setTo(l.GF.Nudge(c,a,I)):p.didIntersect||p.util.isClosed(p.shape)&&c.setTo(l.GF.Nudge(a,c,I)));const y=l.GF.Sub(c,a).uni(),b=!l.GF.Equals(y,u);if(!m){if(h&&"none"!==s&&!h.isExact){const i=S+e.getStrokeWidth(t.props.size)/2+("size"in h.shape.props?e.getStrokeWidth(h.shape.props.size)/2:0);I-=i,a.nudge(c,i*(b?-1:1))}if(p&&"none"!==o&&!p.isExact){const i=S+e.getStrokeWidth(t.props.size)/2+("size"in p.shape.props?e.getStrokeWidth(p.shape.props.size)/2:0);I-=i,c.nudge(a,i*(b?-1:1))}}h&&p&&(b?c.setTo(l.GF.Add(a,y.mul(-I))):l.GF.Dist(a,c)<x/2&&c.setTo(l.GF.Add(a,y.mul(x/2)))),b?d.setTo(l.GF.Med(r.start,r.end)):d.setTo(l.GF.Med(a,c));const f=l.GF.Dist(a,c);return{isStraight:!0,start:{handle:r.start,point:a,arrowhead:t.props.arrowheadStart},end:{handle:r.end,point:c,arrowhead:t.props.arrowheadEnd},middle:d,isValid:f>0,length:f}}function Hi(e,t,i,n){if(void 0===n)return;if(n.isExact)return;const s=l.yX.applyToPoint(i,t),o=l.yX.applyToPoint(i,e),r=l.yX.applyToPoint(l.yX.Inverse(n.transform),s),a=l.yX.applyToPoint(l.yX.Inverse(n.transform),o),c=n.util.isClosed(n.shape),d=(c?l.qZ:l.Gc)(r,a,n.util.outline(n.shape));let u;if(null!==d&&(u=d.sort(((e,t)=>l.GF.Dist(e,r)-l.GF.Dist(t,r)))[0]??(c?void 0:a)),void 0===u)return;const h=l.yX.applyToPoint(n.transform,u),p=l.yX.applyToPoint(l.yX.Inverse(i),h);e.setTo(p),n.didIntersect=!0}function Xi(e){return _i(e.start.handle,e.end.handle)}function Vi(e){return _i(e.start.point,e.end.point)}function _i(e,t){return`M${e.x},${e.y}L${t.x},${t.y}`}function Ui(e){const{start:t,end:i,handleArc:{radius:n,largeArcFlag:s,sweepFlag:o}}=e;return`M${t.handle.x},${t.handle.y} A${n} ${n} 0 ${s} ${o} ${i.handle.x},${i.handle.y}`}function Ki(e){const{start:t,end:i,bodyArc:{radius:n,largeArcFlag:s,sweepFlag:o}}=e;return`M${t.point.x},${t.point.y} A${n} ${n} 0 ${s} ${o} ${i.point.x},${i.point.y}`}function Qi(e,t,i){const n=-2*(e.x*(t.y-i.y)-e.y*(t.x-i.x)+t.x*i.y-i.x*t.y),s={x:((e.x*e.x+e.y*e.y)*(i.y-t.y)+(t.x*t.x+t.y*t.y)*(e.y-i.y)+(i.x*i.x+i.y*i.y)*(t.y-e.y))/n,y:((e.x*e.x+e.y*e.y)*(t.x-i.x)+(t.x*t.x+t.y*t.y)*(i.x-e.x)+(i.x*i.x+i.y*i.y)*(e.x-t.x))/n},o=l.GF.Dist(s,e),r=+l.GF.Clockwise(e,i,t),a=Math.hypot(e.y-t.y,e.x-t.x),c=Math.hypot(t.y-i.y,t.x-i.x),d=Math.hypot(i.y-e.y,i.x-e.x),u=2*Math.acos((c*c+d*d-a*a)/(2*c*d)),h=+(l.PI>u),p=(l.yo-u)*(r?1:-1);return{center:s,radius:o,size:p,length:p*o,largeArcFlag:h,sweepFlag:r}}Wi([d.Fl],Gi.prototype,"handlesCache",1),Wi([d.Fl],Gi.prototype,"boundsCache",1),Wi([d.Fl],Gi.prototype,"outlineCache",1);class qi{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){const i=e.ownerDocument,n=i.activeElement;n!==e&&e.focus(),i.execCommand("insertText",!1,t)||qi.insertTextFirefox(e,t),n===i.body?e.blur():n instanceof HTMLElement&&n!==e&&n.focus()}static set(e,t){e.select(),qi.insert(e,t)}static getSelection(e){const{selectionStart:t,selectionEnd:i}=e;return e.value.slice(t||void 0,i||void 0)}static wrapSelection(e,t,i){const{selectionStart:n,selectionEnd:s}=e,o=qi.getSelection(e);qi.insert(e,t+o+(i??t)),e.selectionStart=(n||0)+t.length,e.selectionEnd=(s||0)+t.length}static replace(e,t,i){let n=0;e.value.replace(t,((...t)=>{const s=n+t[t.length-2],o=t[0].length;e.selectionStart=s,e.selectionEnd=s+o;const r="string"==typeof i?i:i(...t);return qi.insert(e,r),e.selectionStart=s,n+=r.length-o,r}))}static findLineEnd(e,t){const i=e.lastIndexOf("\n",t-1)+1;return"\t"!==e.charAt(i)?t:i+1}static indent(e){const{selectionStart:t,selectionEnd:i,value:n}=e,s=n.slice(t,i),o=/\n/g.exec(s)?.length;if(o&&o>0){const s=n.lastIndexOf("\n",t-1)+1,o=e.value.slice(s,i-1),r=o.replace(/^|\n/g,`$&${qi.INDENT}`),a=r.length-o.length;e.setSelectionRange(s,i-1),qi.insert(e,r),e.setSelectionRange(t+1,i+a)}else qi.insert(e,qi.INDENT)}static unindent(e){const{selectionStart:t,selectionEnd:i,value:n}=e,s=n.lastIndexOf("\n",t-1)+1,o=qi.findLineEnd(n,i),r=e.value.slice(s,o),a=r.replace(/(^|\n)(\t| {1,2})/g,"$1"),l=r.length-a.length;e.setSelectionRange(s,o),qi.insert(e,a);const c=/\t| {1,2}/.exec(n.slice(s,t)),d=c?c[0].length:0,u=t-d;e.setSelectionRange(t-d,Math.max(u,i-l))}static indentCE(e){const t=window.getSelection(),i=e.innerText,n=$i(e)??0,s=$i(e)??0,o=i.slice(n,s),r=/\n/g.exec(o)?.length;if(r&&r>0){const o=i.lastIndexOf("\n",n-1)+1,r=i.slice(o,s-1),a=r.replace(/^|\n/g,`$&${qi.INDENT}`).length-r.length;t&&t.setBaseAndExtent(e,n+1,e,s+a)}else{const t=window.getSelection();e.innerText=i.slice(0,n)+qi.INDENT+i.slice(n),t?.setBaseAndExtent(e,n+1,e,n+2)}}static unindentCE(e){const t=window.getSelection(),i=e.innerText,n=$i(e)??0,s=$i(e)??0,o=i.lastIndexOf("\n",n-1)+1,r=qi.findLineEnd(i,s),a=i.slice(o,r),l=a.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=a.length-l.length;if(t){t.setBaseAndExtent(e,o,e,r);const a=/\t| {1,2}/.exec(i.slice(o,n)),l=a?a[0].length:0,d=n-l;t.setBaseAndExtent(e,n-l,e,Math.max(d,s-c))}}static fixNewLines=/\r?\n|\r/g;static INDENT="  ";static normalizeText(e){return e.replace(qi.fixNewLines,"\n")}static normalizeTextForDom(e){return e.replace(qi.fixNewLines,"\n").split("\n").map((e=>e||" ")).join("\n")}}function $i(e){if(void 0===window.getSelection)return;const t=window.getSelection();if(!t)return;let i=0;if(0!==t.rangeCount){const n=t.getRangeAt(0),s=n.cloneRange();s.selectNodeContents(e),s.setEnd(n.endContainer,n.endOffset),i=s.toString().length}return i}function en(e,t,i){const n=P(),s=(0,a.useRef)(null),o=(0,W.Hg)("isEditing",(()=>n.pageState.editingId===e),[n,e]),r=(0,a.useRef)(!1),l=(0,a.useRef)(),c=(0,W.Hg)("is editable hovering",(()=>{if("text"===t&&n.isIn("text")&&n.hoveredId===e)return!0;if(n.isIn("select.editing_shape")){const{editingShape:i}=n;return!!i&&(n.hoveredId===e&&i.type===t&&n.getShapeUtil(i).canEdit(i))}return!1}),[t,e]),d=(0,a.useCallback)((()=>{c||requestAnimationFrame((()=>{const t=s.current;if(!t)return;const i=n.getShapeById(e);i&&(t.value=i.props.text,t.value.length&&!r.current&&t.select(),r.current=!1)}))}),[n,e,c]),u=(0,a.useCallback)((()=>{const e=l.current;requestAnimationFrame((()=>{const t=s.current;if(n.isIn("select.editing_shape")&&t)if(e)if(e.length){r.current=!0,t.focus();const i=window.getSelection();i&&e.forEach((e=>i.addRange(e)))}else t.focus();else t.focus();else window.getSelection()?.removeAllRanges(),n.complete()}))}),[n]),h=(0,a.useCallback)((e=>{switch((e.ctrlKey||e.metaKey)&&Ei(e),e.key){case"Enter":(e.ctrlKey||e.metaKey)&&n.complete();break;case"Tab":pe(e),e.shiftKey?qi.unindent(e.currentTarget):qi.indent(e.currentTarget)}}),[n]),p=(0,a.useCallback)((i=>{const s=qi.normalizeText(i.currentTarget.value);n.updateShapes([{id:e,type:t,props:{text:s}}])}),[n,e,t]),g=0===i.trim().length;return(0,a.useEffect)((()=>{if(s.current){let e=function(){const e=window.getSelection?.();if(e&&"None"!==e.type){const t=[];if(e)for(let i=0;i<e.rangeCount;i++)t.push(e.getRangeAt?.(i));l.current=t}};return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}}})),{rInput:s,isEditing:o,isEditableFromHover:c,handleFocus:d,handleBlur:u,handleKeyDown:h,handleChange:p,isEmpty:g}}const tn=a.memo((function({id:e,text:t,size:i,font:n,position:o,width:r,labelColor:a}){const{rInput:l,isEditing:c,handleFocus:d,handleBlur:u,handleKeyDown:h,handleChange:p,isEmpty:g}=en(e,"arrow",t);return!c&&g?null:(0,s.jsx)("div",{className:"rs-arrow-label","data-font":n,"data-align":"center","data-hastext":!g,"data-isediting":c,style:{textAlign:"center",fontSize:k[i],lineHeight:k[i]*D.lineHeight+"px",transform:`translate(${o.x}px, ${o.y}px)`,color:a},children:(0,s.jsxs)("div",{className:"rs-arrow-label__inner",children:[(0,s.jsx)("p",{style:{width:r||"9px"},children:t?qi.normalizeTextForDom(t):" "}),c&&(0,s.jsx)("textarea",{ref:l,className:"rs-text rs-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:t,onFocus:d,onChange:p,onKeyDown:h,onBlur:u,onContextMenu:Ei})]})})}));var nn=Object.defineProperty,sn=Object.getOwnPropertyDescriptor,on=(e,t,i,n)=>{for(var s,o=n>1?void 0:n?sn(t,i):t,r=e.length-1;r>=0;r--)(s=e[r])&&(o=(n?s(t,i,o):s(o))||o);return n&&o&&nn(t,i,o),o};let rn=0;class an extends Gi{static type="arrow";canEdit=()=>!0;canBind=()=>!1;isClosed=()=>!1;hideResizeHandles=()=>!0;hideRotateHandle=()=>!0;hideSelectionBoundsFg=()=>!0;hideSelectionBoundsBg=()=>!0;defaultProps(){return{opacity:"1",dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:0,y:0},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"}}getCenter(e){return this.bounds(e).center}getBounds(e){return l.No.FromPoints(this.getOutlineWithoutLabel(e))}getOutlineWithoutLabel(e){const t=this.getArrowInfo(e);if(!t)return[];if(t.isStraight)return t.isValid?[t.start.point,t.end.point]:[new l.GF(0,0),new l.GF(1,1)];if(!t.isValid)return[new l.GF(0,0),new l.GF(1,1)];const i=Math.max(5,Math.ceil(Math.abs(t.bodyArc.length)/16));if(i<=0&&!isFinite(i))return[new l.GF(0,0),new l.GF(1,1)];const n=Array(i),s=l.GF.Angle(t.bodyArc.center,t.start.point),o=l.GF.Angle(t.bodyArc.center,t.end.point),r=t.bodyArc.sweepFlag?o:s,a=t.bodyArc.sweepFlag?s:o,c=t.bodyArc.largeArcFlag?-(0,l.yE)(r,a):(0,l.Z7)(r,a),d=Math.max(1,t.bodyArc.radius);for(let u=0;u<i;u++){const e=r+c*(u/(i-1)),s=(0,l.XD)(t.bodyArc.center.x,t.bodyArc.center.y,d,e);n[u]=s}return n}getOutline(e){const t=this.getOutlineWithoutLabel(e),i=this.getLabelBounds(e);if(!i)return t;const n=i.sides,s=[0,1,2,3];let o=t[0],a=!1;const c=[o];for(let d=1;d<t.length;d++){const e=t[d];if(!a){const t=(0,r.F)(s.filter((t=>(0,l.cB)(n[t][0],n[t][1],o,e))),(e=>l.GF.DistanceToLineSegment(n[e][0],n[e][1],o)));if(void 0!==t){const e=l.GF.NearestPointOnLineSegment(n[t][0],n[t][1],o);c.push(e);for(let i=0;i<4;i++){const e=(t+i)%4;c.push(n[e][1])}c.push(e),a=!0}}c.push(e),o=e}return c}snapPoints(e){return d.LZ}get infoCache(){return this.app.store.createComputedCache("arrow infoCache",(e=>function(e){return Math.abs(e.props.bend)<8}(e)?Ji(this.app,e):function(e,t,i=0){const{arrowheadEnd:n,arrowheadStart:s}=t.props,o=t.props.bend+i;if(Math.abs(o)>Math.abs(10*t.props.bend))return Ji(e,t);const r=Bi(e,t),a=l.GF.Med(r.start,r.end),c=l.GF.Sub(r.end,r.start).uni(),d=l.GF.Add(a,c.per().mul(-o)),u=Ri(e,t.props.start),h=Ri(e,t.props.end),p=r.start.clone(),g=r.end.clone(),I=d.clone(),m=Qi(p,g,I),y=e.getPageTransform(t);if(u&&!u.isExact){const i=l.yX.applyToPoint(y,p),n=l.yX.applyToPoint(y,g),o=l.yX.applyToPoint(y,m.center),a=l.yX.Inverse(u.transform),c=l.yX.applyToPoint(a,i),h=l.yX.applyToPoint(a,n),I=l.yX.applyToPoint(a,o),b=u.util.isClosed(u.shape);let f,C=(b?l.h9:l.XS)(I,m.radius,u.util.outline(u.shape));if(C){C=C.filter((e=>+l.GF.Clockwise(c,e,h)===m.sweepFlag));const e=l.GF.Angle(m.center,d),t=l.GF.Angle(m.center,r.start),i=(0,l.M7)(e,t,.5);C.sort(((e,t)=>Math.abs((0,l.Z7)(i,I.angle(e)))-Math.abs((0,l.Z7)(i,I.angle(t))))),f=C[0]??(b?void 0:c)}else f=b?void 0:c;if(f&&(p.setTo(e.getPointInShapeSpace(t,l.yX.applyToPoint(u.transform,f))),u.didIntersect=!0,"none"!==s)){const i=S+e.getStrokeWidth(t.props.size)/2+("size"in u.shape.props?e.getStrokeWidth(u.shape.props.size)/2:0);p.setTo((0,l.XD)(m.center.x,m.center.y,m.radius,(0,l.M7)(l.GF.Angle(m.center,p),l.GF.Angle(m.center,d),i/Math.abs((0,l.Pl)(m.center,m.radius,p,d)))))}}if(h&&!h.isExact){const i=l.yX.applyToPoint(y,p),s=l.yX.applyToPoint(y,g),o=l.yX.applyToPoint(y,m.center),a=l.yX.Inverse(h.transform),c=l.yX.applyToPoint(a,i),u=l.yX.applyToPoint(a,s),I=l.yX.applyToPoint(a,o),b=h.util.isClosed(h.shape),f=b?l.h9:l.XS,C=l.GF.Angle(m.center,d),w=l.GF.Angle(m.center,r.end),M=(0,l.M7)(C,w,.5);let A,v=f(I,m.radius,h.util.outline(h.shape));if(v?(v=v.filter((e=>+l.GF.Clockwise(c,e,u)===m.sweepFlag)),v.sort(((e,t)=>Math.abs((0,l.Z7)(M,I.angle(e)))-Math.abs((0,l.Z7)(M,I.angle(t))))),A=v[0]??(b?void 0:u)):A=b?void 0:u,A&&(g.setTo(e.getPointInShapeSpace(t,l.yX.applyToPoint(h.transform,A))),h.didIntersect=!0,"none"!==n)){let i=S+e.getStrokeWidth(t.props.size)/2+("size"in h.shape.props?e.getStrokeWidth(h.shape.props.size)/2:0);l.GF.Dist(p,g)<x&&(i*=-2),g.setTo((0,l.XD)(m.center.x,m.center.y,m.radius,(0,l.M7)(l.GF.Angle(m.center,g),l.GF.Angle(m.center,d),i/Math.abs((0,l.Pl)(m.center,m.radius,g,d)))))}}if(Math.abs((0,l.Pl)(m.center,m.radius,p,g))<x/2&&(p.setTo(r.start),g.setTo(r.end)),u&&h&&u.shape!==h.shape&&!u.isExact&&!h.isExact){const e=l.GF.Angle(m.center,p),t=l.GF.Angle(m.center,g),i=m.sweepFlag?x:-x,n=(0,l.Pl)(m.center,m.radius,g,p),{center:{x:s,y:o},radius:r}=m;u&&!u.didIntersect&&p.setTo((0,l.XD)(s,o,r,(0,l.M7)(e,t,i/n))),h&&!h.didIntersect&&g.setTo((0,l.XD)(s,o,r,(0,l.M7)(e,t,-i/n)))}let b=(0,l.M7)(l.GF.Angle(m.center,p),l.GF.Angle(m.center,g),.5),f=(0,l.XD)(m.center.x,m.center.y,m.radius,b);+l.GF.Clockwise(p,f,g)!==m.sweepFlag&&(b+=l.PI,f=(0,l.XD)(m.center.x,m.center.y,m.radius,b)),I.setTo(f);const C=Qi(p,g,I);return{isStraight:!1,start:{point:p,handle:r.start,arrowhead:t.props.arrowheadStart},end:{point:g,handle:r.end,arrowhead:t.props.arrowheadEnd},middle:I,handleArc:m,bodyArc:C,isValid:0!==C.length&&isFinite(C.center.x)&&isFinite(C.center.y)}}(this.app,e)))}getArrowInfo(e){return this.infoCache.get(e.id)}getHandles(e){const t=this.infoCache.get(e.id);return[{id:"start",type:"vertex",index:"a0",x:t.start.handle.x,y:t.start.handle.y,canBind:!0},{id:"middle",type:"vertex",index:"a2",x:t.middle.x,y:t.middle.y,canBind:!1},{id:"end",type:"vertex",index:"a3",x:t.end.handle.x,y:t.end.handle.y,canBind:!0}]}onHandleChange=(e,{handle:t,isPrecise:i})=>{const n=(0,r.p$)(e);switch(t.id){case"start":case"end":{const s=this.app.getPageTransformById(n.id),o=l.yX.applyToPoint(s,t),a=this.app.inputs.ctrlKey?void 0:(0,r.Z$)(this.app.getShapesAtPoint(o).filter((t=>{if(t.id===e.id)return;const i=this.app.getShapeUtil(t);return i.canBind(n)&&i.hitTestPoint(t,this.app.getPointInShapeSpace(t,o))})));if(a){const e=this.app.getBounds(a),s=this.app.getPointInShapeSpace(a,o),r=n.props[t.id],c="binding"===n.props.start.type&&n.props.start.boundShapeId,d="binding"===n.props.end.type&&n.props.end.boundShapeId;let u=i||(c||d)&&c===d||!this.app.getShapeUtil(a).isClosed(n);("point"===r.type||"binding"===r.type&&a.id!==r.boundShapeId)&&(u=this.app.inputs.pointerVelocity.len()<.5),u&&(u=l.GF.Dist(s,e.center)>Math.max(4,Math.min(.15*Math.min(e.width,e.height),16))/this.app.zoomLevel),n.props[t.id]={type:"binding",boundShapeId:a.id,normalizedAnchor:u?{x:(s.x-e.minX)/e.width,y:(s.y-e.minY)/e.height}:{x:.5,y:.5},isExact:this.app.inputs.altKey}}else n.props[t.id]={type:"point",x:t.x,y:t.y};break}case"middle":{const{start:e,end:i}=Bi(this.app,n),s=l.GF.Sub(i,e),o=l.GF.Per(s),r=l.GF.Med(i,e),a=l.GF.Sub(r,o),c=l.GF.Add(r,o),d=l.GF.NearestPointOnLineSegment(a,c,t,!1);let u=l.GF.Dist(d,r);l.GF.Clockwise(d,i,r)&&(u*=-1),n.props.bend=u;break}}return n};onTranslateStart=e=>{let t="binding"===e.props.start.type?e.props.start.boundShapeId:null,i="binding"===e.props.end.type?e.props.end.boundShapeId:null;if(t&&this.app.isWithinSelection(t)||i&&this.app.isWithinSelection(i))return;t=null,i=null;const{start:n,end:s}=Bi(this.app,e);return{id:e.id,type:e.type,props:{...e.props,start:{type:"point",x:n.x,y:n.y},end:{type:"point",x:s.x,y:s.y}}}};onResize=(e,t)=>{const{scaleX:i,scaleY:n}=t,s=Bi(this.app,e);let{start:o,end:r}=e.props;if("point"===o.type){const e=s.start.x*i,t=s.start.y*n;o={...o,x:e,y:t}}if("point"===r.type){const e=s.end.x*i,t=s.end.y*n;r={...r,x:e,y:t}}let a=e.props.bend;if(0!==a){const e=Math.abs(i),t=Math.abs(n);i<0&&n>=0||i>=0&&n<0?(a*=-1,a*=Math.max(e,t)):(i>=0&&n>=0||i<0&&n<0)&&(a*=Math.max(e,t))}return{props:{start:o,end:r,bend:a}}};onDoubleClickHandle=(e,t)=>{switch(t.id){case"start":return{id:e.id,type:e.type,props:{...e.props,arrowheadStart:"none"===e.props.arrowheadStart?"arrow":"none"}};case"end":return{id:e.id,type:e.type,props:{...e.props,arrowheadEnd:"none"===e.props.arrowheadEnd?"arrow":"none"}}}};hitTestPoint(e,t){const i=this.outline(e);for(let n=0;n<i.length-1;n++){const e=i[n],s=i[n+1];if(l.GF.DistanceToLineSegment(e,s,t)<4)return!0}return!1}hitTestLineSegment(e,t,i){const n=this.outline(e);for(let s=0;s<n.length-1;s++){const e=n[s],o=n[s+1];if((0,l.cB)(t,i,e,o))return!0}return!1}render(e){const t=this.app.onlySelectedShape,i=this.app.isInAny("select.idle","select.pointing_handle","select.dragging_handle","arrow.dragging")&&!this.app.isReadOnly,n=this.getArrowInfo(e),o=this.bounds(e),r=this.getLabelBounds(e),c=a.useMemo((()=>this.app.isSafari?rn+=1:0),[e]);if(!n?.isValid)return null;const d=this.app.getStrokeWidth(e.props.size),u=n.start.arrowhead&&Oi(n,"start",d),p=n.end.arrowhead&&Oi(n,"end",d),g=n.isStraight?Vi(n):Ki(n);let I=null;if(t===e&&i){const t=2,{strokeDasharray:i,strokeDashoffset:o}=Zi(n.isStraight?l.GF.Dist(n.start.handle,n.end.handle):Math.abs(n.handleArc.length),t,{end:"skip",start:"skip",lengthRatio:2.5});I="binding"===e.props.start.type||"binding"===e.props.end.type?(0,s.jsx)("path",{className:"rs-arrow-hint",d:n.isStraight?Xi(n):Ui(n),strokeDasharray:i,strokeDashoffset:o,strokeWidth:t,markerStart:"binding"===e.props.start.type?e.props.start.isExact?"":dn(e.props.start.normalizedAnchor)?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",markerEnd:"binding"===e.props.end.type?e.props.end.isExact?"":dn(e.props.end.normalizedAnchor)?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",opacity:.16}):null}const{strokeDasharray:m,strokeDashoffset:y}=Zi(n.isStraight?n.length:Math.abs(n.bodyArc.length),d,{style:e.props.dash}),b=!("none"===n.start.arrowhead||"arrow"===n.start.arrowhead),f=!("none"===n.end.arrowhead||"arrow"===n.end.arrowhead),C=b||f||r,w=(e.id+"_clip_"+c).replace(":","_");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h,{id:e.id,style:{minWidth:50,minHeight:50},children:[C&&(0,s.jsx)("defs",{children:(0,s.jsxs)("mask",{id:w,children:[(0,s.jsx)("rect",{x:(0,l.$Z)(-100+o.minX),y:(0,l.$Z)(-100+o.minY),width:(0,l.$Z)(o.width+200),height:(0,l.$Z)(o.height+200),fill:"white"}),r&&(0,s.jsx)("rect",{x:(0,l.$Z)(r.x),y:(0,l.$Z)(r.y),width:(0,l.$Z)(r.w),height:(0,l.$Z)(r.h),fill:"black",rx:4,ry:4}),u&&b&&(0,s.jsx)("path",{d:u,fill:"arrow"===n.start.arrowhead?"none":"black",stroke:"none"}),p&&f&&(0,s.jsx)("path",{d:p,fill:"arrow"===n.end.arrowhead?"none":"black",stroke:"none"})]})}),(0,s.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:d,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none",children:[I,(0,s.jsxs)("g",{...C?{mask:`url(#${w})`}:void 0,children:[C&&(0,s.jsx)("rect",{x:(0,l.$Z)(o.minX-100),y:(0,l.$Z)(o.minY-100),width:(0,l.$Z)(o.width+200),height:(0,l.$Z)(o.height+200),opacity:0}),(0,s.jsx)("path",{d:g,strokeDasharray:m,strokeDashoffset:y})]}),u&&b&&"none"!==e.props.fill&&(0,s.jsx)(Li,{d:u,color:e.props.color,fill:e.props.fill}),p&&f&&"none"!==e.props.fill&&(0,s.jsx)(Li,{d:p,color:e.props.color,fill:e.props.fill}),u&&(0,s.jsx)("path",{d:u}),p&&(0,s.jsx)("path",{d:p})]}),(0,s.jsx)("path",{d:g,className:"rs-hitarea-stroke"})]}),(0,s.jsx)(tn,{id:e.id,text:e.props.text,font:e.props.font,size:e.props.size,position:n.middle,width:r?.w??0,labelColor:this.app.getCssColor(e.props.labelColor)})]})}indicator(e){const{start:t,end:i}=Bi(this.app,e),n=this.getArrowInfo(e),o=this.bounds(e),r=this.getLabelBounds(e);if(!n)return null;if(l.GF.Equals(t,i))return null;const a=this.app.getStrokeWidth(e.props.size),c=n.start.arrowhead&&Oi(n,"start",a),d=n.end.arrowhead&&Oi(n,"end",a),u=n.isStraight?Vi(n):Ki(n),h=c&&"arrow"!==n.start.arrowhead||d&&"arrow"!==n.end.arrowhead||null!==r,p=(e.id+"_clip").replace(":","_");return(0,s.jsxs)("g",{children:[h&&(0,s.jsx)("defs",{children:(0,s.jsxs)("mask",{id:p,children:[(0,s.jsx)("rect",{x:o.minX-100,y:o.minY-100,width:o.w+200,height:o.h+200,fill:"white"}),r&&(0,s.jsx)("rect",{x:r.x,y:r.y,width:r.w,height:r.h,fill:"black",rx:4,ry:4}),c&&(0,s.jsx)("path",{d:c,fill:"arrow"===n.start.arrowhead?"none":"black",stroke:"none"}),d&&(0,s.jsx)("path",{d,fill:"arrow"===n.end.arrowhead?"none":"black",stroke:"none"})]})}),(0,s.jsxs)("g",{...h?{mask:`url(#${p})`}:void 0,children:[h&&(0,s.jsx)("rect",{x:o.minX-100,y:o.minY-100,width:o.width+200,height:o.height+200,opacity:0}),(0,s.jsx)("path",{d:u})]}),c&&(0,s.jsx)("path",{d:c}),d&&(0,s.jsx)("path",{d}),r&&(0,s.jsx)("rect",{x:r.x,y:r.y,width:r.w,height:r.h,rx:4,ry:4})]})}get labelBoundsCache(){return this.app.store.createComputedCache("labelBoundsCache",(e=>{const t=this.getArrowInfo(e),i=this.bounds(e),{text:n,font:s,size:o}=e.props;if(!t)return null;if(!n.trim())return null;const{w:r,h:a}=this.app.textMeasure.measureText({...D,text:n,fontFamily:T[s],fontSize:k[o],width:"fit-content"});let c=r,d=a;if(i.width>i.height){c=Math.max(Math.min(r,64),Math.min(i.width-64,r));const{w:e,h:t}=this.app.textMeasure.measureText({...D,text:n,fontFamily:T[s],fontSize:k[o],width:c+"px"});c=e,d=t}if(c>16*k[o]){c=16*k[o];const{w:e,h:t}=this.app.textMeasure.measureText({...D,text:n,fontFamily:T[s],fontSize:k[o],width:c+"px"});c=e,d=t}return new l.No(t.middle.x-(c+8)/2,t.middle.y-(d+8)/2,c+8,d+8)}))}getLabelBounds(e){return this.labelBoundsCache.get(e.id)||null}getEditingBounds=e=>this.getLabelBounds(e)??new l.No;onEditEnd=e=>{const{id:t,type:i,props:{text:n}}=e;n.trim()!==e.props.text&&this.app.updateShapes([{id:t,type:i,props:{text:n.trim()}}])};toSvg(e,t,i){const n=i.fill[e.props.color],s=this.getArrowInfo(e),o=this.app.getStrokeWidth(e.props.size),r=document.createElementNS("http://www.w3.org/2000/svg","g");if(!s)return r;const a=s.start.arrowhead&&Oi(s,"start",o),l=s.end.arrowhead&&Oi(s,"end",o),c=this.bounds(e),d=this.getLabelBounds(e),u=(e.id+"_clip").replace(":","_");if(a||l){const e=document.createElementNS("http://www.w3.org/2000/svg","defs"),t=document.createElementNS("http://www.w3.org/2000/svg","mask");t.id=u;const i=document.createElementNS("http://www.w3.org/2000/svg","rect");if(i.setAttribute("x",c.minX-100+""),i.setAttribute("y",c.minY-100+""),i.setAttribute("width",c.width+200+""),i.setAttribute("height",c.height+200+""),i.setAttribute("fill","white"),t.appendChild(i),a&&t.appendChild(ln(a,s.start.arrowhead)),l&&t.appendChild(ln(l,s.end.arrowhead)),d){const e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("x",d.x+""),e.setAttribute("y",d.y+""),e.setAttribute("width",d.w+""),e.setAttribute("height",d.h+""),e.setAttribute("fill","black"),t.appendChild(e)}e.appendChild(t),r.appendChild(e)}const h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("mask",`url(#${u})`),r.appendChild(h);const p=document.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("x","-100"),p.setAttribute("y","-100"),p.setAttribute("width",c.width+200+""),p.setAttribute("height",c.height+200+""),p.setAttribute("fill","transparent"),p.setAttribute("stroke","none"),h.appendChild(p);const g=function(e,t,i){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("fill","none"),n.setAttribute("stroke",t),n.setAttribute("stroke-width",i+""),n}(s.isStraight?Vi(s):Ki(s),n,o),{strokeDasharray:I,strokeDashoffset:m}=Zi(s.isStraight?s.length:Math.abs(s.bodyArc.length),o,{style:e.props.dash});if(g.setAttribute("stroke-dasharray",I),g.setAttribute("stroke-dashoffset",m),h.appendChild(g),a&&r.appendChild(cn(a,e.props.color,o,"arrow"===e.props.arrowheadStart?"none":e.props.fill,i)),l&&r.appendChild(cn(l,e.props.color,o,"arrow"===e.props.arrowheadEnd?"none":e.props.fill,i)),d){const n={fontSize:k[e.props.size],lineHeight:D.lineHeight,fontFamily:t,padding:0,textAlign:"middle",width:d.w,height:d.h,fontStyle:"normal",fontWeight:"normal"},s=this.app.textMeasure.getTextLines({text:e.props.text,wrap:!0,...n,width:d.w-8}),o=ki(this.app,{lines:s,...n,width:d.w-8});o.setAttribute("fill",i.fill[e.props.labelColor]);Array.from(o.children).forEach((e=>{const t=parseFloat(e.getAttribute("x")||"0"),i=parseFloat(e.getAttribute("y")||"0");e.setAttribute("x",t+4+d.x+"px"),e.setAttribute("y",i+d.y+"px")})),r.appendChild(o)}return r}}function ln(e,t){const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",e),i.setAttribute("fill","arrow"===t?"none":"black"),i.setAttribute("stroke","none"),i}function cn(e,t,i,n,s){const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",e),o.setAttribute("fill","none"),o.setAttribute("stroke",s.fill[t]),o.setAttribute("stroke-width",i+"");const r=Ni({d:e,fill:n,color:t,colors:s});if(r){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.appendChild(r),e.appendChild(o),e}return o}function dn(e){return.5!==e.x||.5!==e.y}on([d.Fl],an.prototype,"infoCache",1),on([d.Fl],an.prototype,"labelBoundsCache",1);const un=p({type:"arrow",getShapeUtil:()=>an,validator:n.Tp,migrations:n.Vm});function hn({children:e,className:t="",...i}){return(0,s.jsx)("div",{...i,className:`rs-html-container ${t}`,children:e})}const pn="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E";function gn({url:e}){const{camera:{z:t}}=P();return(0,s.jsx)("a",{className:"rs-hyperlink-button "+(t<.5?"hidden":""),href:e,target:"_blank",rel:"noopener noreferrer",onPointerDown:Ei,onPointerUp:Ei,title:e,draggable:!1,children:(0,s.jsx)("div",{className:"rs-hyperlink-button__icon",style:{mask:`url("${pn}") center 100% / 100% no-repeat`,WebkitMask:`url("${pn}") center 100% / 100% no-repeat`}})})}const In=(e,t,i={})=>{const{newPoint:n,handle:s,scaleX:o,scaleY:r}=t,{minWidth:a=1,maxWidth:c=1/0,minHeight:d=1,maxHeight:u=1/0}=i;let h=e.props.w*o,p=e.props.h*r;const g=new l.GF(0,0);if(h>0){if(h<a){switch(s){case"top_left":case"left":case"bottom_left":g.x=h-a;break;case"top":case"bottom":g.x=(h-a)/2;break;default:g.x=0}h=a}}else if(g.x=h,h=-h,h<a){switch(s){case"top_left":case"left":case"bottom_left":g.x=-h;break;default:g.x=-a}h=a}if(p>0){if(p<d){switch(s){case"top_left":case"top":case"top_right":g.y=p-d;break;case"right":case"left":g.y=(p-d)/2;break;default:g.y=0}p=d}}else if(g.y=p,p=-p,p<d){switch(s){case"top_left":case"top":case"top_right":g.y=-p;break;default:g.y=-d}p=d}const{x:I,y:m}=g.rot(e.rotation).add(n);return{x:I,y:m,props:{w:Math.min(c,h),h:Math.min(u,p)}}};class mn extends Gi{getBounds(e){return new l.No(0,0,e.props.w,e.props.h)}getCenter(e){return new l.GF(e.props.w/2,e.props.h/2)}getOutline(e){return this.bounds(e).corners}hitTestPoint(e,t){return(0,l.Of)(t,this.outline(e))}hitTestLineSegment(e,t,i){const n=this.outline(e);for(let s=0;s<n.length;s++){const e=n[s],o=n[(s+1)%n.length];if((0,l.cB)(t,i,e,o))return!0}return!1}onResize=(e,t)=>In(e,t)}class yn extends mn{static type="bookmark";canResize=()=>!1;hideSelectionBoundsBg=()=>!0;hideSelectionBoundsFg=()=>!0;defaultProps(){return{opacity:"1",url:"",w:v,h:L,assetId:null}}render(e){const t=e.props.assetId?this.app.getAssetById(e.props.assetId):null,i=this.app.getPageRotation(e),n=this.getHumanReadableAddress(e);return(0,s.jsx)(hn,{children:(0,s.jsxs)("div",{className:"rs-bookmark__container rs-hitarea-stroke",style:{boxShadow:me(i,j)},children:[(0,s.jsxs)("div",{className:"rs-bookmark__image_container",children:[t?.props.image?(0,s.jsx)("img",{className:"rs-bookmark__image",draggable:!1,src:t?.props.image,alt:t?.props.title||""}):(0,s.jsx)("div",{className:"rs-bookmark__placeholder"}),(0,s.jsx)(gn,{url:e.props.url})]}),(0,s.jsxs)("div",{className:"rs-bookmark__copy_container",children:[t?.props.title&&(0,s.jsx)("h2",{className:"rs-bookmark__heading",children:be(t?.props.title||"",54)}),t?.props.description&&(0,s.jsx)("p",{className:"rs-bookmark__description",children:be(t?.props.description||"",128)}),(0,s.jsx)("a",{className:"rs-bookmark__link",href:e.props.url||"",target:"_blank",rel:"noopener noreferrer",onPointerDown:Ei,onPointerUp:Ei,onClick:Ei,children:be(n,45)})]})]})})}indicator(e){return(0,s.jsx)("rect",{width:(0,l.$Z)(e.props.w),height:(0,l.$Z)(e.props.h),rx:"8",ry:"8"})}onBeforeCreate=e=>{this.updateBookmarkAsset(e)};onBeforeUpdate=(e,t)=>{e.props.url!==t.props.url&&this.updateBookmarkAsset(t)};getHumanReadableAddress(e){try{const t=new URL(e.props.url),i=t.pathname.replace(/\/*$/,"");return`${t.hostname}${i}`}catch(t){return e.props.url}}updateBookmarkAsset=(0,r.Ds)((e=>{const{url:t}=e.props,i=n.F7.createCustomId((0,r.jK)(t)),s=this.app.getAssetById(i);s?e.props.assetId!==s.id&&this.app.updateShapes([{id:e.id,type:e.type,props:{assetId:i}}]):this.app.onCreateBookmarkFromUrl&&this.app.onCreateBookmarkFromUrl(t).then((n=>{n?this.app.batch((()=>{this.app.createAssets([{id:i,typeName:"asset",type:"bookmark",props:{src:t,description:n.description,image:n.image,title:n.title}}]).updateShapes([{id:e.id,type:e.type,props:{assetId:i}}])})):this.app.updateShapes([{id:e.id,type:e.type,props:{assetId:void 0}}])}))}),500)}const bn=p({type:"bookmark",getShapeUtil:()=>yn,validator:n.QK,migrations:n.h9}),fn=e=>.65*e+.35*(0,l.dv)(e*l.PI/2),Cn=e=>({size:1+e,thinning:.5,streamline:.62+(1+e)/8*.06,smoothing:.62,easing:l.Lj.easeOutSine,simulatePressure:!0}),wn=e=>({size:1+1.2*e,thinning:.62,streamline:.62,smoothing:.62,simulatePressure:!1,easing:fn}),Mn=e=>({size:1+e,thinning:0,streamline:.62+(1+e)/8*.06,smoothing:.62,simulatePressure:!1,easing:l.Lj.linear});function An(e,t,i,n){return{...n?Mn(t):"draw"===e.props.dash?e.props.isPen?wn(t):Cn(t):Mn(t),last:e.props.isComplete||i}}function xn(e){const t=[];for(const i of e)if("free"===i.type||i.points.length<2)t.push(...i.points.map(l.GF.Cast));else{const e=Math.max(4,Math.floor(l.GF.Dist(i.points[0],i.points[1])/16));t.push(...l.GF.PointsBetween(i.points[0],i.points[1],e))}return t}function Sn(e,t){return{draw:"none",solid:"none",dotted:"0.1 "+2*t,dashed:`${2*t} ${2*t}`}[e.props.dash]}class vn extends Gi{static type="draw";hideResizeHandles=e=>this.getIsDot(e);hideRotateHandle=e=>this.getIsDot(e);hideSelectionBoundsBg=e=>this.getIsDot(e);hideSelectionBoundsFg=e=>this.getIsDot(e);defaultProps(){return{segments:[],color:"black",fill:"none",dash:"draw",size:"m",opacity:"1",isComplete:!1,isClosed:!1,isPen:!1}}isClosed=e=>e.props.isClosed;getIsDot(e){return 1===e.props.segments.length&&e.props.segments[0].points.length<2}getBounds(e){return l.No.FromPoints(this.outline(e))}getOutline(e){return xn(e.props.segments)}getCenter(e){return this.bounds(e).center}hitTestPoint(e,t){const i=this.outline(e),n=this.app.zoomLevel,s=this.app.getStrokeWidth(e.props.size)/n;if(1===e.props.segments.length&&e.props.segments[0].points.length<4&&e.props.segments[0].points.some((e=>l.GF.Dist(t,e)<1.5*s)))return!0;if(this.isClosed(e))return(0,l.Of)(t,i);for(let o=0;o<i.length;o++){const e=i[o],n=i[(o+1)%i.length];if(l.GF.DistanceToLineSegment(e,n,t)<s)return!0}return!1}hitTestLineSegment(e,t,i){const n=this.outline(e);if(1===e.props.segments.length&&e.props.segments[0].points.length<4){const n=this.app.zoomLevel,s=this.app.getStrokeWidth(e.props.size)/n;if(e.props.segments[0].points.some((e=>l.GF.DistanceToLineSegment(t,i,e)<1.5*s)))return!0}if(this.isClosed(e))for(let s=0;s<n.length;s++){const e=n[s],o=n[(s+1)%n.length];if((0,l.cB)(t,i,e,o))return!0}else for(let s=0;s<n.length-1;s++){const e=n[s],o=n[s+1];if((0,l.cB)(t,i,e,o))return!0}return!1}render(e){const t=(0,W.Hg)("zoom",(()=>this.app.zoomLevel<.35),[]),i=this.app.getStrokeWidth(e.props.size),n=xn(e.props.segments),o=e.props.isComplete||"straight"===(0,r.Z$)(e.props.segments)?.type;let a=i;e.props.isPen||"draw"!==e.props.dash||1!==n.length||(a+=(0,r.Vk)(e.id)()*(i/6));const c=An(e,a,o,t),d=(0,l.tt)(n,c),u=d.length>1?qe(d,e.props.isClosed):jn(n[0],a);if(!t&&"draw"===e.props.dash||d.length<2){(0,l.CB)(d,c);const t=(0,l.ib)(d,c);return(0,s.jsxs)(h,{id:e.id,children:[(0,s.jsx)(Li,{fill:e.props.isClosed?e.props.fill:"none",color:e.props.color,d:u}),(0,s.jsx)("path",{d:Qe(t,!0),strokeLinecap:"round",fill:"currentColor"})]})}return(0,s.jsxs)(h,{id:e.id,children:[(0,s.jsx)(Li,{color:e.props.color,fill:e.props.isClosed?e.props.fill:"none",d:u}),(0,s.jsx)("path",{d:u,strokeLinecap:"round",fill:"none",stroke:"currentColor",strokeWidth:i,strokeDasharray:Sn(e,i),strokeDashoffset:"0"})]})}indicator(e){const t=this.app.getStrokeWidth(e.props.size),i=xn(e.props.segments);let n=t;e.props.isPen||"draw"!==e.props.dash||1!==i.length||(n+=(0,r.Vk)(e.id)()*(t/6));const o=An(e,n,e.props.isComplete||"straight"===(0,r.Z$)(e.props.segments)?.type,!0),a=(0,l.tt)(i,o),c=a.length>1?qe(a,e.props.isClosed):jn(i[0],n);return(0,s.jsx)("path",{d:c})}toSvg(e,t,i){const{color:n}=e.props,s=this.app.getStrokeWidth(e.props.size),o=xn(e.props.segments),a=e.props.isComplete||"straight"===(0,r.Z$)(e.props.segments)?.type;let c=s;e.props.isPen||"draw"!==e.props.dash||1!==o.length||(c+=(0,r.Vk)(e.id)()*(s/6));const d=An(e,c,a,!1),u=(0,l.tt)(o,d),h=u.length>1?qe(u,e.props.isClosed):jn(o[0],c);let p;if("draw"===e.props.dash||u.length<2){(0,l.CB)(u,d);const e=(0,l.ib)(u,d),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",Qe(e,!0)),t.setAttribute("fill",i.fill[n]),t.setAttribute("stroke-linecap","round"),p=t}else{const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",h),t.setAttribute("stroke",i.fill[n]),t.setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-width",s.toString()),t.setAttribute("stroke-dasharray",Sn(e,s)),t.setAttribute("stroke-dashoffset","0"),p=t}const g=Ni({fill:e.props.isClosed?e.props.fill:"none",d:h,color:e.props.color,colors:i});if(g){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.appendChild(g),e.appendChild(p),e}return p}onResize=(e,t)=>{const{scaleX:i,scaleY:n}=t,s=[];for(const o of e.props.segments)s.push({...o,points:o.points.map((({x:e,y:t,z:s})=>({x:i*e,y:n*t,z:s})))});return{props:{segments:s}}}}const Ln=p({type:"draw",getShapeUtil:()=>vn,migrations:n._l,validator:n.Hs});function jn(e,t){const i=.5*(t+1);return`M ${e.x} ${e.y} m -${i}, 0 a ${i},${i} 0 1,0 ${2*i},0 a ${i},${i} 0 1,0 -${2*i},0`}function Nn(e){return(0,s.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",...e,children:(0,s.jsxs)("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"black"}),(0,s.jsx)("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"black",children:(0,s.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}class Dn extends mn{static type="embed";canUnmount=()=>!1;canResize=e=>{const t=Me(e.props.url);return!!t?.definition?.doesResize};hideSelectionBoundsBg=e=>!this.canResize(e);hideSelectionBoundsFg=e=>!this.canResize(e);canEdit=()=>!0;defaultProps(){return{opacity:"1",w:300,h:300,url:"",doesResize:!0}}isAspectRatioLocked=e=>{const t=Me(e.props.url);return t?.definition.isAspectRatioLocked??!1};onResize=(e,t)=>{const i=this.isAspectRatioLocked(e),n=Me(e.props.url);let s=n?.definition.minWidth??200,o=n?.definition.minHeight??200;if(i){const t=e.props.w/e.props.h;t>1?s*=t:o/=t}return In(e,t,{minWidth:s,minHeight:o})};render(e){const{w:t,h:i,url:o}=e.props,r=Ci(e.id),c=(0,a.useMemo)((()=>we(o)),[o]),d=(0,W.Hg)("is hovering",(()=>{const{editingId:e,hoveredId:t}=this.app.pageState;if(e&&t!==e){const t=this.app.getShapeById(e);if(t&&"embed"===t.type)return!0}return!1}),[]),u=this.app.getPageRotation(e),h=r||d;if("github_gist"===c?.definition.type){const n=c.url.split("/").pop();if(n)return(0,s.jsx)(hn,{className:"rs-embed-container",id:e.id,children:(0,s.jsx)(Zn,{id:n,width:(0,l.$Z)(t),height:(0,l.$Z)(i),isInteractive:h,pageRotation:u})})}const p=(g={...n.SW,...c?.definition.overridePermissions??{}},Object.entries(g).filter((([e,t])=>t)).map((([e])=>e)).join(" "));var g;return(0,s.jsx)(hn,{className:"rs-embed-container",id:e.id,children:c?.definition?(0,s.jsx)("iframe",{className:`rs-embed rs-embed-${e.id}`,sandbox:p,src:c.embedUrl,width:(0,l.$Z)(t),height:(0,l.$Z)(i),draggable:!1,frameBorder:"0",referrerPolicy:"no-referrer-when-downgrade",style:{border:0,pointerEvents:h?"auto":"none",zIndex:h?"":"-1",boxShadow:me(u,j),borderRadius:c?.definition.overrideOutlineRadius??8,background:c?.definition.backgroundColor}}):(0,s.jsx)(Nn,{x:(t-38)/2,y:(i-38)/2})})}indicator(e){const t=(0,a.useMemo)((()=>Me(e.props.url)),[e.props.url]);return(0,s.jsx)("rect",{width:(0,l.$Z)(e.props.w),height:(0,l.$Z)(e.props.h),rx:t?.definition.overrideOutlineRadius??8,ry:t?.definition.overrideOutlineRadius??8})}}function Zn({id:e,file:t,isInteractive:i,width:n,height:o,style:r,pageRotation:c}){const d=a.useRef(null),u=`https://gist.github.com/${e}.js${t?`?file=${t}`:""}`;return(0,s.jsx)("iframe",{ref:d,className:"rs-embed",draggable:!1,width:(0,l.$Z)(n),height:(0,l.$Z)(o),frameBorder:"0",scrolling:"no",seamless:!0,referrerPolicy:"no-referrer-when-downgrade",style:{...r,pointerEvents:i?"all":"none",zIndex:i?"":"-1",boxShadow:me(c,j)},srcDoc:`\n\t\t\t<html>\n\t\t\t\t<head>\n\t\t\t\t\t<base target="_blank">\n\t\t\t\t</head>\n\t\t\t\t<body>\n\t\t\t\t\t<script src=${u}><\/script>\n\t\t\t\t\t<style type="text/css">\n\t\t\t\t\t\t* { margin: 0px; }\n\t\t\t\t\t\ttable { height: 100%; background-color: red; }\n\t\t\t\t\t\t.gist { background-color: none; height: 100%;  }\n\t\t\t\t\t\t.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }\n\t\t\t\t\t</style>\n\t\t\t\t</body>\n\t\t\t</html>`})}const En=p({type:"embed",getShapeUtil:()=>Dn,validator:n.GV,migrations:n.BF}),kn=(0,a.forwardRef)((({id:e,name:t,isEditing:i},n)=>{const o=P(),r=(0,a.useCallback)((e=>{"Enter"===e.key&&(e.stopPropagation(),e.currentTarget.blur(),o.setEditingId(null))}),[o]),l=(0,a.useCallback)((t=>{const i=o.getShapeById(e);if(!i)return;const n=i.props.name,s=t.currentTarget.value.trim();n!==s&&o.updateShapes([{id:e,type:"frame",props:{name:s}}],!0)}),[e,o]),c=(0,a.useCallback)((t=>{const i=o.getShapeById(e);if(!i)return;const n=i.props.name,s=t.currentTarget.value;n!==s&&o.updateShapes([{id:e,type:"frame",props:{name:s}}],!0)}),[e,o]);return(0,s.jsxs)("div",{className:"rs-frame-label "+(i?"rs-frame-label__editing":""),children:[(0,s.jsx)("input",{className:"rs-frame-name-input",ref:n,style:{display:i?void 0:"none"},value:t,autoFocus:!0,onKeyDown:r,onBlur:l,onChange:c}),Ve(t,"Frame")+String.fromCharCode(8203)]})})),Tn=(0,W.j)((function({id:e,name:t,width:i,height:n}){const o=P(),r=(0,l.ws)(o.getPageRotationById(e)),c=Ci(e),d=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=d.current;e&&c&&(e.focus(),e.select(),requestAnimationFrame((()=>{document.activeElement!==e&&(e.focus(),e.select())})))}),[d,c]);const u=((r+Math.PI/4)*(2/Math.PI)+4)%4,h=["top","left","bottom","right"][Math.floor(u)];let p;switch(h){case"top":p="";break;case"right":p=`translate(${(0,l.$Z)(i)}px, 0px) rotate(90deg)`;break;case"bottom":p=`translate(${(0,l.$Z)(i)}px, ${(0,l.$Z)(n)}px) rotate(180deg)`;break;case"left":p=`translate(0px, ${(0,l.$Z)(n)}px) rotate(270deg)`}return(0,s.jsx)("div",{className:"rs-frame-heading",style:{overflow:c?"visible":"hidden",maxWidth:`calc(var(--rs-zoom) * ${"top"===h||"bottom"===h?Math.ceil(i):Math.ceil(n)}px + var(--space-5))`,bottom:Math.ceil(n),transform:`${p} scale(var(--rs-scale)) translateX(calc(-1 * var(--space-3))`},children:(0,s.jsx)("div",{className:"rs-frame-heading-hit-area",children:(0,s.jsx)(kn,{ref:d,id:e,name:t,isEditing:c})})})}));class zn extends mn{static type="frame";canBind=()=>!0;canEdit=()=>!0;defaultProps(){return{opacity:"1",w:320,h:180,name:""}}render(e){const t=this.bounds(e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h,{children:[(0,s.jsx)("rect",{className:"rs-hitarea-stroke",width:t.width,height:t.height}),(0,s.jsx)("rect",{className:"rs-frame__body",width:t.width,height:t.height,fill:"none"})]}),(0,s.jsx)(Tn,{id:e.id,name:e.props.name,width:t.width,height:t.height})]})}toSvg(e,t,i){const n=document.createElementNS("http://www.w3.org/2000/svg","g"),s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("width",e.props.w.toString()),s.setAttribute("height",e.props.h.toString()),s.setAttribute("fill",i.solid),s.setAttribute("opacity",e.props.opacity),s.setAttribute("stroke",i.fill.black),s.setAttribute("stroke-width","1"),s.setAttribute("rx","4"),s.setAttribute("ry","4"),n.appendChild(s);const o=(((0,l.ws)(this.app.getPageRotationById(e.id))+Math.PI/4)*(2/Math.PI)+4)%4;let r;switch(["top","left","bottom","right"][Math.floor(o)]){case"top":default:r="";break;case"right":r=`translate(${(0,l.$Z)(e.props.w)}px, 0px) rotate(90deg)`;break;case"bottom":r=`translate(${(0,l.$Z)(e.props.w)}px, ${(0,l.$Z)(e.props.h)}px) rotate(180deg)`;break;case"left":r=`translate(0px, ${(0,l.$Z)(e.props.h)}px) rotate(270deg)`}const a={fontSize:12,fontFamily:"Inter, sans-serif",textAlign:"start",width:e.props.w+16,height:30,padding:8,lineHeight:1,fontStyle:"normal",fontWeight:"normal"};let c=Ve(e.props.name,"Frame")+String.fromCharCode(8203);const d=this.app.textMeasure.getTextLines({text:c,wrap:!0,...a});c=d.length>1?d[0]+"…":d[0];const u=this.app.textMeasure.measureText({fontSize:12,fontFamily:"Inter, sans-serif",lineHeight:1,fontStyle:"normal",fontWeight:"normal",text:c,width:"fit-content",maxWidth:"unset",padding:"0px"}),h=document.createElementNS("http://www.w3.org/2000/svg","text");h.setAttribute("x","0"),h.setAttribute("y",-(8+u.h/2)+"px"),h.setAttribute("font-family",'"Inter", sans-serif'),h.setAttribute("font-size","12px"),h.setAttribute("font-weight","400"),h.style.setProperty("transform",r),h.textContent=c;const p=document.createElementNS("http://www.w3.org/2000/svg","rect");return p.setAttribute("x"," -4px"),p.setAttribute("y",-(16+u.h)+"px"),p.setAttribute("width",u.w+8+"px"),p.setAttribute("height",u.h+8+"px"),p.setAttribute("rx","4px"),p.setAttribute("ry","4px"),p.setAttribute("fill",i.background),n.appendChild(p),n.appendChild(h),n}indicator(e){const t=this.bounds(e);return(0,s.jsx)("rect",{width:(0,l.$Z)(t.width),height:(0,l.$Z)(t.height),className:"rs-frame-indicator"})}canReceiveNewChildrenOfType=e=>!0;canDropShapes=(e,t)=>!0;onDragShapesOver=(e,t)=>t.every((t=>t.parentId===e.id))?{shouldHint:!1}:(this.app.reparentShapesById(t.map((e=>e.id)),e.id),{shouldHint:!0});onDragShapesOut=(e,t)=>{const i=this.app.getShapeById(e.parentId);"group"===i?.type?this.app.reparentShapesById(t.map((e=>e.id)),i.id):this.app.reparentShapesById(t.map((e=>e.id)),this.app.currentPageId)};onResizeEnd=e=>{const t=this.app.getPageBounds(e),i=this.app.getSortedChildIds(e.id),n=[];for(const s of i){const e=this.app.getPageBoundsById(s);t.includes(e)||n.push(s)}n.length>0&&this.app.reparentShapesById(n,this.app.currentPageId)}}const Wn=p({type:"frame",getShapeUtil:()=>zn,validator:n.Kf,migrations:n.gR}),Yn=a.memo((function({id:e,type:t,text:i,size:n,labelColor:o,font:r,align:a,wrap:l}){const{rInput:c,isEmpty:d,isEditing:u,isEditableFromHover:h,handleFocus:p,handleChange:g,handleKeyDown:I,handleBlur:m}=en(e,t,i),y=u||h;return(0,s.jsx)("div",{className:"rs-text-label","data-font":r,"data-align":a,"data-hastext":!d,"data-isediting":u,"data-textwrap":!!l,children:(0,s.jsxs)("div",{className:"rs-text-label__inner",style:{fontSize:E[n],lineHeight:E[n]*D.lineHeight+"px",minHeight:d?E[n]*D.lineHeight+32:0,minWidth:d?33:0,color:o},children:[(0,s.jsx)("div",{className:"rs-text rs-text-content",dir:"ltr",children:qi.normalizeTextForDom(i)}),y?(0,s.jsx)("textarea",{ref:c,className:"rs-text rs-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:u,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:i,onFocus:p,onChange:g,onKeyDown:I,onBlur:m,onContextMenu:Ei}):null]})})})),Pn=a.memo((function({w:e,h:t,strokeWidth:i,dash:n,color:o,fill:r}){const a=e/2,c=t/2,d=Math.max(0,a-i/2),u=Math.max(0,c-i/2),h=(0,l.Rp)(d,u),{strokeDasharray:p,strokeDashoffset:g}=Zi(h<64?2*h:h,i,{style:n,snap:4,closed:!0}),I=`M${a-d},${c}a${d},${u},0,1,1,${2*d},0a${d},${u},0,1,1,-${2*d},0`;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d:I,color:o,fill:r}),(0,s.jsx)("path",{d:I,strokeWidth:i,width:(0,l.$Z)(e),height:(0,l.$Z)(t),fill:"none",stroke:"currentColor",strokeDasharray:p,strokeDashoffset:g,pointerEvents:"all"})]})}));function Gn(e,t){if(t>e){const i=e/2;return`\n    M0,${i}\n    a${i},${i},0,1,1,${2*i},0\n    L${e},${t-i}\n    a${i},${i},0,1,1,-${2*i},0\n    Z`}const i=t/2;return`\n    M${i},0\n    L${e-i},0\n    a${i},${i},0,1,1,0,${2*i}\n    L${i},${t}\n    a${i},${i},0,1,1,0,${2*-i}\n    Z`}function On(e,t){if(e>t){const i=t/2;return(0,l.Rp)(i,i)+2*(e-2*i)}const i=e/2;return(0,l.Rp)(i,i)+2*(t-2*i)}const Rn=a.memo((function({w:e,h:t,strokeWidth:i,dash:n,color:o,fill:r}){const a=Gn(e,t),c=On(e,t),{strokeDasharray:d,strokeDashoffset:u}=Zi(c<64?2*c:c,i,{style:n,snap:4,start:"outset",end:"outset",closed:!0});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d:a,color:o,fill:r}),(0,s.jsx)("path",{d:a,strokeWidth:i,width:(0,l.$Z)(e),height:(0,l.$Z)(t),fill:"none",stroke:"currentColor",strokeDasharray:d,strokeDashoffset:u,pointerEvents:"all"})]})}));function Fn({w:e,h:t,strokeWidth:i,dash:n,color:s,colors:o,fill:r}){const a=Gn(e,t),l=On(e,t),{strokeDasharray:c,strokeDashoffset:d}=Zi(l<64?2*l:l,i,{style:n,snap:4,closed:!0}),u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",a),u.setAttribute("stroke-width",i.toString()),u.setAttribute("width",e.toString()),u.setAttribute("height",t.toString()),u.setAttribute("fill","none"),u.setAttribute("stroke",o.fill[s]),u.setAttribute("stroke-dasharray",c),u.setAttribute("stroke-dashoffset",d);return Di(u,Ni({d:a,fill:r,color:s,colors:o}))}const Bn=a.memo((function({dash:e,fill:t,color:i,strokeWidth:n,outline:o,bgOutline:r}){const a=r?"M"+r[0]+"L"+r.slice(1)+"Z":"M"+o[0]+"L"+o.slice(1)+"Z";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d:a,fill:t,color:i}),(0,s.jsx)("g",{strokeWidth:n,stroke:"currentColor",fill:"none",pointerEvents:"all",children:Array.from(Array(o.length)).map(((t,i)=>{const r=o[i],a=o[(i+1)%o.length],c=l.GF.Dist(r,a),{strokeDasharray:d,strokeDashoffset:u}=Zi(c,n,{style:e,start:"outset",end:"outset"});return(0,s.jsx)("line",{x1:r.x,y1:r.y,x2:a.x,y2:a.y,strokeDasharray:d,strokeDashoffset:u},i)}))})]})}));const Jn=a.memo((function({id:e,w:t,h:i,strokeWidth:n,fill:o,color:r}){const a=_n(e,t,i,n),l=Vn(e,t,i,n);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d:a,color:r,fill:o}),(0,s.jsx)("path",{d:l,fill:"currentColor",strokeWidth:0,pointerEvents:"all"})]})}));function Hn(e){return{size:1+e,thinning:.25,end:{taper:e},start:{taper:e},streamline:0,smoothing:1,simulatePressure:!1}}function Xn(e,t,i,n){const s=(0,r.Vk)(e),o=t/2,a=i/2,c=(0,l.Rp)(o,a),d=[],u=l.yo*s(),h=l.yo+l.gc/2+Math.abs(s())*l.gc,p=Math.max(16,c/10);for(let r=0;r<p;r++){const e=r/(p-1),n=u+e*h,c=Math.cos(n),g=Math.sin(n);d.push(new l.GF(o*c+.5*t+.05*s(),a*g+i/2+.05*s(),Math.min(1,.5+Math.abs(.5-(s()>0?l.Lj.easeInOutSine(e):l.Lj.easeInExpo(e)))/2)))}return(0,l.tt)(d,Hn(n))}function Vn(e,t,i,n){const s=Hn(n);return Qe((0,l.ib)((0,l.CB)(Xn(e,t,i,n),s),s))}function _n(e,t,i,n){return qe(Xn(e,t,i,n))}const Un=a.memo((function({id:e,bgOutline:t,outline:i,fill:n,color:o,strokeWidth:r}){const a=Kn(e,i,r),c=qn(r),d=(0,l.tt)(a,c),u=qe(t?(0,l.tt)(Kn(e,t,r),c):d,!1),h=Qe((0,l.mx)(a,c));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d:u,fill:n,color:o}),(0,s.jsx)("path",{d:h,fill:"currentColor",pointerEvents:"all"})]})}));function Kn(e,t,i){const n=[],s=(0,r.Vk)(e),o=Math.round(Math.abs(s())*t.length),a=t.map((e=>l.GF.AddXY(e,s()*i/4,s()*i/4))),c=a.length;for(let r=0,d=c+1;r<d;r++){const e=a[(o+r)%c],s=a[(o+r+1)%c],d=Math.min(l.GF.Dist(e,s)/2,i/2),u=l.GF.Nudge(e,s,d),h=l.GF.Med(e,s);if(0===r)s.z=.7,n.push(new l.GF(h.x,h.y,.7),s);else if(r===t.length){const e=l.GF.PointsBetween(u,h,4);e.forEach((e=>e.z=.7)),n.push(...e)}else n.push(...l.GF.PointsBetween(u,s,6))}return n}function Qn(e,t,i){const n=Kn(e,t,i),s=qn(i);return qe((0,l.tt)(n,s),!0)}function qn(e){return{size:1+.618*e,last:!0,simulatePressure:!1,streamline:.25,thinning:.9}}const $n=a.memo((function({w:e,h:t,strokeWidth:i,fill:n,color:o}){const r=e/2,a=t/2,l=Math.max(0,r),c=Math.max(0,a),d=`M${r-l},${a}a${l},${c},0,1,1,${2*l},0a${l},${c},0,1,1,-${2*l},0`;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d,color:o,fill:n}),(0,s.jsx)("path",{d,stroke:`var(--palette-${o})`,strokeWidth:i,fill:"none"})]})}));const es=a.memo((function({w:e,h:t,strokeWidth:i,fill:n,color:o}){const r=ts(e,t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d:r,color:o,fill:n}),(0,s.jsx)("path",{d:r,stroke:`var(--palette-${o})`,strokeWidth:i,fill:"none"})]})}));function ts(e,t){let i;if(t>e){const n=e/2;i=`\n    M0,${n}\n    a${n},${n},0,1,1,${2*n},0\n    L${e},${t-n}\n    a${n},${n},0,1,1,-${2*n},0\n    Z`}else{const n=t/2;i=`\n    M${n},0\n    L${e-n},0\n    a${n},${n},0,1,1,0,${2*n}\n    L${n},${t}\n    a${n},${n},0,1,1,0,${2*-n}\n    Z`}return i}const is=a.memo((function({outline:e,bgOutline:t,fill:i,color:n,strokeWidth:o}){const r="M"+e[0]+"L"+e.slice(1)+"Z";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Li,{d:t?"M"+t[0]+"L"+t.slice(1)+"Z":r,fill:i,color:n}),(0,s.jsx)("path",{d:r,stroke:`var(--palette-${n}`,strokeWidth:o,fill:"none"})]})}));const ns=51;class ss extends mn{static type="geo";canEdit=()=>!0;defaultProps(){return{w:100,h:100,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",opacity:"1",font:"draw",text:"",align:"middle",growY:0,url:""}}hitTestLineSegment(e,t,i){let n=this.outline(e);"x-box"===e.props.geo&&(n=rs(Math.max(1,e.props.w),Math.max(1,e.props.h+e.props.growY)));for(let s=0;s<n.length;s++){const e=n[s],o=n[(s+1)%n.length];if((0,l.cB)(t,i,e,o))return!0}return!1}getBounds(e){return new l.No(0,0,e.props.w,e.props.h+e.props.growY)}getCenter(e){return new l.GF(e.props.w/2,(e.props.h+e.props.growY)/2)}getOutline(e){const t=Math.max(1,e.props.w),i=Math.max(1,e.props.h+e.props.growY),n=t/2,s=i/2;switch(e.props.geo){case"triangle":return[new l.GF(n,0),new l.GF(t,i),new l.GF(0,i)];case"diamond":return[new l.GF(n,0),new l.GF(t,s),new l.GF(n,i),new l.GF(0,s)];case"pentagon":return(0,l.Oe)(t,i,5);case"hexagon":return(0,l.Oe)(t,i,6);case"octagon":return(0,l.Oe)(t,i,8);case"ellipse":{const e=Math.pow(n-s,2)/Math.pow(n+s,2),t=l.PI*(n+s)*(1+3*e/(10+Math.sqrt(4-3*e)));let i=Math.max(4,Math.ceil(t/10));i=4*Math.ceil(i/4);const o=l.yo/i,r=Math.cos(o),a=Math.sin(o);let c=0,d=1,u=0,h=1;const p=Array(i);for(let g=0;g<i;g++)p[g]=new l.GF(n+n*d,s+s*c),u=a*d+r*c,h=r*d-a*c,c=u,d=h;return p}case"oval":{const e=10,o=Array(2*e);if(i>t)for(let t=0;t<e;t++){const s=-l.PI+l.PI*t/(e-2),r=l.PI*t/(e-2);o[t]=new l.GF(n+n*Math.cos(s),n+n*Math.sin(s)),o[t+e]=new l.GF(n+n*Math.cos(r),i-n+n*Math.sin(r))}else for(let n=0;n<e;n++){const r=-l.gc+l.PI*n/(e-2),a=l.gc+l.PI*-n/(e-2);o[n]=new l.GF(t-s+s*Math.cos(r),i-s+s*Math.sin(r)),o[n+e]=new l.GF(s-s*Math.cos(a),i-s+s*Math.sin(a))}return o}case"star":{const e=5,n=l.yo/e/2,s=2*Math.floor(e/4),o=2*e-s,r=0,a=2*Math.floor(e/2),c=Math.cos(-l.gc+s*n)*t/2,d=Math.cos(-l.gc+o*n)*t/2,u=Math.sin(-l.gc+r*n)*i/2,h=Math.sin(-l.gc+a*n)*i/2,p=t-Math.abs(c-d),g=i-Math.abs(h-u),I=1,m=(t-(t/2+d-(t/2-c)))/2,y=(i-(i/2+u-(i/2-h)))/2,b=(t+p)/2,f=(i+g)/2,C=b*I/2,w=f*I/2;return Array.from(Array(2*e)).map(((e,t)=>{const i=-l.gc+t*n;return new l.GF(m+(t%2?C:b)*Math.cos(i),y+(t%2?w:f)*Math.sin(i))}))}case"rhombus":{const e=Math.min(.38*t,.38*i);return[new l.GF(e,0),new l.GF(t,0),new l.GF(t-e,i),new l.GF(0,i)]}case"rhombus-2":{const e=Math.min(.38*t,.38*i);return[new l.GF(0,0),new l.GF(t-e,0),new l.GF(t,i),new l.GF(e,i)]}case"trapezoid":{const e=Math.min(.38*t,.38*i);return[new l.GF(e,0),new l.GF(t-e,0),new l.GF(t,i),new l.GF(0,i)]}case"arrow-right":{const e=.38*Math.min(t,i),n=.16*i;return[new l.GF(0,n),new l.GF(t-e,n),new l.GF(t-e,0),new l.GF(t,i/2),new l.GF(t-e,i),new l.GF(t-e,i-n),new l.GF(0,i-n)]}case"arrow-left":{const e=.38*Math.min(t,i),n=.16*i;return[new l.GF(e,0),new l.GF(e,n),new l.GF(t,n),new l.GF(t,i-n),new l.GF(e,i-n),new l.GF(e,i),new l.GF(0,i/2)]}case"arrow-up":{const e=.16*t,n=.38*Math.min(t,i);return[new l.GF(t/2,0),new l.GF(t,n),new l.GF(t-e,n),new l.GF(t-e,i),new l.GF(e,i),new l.GF(e,n),new l.GF(0,n)]}case"arrow-down":{const e=.16*t,n=.38*Math.min(t,i);return[new l.GF(e,0),new l.GF(t-e,0),new l.GF(t-e,i-n),new l.GF(t,i-n),new l.GF(t/2,i),new l.GF(0,i-n),new l.GF(e,i-n)]}case"x-box":case"rectangle":return[new l.GF(0,0),new l.GF(t,0),new l.GF(t,i),new l.GF(0,i)]}}onEditEnd=e=>{const{id:t,type:i,props:{text:n}}=e;n.trim()!==e.props.text&&this.app.updateShapes([{id:t,type:i,props:{text:n.trim()}}])};render(e){const{id:t,type:i,props:n}=e,o=(0,W.Hg)("zoom",(()=>this.app.zoomLevel<.35),[]),r=this.app.getStrokeWidth(n.size),{w:a,color:l,labelColor:c,fill:d,dash:u,growY:p,font:g,align:I,size:m,text:y}=n;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{id:t,children:(()=>{const i=n.h+p;switch(n.geo){case"ellipse":return"draw"===u?o?(0,s.jsx)($n,{strokeWidth:r,w:a,h:i,color:l,fill:d}):(0,s.jsx)(Jn,{id:t,w:a,h:i,color:l,fill:d,strokeWidth:r}):"solid"===u?(0,s.jsx)($n,{strokeWidth:r,w:a,h:i,color:l,fill:d}):(0,s.jsx)(Pn,{id:t,strokeWidth:r,w:a,h:i,dash:u,color:l,fill:d});case"oval":return"draw"===u||"solid"===u?(0,s.jsx)(es,{strokeWidth:r,w:a,h:i,color:l,fill:d}):(0,s.jsx)(Rn,{id:t,strokeWidth:r,w:a,h:i,dash:u,color:l,fill:d});default:{let i,n=this.outline(e);return"x-box"===e.props.geo&&(i=n,n=rs(Math.max(1,e.props.w),Math.max(1,e.props.h+e.props.growY))),"draw"===u?o?(0,s.jsx)(is,{fill:d,color:l,strokeWidth:r,outline:n,bgOutline:i}):(0,s.jsx)(Un,{id:t,fill:d,color:l,strokeWidth:r,outline:n,bgOutline:i}):"solid"===u?(0,s.jsx)(is,{fill:d,color:l,strokeWidth:r,outline:n,bgOutline:i}):(0,s.jsx)(Bn,{dash:u,fill:d,color:l,strokeWidth:r,outline:n,bgOutline:i})}}})()}),(0,s.jsx)(Yn,{id:t,type:i,font:g,fill:d,size:m,align:I,text:y,labelColor:this.app.getCssColor(c),wrap:!0}),"url"in e.props&&e.props.url&&(0,s.jsx)(gn,{url:e.props.url})]})}indicator(e){const{id:t,props:i}=e,{w:n,h:o,growY:r,size:a}=i,l=this.app.getStrokeWidth(a);switch(i.geo){case"ellipse":return"draw"===i.dash?(0,s.jsx)("path",{d:_n(t,n,o+r,l)}):(0,s.jsx)("ellipse",{cx:n/2,cy:(o+r)/2,rx:n/2,ry:(o+r)/2});case"oval":return(0,s.jsx)("path",{d:ts(n,o+r)});default:{let n=this.outline(e);return"x-box"===e.props.geo&&(n=rs(Math.max(1,e.props.w),Math.max(1,e.props.h+e.props.growY))),"draw"===i.dash?(0,s.jsx)("path",{d:Qn(t,n,l)}):(0,s.jsx)("path",{d:`M${n[0]}L${n.slice(1)}Z`})}}}toSvg(e,t,i){const{id:n,props:s}=e,o=this.app.getStrokeWidth(s.size);let r;switch(s.geo){case"ellipse":switch(s.dash){case"draw":r=function({id:e,w:t,h:i,strokeWidth:n,fill:s,color:o,colors:r}){const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",Vn(e,t,i,n)),a.setAttribute("fill",r.fill[o]),Di(a,Ni({d:_n(e,t,i,n),fill:s,color:o,colors:r}))}({id:n,w:s.w,h:s.h,color:s.color,fill:s.fill,strokeWidth:o,colors:i});break;case"solid":r=function({w:e,h:t,strokeWidth:i,fill:n,color:s,colors:o}){const r=e/2,a=t/2,l=Math.max(0,r),c=Math.max(0,a),d=`M${r-l},${a}a${l},${c},0,1,1,${2*l},0a${l},${c},0,1,1,-${2*l},0`,u=document.createElementNS("http://www.w3.org/2000/svg","path");return u.setAttribute("d",d),u.setAttribute("stroke-width",i.toString()),u.setAttribute("width",e.toString()),u.setAttribute("height",t.toString()),u.setAttribute("fill","none"),u.setAttribute("stroke",o.fill[s]),Di(u,Ni({d,fill:n,color:s,colors:o}))}({strokeWidth:o,w:s.w,h:s.h,color:s.color,fill:s.fill,colors:i});break;default:r=function({w:e,h:t,strokeWidth:i,dash:n,color:s,colors:o,fill:r}){const a=e/2,c=t/2,d=Math.max(0,a-i/2),u=Math.max(0,c-i/2),h=(0,l.Rp)(d,u),{strokeDasharray:p,strokeDashoffset:g}=Zi(h<64?2*h:h,i,{style:n,snap:4,closed:!0}),I=`M${a-d},${c}a${d},${u},0,1,1,${2*d},0a${d},${u},0,1,1,-${2*d},0`,m=document.createElementNS("http://www.w3.org/2000/svg","path");return m.setAttribute("d",I),m.setAttribute("stroke-width",i.toString()),m.setAttribute("width",e.toString()),m.setAttribute("height",t.toString()),m.setAttribute("fill","none"),m.setAttribute("stroke",o.fill[s]),m.setAttribute("stroke-dasharray",p),m.setAttribute("stroke-dashoffset",g),Di(m,Ni({d:I,fill:r,color:s,colors:o}))}({id:n,strokeWidth:o,w:s.w,h:s.h,dash:s.dash,color:s.color,fill:s.fill,colors:i})}break;case"oval":switch(s.dash){case"draw":default:r=Fn({id:n,strokeWidth:o,w:s.w,h:s.h,dash:s.dash,color:s.color,fill:s.fill,colors:i});break;case"solid":r=function({w:e,h:t,strokeWidth:i,fill:n,color:s,colors:o}){const r=ts(e,t),a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",r),a.setAttribute("stroke-width",i.toString()),a.setAttribute("width",e.toString()),a.setAttribute("height",t.toString()),a.setAttribute("fill","none"),a.setAttribute("stroke",o.fill[s]),Di(a,Ni({d:r,fill:n,color:s,colors:o}))}({strokeWidth:o,w:s.w,h:s.h,color:s.color,fill:s.fill,colors:i})}break;default:{let t,a=this.outline(e);switch("x-box"===s.geo&&(t=a,a=rs(Math.max(1,e.props.w),Math.max(1,e.props.h+e.props.growY))),s.dash){case"draw":r=function({id:e,outline:t,bgOutline:i,fill:n,color:s,colors:o,strokeWidth:r}){const a=Kn(e,t,r),c=qn(r),d=document.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",Qe((0,l.mx)(a,c),!0)),d.setAttribute("fill",o.fill[s]),Di(d,Ni({d:qe((0,l.tt)(i?Kn(e,i,r):a,c),!1),fill:n,color:s,colors:o}))}({id:n,fill:s.fill,color:s.color,strokeWidth:o,outline:a,bgOutline:t,colors:i});break;case"solid":r=function({outline:e,bgOutline:t,fill:i,color:n,strokeWidth:s,colors:o}){const r="M"+e[0]+"L"+e.slice(1)+"Z",a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",r),a.setAttribute("stroke-width",s.toString()),a.setAttribute("stroke",o.fill[n]),a.setAttribute("fill","none"),Di(a,Ni({d:t?"M"+t[0]+"L"+t.slice(1)+"Z":r,fill:i,color:n,colors:o}))}({fill:s.fill,color:s.color,strokeWidth:o,outline:a,bgOutline:t,colors:i});break;default:r=function({dash:e,fill:t,color:i,colors:n,strokeWidth:s,outline:o,bgOutline:r}){const a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("stroke-width",s.toString()),a.setAttribute("stroke",n.fill[i]),a.setAttribute("fill","none"),Array.from(Array(o.length)).forEach(((t,i)=>{const n=o[i],r=o[(i+1)%o.length],c=l.GF.Dist(n,r),{strokeDasharray:d,strokeDashoffset:u}=Zi(c,s,{style:e}),h=document.createElementNS("http://www.w3.org/2000/svg","line");h.setAttribute("x1",n.x.toString()),h.setAttribute("y1",n.y.toString()),h.setAttribute("x2",r.x.toString()),h.setAttribute("y2",r.y.toString()),h.setAttribute("stroke-dasharray",d.toString()),h.setAttribute("stroke-dashoffset",u.toString()),a.appendChild(h)}));const c=Ni({d:r?"M"+r[0]+"L"+r.slice(1)+"Z":"M"+o[0]+"L"+o.slice(1)+"Z",fill:t,color:i,colors:n});return Di(a,c)}({dash:s.dash,fill:s.fill,color:s.color,strokeWidth:o,outline:a,bgOutline:t,colors:i})}break}}if(s.text){const n=this.bounds(e),o={fontSize:E[e.props.size],fontFamily:t,textAlign:e.props.align,padding:16,lineHeight:D.lineHeight,fontStyle:"normal",fontWeight:"normal",width:Math.ceil(n.width),height:Math.ceil(n.height)},a=this.app.textMeasure.getTextLines({text:s.text,wrap:!0,...o}),l=document.createElementNS("http://www.w3.org/2000/svg","g"),c=os(this.app,e),d=ki(this.app,{...o,lines:a,strokeWidth:2,stroke:i.background,fill:i.background,width:c.w});d.setAttribute("transform",`translate(${(n.width-c.w)/2}, 0)`);const u=d.cloneNode(!0);if(u.setAttribute("fill",i.fill[e.props.labelColor]),u.setAttribute("stroke","none"),l.append(d),l.append(u),"g"===r.nodeName)return r.appendChild(l),r;{const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.appendChild(r),e.appendChild(l),e}}return r}onResize=(e,{initialBounds:t,handle:i,newPoint:n,scaleX:s,scaleY:o})=>{let r=t.width*s,a=t.height*o,c=0,d=0;if(e.props.text.trim()){let t=Math.max(Math.abs(r),ns),i=Math.max(Math.abs(a),ns);t<ns&&i===ns&&(t=ns),t===ns&&i<ns&&(i=ns);const n=os(this.app,{...e,props:{...e.props,w:t,h:i}}),s=Math.max(Math.abs(r),n.w)*Math.sign(r),o=Math.max(Math.abs(a),n.h)*Math.sign(a);c=Math.abs(s)-Math.abs(r),d=Math.abs(o)-Math.abs(a),r=s,a=o}const u=new l.GF(0,0);s<0&&(u.x+=r),"left"!==i&&"top_left"!==i&&"bottom_left"!==i||(u.x+=s<0?c:-c),o<0&&(u.y+=a),"top"!==i&&"top_left"!==i&&"top_right"!==i||(u.y+=o<0?d:-d);const{x:h,y:p}=u.rot(e.rotation).add(n);return{x:h,y:p,props:{w:Math.max(Math.abs(r),1),h:Math.max(Math.abs(a),1),growY:0}}};onBeforeCreate=e=>{if(!e.props.text)return e.props.growY?{...e,props:{...e.props,growY:0}}:void 0;const t=e.props.h,i=os(this.app,e).h;let n=null;return i>t?n=i-t:e.props.growY&&(n=0),null!==n?{...e,props:{...e.props,growY:n}}:void 0};onBeforeUpdate=(e,t)=>{const i=e.props.text.trim(),n=t.props.text.trim();if(i===n&&e.props.font===t.props.font&&e.props.size===t.props.size)return;if(i&&!n)return{...t,props:{...t.props,growY:0}};const s=e.props.w,o=e.props.h,r=os(this.app,t),a=r.w,l=r.h;if(!i&&n&&1===n.length){let i=Math.max(s,a),n=Math.max(o,l);return e.props.w<ns&&e.props.h<ns&&(i=Math.max(i,ns),n=Math.max(n,ns),i=Math.max(i,n),n=Math.max(i,n)),{...t,props:{...t.props,w:i,h:n,growY:0}}}let c=null;return l>o?c=l-o:e.props.growY&&(c=0),null!==c?{...t,props:{...t.props,growY:c,w:a}}:a>e.props.w?{...t,props:{...t.props,w:a}}:void 0}}function os(e,t){const i=t.props.text.trim();if(!i)return{w:0,h:0};const n=e.textMeasure.measureText({...D,text:"w",fontFamily:T[t.props.font],fontSize:E[t.props.size],width:"fit-content",maxWidth:"100px"}),s=e.textMeasure.measureText({...D,text:i,fontFamily:T[t.props.font],fontSize:E[t.props.size],width:"fit-content",minWidth:n.w+"px",maxWidth:Math.max(0,Math.ceil(n.w+{s:2,m:3.5,l:5,xl:10}[t.props.size]),Math.ceil(t.props.w-32))+"px"});return{w:s.w+32,h:s.h+32}}function rs(e,t){return[new l.GF(0,0),new l.GF(e,0),new l.GF(e,t),new l.GF(0,t),new l.GF(0,0),new l.GF(.5*e,.5*t),new l.GF(e,t),new l.GF(e,0),new l.GF(.5*e,.5*t),new l.GF(0,t)]}const as=p({type:"geo",getShapeUtil:()=>ss,validator:n.OE,migrations:n.P3});class ls extends Gi{static type="group";hideSelectionBoundsBg=()=>!1;hideSelectionBoundsFg=()=>!0;canBind=()=>!1;defaultProps(){return{opacity:"1"}}getBounds(e){const t=this.app.getSortedChildIds(e.id);if(0===t.length)return new l.No;const i=t.flatMap((e=>{const t=this.app.getShapeById(e);return this.app.getOutlineById(e).map((e=>l.yX.applyToPoint(this.app.getTransform(t),e)))}));return l.No.FromPoints(i)}getCenter(e){return this.bounds(e).center}getOutline(e){return this.bounds(e).corners}render(e){const{erasingIdsSet:t,pageState:{hintingIds:i,focusLayerId:n},zoomLevel:o}=this.app,r=t.has(e.id),a=i.length>0&&i.some((t=>t!==e.id&&"group"===this.app.getShapeById(t)?.type));if(!r&&(e.id!==n||a))return null;const l=this.bounds(e);return(0,s.jsx)(h,{id:e.id,children:(0,s.jsx)(ds,{className:"rs-group",bounds:l,zoomLevel:o})})}indicator(e){const{camera:{z:t}}=this.app,i=this.bounds(e);return(0,s.jsx)(ds,{className:"",bounds:i,zoomLevel:t})}onChildrenChange=e=>{const t=this.app.getSortedChildIds(e.id);return 0===t.length?(this.app.pageState.focusLayerId===e.id&&this.app.popFocusLayer(),void this.app.deleteShapes([e.id])):1===t.length?(this.app.pageState.focusLayerId===e.id&&this.app.popFocusLayer(),this.app.reparentShapesById(t,e.parentId),void this.app.deleteShapes([e.id])):void 0}}const cs=p({type:"group",getShapeUtil:()=>ls,validator:n.He,migrations:n.c4});function ds({bounds:e,zoomLevel:t,className:i}){return(0,s.jsx)("g",{className:i,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e.sides.map(((e,i)=>{const{strokeDasharray:n,strokeDashoffset:o}=Zi(e[0].dist(e[1]),1/t,{style:"dashed",lengthRatio:4});return(0,s.jsx)("line",{x1:e[0].x,y1:e[0].y,x2:e[1].x,y2:e[1].y,strokeDasharray:n,strokeDashoffset:o},i)}))})}const us=async e=>{const t=await(async e=>new Promise(((t,i)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>i(new Error("Failed to load image")),n.crossOrigin="anonymous",n.src=e})))(e),i=document.createElement("canvas");i.width=t.width,i.height=t.height;const n=i.getContext("2d");if(n)return n.drawImage(t,0,0),i.toDataURL()};class hs extends mn{static type="image";isAspectRatioLocked=()=>!0;defaultProps(){return{opacity:"1",w:100,h:100,assetId:null,playing:!0,url:""}}render(e){const[t,i]=(0,a.useState)(""),n=ye(),o=e.props.assetId?this.app.getAssetById(e.props.assetId):void 0,{w:r,h:l}=e.props;if((0,a.useEffect)((()=>{if(o?.props.src&&"mimeType"in o.props&&"image/gif"===o?.props.mimeType){let e=!1;return(async()=>{const t=await us(o.props.src);e||t&&i(t)})(),()=>{e=!0}}}),[n,o?.props]),"bookmark"===o?.type)throw Error("Bookmark assets can't be rendered as images");const c=n&&(o?.props.mimeType?.includes("video")||o?.props.mimeType?.includes("gif"));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(hn,{id:e.id,children:(0,s.jsxs)("div",{className:"rs-image-container",children:[o?.props.src?(0,s.jsx)("div",{className:`rs-image rs-image-${e.id}`,style:{backgroundImage:`url(${!e.props.playing||c?t:o.props.src}`},draggable:!1}):(0,s.jsx)(Nn,{x:(r-38)/2,y:(l-38)/2}),o?.props.isAnimated&&!e.props.playing&&(0,s.jsx)("div",{className:"rs-image__meda-tag",children:"GIF"})]})}),"url"in e.props&&e.props.url&&(0,s.jsx)(gn,{url:e.props.url})]})}indicator(e){return(0,s.jsx)("rect",{width:(0,l.$Z)(e.props.w),height:(0,l.$Z)(e.props.h)})}async toSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g"),i=e.props.assetId?this.app.getAssetById(e.props.assetId):null;let n=i?.props.src||"";n&&n.startsWith("http")&&(n=await async function(e){const t=await fetch(e),i=await t.blob();return new Promise(((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(i)}))}(n)||"");const s=document.createElementNS("http://www.w3.org/2000/svg","image");return s.setAttributeNS("http://www.w3.org/1999/xlink","href",n),s.setAttribute("width",e.props.w.toString()),s.setAttribute("height",e.props.h.toString()),t.appendChild(s),t}onDoubleClick=e=>{const t=e.props.assetId?this.app.getAssetById(e.props.assetId):void 0;if(!t)return;t.props.src&&"mimeType"in t.props&&"image/gif"===t.props.mimeType&&this.app.updateShapes([{type:"image",id:e.id,props:{playing:!e.props.playing}}])}}const ps=p({type:"image",getShapeUtil:()=>hs,validator:n.vw,migrations:n.y5});function gs(e){const{segments:t}=e,i=[];for(let n=0,s=t.length;n<s;n++){const e=t[n].lut,o=e.length-1;n>0?i.push(l.GF.Lrp(e[0],e[1],.25)):i.push(e[0]);for(let t=1;t<o;t++)i.push(e[t]);n<s-1?i.push(l.GF.Lrp(e[o-1],e[o],.75)):i.push(e[o])}return i}function Is(e){return{size:1.25*e,thinning:.4,streamline:0,smoothing:.5,simulatePressure:!0,last:!0}}function ms(e,t,i){const n=gs(t),s=Is(i);return(0,l.tt)(n,s)}function ys(e,t,i){const n=function(e,t,i){const n=Is(i);return(0,l.ib)((0,l.CB)(ms(0,t,i),n),n)}(0,t,i);return Qe(n)}function bs(e,t,i,n){switch(e.props.dash){case"draw":return function({shape:e,strokeWidth:t,spline:i,color:n}){const s=ys(0,i,t),o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("stroke-width","0"),o.setAttribute("stroke","none"),o.setAttribute("fill",n),o.setAttribute("d",s),o}({shape:e,strokeWidth:n,spline:t,color:i});case"solid":return function({strokeWidth:e,spline:t,color:i}){const{path:n}=t,s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("stroke-width",e.toString()),s.setAttribute("stroke",i),s.setAttribute("fill","none"),s.setAttribute("d",n),s}({strokeWidth:n,spline:t,color:i});default:return function({dash:e,strokeWidth:t,spline:i,color:n}){const{segments:s}=i,o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.setAttribute("stroke",n),o.setAttribute("stroke-width",t.toString()),s.forEach(((i,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","path"),{strokeDasharray:a,strokeDashoffset:l}=Zi(i.length,t,{style:e,start:n>0?"outset":"none",end:n<s.length-1?"outset":"none"});r.setAttribute("stroke-dasharray",a.toString()),r.setAttribute("stroke-dashoffset",l.toString()),r.setAttribute("d",i.path),r.setAttribute("fill","none"),o.appendChild(r)})),o}({strokeWidth:n,spline:t,dash:e.props.dash,color:i})}}const fs=new G,Cs=new G;class ws extends Gi{static type="line";hideResizeHandles=()=>!0;hideRotateHandle=()=>!0;hideSelectionBoundsBg=()=>!0;hideSelectionBoundsFg=()=>!0;isClosed=()=>!1;defaultProps(){return{opacity:"1",dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:0,y:0}}}}getBounds(e){return As(e).bounds}getCenter(e){return this.bounds(e).center}getHandles(e){return Cs.get(e.props,(()=>{const t=e.props.handles,i=As(e),n=Object.values(t).sort(Fe),s=n.slice();for(let e=0;e<i.segments.length;e++){const t=i.segments[e].getPoint(.5),o=Pe(n[e].index,n[e+1].index);s.push({id:`mid-${e}`,type:"create",index:o,x:t.x,y:t.y})}return s.sort(Fe)}))}getOutline(e){return gs(As(e))}onResize=(e,t)=>{const{scaleX:i,scaleY:n}=t,s=(0,r.p$)(e.props.handles);return Object.values(e.props.handles).forEach((({id:e,x:t,y:o})=>{s[e].x=t*i,s[e].y=o*n})),{props:{handles:s}}};onHandleChange=(e,{handle:t})=>{const i=(0,r.p$)(e);switch(t.id){case"start":case"end":i.props.handles[t.id]={...i.props.handles[t.id],x:t.x,y:t.y};break;default:{const n="handle:"+t.index,s=e.props.handles[n];i.props.handles[n]=s?{...s,x:t.x,y:t.y}:{id:n,type:"vertex",canBind:!1,index:t.index,x:t.x,y:t.y};break}}return i};hitTestPoint(e,t){return(0,l.Xh)(t,this.outline(e))}hitTestLineSegment(e,t,i){return null!==(0,l.Gc)(t,i,this.outline(e))}render(e){const t=As(e),i=(0,W.Hg)("zoom",(()=>this.app.zoomLevel<.35),[]),n=this.app.getStrokeWidth(e.props.size),o=t.path,{dash:r,color:a}=e.props;return(0,s.jsxs)(h,{id:e.id,children:[(0,s.jsx)(Li,{d:o,fill:"none",color:a}),"draw"!==r||i?"solid"===r?(0,s.jsx)("path",{strokeWidth:n,stroke:"currentColor",fill:"none",d:o}):(0,s.jsx)("g",{stroke:"currentColor",strokeWidth:n,children:t.segments.map(((e,i)=>{const{strokeDasharray:o,strokeDashoffset:a}=Zi(e.length,n,{style:r,start:i>0?"outset":"none",end:i<t.segments.length-1?"outset":"none"});return(0,s.jsx)("path",{strokeDasharray:o,strokeDashoffset:a,d:e.path,fill:"none"},i)}))}):(0,s.jsx)("path",{d:ys(0,t,n),strokeWidth:1,stroke:"currentColor",fill:"currentColor"})]})}indicator(e){const t=this.app.getStrokeWidth(e.props.size),i=function(e,t,i){if("draw"===e.props.dash)return qe(ms(0,t,i));return t.path}(e,As(e),t);return(0,s.jsx)("path",{d:i})}toSvg(e,t,i){const{color:n,size:s}=e.props,o=i.fill[n];return bs(e,As(e),o,this.app.getStrokeWidth(s))}}const Ms=p({type:"line",getShapeUtil:()=>ws,validator:n.Vh,migrations:n.FH});function As(e){return fs.get(e.props,(()=>{const{spline:t,handles:i}=e.props,n=Object.values(i).sort(Fe).map(l.GF.From);switch(t){case"cubic":return new l._e(n,2===n.length?2:1.2,20);case"line":return new l.qv(n)}}))}const xs=200;class Ss extends Gi{static type="note";canEdit=()=>!0;hideResizeHandles=()=>!0;hideSelectionBoundsBg=()=>!0;hideSelectionBoundsFg=()=>!0;defaultProps(){return{opacity:"1",color:"black",size:"m",text:"",font:"draw",align:"middle",growY:0,url:""}}getHeight(e){return xs+e.props.growY}getBounds(e){const t=this.getHeight(e);return new l.No(0,0,xs,t)}getOutline(e){return this.bounds(e).corners}getCenter(e){return new l.GF(100,this.getHeight(e)/2)}render(e){const{id:t,type:i,props:{color:n,font:o,size:r,align:a,text:l}}=e,c="black"===n?"yellow":n;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{position:"absolute",width:xs,height:this.getHeight(e)},children:(0,s.jsxs)("div",{className:"rs-note__container rs-hitarea-fill",style:{color:`var(--palette-${c})`,backgroundColor:`var(--palette-${c})`},children:[(0,s.jsx)("div",{className:"rs-note__scrim"}),(0,s.jsx)(Yn,{id:t,type:i,font:o,size:r,align:a,text:l,labelColor:"inherit",wrap:!0})]})}),"url"in e.props&&e.props.url&&(0,s.jsx)(gn,{url:e.props.url})]})}indicator(e){return(0,s.jsx)("rect",{rx:"7",width:(0,l.$Z)(xs),height:(0,l.$Z)(this.getHeight(e))})}toSvg(e,t,i){const n=this.bounds(e),s=document.createElementNS("http://www.w3.org/2000/svg","g"),o="black"===e.props.color?"yellow":e.props.color,r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("rx","10"),r.setAttribute("width",xs.toString()),r.setAttribute("height",n.height.toString()),r.setAttribute("fill",i.fill[o]),r.setAttribute("stroke",i.fill[o]),r.setAttribute("stroke-width","1"),s.appendChild(r);const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("rx","10"),a.setAttribute("width",xs.toString()),a.setAttribute("height",n.height.toString()),a.setAttribute("fill",i.background),a.setAttribute("opacity",".28"),s.appendChild(a);const l={fontSize:E[e.props.size],fontFamily:t,textAlign:e.props.align,width:n.width-34,height:n.height-34,padding:0,lineHeight:D.lineHeight,fontStyle:"normal",fontWeight:"normal"},c=this.app.textMeasure.getTextLines({text:e.props.text,wrap:!0,...l}),d=ki(this.app,{lines:c,...l});return d.setAttribute("fill",i.text),d.setAttribute("transform","translate(17 17)"),s.appendChild(d),s}onBeforeCreate=e=>Ls(this.app,e,e.props.growY);onBeforeUpdate=(e,t)=>{if(e.props.text!==t.props.text||e.props.font!==t.props.font||e.props.size!==t.props.size)return Ls(this.app,t,e.props.growY)};onEditEnd=e=>{const{id:t,type:i,props:{text:n}}=e;n.trim()!==e.props.text&&this.app.updateShapes([{id:t,type:i,props:{text:n.trim()}}])}}const vs=p({getShapeUtil:()=>Ss,type:"note",validator:n.UE,migrations:n.C_});function Ls(e,t,i=0){const n=e.textMeasure.measureText({...D,text:t.props.text,fontFamily:T[t.props.font],fontSize:E[t.props.size],width:"166px"}).h+34;let s=null;if(n>xs?s=n-xs:i&&(s=0),null!==s)return{...t,props:{...t.props,growY:s}}}const js=new G;class Ns extends Gi{static type="text";canEdit=()=>!0;isAspectRatioLocked=()=>!0;defaultProps(){return{opacity:"1",color:"black",size:"m",w:8,text:"",font:"draw",align:"middle",autoSize:!0,scale:1}}getMinDimensions(e){return js.get(e.props,(e=>Zs(this.app,e)))}getBounds(e){const{scale:t}=e.props,{width:i,height:n}=this.getMinDimensions(e);return new l.No(0,0,i*t,n*t)}getOutline(e){const t=this.bounds(e);return[new l.GF(0,0),new l.GF(t.width,0),new l.GF(t.width,t.height),new l.GF(0,t.height)]}getCenter(e){const t=this.bounds(e);return new l.GF(t.width/2,t.height/2)}render(e){const{id:t,type:i,props:{text:n}}=e,{width:o,height:r}=this.getMinDimensions(e),{rInput:a,isEmpty:l,isEditing:c,isEditableFromHover:d,handleFocus:u,handleChange:h,handleKeyDown:p,handleBlur:g}=en(t,i,n);return(0,s.jsx)(hn,{id:e.id,children:(0,s.jsxs)("div",{className:"rs-text-shape__wrapper rs-text-shadow","data-font":e.props.font,"data-align":e.props.align,"data-hastext":!l,"data-isediting":c||d,"data-textwrap":!0,style:{fontSize:Z[e.props.size],lineHeight:Z[e.props.size]*D.lineHeight+"px",transform:`scale(${e.props.scale})`,transformOrigin:"top left",width:Math.max(1,o),height:Math.max(Z[e.props.size]*D.lineHeight,r)},children:[(0,s.jsx)("div",{className:"rs-text rs-text-content",dir:"ltr",children:n}),c||d?(0,s.jsx)("textarea",{ref:a,className:"rs-text rs-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:c,placeholder:"",spellCheck:"true",wrap:"off",dir:"ltr",datatype:"wysiwyg",defaultValue:n,onFocus:u,onChange:h,onKeyDown:p,onBlur:g,onTouchEnd:Ei,onContextMenu:Ei}):null]})})}indicator(e){const t=this.bounds(e);return(0,s.jsx)("rect",{width:(0,l.$Z)(t.width),height:(0,l.$Z)(t.height)})}toSvg(e,t,i){const n=this.bounds(e),s=e.props.text,o=n.width/(e.props.scale??1),r=n.height/(e.props.scale??1),a={fontSize:Z[e.props.size],fontFamily:t,textAlign:e.props.align,width:o,height:r,padding:0,lineHeight:D.lineHeight,fontStyle:"normal",fontWeight:"normal"},l=this.app.textMeasure.getTextLines({text:s,wrap:!0,...a}),c=i.fill[e.props.color],d=document.createElementNS("http://www.w3.org/2000/svg","g"),u=ki(this.app,{lines:l,...a,stroke:i.background,strokeWidth:2,fill:i.background,padding:0}),h=u.cloneNode(!0);return h.setAttribute("fill",c),h.setAttribute("stroke","none"),d.append(u),d.append(h),d}onResize=(e,t)=>{const{initialBounds:i,initialShape:n,scaleX:s,handle:o}=t;if("scale_shape"===t.mode||"right"!==o&&"left"!==o)return function(e,{initialBounds:t,scaleX:i,scaleY:n,newPoint:s}){const o=Math.max(.01,Math.min(Math.abs(i),Math.abs(n))),r=new l.GF(0,0);i<0&&(r.x=-t.width*o),n<0&&(r.y=-t.height*o);const{x:a,y:c}=l.GF.Add(s,r.rot(e.rotation));return{x:a,y:c,props:{scale:o*e.props.scale}}}(e,t);{const t=i.width;let r=t*s;const a=new l.GF(0,0);r=Math.max(1,Math.abs(r)),"left"===o?(a.x=t-r,s<0&&(a.x+=r)):s<0&&(a.x-=r);const{x:c,y:d}=a.rot(e.rotation).add(n);return{x:c,y:d,props:{w:r/n.props.scale,autoSize:!1}}}};onBeforeCreate=e=>{if(!e.props.autoSize)return;if(e.props.text.trim())return;const t=this.getMinDimensions(e);return{...e,x:e.x-t.width/2,y:e.y-t.height/2}};onEditEnd=e=>{const{id:t,type:i,props:{text:n}}=e,s=e.props.text.trim();0===s.length?this.app.deleteShapes([e.id]):s!==e.props.text&&this.app.updateShapes([{id:t,type:i,props:{text:n.trim()}}])};onBeforeUpdate=(e,t)=>{if(!t.props.autoSize)return;const i=e.props.size!==t.props.size||e.props.align!==t.props.align||e.props.font!==t.props.font||1!==e.props.scale&&1===t.props.scale,n=e.props.text!==t.props.text;if(!i&&!n)return;const s=this.getMinDimensions(e),o=Zs(this.app,t.props),r=s.width*e.props.scale,a=s.height*e.props.scale,c=o.width*t.props.scale,d=o.height*t.props.scale;let u;switch(t.props.align){case"middle":u=new l.GF((c-r)/2,n?0:(d-a)/2);break;case"end":u=new l.GF(c-r,n?0:(d-a)/2);break;default:if(n)break;u=new l.GF(0,(d-a)/2)}if(u){u.rot(t.rotation);const{x:e,y:i}=t;return{...t,x:e-u.x,y:i-u.y,props:{...t.props,w:c}}}return{...t,props:{...t.props,w:c}}};onDoubleClickEdge=e=>e.props.autoSize?1!==e.props.scale?{id:e.id,type:e.type,props:{scale:1}}:void 0:{id:e.id,type:e.type,props:{autoSize:!0}}}const Ds=p({type:"text",getShapeUtil:()=>Ns,validator:n.TT,migrations:n.pL});function Zs(e,t){const{font:i,text:n,autoSize:s,size:o,w:r}=t,a=Z[o],l=s?"fit-content":Math.floor(Math.max(16,r))+"px",c=e.textMeasure.measureText({...D,text:n,fontFamily:T[i],fontSize:a,width:l});return s&&(c.w+=1),{width:Math.max(16,c.w),height:Math.max(a,c.h)}}class Es extends mn{static type="video";canEdit=()=>!0;isAspectRatioLocked=()=>!0;defaultProps(){return{opacity:"1",w:100,h:100,assetId:null,time:0,playing:!0,url:""}}render(e){return(0,s.jsx)(Ts,{shape:e,videoUtil:this})}indicator(e){return(0,s.jsx)("rect",{width:(0,l.$Z)(e.props.w),height:(0,l.$Z)(e.props.h)})}toSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g"),i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttributeNS("http://www.w3.org/1999/xlink","href",function(e){const t=e.split(":")[1],i=document.querySelector(`.rs-video-shape-${t}`);if(i){const e=document.createElement("canvas");return e.width=i.videoWidth,e.height=i.videoHeight,e.getContext("2d").drawImage(i,0,0),e.toDataURL("image/png")}throw new Error("Video with id "+t+" not found")}(e.id)),i.setAttribute("width",e.props.w.toString()),i.setAttribute("height",e.props.h.toString()),t.appendChild(i),t}}const ks=p({type:"video",getShapeUtil:()=>Es,validator:n.Sx,migrations:n.lY});const Ts=(0,W.j)((function(e){const{shape:t,videoUtil:i}=e,n=i.app.getBounds(t).w*i.app.zoomLevel>=110,o=t.props.assetId?i.app.getAssetById(t.props.assetId):null,{w:r,h:l,time:c,playing:d}=t.props,u=Ci(t.id),h=ye(),p=a.useRef(null),g=a.useCallback((e=>{const n=e.currentTarget;i.app.updateShapes([{type:"video",id:t.id,props:{playing:!0,time:n.currentTime}}])}),[t.id,i.app]),I=a.useCallback((e=>{const n=e.currentTarget;i.app.updateShapes([{type:"video",id:t.id,props:{playing:!1,time:n.currentTime}}])}),[t.id,i.app]),m=a.useCallback((e=>{const n=e.currentTarget;u&&i.app.updateShapes([{type:"video",id:t.id,props:{time:n.currentTime}}])}),[u,t.id,i.app]),[y,b]=a.useState(!1),f=a.useCallback((e=>{const t=e.currentTarget;c!==t.currentTime&&(t.currentTime=c),d||t.pause(),b(!0)}),[d,c]);return a.useEffect((()=>{const e=p.current;e&&y&&!u&&c!==e.currentTime&&(e.currentTime=c)}),[u,y,c]),a.useEffect((()=>{if(h){const e=p.current;e.pause(),e.currentTime=0}}),[p,h]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(hn,{id:t.id,children:(0,s.jsx)("div",{className:"rs-counter-scaled",children:o?.props.src?(0,s.jsx)("video",{ref:p,className:`rs-video rs-video-shape-${t.id.split(":")[1]} rs-hitarea-stroke`,width:"100%",height:"100%",draggable:!1,playsInline:!0,autoPlay:!0,muted:!0,loop:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:u&&n,onPlay:g,onPause:I,onTimeUpdate:m,onLoadedData:f,hidden:!y,children:(0,s.jsx)("source",{src:o.props.src})}):(0,s.jsx)(Nn,{x:(r-38)/2,y:(l-38)/2})})}),"url"in t.props&&t.props.url&&(0,s.jsx)(gn,{url:t.props.url})]})}));class zs{static default=new zs({});storeSchema;shapes;TLShape;tools;constructor({shapes:e=[],tools:t=[],allowUnknownShapes:i=!1}){this.tools=t;const s=[Ln,Ds,Ms,un,ps,ks,as,vs,cs,bn,En,Wn,...e];this.shapes=s;const r=new Set;for(const n of s){if(r.has(n.type))throw new Error(`Shape type ${n.type} is already defined`);r.add(n.type)}const a=(0,o.zn)({currentVersion:n.ml.currentVersion,firstVersion:n.ml.firstVersion,migrators:n.ml.migrators,subTypeKey:"type",subTypeMigrations:Object.fromEntries(s.map((e=>[e.type,e.migrations])))});let l=u.T.union("type",{...Object.fromEntries(s.map((e=>[e.type,e.validator])))});i&&(l=l.validateUnknownVariants((e=>e)));const c=(0,o.ju)("shape",{migrations:a,validator:u.T.model("shape",l)}).withDefaultProperties((()=>({x:0,y:0,rotation:0,isLocked:!1})));this.TLShape=c,this.storeSchema=o.sS.create({asset:n.F7,camera:n.iH,document:n.g3,instance:n.Kj,instance_page_state:n.ww,page:n.rl,shape:c,user:n.bK,user_document:n.lu,user_presence:n.An},{snapshotMigrations:n.el,onValidationFailure:n.VO,ensureStoreIsUsable:n.hK})}createStore(e){let t=e.initialData;return t&&(t=(0,n.fP)(t)),new o.yh({schema:this.storeSchema,initialData:t,props:{userId:e?.userId??n.bK.createId(),instanceId:e?.instanceId??n.Kj.createId(),documentId:n.G4}})}}const Ws=(e,t,i)=>{for(;!n.rl.isId(i.parentId);){const t=e.get(i.parentId);if(!t)return!1;i=t}return i.parentId===t},Ys={top:10,left:10,bottom:10,right:10};function Ps(e){const t=e.getContainer(),i=t.querySelector('*[data-tldraw-area="active-drawing"]'),n={...Ys,width:0,height:0};if(i&&t){const e=t.getBoundingClientRect(),s=i.getBoundingClientRect();n.top=s.top,n.left=s.left,n.bottom=e.height-s.bottom,n.right=e.width-s.right}return n.width=e.viewportScreenBounds.width-n.left-n.right,n.height=e.viewportScreenBounds.height-n.top-n.bottom,n}class Gs{constructor(e){this.app=e,window.addEventListener("resize",this.updateOffsets),this.app.disposables.add(this.dispose)}offsets=(0,d.cn)("activeAreaOffsets",Ys);updateOffsets=()=>{const e=function(e){const t=Ps(e),i=e.camera.z;return t.left/=i,t.right/=i,t.top/=i,t.bottom/=i,t.width/=i,t.height/=i,t}(this.app);this.offsets.set(e)};dispose=()=>{window.addEventListener("resize",this.updateOffsets)}}class Os{constructor(e){this.app=e}state=(0,d.cn)("camera state","idle");timeoutRemaining=0;decay=e=>{this.timeoutRemaining-=e,this.timeoutRemaining<=0&&(this.state.set("idle"),this.app.off("tick",this.decay),this.app.updateCullingBounds())};tick=()=>{this.timeoutRemaining=12,"idle"===this.state.__unsafe__getWithoutCapture()&&(this.state.set("moving"),this.app.on("tick",this.decay))}}class Rs{constructor(e){this.app=e}_clickId="";_clickTimeout;_clickScreenPoint;_previousScreenPoint;_getClickTimeout=(e,t=ue())=>{this._clickId=t,clearTimeout(this._clickTimeout),this._clickTimeout=setTimeout((()=>{if(this._clickState===e&&this._clickId===t){switch(this._clickState){case"pendingTriple":this.app.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break;case"pendingQuadruple":this.app.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break;case"pendingOverflow":this.app.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"})}this._clickState="idle"}}),"idle"===e||"pendingDouble"===e?450:200)};_clickState="idle";get clickState(){return this._clickState}lastPointerInfo={};transformPointerDownEvent=e=>{if(!this._clickState)return e;switch(this._clickScreenPoint=l.GF.From(e.point),this._previousScreenPoint&&this._previousScreenPoint.dist(this._clickScreenPoint)>40&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=e,this._clickState){case"idle":return this._clickState="pendingDouble",this._clickTimeout=this._getClickTimeout(this._clickState),e;case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"quadruple_click",phase:"down"};case"pendingOverflow":return this._clickState="overflow",this._clickTimeout=this._getClickTimeout(this._clickState),e;default:return this._clickTimeout=this._getClickTimeout(this._clickState),e}};transformPointerUpEvent=e=>{if(!this._clickState)return e;switch(this._clickScreenPoint=l.GF.From(e.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"};default:return e}};cancelDoubleClickTimeout=()=>{this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"};handleMove=()=>{"idle"!==this._clickState&&this._clickScreenPoint&&this._clickScreenPoint.dist(this.app.inputs.currentScreenPoint)>4&&this.cancelDoubleClickTimeout()}}class Fs{constructor(e){this.app=e,this.rebind(),this.app.disposables.add(this.dispose)}_currentMM;rebind(){this.dispose(),this._currentMM=this.getMedia(),this._currentMM?.addEventListener("change",this.updateDevicePixelRatio)}dpr=(0,d.cn)("devicePixelRatio","undefined"==typeof window?1:window.devicePixelRatio);getMedia(){if(window.matchMedia)return matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`)}updateDevicePixelRatio=()=>{this.dpr.set(window.devicePixelRatio),this.rebind()};dispose=()=>{this._currentMM?.removeEventListener("change",this.updateDevicePixelRatio)}}class Bs{constructor(e){this.app=e,e.disposables.add(this.dispose)}prevDroppingShapeId=null;currDroppingShapeId=null;droppingNodeTimer=null;updateDroppingNode(e,t){if(null===this.droppingNodeTimer){const{currentPagePoint:i}=this.app.inputs;this.currDroppingShapeId=this.app.getDroppingShape(i,e)?.id??null,this.setDragTimer(e,1e3,t)}else this.app.inputs.pointerVelocity.len()>.5&&(clearInterval(this.droppingNodeTimer),this.setDragTimer(e,100,t))}setDragTimer(e,t,i){this.droppingNodeTimer=setTimeout((()=>{this.app.batch((()=>{this.handleDrag(e,i)})),this.droppingNodeTimer=null}),t)}handleDrag(e,t){const{currentPagePoint:i}=this.app.inputs;e=(0,r.oA)(e.map((e=>this.app.getShapeById(e.id))));const n=this.app.getDroppingShape(i,e)?.id??null;n!==this.currDroppingShapeId&&(this.prevDroppingShapeId=this.currDroppingShapeId,this.currDroppingShapeId=n);const{prevDroppingShapeId:s}=this;if(n===s)return;const o=s&&this.app.getShapeById(s),a=n&&this.app.getShapeById(n);if(this.prevDroppingShapeId=this.currDroppingShapeId,o&&this.app.getShapeUtil(o).onDragShapesOut?.(o,e),a){const t=this.app.getShapeUtil(a).onDragShapesOver?.(a,e);t&&t.shouldHint&&this.app.setHintingIds([a.id])}else this.app.setHintingIds([]);t?.()}dropShapes(e){const{currDroppingShapeId:t}=this;if(this.handleDrag(e),t){const i=this.app.getShapeById(t);if(!i)return;this.app.getShapeUtil(i).onDropShapesOver?.(i,e)}}clear(){this.prevDroppingShapeId=null,this.currDroppingShapeId=null,null!==this.droppingNodeTimer&&clearInterval(this.droppingNodeTimer),this.droppingNodeTimer=null,this.app.setHintingIds([])}dispose=()=>{this.clear()}}function Js(e){if(e){let t=Xs;for(;e.length;)t=t.push(e.pop());return t}return Xs}class Hs{length=0;head=null;tail=this;push(e){return new Vs(e,this)}toArray(){return d.LZ}[Symbol.iterator](){return{next:()=>({value:void 0,done:!0})}}}const Xs=new Hs;class Vs{constructor(e,t){this.head=e,this.tail=t,this.length=t.length+1}length;push(e){return new Vs(e,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let e=this;return{next(){if(e.length){const t=e.head;return e=e.tail,{value:t,done:!1}}return{value:void 0,done:!0}}}}}class _s{constructor(e,t,i){this.ctx=e,this.onBatchComplete=t,this.annotateError=i}_undos=(0,d.cn)("HistoryManager.undos",Js());_redos=(0,d.cn)("HistoryManager.redos",Js());_batchDepth=0;_commands={};get numUndos(){return this._undos.value.length}get numRedos(){return this._redos.value.length}createCommand=(e,t,i)=>{if(this._commands[e])throw new Error(`Duplicate command: ${e}`);this._commands[e]=i;const n=(...s)=>{if(!this._batchDepth)return this.batch((()=>n(...s))),this.ctx;const r=t(...s);if(!r)return this.ctx;const{data:a,ephemeral:l,squashing:c,preservesRedoStack:d}=r;if(this.ignoringUpdates(((e,t)=>(i.do(a),{undos:e,redos:t}))),!l){const t=this._undos.value.head;c&&t&&"command"===t.type&&t.name===e&&t.preservesRedoStack===d?this._undos.update((e=>e.tail.push({...t,id:ue(),data:(0,o.ZV)(i.squash(t.data,a))}))):this._undos.update((t=>t.push({type:"command",name:e,data:(0,o.ZV)(a),id:ue(),preservesRedoStack:d}))),r.preservesRedoStack||this._redos.set(Js()),this.ctx.emit("change-history")}return this.ctx};return n};batch=e=>{try{this._batchDepth++,1===this._batchDepth?(0,d.ay)((()=>{const t=this._undos.value.head?.id;e(),t!==this._undos.value.head?.id&&this.onBatchComplete()})):e()}catch(t){throw this.annotateError(t),t}finally{this._batchDepth--}return this};ignoringUpdates=e=>{let t=this._undos.value,i=this._redos.value;this._undos.set(Js()),this._redos.set(Js());try{({undos:t,redos:i}=(0,d.ay)((()=>e(t,i))))}finally{this._undos.set(t),this._redos.set(i)}};_undo=({pushToRedoStack:e,toMark:t})=>(this.ignoringUpdates(((i,n)=>{if(0===i.length)return this.ctx.emit("change-history"),{undos:i,redos:n};for(;"STOP"===i.head?.type;){const s=i.head;if(i=i.tail,e&&(n=n.push(s)),s.id===t)return this.ctx.emit("change-history"),{undos:i,redos:n}}if(0===i.length)return this.ctx.emit("change-history"),{undos:i,redos:n};for(;i.head;){const s=i.head;if(i=i.tail,e&&(n=n.push(s)),"STOP"===s.type){if(s.onUndo&&(!t||s.id===t))return this.ctx.emit("change-history"),{undos:i,redos:n}}else{this._commands[s.name].undo(s.data)}}return this.ctx.emit("change-history"),{undos:i,redos:n}})),this);undo=()=>(this._undo({pushToRedoStack:!0}),this);redo=()=>(this.ignoringUpdates(((e,t)=>{if(0===t.length)return this.ctx.emit("change-history"),{undos:e,redos:t};for(;"STOP"===t.head?.type;)e=e.push(t.head),t=t.tail;if(0===t.length)return this.ctx.emit("change-history"),{undos:e,redos:t};for(;t.head;){const i=t.head;if(e=e.push(t.head),t=t.tail,"STOP"===i.type){if(i.onRedo)break}else{const e=this._commands[i.name];e.redo?e.redo(i.data):e.do(i.data)}}return this.ctx.emit("change-history"),{undos:e,redos:t}})),this);bail=()=>(this._undo({pushToRedoStack:!1}),this);bailToMark=e=>(this._undo({pushToRedoStack:!1,toMark:e}),this);mark=(e=ue(),t=!0,i=!0)=>{const n=this._undos.value.head;return n&&"STOP"===n.type&&n.id===e&&n.onUndo===t&&n.onRedo===i?n.id:(this._undos.update((n=>n.push({type:"STOP",id:e,onUndo:t,onRedo:i}))),e)};clear(){this._undos.set(Js()),this._redos.set(Js())}}class Us{state;points;size;color;opacity;onUpdate;onComplete;prev=null;next=null;constructor(e){const{size:t=20,color:i="accent",opacity:n=.8,onComplete:s,onUpdate:o}=e;this.onUpdate=o,this.onComplete=s,this.size=t,this.color=i,this.opacity=n,this.points=[],this.state="starting",this.prev=null,this.next=null,this.resume()}resume=()=>{this.state="active"};pause=()=>{this.state="starting"};stop=()=>{this.state="stopping"};addPoint=(e,t)=>{const{prev:i}=this,n={x:e,y:t,z:.5};i&&l.GF.Dist(i,n)<1||(this.next=n)};getScribble(){return{state:this.state,size:this.size,color:this.color,opacity:this.opacity,points:[...this.points]}}updateScribble(){this.onUpdate(this.getScribble())}timeoutMs=0;tick=e=>{this.timeoutMs+=e,this.timeoutMs>=16&&(this.timeoutMs=0);const{timeoutMs:t,state:i,prev:n,next:s,points:o}=this;switch(i){case"active":s&&s!==n?(this.prev=s,o.push(s),o.length>8&&o.shift(),this.updateScribble()):0===t&&o.length>1&&(o.shift(),this.updateScribble());break;case"stopping":if(0===t){if(1===o.length)return this.state="paused",void this.onComplete();this.size*=.9,o.shift(),this.updateScribble()}}}}var Ks=Object.defineProperty,Qs=Object.getOwnPropertyDescriptor,qs=(e,t,i,n)=>{for(var s,o=n>1?void 0:n?Qs(t,i):t,r=e.length-1;r>=0;r--)(s=e[r])&&(o=(n?s(t,i,o):s(o))||o);return n&&o&&Ks(t,i,o),o};const $s=e=>Math.round(e*10**8)/10**8;function eo(e,t,i,n,s){const o=e.filter((e=>("forward"===n?e.startNode.id===t:e.endNode.id===t)&&$s(e.length)===$s(i)&&(0,l.mW)(e.breadthIntersection[0],e.breadthIntersection[1],s[0],s[1])));if(0===o.length)return[];const r=new Set;for(const a of o){const t="forward"===n?a.endNode.id:a.startNode.id;r.has(t)||(r.add(t),o.push(...eo(e,t,i,n,(0,l.mW)(a.breadthIntersection[0],a.breadthIntersection[1],s[0],s[1]))))}return o}class to{constructor(e){this.app=e}_snapLines=(0,d.cn)("snapLines",void 0);get lines(){return this._snapLines.value??d.LZ}clear(){this.lines.length&&this._snapLines.set(void 0)}setLines(e){this._snapLines.set(e)}get snapPointsCache(){return this.app.store.createComputedCache("snapPoints",(e=>{const t=this.app.getPageTransformById(e.id);if(!t)return;return this.app.getShapeUtil(e).snapPoints(e).map(((i,n)=>{const{x:s,y:o}=l.yX.applyToPoint(t,i);return{x:s,y:o,id:`${e.id}:${n}`}}))}))}get snapThreshold(){return 8/this.app.camera.z}get visibleShapesNotInSelection(){const e=this.app.selectedIds,t=new Set,i=n=>{const s=this.app.getSortedChildIds(n);for(const o of s){const n=this.app.getShapeById(o);n&&("arrow"!==n.type&&(e.includes(o)||this.app.isShapeInViewport(n.id)&&("group"!==n.type?(t.add({id:n.id,pageBounds:this.app.getPageBoundsById(n.id)}),"frame"!==n.type&&i(o)):i(o))))}},n=this.app.findCommonAncestor((0,r.oA)(e.map((e=>this.app.getShapeById(e)))),(e=>"frame"===e.type));return i(n??this.app.currentPageId),t}get visibleSnapPointsNotInSelection(){const e=[];for(const t of this.visibleShapesNotInSelection){const i=this.snapPointsCache.get(t.id);i&&e.push(...i)}return e}get visibleGaps(){const e=[],t=[],i=[...this.visibleShapesNotInSelection].sort(((e,t)=>e.pageBounds.minX-t.pageBounds.minX));for(let s=0;s<i.length;s++){const t=i[s];for(let n=s+1;n<i.length;n++){const s=i[n];t.pageBounds.maxX<s.pageBounds.minX&&(0,l.ep)(t.pageBounds.minY,t.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)&&e.push({startNode:t,endNode:s,startEdge:[new l.GF(t.pageBounds.maxX,t.pageBounds.minY),new l.GF(t.pageBounds.maxX,t.pageBounds.maxY)],endEdge:[new l.GF(s.pageBounds.minX,s.pageBounds.minY),new l.GF(s.pageBounds.minX,s.pageBounds.maxY)],length:s.pageBounds.minX-t.pageBounds.maxX,breadthIntersection:(0,l.mW)(t.pageBounds.minY,t.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)})}}const n=i.slice(0).sort(((e,t)=>e.pageBounds.minY-t.pageBounds.minY));for(let s=0;s<n.length;s++){const e=n[s];for(let i=s+1;i<n.length;i++){const s=n[i];e.pageBounds.maxY<s.pageBounds.minY&&(0,l.ep)(e.pageBounds.minX,e.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)&&t.push({startNode:e,endNode:s,startEdge:[new l.GF(e.pageBounds.minX,e.pageBounds.maxY),new l.GF(e.pageBounds.maxX,e.pageBounds.maxY)],endEdge:[new l.GF(s.pageBounds.minX,s.pageBounds.minY),new l.GF(s.pageBounds.maxX,s.pageBounds.minY)],length:s.pageBounds.minY-e.pageBounds.maxY,breadthIntersection:(0,l.mW)(e.pageBounds.minX,e.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)})}}return{horizontal:e,vertical:t}}snapTranslate({lockedAxis:e,initialSelectionPageBounds:t,initialSelectionSnapPoints:i,dragDelta:n}){const s="x"===e,o="y"===e,r=t.clone().translate(n),a=i.map((({x:e,y:t},i)=>({id:"selection:"+i,x:e+n.x,y:t+n.y}))),c=this.visibleSnapPointsNotInSelection,d=[],u=[],h=new l.GF(this.snapThreshold,this.snapThreshold);this.findPointSnaps({minOffset:h,nearestSnapsX:d,nearestSnapsY:u,otherNodeSnapPoints:c,selectionSnapPoints:a}),this.findGapSnaps({selectionPageBounds:r,nearestSnapsX:d,nearestSnapsY:u,minOffset:h});const p=new l.GF(s?0:d[0]?.nudge??0,o?0:u[0]?.nudge??0);h.x=0,h.y=0,d.length=0,u.length=0,a.forEach((e=>{e.x+=p.x,e.y+=p.y})),r.translate(p),this.findPointSnaps({minOffset:h,nearestSnapsX:d,nearestSnapsY:u,otherNodeSnapPoints:c,selectionSnapPoints:a}),this.findGapSnaps({selectionPageBounds:r,nearestSnapsX:d,nearestSnapsY:u,minOffset:h});const g=this.getPointSnapLines({nearestSnapsX:d,nearestSnapsY:u}),I=this.getGapSnapLines({selectionPageBounds:r,nearestSnapsX:d,nearestSnapsY:u});return this._snapLines.set([...I,...g]),{nudge:p}}snapLineHandleTranslate({lineId:e,handleId:t,handlePoint:i}){const n=this.app.getShapeById(e);if(!n)return{nudge:new l.GF(0,0)};const s=this.app.getShapeUtilByDef(Ms).handles(n).sort(Fe);if(s.length<3)return{nudge:new l.GF(0,0)};const o=s.findIndex((e=>e.id===t)),r="vertex"===s[o].type?o/2:(o+1)/2,a=As(n),c=this.app.getPageTransform(n),d=a.segments.slice(0,Math.max(0,r-1)).map((e=>l.yX.applyToPoints(c,e.lut))),u=a.segments.slice(r+1).map((e=>l.yX.applyToPoints(c,e.lut)));return this.snapHandleTranslate({handlePoint:i,additionalOutlines:[...d,...u]})}snapHandleTranslate({handlePoint:e,additionalOutlines:t=[]}){const i=this.visibleShapesNotInSelection,n=[];for(const a of i){const e=this.app.getShapeById(a.id);if("text"===e.type||"icon"===e.type)continue;const t=(0,r.p$)(this.app.getOutlineById(a.id)),i=this.app.getShapeUtil(e).isClosed?.(e);i&&t.push(t[0]),n.push(l.yX.applyToPoints(this.app.getPageTransformById(e.id),t))}let s=this.snapThreshold,o=null;for(const r of[...n,...t])for(let t=0;t<r.length-1;t++){const i=r[t],n=r[t+1],a=l.GF.DistanceToLineSegment(i,n,e);isNaN(a)||a<s&&(s=a,o=l.GF.NearestPointOnLineSegment(i,n,e))}if(o){const t=[];return t.push({id:ue(),type:"points",points:[o]}),this._snapLines.set(t),{nudge:l.GF.Sub(o,e)}}return{nudge:new l.GF(0,0)}}snapResize({initialSelectionPageBounds:e,dragDelta:t,handle:i,isAspectRatioLocked:n,isResizingFromCenter:s}){const{box:o,scaleX:r,scaleY:a}=l.No.Resize(e,i,s?2*t.x:t.x,s?2*t.y:t.y,n);let c=i;r<0&&(c=(0,l.Ee)(c)),a<0&&(c=(0,l.Op)(c)),s&&(o.center=e.center);const d="top"===c||"bottom"===c,u="left"===c||"right"===c,h=io(c,o),p=this.visibleSnapPointsNotInSelection,g=[],I=[],m=new l.GF(this.snapThreshold,this.snapThreshold);this.findPointSnaps({minOffset:m,nearestSnapsX:g,nearestSnapsY:I,otherNodeSnapPoints:p,selectionSnapPoints:h});const y=new l.GF(d?0:g[0]?.nudge??0,u?0:I[0]?.nudge??0);if(n&&(0,l.m3)(c)&&0!==y.len()){const t=g.length&&I.length?Math.abs(y.x)<Math.abs(y.y)?"x":"y":g.length?"x":"y",i=e.aspectRatio;"x"===t?(I.length=0,y.y=y.x/i,"bottom_left"!==c&&"top_right"!==c||(y.y=-y.y)):(g.length=0,y.x=y.y*i,"bottom_left"!==c&&"top_right"!==c||(y.x=-y.x))}const b=l.GF.Add(t,y),{box:f}=l.No.Resize(e,i,s?2*b.x:b.x,s?2*b.y:b.y,n);s&&(f.center=e.center);const C=io("any",f);g.length=0,I.length=0,m.x=0,m.y=0,this.findPointSnaps({minOffset:m,nearestSnapsX:g,nearestSnapsY:I,otherNodeSnapPoints:p,selectionSnapPoints:C});const w=this.getPointSnapLines({nearestSnapsX:g,nearestSnapsY:I});return this._snapLines.set([...w]),{nudge:y}}findPointSnaps({selectionSnapPoints:e,otherNodeSnapPoints:t,minOffset:i,nearestSnapsX:n,nearestSnapsY:s}){for(const o of e)for(const e of t){const t=l.GF.Sub(o,e),r=Math.abs(t.x),a=Math.abs(t.y);$s(r)<=$s(i.x)&&($s(r)<$s(i.x)&&(n.length=0),n.push({type:"points",points:{thisPoint:o,otherPoint:e},nudge:e.x-o.x}),i.x=r),$s(a)<=$s(i.y)&&($s(a)<$s(i.y)&&(s.length=0),s.push({type:"points",points:{thisPoint:o,otherPoint:e},nudge:e.y-o.y}),i.y=a)}}findGapSnaps({selectionPageBounds:e,minOffset:t,nearestSnapsX:i,nearestSnapsY:n}){for(const s of this.visibleGaps.horizontal){if(!(0,l.ep)(s.breadthIntersection[0],s.breadthIntersection[1],e.minY,e.maxY))continue;const n=s.startEdge[0].x+s.length/2-e.center.x;if(s.length>e.width&&$s(Math.abs(n))<=$s(t.x)){$s(Math.abs(n))<$s(t.x)&&(i.length=0),t.x=Math.abs(n);const e={type:"gap_center",gap:s,nudge:n},o=i.find((({type:e})=>"gap_center"===e)),r=o&&(0,l.mW)(s.breadthIntersection[0],s.breadthIntersection[1],o.gap.breadthIntersection[0],o.gap.breadthIntersection[1]);o&&o.gap.length>s.length&&r?i[i.indexOf(o)]=e:o&&r||i.push(e)}const o=s.startNode.pageBounds.minX-s.length-e.maxX;$s(Math.abs(o))<=$s(t.x)&&($s(Math.abs(o))<$s(t.x)&&(i.length=0),t.x=Math.abs(o),i.push({type:"gap_duplicate",gap:s,protrusionDirection:"left",nudge:o}));const r=s.endNode.pageBounds.maxX+s.length-e.minX;$s(Math.abs(r))<=$s(t.x)&&($s(Math.abs(r))<$s(t.x)&&(i.length=0),t.x=Math.abs(r),i.push({type:"gap_duplicate",gap:s,protrusionDirection:"right",nudge:r}))}for(const s of this.visibleGaps.vertical){if(!(0,l.ep)(s.breadthIntersection[0],s.breadthIntersection[1],e.minX,e.maxX))continue;const i=s.startEdge[0].y+s.length/2-e.center.y;if(s.length>e.height&&$s(Math.abs(i))<=$s(t.y)){$s(Math.abs(i))<$s(t.y)&&(n.length=0),t.y=Math.abs(i);const e={type:"gap_center",gap:s,nudge:i},o=n.find((({type:e})=>"gap_center"===e)),r=o&&(0,l.ep)(o.gap.breadthIntersection[0],o.gap.breadthIntersection[1],s.breadthIntersection[0],s.breadthIntersection[1]);o&&o.gap.length>s.length&&r?n[n.indexOf(o)]=e:o&&r||n.push(e);continue}const o=s.startNode.pageBounds.minY-s.length-e.maxY;$s(Math.abs(o))<=$s(t.y)&&($s(Math.abs(o))<$s(t.y)&&(n.length=0),t.y=Math.abs(o),n.push({type:"gap_duplicate",gap:s,protrusionDirection:"top",nudge:o}));const r=s.endNode.pageBounds.maxY+s.length-e.minY;$s(Math.abs(r))<=$s(t.y)&&($s(Math.abs(r))<$s(t.y)&&(n.length=0),t.y=Math.abs(r),n.push({type:"gap_duplicate",gap:s,protrusionDirection:"bottom",nudge:r}))}}getPointSnapLines({nearestSnapsX:e,nearestSnapsY:t}){const i={},n={},s=[];if(e.length>0)for(const o of e)if("points"===o.type){const e=$s(o.points.otherPoint.x);i[e]||(i[e]=[]),i[e].push(o.points)}if(t.length>0)for(const o of t)if("points"===o.type){const e=$s(o.points.otherPoint.y);n[e]||(n[e]=[]),n[e].push(o.points)}for(const[o,a]of Object.entries(i).concat(Object.entries(n)))s.push({id:ue(),type:"points",points:(0,r.D8)(a.map((e=>l.GF.From(e.otherPoint))).concat(a.map((e=>l.GF.From(e.thisPoint)))),((e,t)=>e.equals(t)))});return s}getGapSnapLines({selectionPageBounds:e,nearestSnapsX:t,nearestSnapsY:i}){const n={top:e.sides[0],right:e.sides[1],bottom:[e.corners[3],e.corners[2]],left:[e.corners[0],e.corners[3]]},s=[];if(t.length>0)for(const o of t){if("gap_center"===o.type){const t=(o.gap.length-e.width)/2,i=(0,l.mW)(o.gap.breadthIntersection[0],o.gap.breadthIntersection[1],e.minY,e.maxY);s.push({type:"gaps",direction:"horizontal",id:ue(),gaps:[...eo(this.visibleGaps.horizontal,o.gap.startNode.id,t,"backward",i),{startEdge:o.gap.startEdge,endEdge:n.left},{startEdge:n.right,endEdge:o.gap.endEdge},...eo(this.visibleGaps.horizontal,o.gap.endNode.id,t,"forward",i)]})}if("gap_duplicate"===o.type){const t=(0,l.mW)(o.gap.breadthIntersection[0],o.gap.breadthIntersection[1],e.minY,e.maxY);s.push({type:"gaps",direction:"horizontal",id:ue(),gaps:"left"===o.protrusionDirection?[{startEdge:n.right,endEdge:[l.GF.Add(o.gap.startEdge[0],{x:-o.gap.startNode.pageBounds.width,y:0}),l.GF.Add(o.gap.startEdge[1],{x:-o.gap.startNode.pageBounds.width,y:0})]},{startEdge:o.gap.startEdge,endEdge:o.gap.endEdge},...eo(this.visibleGaps.horizontal,o.gap.endNode.id,o.gap.length,"forward",t)]:[...eo(this.visibleGaps.horizontal,o.gap.startNode.id,o.gap.length,"backward",t),{startEdge:o.gap.startEdge,endEdge:o.gap.endEdge},{startEdge:[l.GF.Add(o.gap.endEdge[0],{x:o.gap.endNode.pageBounds.width,y:0}),l.GF.Add(o.gap.endEdge[1],{x:o.gap.endNode.pageBounds.width,y:0})],endEdge:n.left}]})}}if(i.length>0)for(const o of i){if("gap_center"===o.type){const t=(o.gap.length-e.height)/2,i=(0,l.mW)(o.gap.breadthIntersection[0],o.gap.breadthIntersection[1],e.minX,e.maxX);s.push({type:"gaps",direction:"vertical",id:ue(),gaps:[...eo(this.visibleGaps.vertical,o.gap.startNode.id,t,"backward",i),{startEdge:o.gap.startEdge,endEdge:n.top},{startEdge:n.bottom,endEdge:o.gap.endEdge},...eo(this.visibleGaps.vertical,o.gap.endNode.id,t,"forward",i)]})}if("gap_duplicate"===o.type){const t=(0,l.mW)(o.gap.breadthIntersection[0],o.gap.breadthIntersection[1],e.minX,e.maxX);s.push({type:"gaps",direction:"vertical",id:ue(),gaps:"top"===o.protrusionDirection?[{startEdge:n.bottom,endEdge:[l.GF.Add(o.gap.startEdge[0],{x:0,y:-o.gap.startNode.pageBounds.height}),l.GF.Add(o.gap.startEdge[1],{x:0,y:-o.gap.startNode.pageBounds.height})]},{startEdge:o.gap.startEdge,endEdge:o.gap.endEdge},...eo(this.visibleGaps.vertical,o.gap.endNode.id,o.gap.length,"forward",t)]:[...eo(this.visibleGaps.vertical,o.gap.startNode.id,o.gap.length,"backward",t),{startEdge:o.gap.startEdge,endEdge:o.gap.endEdge},{startEdge:[l.GF.Add(o.gap.endEdge[0],{x:0,y:o.gap.endNode.pageBounds.height}),l.GF.Add(o.gap.endEdge[1],{x:0,y:o.gap.endNode.pageBounds.height})],endEdge:n.top}]})}}return function(e){e.sort(((e,t)=>t.gaps.length-e.gaps.length));for(let t=e.length-1;t>0;t--){const i=e[t];for(let n=t-1;n>=0;n--){const s=e[n];if(s.direction===i.direction&&i.gaps.every((e=>s.gaps.some((t=>$s(e.startEdge[0].x)===$s(t.startEdge[0].x)&&$s(e.startEdge[0].y)===$s(t.startEdge[0].y)&&$s(e.startEdge[1].x)===$s(t.startEdge[1].x)&&$s(e.startEdge[1].y)===$s(t.startEdge[1].y)))&&s.gaps.some((t=>$s(e.endEdge[0].x)===$s(t.endEdge[0].x)&&$s(e.endEdge[0].y)===$s(t.endEdge[0].y)&&$s(e.endEdge[1].x)===$s(t.endEdge[1].x)&&$s(e.endEdge[1].y)===$s(t.endEdge[1].y)))))){e.splice(t,1);break}}}}(s),s}}function io(e,t){const{minX:i,maxX:n,minY:s,maxY:o}=t,r=[];switch(e){case"top":case"left":case"top_left":case"any":r.push({id:"top_left",handle:"top_left",x:i,y:s})}switch(e){case"top":case"right":case"top_right":case"any":r.push({id:"top_right",handle:"top_right",x:n,y:s})}switch(e){case"bottom":case"right":case"bottom_right":case"any":r.push({id:"bottom_right",handle:"bottom_right",x:n,y:o})}switch(e){case"bottom":case"left":case"bottom_left":case"any":r.push({id:"bottom_left",handle:"bottom_left",x:i,y:o})}return r}qs([d.Fl],to.prototype,"snapPointsCache",1),qs([d.Fl],to.prototype,"visibleShapesNotInSelection",1),qs([d.Fl],to.prototype,"visibleSnapPointsNotInSelection",1),qs([d.Fl],to.prototype,"visibleGaps",1);const no=new RegExp(`${[32,160,4961,65792,65793,4153,4241].map((e=>String.fromCodePoint(e))).join("|")}`),so={start:"left",middle:"center",end:"right",justify:"justify"};class oo{constructor(e){this.app=e}getTextElement(){const e=document.createElement("div");return this.app.getContainer().appendChild(e),e.id=`__textMeasure_${ue()}`,e.classList.add("rs-text"),e.classList.add("rs-text-measure"),e.tabIndex=-1,e}measureText=e=>{const t=this.getTextElement();t.setAttribute("dir","ltr"),t.style.setProperty("font-family",e.fontFamily),t.style.setProperty("font-style",e.fontStyle),t.style.setProperty("font-weight",e.fontWeight),t.style.setProperty("font-size",e.fontSize+"px"),t.style.setProperty("line-height",e.lineHeight*e.fontSize+"px"),t.style.setProperty("width",e.width),t.style.setProperty("min-width",e.minWidth??null),t.style.setProperty("max-width",e.maxWidth),t.style.setProperty("padding",e.padding),t.textContent=qi.normalizeTextForDom(e.text);const i=t.getBoundingClientRect();return t.remove(),{x:0,y:0,w:i.width,h:i.height}};getTextLines(e){const t=this.getTextElement();t.style.setProperty("width",e.width-2*e.padding+"px"),t.style.setProperty("height","min-content"),t.style.setProperty("dir","ltr"),t.style.setProperty("font-size",e.fontSize+"px"),t.style.setProperty("font-family",e.fontFamily),t.style.setProperty("font-weight",e.fontWeight),t.style.setProperty("line-height",e.lineHeight*e.fontSize+"px"),t.style.setProperty("text-align",so[e.textAlign]);const i=[];e.text.split(no).flatMap((e=>e.split("\n").map((e=>e.trim())).join("\n")));for(const d of e.text.split(no))if(d.includes("\n")){const e=d.split("\n");for(let t=0;t<e.length;t++)e[t]=e[t].trim(),e[t]&&i.push(e[t]),t<e.length-1&&i.push("\n")}else i.push(d);const n=[];for(let d=0;d<i.length;d++){const e=i[d];n.push(e),"\n"===e&&""===i[d+1]&&d++}let s=n.length-1;for(;""===n[s]&&(n.pop(),0!==s);)s--;let o=[];const r=[];t.textContent="";let a=t.offsetHeight,l=t.textContent;for(let d=0;d<n.length;d++){const i=n[d],s="\n"===i?i:`${i} `;t.textContent+=s;if(t.offsetHeight<=a)o.push(o.length?" "+i.trim():i.trim());else if(e.wrap&&"\n"!==i){const e=t.textContent;t.textContent=l,t.textContent+="\n";const n=[...i];t.textContent+=n[0],a=t.offsetHeight;let s=[n[0]];const c=[s];for(let i=1;i<n.length;i++){const e=n[i];t.textContent+=e;const o=t.offsetHeight;o>a?(s=[e],c.push(s),a=o):s.push(e)}const d=c.map((e=>[e.join("")]));r.push(...d),o=r[r.length-1],t.textContent=e,a=t.offsetHeight}else o=[],r.push(o);l=t.textContent}const c=r.map((e=>e.join("").trim()));return t.remove(),c}}class ro{constructor(e){this.app=e,this.app.disposables.add(this.dispose),this.start()}raf;isPaused=!0;last=0;t=0;start=()=>{this.isPaused=!1,cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame(this.tick),this.last=Date.now()};tick=()=>{if(this.isPaused)return;const e=Date.now(),t=e-this.last;this.last=e,this.t+=t,this.t<16||(this.t-=16,this.updatePointerVelocity(t),this.app.emit("tick",t)),this.raf=requestAnimationFrame(this.tick)};dispose=()=>{this.isPaused=!0,cancelAnimationFrame(this.raf)};prevPoint=new l.GF;updatePointerVelocity=e=>{const{prevPoint:t,app:{inputs:{currentScreenPoint:i,pointerVelocity:n}}}=this;if(0===e)return;const s=l.GF.Sub(i,t);this.prevPoint=i.clone();const o=s.len(),r=o?s.div(o):new l.GF(0,0),a=n.clone().lrp(r.mul(o/e),.5);Math.abs(a.x)<.01&&(a.x=0),Math.abs(a.y)<.01&&(a.y=0),n.equals(a)||(this.app.inputs.pointerVelocity=a)}}const ao={wheel:"onWheel",pointer_enter:"onPointerEnter",pointer_leave:"onPointerLeave",pointer_down:"onPointerDown",pointer_move:"onPointerMove",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick"};class lo{constructor(e,t){this.app=e;const{id:i,children:n,initial:s}=this.constructor;this.id=i,this.current=(0,d.cn)("toolState"+this.id,void 0),this.path=(0,d.Fl)("toolPath"+this.id,(()=>{const e=this.current.value;return this.id+(e?`.${e.path.value}`:"")})),this.parent=t??{},this.parent?n&&s?(this.type="branch",this.initial=s,this.children=Object.fromEntries(n().map((e=>[e.id,new e(this.app,this)]))),this.current.set(this.children[this.initial])):this.type="leaf":(this.type="root",n&&s&&(this.initial=s,this.children=Object.fromEntries(n().map((e=>[e.id,new e(this.app,this)]))),this.current.set(this.children[this.initial])))}path;static id;static initial;static children;id;current;type;styles=[];initial;children;parent;isActive=!1;transition(e,t){const i=e.split(".");let n=this;for(let s=0;s<i.length;s++){const e=i[s],o=n.current.value,r=n.children?.[e];if(!r)throw Error(`${n.id} - no child state exists with the id ${e}.`);if(o?.id!==r.id&&(o?.exit(t,e),n.current.set(r),r.enter(t,o?.id||"initial"),!r.isActive))break;n=r}return this}handleEvent(e){const t=ao[e.name],i=this.current.value;this[t]?.(e),this.current.value===i&&this.isActive&&i?.handleEvent(e)}enter(e,t){if(this.isActive=!0,this.onEnter?.(e,t),this.children&&this.initial&&this.isActive){const i=this.children[this.initial];this.current.set(i),i.enter(e,t)}}exit(e,t){this.isActive=!1,this.onExit?.(e,t),this.isActive||this.current.value?.exit(e,t)}onWheel;onPointerEnter;onPointerLeave;onPointerDown;onPointerMove;onPointerUp;onDoubleClick;onTripleClick;onQuadrupleClick;onRightClick;onMiddleClick;onKeyDown;onKeyUp;onCancel;onComplete;onInterrupt;onEnter;onExit}class co extends lo{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.app.setCursor({type:"cross"})};onCancel=()=>{this.app.setSelectedTool("select")}}class uo extends lo{static id="pointing";shapeType="";shape;preciseTimeout=-1;didTimeout=!1;startPreciseTimeout(){this.preciseTimeout=window.setTimeout((()=>{this.isActive&&this.shape&&(this.didTimeout=!0)}),300)}clearPreciseTimeout(){clearTimeout(this.preciseTimeout)}onEnter=()=>{const{inputs:{currentPagePoint:e}}=this.app;this.didTimeout=!1,this.shapeType=this.parent.shapeType,this.app.mark("creating");const t=(0,n.F1)();this.app.createShapes([{id:t,type:this.shapeType,x:e.x,y:e.y}]);const i=this.app.getShapeUtilByDef(un),s=this.app.getShapeById(t);if(!s)return;const o=i.handles?.(s);if(o){const t=this.app.getPointInShapeSpace(s,e),n=i.onHandleChange?.(s,{handle:{...o[0],x:t.x,y:t.y},isPrecise:!0});if(n){const e=n.props?.start;"binding"===e?.type&&this.app.setHintingIds([e.boundShapeId]),this.app.updateShapes([n],!0)}}this.app.select(t),this.shape=this.app.getShapeById(t),this.startPreciseTimeout()};onExit=()=>{this.clearPreciseTimeout()};onPointerMove=()=>{if(this.shape&&this.app.inputs.isDragging){const e=this.app.getShapeUtil(this.shape),t=e.handles?.(this.shape);if(!t)throw this.app.bailToMark("creating"),Error("No handles found");if(!this.didTimeout){const e=this.app.getShapeUtilByDef(un),t=this.app.getShapeById(this.shape.id);if(!t)return;const i=e.handles(t);if(i){const{x:n,y:s}=this.app.getPointInShapeSpace(t,this.app.inputs.originPagePoint),o=e.onHandleChange?.(t,{handle:{...i[0],x:n,y:s},isPrecise:!1});o&&this.app.updateShapes([o],!0)}}this.app.setSelectedTool("select.dragging_handle",{shape:this.shape,handle:t.find((e=>"end"===e.id)),isCreating:!0,onInteractionEnd:"arrow"})}};onPointerUp=()=>{this.cancel()};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.app.bailToMark("creating"),this.app.setHintingIds([]),this.parent.transition("idle",{})}}class ho extends lo{static id="arrow";static initial="idle";static children=()=>[co,uo];shapeType="arrow";styles=["color","opacity","dash","size","arrowheadStart","arrowheadEnd","font","fill"]}class po extends lo{static id="drawing";info={};initialShape;util=this.app.getShapeUtilByDef(Ln);isPen=!1;segmentMode="free";didJustShiftClickToExtendPreviousShapeLine=!1;pagePointWhereCurrentSegmentChanged={};pagePointWhereNextSegmentChanged=null;lastRecordedPoint={};mergeNextPoint=!1;canDraw=!1;onEnter=e=>{this.info=e,this.canDraw=!this.app.isMenuOpen,this.lastRecordedPoint=this.app.inputs.currentPagePoint.clone(),this.canDraw&&this.startShape()};onPointerMove=()=>{const{app:{inputs:e}}=this;this.isPen!==e.isPen&&this.cancel(),!this.canDraw&&e.isDragging&&(this.startShape(),this.canDraw=!0),this.canDraw&&(e.isPen?l.GF.Dist(e.currentPagePoint,this.lastRecordedPoint)>=1/this.app.camera.z?(this.lastRecordedPoint=e.currentPagePoint.clone(),this.mergeNextPoint=!1):this.mergeNextPoint=!0:this.mergeNextPoint=!1,this.updateShapes())};onKeyDown=e=>{if("Shift"===e.key)switch(this.segmentMode){case"free":this.segmentMode="starting_straight",this.pagePointWhereNextSegmentChanged=this.app.inputs.currentPagePoint.clone();break;case"starting_free":this.segmentMode="starting_straight"}this.updateShapes()};onKeyUp=e=>{if("Shift"===e.key)switch(this.app.snaps.clear(),this.segmentMode){case"straight":this.segmentMode="starting_free",this.pagePointWhereNextSegmentChanged=this.app.inputs.currentPagePoint.clone();break;case"starting_straight":this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free"}this.updateShapes()};onExit=()=>{this.app.snaps.clear(),this.pagePointWhereCurrentSegmentChanged=this.app.inputs.currentPagePoint.clone()};getIsClosed(e,t){const i=e[0].points[0],n=e[e.length-1],s=n.points[n.points.length-1];return l.GF.Dist(i,s)<2*this.app.getStrokeWidth(t)}startShape(){const{inputs:{originPagePoint:e,isPen:t}}=this.app;this.app.mark("draw create start"),this.isPen=t;const i=this.isPen?1.25*this.info.point.z:.5;if(this.segmentMode=this.app.inputs.shiftKey?"straight":"free",this.didJustShiftClickToExtendPreviousShapeLine=!1,this.lastRecordedPoint=e.clone(),this.initialShape){const t=this.app.getShapeById(this.initialShape.id);if(t&&"straight"===this.segmentMode){this.didJustShiftClickToExtendPreviousShapeLine=!0;const i=(0,r.Z$)(t.props.segments);if(!i)throw Error("Expected a previous segment!");const n=(0,r.Z$)(i.points);if(!n)throw Error("Expected a previous point!");const{x:s,y:o}=this.app.getPointInShapeSpace(t,e).toFixed(),a=this.isPen?1.25*this.info.point.z:.5,c={type:this.segmentMode,points:[{x:n.x,y:n.y,z:+a.toFixed(2)},{x:s,y:o,z:+a.toFixed(2)}]},d=l.yX.applyToPoint(this.app.getPageTransformById(t.id),n);this.pagePointWhereCurrentSegmentChanged=d,this.pagePointWhereNextSegmentChanged=null;const u=[...t.props.segments,c];return void this.app.updateShapes([{id:t.id,type:"draw",props:{segments:u,isClosed:this.getIsClosed(u,t.props.size)}}])}}this.pagePointWhereCurrentSegmentChanged=e.clone();const s=(0,n.F1)();this.app.createShapes([{id:s,type:"draw",x:e.x,y:e.y,props:{isPen:this.isPen,segments:[{type:this.segmentMode,points:[{x:0,y:0,z:+i.toFixed(2)}]}]}}]),this.initialShape=this.app.getShapeById(s)}updateShapes(){const{inputs:e}=this.app,{initialShape:t}=this;if(!t)return;const{id:i,props:{size:n}}=t,s=this.app.getShapeById(i);if(!s)return;const{segments:o}=s.props,{x:a,y:c,z:d}=this.app.getPointInShapeSpace(s,e.currentPagePoint).toFixed(),u={x:a,y:c,z:this.isPen?+(1.25*d).toFixed(2):.5};switch(this.segmentMode){case"starting_straight":{const{pagePointWhereNextSegmentChanged:t}=this;if(null===t)throw Error("We should have a point where the segment changed");if(l.GF.Dist(t,e.currentPagePoint)>4){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="straight";const e=(0,r.Z$)(o);if(!e)throw Error("Expected a previous segment!");const t=(0,r.Z$)(e.points);if(!t)throw Error("Expected a previous last point!");let a;if("straight"===e.type){a={type:"straight",points:[{...t},this.app.getPointInShapeSpace(s,this.pagePointWhereCurrentSegmentChanged).toFixed().toJson()]};const e=this.app.getPageTransform(s);this.pagePointWhereCurrentSegmentChanged=l.yX.applyToPoint(e,t)}else a={type:"straight",points:[this.app.getPointInShapeSpace(s,this.pagePointWhereCurrentSegmentChanged).toFixed().toJson(),u]};this.app.updateShapes([{id:i,type:"draw",props:{segments:[...o,a],isClosed:this.getIsClosed(o,n)}}],!0)}break}case"starting_free":{const{pagePointWhereNextSegmentChanged:t}=this;if(null===t)throw Error("We should have a point where the segment changed");if(l.GF.Dist(t,e.currentPagePoint)>4){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";const e=o.slice(),t=e[e.length-1],s=(0,r.Z$)(t.points);if(!s)throw Error("No previous point!");const a={type:"free",points:[...l.GF.PointsBetween(s,u,6).map((e=>e.toFixed().toJson()))]};this.app.updateShapes([{id:i,type:"draw",props:{segments:[...e,a],isClosed:this.getIsClosed(o,n)}}],!0)}break}case"straight":{const e=o.slice(),t=e[e.length-1],{pagePointWhereCurrentSegmentChanged:a}=this,{currentPagePoint:c,ctrlKey:d}=this.app.inputs;if(!a)throw Error("We should have a point where the segment changed");let u,h=!1;this.didJustShiftClickToExtendPreviousShapeLine?this.app.inputs.isDragging&&(h=!d,this.didJustShiftClickToExtendPreviousShapeLine=!1):h=!d;let p,g=this.app.getPointInShapeSpace(s,c).toFixed().toJson(),I=!1;if((this.app.userDocumentSettings.isSnapMode?!d:d)&&e.length>2){let e,t=8/this.app.camera.z;for(let i=0,n=o.length-2;i<n;i++){const n=o[i];if(!n)break;if("free"===n.type)continue;const s=n.points[0],a=(0,r.Z$)(n.points);if(!s||!a)continue;const c=l.GF.NearestPointOnLineSegment(s,a,g),d=l.GF.Dist(c,g);if(d<t){e=c.toFixed().toJson(),t=d,p=n;break}}e&&(I=!0,g=e)}if(I&&p){const e=this.app.getPageTransform(s),t=p.points[0],i=(0,r.Z$)(p.points);if(!i)throw Error("Expected a last point!");const n=l.yX.applyToPoint(e,t),o=l.yX.applyToPoint(e,i),a=l.yX.applyToPoint(e,g);this.app.snaps.setLines([{id:ue(),type:"points",points:[n,a,o]}])}else{if(this.app.snaps.clear(),h){const e=l.GF.Angle(a,c),t=(0,l.nD)(e,24)-e;u=l.GF.RotWith(c,a,t)}else u=c;g=this.app.getPointInShapeSpace(s,u).toFixed().toJson()}e[e.length-1]={...t,type:"straight",points:[t.points[0],g]},this.app.updateShapes([{id:i,type:"draw",props:{segments:e,isClosed:this.getIsClosed(o,n)}}],!0);break}case"free":{const e=o.slice(),t=e[e.length-1],s=[...t.points];if(s.length&&this.mergeNextPoint){const{z:e}=s[s.length-1];s[s.length-1]={x:u.x,y:u.y,z:e?Math.max(e,u.z):u.z}}else s.push(u);if(e[e.length-1]={...t,points:s},this.app.updateShapes([{id:i,type:"draw",props:{segments:e,isClosed:this.getIsClosed(o,n)}}],!0),s.length>500){this.app.updateShapes([{id:i,type:"draw",props:{isComplete:!0}}]);const{currentPagePoint:e}=this.app.inputs,t=this.app.createShapeId();this.app.createShapes([{id:t,type:"draw",x:e.x,y:e.y,props:{isPen:this.isPen,segments:[{type:"free",points:[{x:0,y:0,z:this.isPen?+(1.25*d).toFixed():.5}]}]}}]),this.initialShape=(0,r.v4)(this.app.getShapeById(t)),this.mergeNextPoint=!1,this.lastRecordedPoint=this.app.inputs.currentPagePoint.clone()}break}}}onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.app.inputs.isDragging||(this.app.bail(),this.cancel())};complete(){if(!this.canDraw)return void this.cancel();const{initialShape:e}=this;e&&(this.app.updateShapes([{id:e.id,type:e.type,props:{isComplete:!0}}]),this.parent.transition("idle",{}))}cancel(){this.parent.transition("idle",this.info)}}class go extends lo{static id="idle";onPointerDown=e=>{this.parent.transition("drawing",e)};onEnter=()=>{this.app.setCursor({type:"cross"})};onCancel=()=>{this.app.setSelectedTool("select")}}class Io extends lo{static id="draw";static initial="idle";static children=()=>[go,po];styles=["color","opacity","dash","fill","size"];onExit=()=>{this.children.drawing.initialShape=void 0}}class mo extends lo{static id="erasing";info={};scribble={};markId="";excludedShapeIds=new Set;onEnter=e=>{this.markId=this.app.mark("erase scribble begin"),this.info=e;const{originPagePoint:t}=this.app.inputs;this.excludedShapeIds=new Set(this.app.shapesArray.filter((e=>("frame"===e.type||"group"===e.type)&&this.app.isPointInShape(t,e))).map((e=>e.id))),this.startScribble(),this.update()};startScribble=()=>{this.scribble=new Us({onUpdate:this.onScribbleUpdate,onComplete:this.onScribbleComplete,color:"muted-1",size:12}),this.app.on("tick",this.scribble.tick)};pushPointToScribble=()=>{const{x:e,y:t}=this.app.inputs.currentPagePoint;this.scribble.addPoint(e,t)};onScribbleUpdate=e=>{this.app.setScribble(e)};onScribbleComplete=()=>{this.app.off("tick",this.scribble.tick),this.app.setScribble(null)};onExit=()=>{this.scribble.stop()};onPointerMove=()=>{this.update()};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};update(){const{shapesArray:e,erasingIdsSet:t,inputs:{currentPagePoint:i,previousPagePoint:n}}=this.app,{excludedShapeIds:s}=this;this.pushPointToScribble();const o=new Set(t);for(const r of e){if("group"===r.type)continue;const e=this.app.getPageMaskById(r.id);if(e&&!(0,l.Of)(i,e))continue;const t=this.app.getShapeUtil(r),s=this.app.getPointInShapeSpace(r,n),a=this.app.getPointInShapeSpace(r,i);t.hitTestLineSegment(r,s,a)&&o.add(this.app.getOutermostSelectableShape(r).id)}this.app.setErasingIds([...o].filter((e=>!s.has(e))))}complete(){this.app.deleteShapes(this.app.pageState.erasingIds),this.app.setErasingIds([]),this.parent.transition("idle",{})}cancel(){this.app.setErasingIds([]),this.app.bailToMark(this.markId),this.parent.transition("idle",this.info)}}class yo extends lo{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)}}class bo extends lo{static id="pointing";onEnter=()=>{const{inputs:e}=this.app,t=new Set,i=t.size;for(const n of[...this.app.sortedShapesArray].reverse())if(this.app.isPointInShape(e.currentPagePoint,n)){if("group"===n.type)continue;const e=this.app.getOutermostSelectableShape(n);if("frame"===e.type&&t.size>i)break;t.add(e.id)}this.app.setErasingIds([...t])};onPointerMove=e=>{this.app.inputs.isDragging&&this.parent.transition("erasing",e)};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.cancel()};complete(){const{erasingIds:e}=this.app;e.length&&(this.app.mark("erase end"),this.app.deleteShapes(e)),this.app.setErasingIds([]),this.parent.transition("idle",{})}cancel(){this.app.setErasingIds([]),this.parent.transition("idle",{})}}class fo extends lo{static id="eraser";static initial="idle";static children=()=>[yo,bo,mo];onEnter=()=>{this.app.setCursor({type:"cross"})}}class Co extends lo{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.app.setCursor({type:"cross"})};onCancel=()=>{this.app.setSelectedTool("select")}}class wo extends lo{static id="pointing";markId="creating";wasFocusedOnEnter=!1;onEnter=()=>{const{isMenuOpen:e}=this.app;this.wasFocusedOnEnter=!e};onPointerMove=e=>{if(this.app.inputs.isDragging){const{originPagePoint:t}=this.app.inputs,i=this.parent.shapeType,s=(0,n.F1)();this.app.mark(this.markId),this.app.createShapes([{id:s,type:i,x:t.x,y:t.y,props:{w:1,h:1}}]),this.app.setSelectedIds([s]),this.app.setSelectedTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:this.parent.id})}};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.cancel()};complete(){const{originPagePoint:e}=this.app.inputs;if(!this.wasFocusedOnEnter)return;this.app.mark(this.markId);const t=this.parent.shapeType,i=(0,n.F1)();this.app.mark(this.markId),this.app.createShapes([{id:i,type:t,x:e.x,y:e.y}]);const s=this.app.getShapeById(i),{w:o,h:r}=this.app.getShapeUtil(s).defaultProps(),a=this.app.getDeltaInParentSpace(s,new l.GF(o/2,r/2));this.app.updateShapes([{id:i,type:t,x:s.x-a.x,y:s.y-a.y}]),this.app.setSelectedIds([i]),this.app.instanceState.isToolLocked?this.parent.transition("idle",{}):this.app.setSelectedTool("select.idle")}cancel(){this.parent.transition("idle",{})}}class Mo extends lo{static id="box";static initial="idle";static children=()=>[Co,wo];styles=["opacity"]}class Ao extends Mo{static id="frame";static initial="idle";shapeType="frame";styles=["opacity"]}class xo extends lo{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.app.setCursor({type:"cross"})};onKeyUp=e=>{if("Enter"===e.key){const t=this.app.onlySelectedShape;t&&"geo"===t.type&&(this.app.mark("editing shape"),this.app.setEditingId(t.id),this.app.setSelectedTool("select.editing_shape",{...e,target:"shape",shape:t}))}};onCancel=()=>{this.app.setSelectedTool("select")}}class So extends lo{static id="pointing";onPointerMove=e=>{if(this.app.inputs.isDragging){const{originPagePoint:t}=this.app.inputs,i=(0,n.F1)();this.app.mark("creating"),this.app.createShapes([{id:i,type:"geo",x:t.x,y:t.y,props:{w:1,h:1,geo:this.app.instanceState.propsForNextShape.geo}}]),this.app.select(i),this.app.setSelectedTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:"geo"})}};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.cancel()};complete(){const{originPagePoint:e}=this.app.inputs,t=(0,n.F1)();this.app.mark("creating"),this.app.createShapes([{id:t,type:"geo",x:e.x,y:e.y,props:{geo:this.app.instanceState.propsForNextShape.geo,w:1,h:1}}]);const i=this.app.getShapeById(t);if(!i)return;const s="star"===i.props.geo?(0,l.LP)(5,200,200):new l.No(0,0,200,200),o=this.app.getDeltaInParentSpace(i,s.center);this.app.select(t),this.app.updateShapes([{id:i.id,type:"geo",x:i.x-o.x,y:i.y-o.y,props:{geo:this.app.instanceState.propsForNextShape.geo,w:s.width,h:s.height}}]),this.app.instanceState.isToolLocked?this.parent.transition("idle",{}):this.app.setSelectedTool("select",{})}cancel(){this.parent.transition("idle",{})}}class vo extends lo{static id="geo";static initial="idle";static children=()=>[xo,So];styles=["color","opacity","dash","fill","size","geo","font","align"]}class Lo extends lo{static id="dragging";onEnter=()=>{this.update()};onPointerMove=()=>{this.update()};onPointerUp=()=>{this.complete()};onCancel=()=>{this.complete()};onComplete=()=>{this.complete()};update(){const{currentScreenPoint:e,previousScreenPoint:t}=this.app.inputs,i=l.GF.Sub(e,t);(Math.abs(i.x)>0||Math.abs(i.y)>0)&&this.app.pan(i.x,i.y)}complete(){this.app.slideCamera({speed:Math.min(2,this.app.inputs.pointerVelocity.len()),direction:this.app.inputs.pointerVelocity,friction:A}),this.parent.transition("idle",{})}}class jo extends lo{static id="idle";onEnter=()=>{this.app.setCursor({type:"grab"})};onPointerDown=e=>{this.parent.transition("pointing",e)};onCancel=()=>{this.app.setSelectedTool("select")}}class No extends lo{static id="pointing";onEnter=()=>{this.app.stopCameraAnimation(),this.app.setCursor({type:"grabbing"})};onPointerMove=e=>{this.app.inputs.isDragging&&this.parent.transition("dragging",e)};onPointerUp=()=>{this.complete()};onCancel=()=>{this.complete()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.complete()};complete(){this.parent.transition("idle",{})}}class Do extends lo{static id="hand";static initial="idle";static children=()=>[jo,No,Lo];styles=[];onDoubleClick=e=>{if("settle"===e.phase){const{currentScreenPoint:e}=this.app.inputs;this.app.zoomIn(e,{duration:220,easing:l.Lj.easeOutQuint})}};onTripleClick=e=>{if("settle"===e.phase){const{currentScreenPoint:e}=this.app.inputs;this.app.zoomOut(e,{duration:320,easing:l.Lj.easeOutQuint})}};onQuadrupleClick=e=>{if("settle"===e.phase){const{zoomLevel:e,inputs:{currentScreenPoint:t}}=this.app;1===e?this.app.zoomToFit({duration:400,easing:l.Lj.easeOutQuint}):this.app.resetZoom(t,{duration:320,easing:l.Lj.easeOutQuint})}}}class Zo extends lo{static id="idle";shapeId="";onEnter=e=>{this.shapeId=e.shapeId,this.app.setCursor({type:"cross"})};onPointerDown=()=>{this.parent.transition("pointing",{shapeId:this.shapeId})};onCancel=()=>{this.app.setSelectedTool("select")}}class Eo extends lo{static id="pointing";shapeType="";shape={};markPointId="";onEnter=e=>{const{inputs:t}=this.app,{currentPagePoint:i}=t;this.shapeType=this.parent.shapeType,this.markPointId=this.app.mark("creating");let s=!1;if(e.shapeId){const t=this.app.getShapeById(e.shapeId);t&&(s=!0,this.shape=t)}if(t.shiftKey&&s){const e=this.app.getShapeUtil(this.shape).handles(this.shape).filter((e=>"vertex"===e.type)).sort(Fe),t=e[e.length-1],n=l.yX.applyToPoint(this.app.getParentTransform(this.shape),new l.GF(this.shape.x,this.shape.y));let s,o,a;2===e.length&&1===e[1].x&&1===e[1].y?(s=e[1].index,o=e[1].id,a={...e[1],x:i.x-n.x,y:i.y-n.y}):(s=Ge(t.index),o="handle:"+s,a={x:i.x-n.x,y:i.y-n.y,index:s,canBind:!1,type:"vertex",id:o});const c=(0,r.v4)(this.shape.props.handles);c[a.id]=a,this.app.updateShapes([{id:this.shape.id,type:this.shape.type,props:{handles:c}}])}else{const e=(0,n.F1)();this.app.createShapes([{id:e,type:this.shapeType,x:i.x,y:i.y}]),this.app.select(e),this.shape=this.app.getShapeById(e)}};onPointerMove=()=>{if(this.shape&&this.app.inputs.isDragging){const e=this.app.getShapeUtil(this.shape),t=e.handles?.(this.shape);if(!t)throw this.app.bailToMark("creating"),Error("No handles found");this.app.setSelectedTool("select.dragging_handle",{shape:this.shape,isCreating:!0,handle:(0,r.Z$)(t),onInteractionEnd:"line"})}};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.parent.transition("idle",{}),this.app.bailToMark("creating"),this.app.snaps.clear()};complete(){this.parent.transition("idle",{shapeId:this.shape.id}),this.app.snaps.clear()}cancel(){this.app.bailToMark(this.markPointId),this.parent.transition("idle",{shapeId:this.shape.id}),this.app.snaps.clear()}}class ko extends lo{static id="line";static initial="idle";static children=()=>[Zo,Eo];shapeType="line";styles=["color","opacity","dash","size","spline"]}class To extends lo{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.app.setCursor({type:"cross"})};onCancel=()=>{this.app.setSelectedTool("select")}}class zo extends lo{static id="pointing";dragged=!1;info={};wasFocusedOnEnter=!1;markPointId="creating";onEnter=()=>{this.wasFocusedOnEnter=!this.app.isMenuOpen};onPointerMove=e=>{if(this.app.inputs.isDragging){this.app.mark(this.markPointId);const t=this.createShape();if(!t)return;this.app.setSelectedTool("select.translating",{...e,target:"shape",shape:t,isCreating:!0,editAfterComplete:!0,onInteractionEnd:"note"})}};onPointerUp=()=>{this.complete()};onInterrupt=()=>{this.cancel()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};complete(){if(!this.wasFocusedOnEnter)return;this.app.mark(this.markPointId);const e=this.createShape();if(this.app.instanceState.isToolLocked)this.parent.transition("idle",{});else{if(!e)return;this.app.setEditingId(e.id),this.app.setSelectedTool("select.editing_shape",{...this.info,target:"shape",shape:e})}}cancel(){this.app.bailToMark(this.markPointId),this.parent.transition("idle",this.info)}createShape(){const{inputs:{originPagePoint:e}}=this.app,t=this.app.createShapeId();this.app.createShapes([{id:t,type:"note",x:e.x,y:e.y}],!0);const i=this.app.getShapeUtilByDef(vs),n=this.app.getShapeById(t);(0,r.hu)(vs.is(n));const s=i.bounds(n);return this.app.updateShapes([{id:t,type:"note",x:n.x-s.width/2,y:n.y-s.height/2}]),this.app.getShapeById(t)}}class Wo extends lo{static id="note";static initial="idle";static children=()=>[To,zo];styles=["color","opacity","size","align","font"]}class Yo extends lo{static id="translating";info={};selectionSnapshot={};snapshot={};markId="";isCloning=!1;isCreating=!1;editAfterComplete=!1;dragAndDropManager=new Bs(this.app);onEnter=e=>{const{isCreating:t=!1,editAfterComplete:i=!1}=e;this.info=e,this.isCreating=t,this.editAfterComplete=i,this.markId=t?"creating":this.app.mark("translating"),this.handleEnter(e),this.app.on("tick",this.updateParent)};updateParent=()=>{const{snapshot:e}=this;this.dragAndDropManager.updateDroppingNode(e.movingShapes,this.updateParentTransforms)};onExit=()=>{this.app.off("tick",this.updateParent),this.selectionSnapshot={},this.snapshot={},this.app.snaps.clear(),this.app.setCursor({type:"default"}),this.dragAndDropManager.clear()};onPointerMove=()=>{this.updateShapes()};onKeyDown=()=>{!this.app.inputs.altKey||this.isCloning?this.updateShapes():this.startCloning()};onKeyUp=()=>{this.app.inputs.altKey||!this.isCloning?this.updateShapes():this.stopCloning()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};reset(){this.app.bailToMark(this.markId)}startCloning(){this.isCreating||(this.isCloning=!0,this.reset(),this.markId=this.app.mark("translating"),this.app.duplicateShapes(),this.snapshot=Po(this.app),this.handleStart(),this.updateShapes())}stopCloning(){this.isCloning=!1,this.snapshot=this.selectionSnapshot,this.reset(),this.markId=this.app.mark("translating"),this.updateShapes()}complete(){if(this.updateShapes(),this.dragAndDropManager.dropShapes(this.snapshot.movingShapes),this.handleEnd(),this.app.instanceState.isToolLocked&&this.info.onInteractionEnd)this.app.setSelectedTool(this.info.onInteractionEnd);else if(this.editAfterComplete){const e=this.app.onlySelectedShape;e&&(this.app.setEditingId(e.id),this.app.setSelectedTool("select"),this.app.root.current.value.transition("editing_shape",{}))}else this.parent.transition("idle",{})}cancel(){this.reset(),this.info.onInteractionEnd?this.app.setSelectedTool(this.info.onInteractionEnd):this.parent.transition("idle",this.info)}handleEnter(e){this.isCloning=!1,this.info=e,this.app.setCursor({type:"move"}),this.selectionSnapshot=Po(this.app),this.isCreating||!this.app.inputs.altKey?(this.snapshot=this.selectionSnapshot,this.handleStart(),this.updateShapes()):this.startCloning()}handleStart(){const{movingShapes:e}=this.snapshot,t=[];e.forEach((e=>{const i=this.app.getShapeUtil(e),n=i.onTranslateStart?.(e);n&&t.push(n)})),t.length>0&&this.app.updateShapes(t)}handleEnd(){const{movingShapes:e}=this.snapshot,t=[];e.forEach((e=>{const i=this.app.getShapeById(e.id),n=this.app.getShapeUtil(e),s=n.onTranslateEnd?.(e,i);s&&t.push(s)})),t.length>0&&this.app.updateShapes(t)}handleChange(){const{movingShapes:e}=this.snapshot,t=[];e.forEach((e=>{const i=this.app.getShapeById(e.id),n=this.app.getShapeUtil(e),s=n.onTranslate?.(e,i);s&&t.push(s)})),t.length>0&&this.app.updateShapes(t)}updateShapes(){const{snapshot:e}=this;this.dragAndDropManager.updateDroppingNode(e.movingShapes,this.updateParentTransforms),function({app:e,shapeSnapshots:t,averagePagePoint:i,initialSelectionPageBounds:n,initialSelectionSnapPoints:s}){const{inputs:o,isGridMode:a,gridSize:c}=e,d=l.GF.Sub(o.currentPagePoint,o.originPagePoint),u=e.inputs.shiftKey?Math.abs(d.x)<Math.abs(d.y)?"x":"y":null;"x"===u?d.x=0:"y"===u&&(d.y=0);e.snaps.clear();if((e.userDocumentSettings.isSnapMode?!o.ctrlKey:o.ctrlKey)&&e.inputs.pointerVelocity.len()<.5){const{nudge:t}=e.snaps.snapTranslate({dragDelta:d,initialSelectionPageBounds:n,lockedAxis:u,initialSelectionSnapPoints:s});d.add(t)}const h=l.GF.Add(i,d);a&&!o.ctrlKey&&h.snapToGrid(c);const p=l.GF.Sub(h,i);e.updateShapes((0,r.oA)(t.map((({shape:e,pagePoint:t,parentTransform:i})=>{const n=l.GF.Add(t,p),s=i?l.yX.applyToPoint(i,n):n;return{id:e.id,type:e.type,x:s.x,y:s.y}}))),!0)}({app:this.app,shapeSnapshots:e.shapeSnapshots,averagePagePoint:e.averagePagePoint,initialSelectionPageBounds:e.initialPageBounds,initialSelectionSnapPoints:e.initialSnapPoints}),this.handleChange()}updateParentTransforms=()=>{const{app:e,snapshot:{shapeSnapshots:t}}=this,i=[];t.forEach((t=>{const s=e.getShapeById(t.shape.id);if(!s)return null;i.push(s);const o=n.rl.isId(s.parentId)?null:l.yX.Inverse(e.getPageTransformById(s.parentId));t.parentTransform=o}))}}function Po(e){const t=[],i=[],s=(0,r.oA)(e.selectedIds.map((s=>{const o=e.getShapeById(s);if(!o)return null;t.push(o);const r=e.getPagePointById(s);if(!r)return null;i.push(r);return{shape:o,pagePoint:r,parentTransform:n.rl.isId(o.parentId)?null:l.yX.Inverse(e.getPageTransformById(o.parentId))}})));return{averagePagePoint:l.GF.Average(i),movingShapes:t,shapeSnapshots:s,initialPageBounds:e.selectedPageBounds,initialSnapPoints:1===e.selectedIds.length?e.snaps.snapPointsCache.get(e.selectedIds[0]):e.selectedPageBounds?e.selectedPageBounds.snapPoints.map(((e,t)=>({id:"selection:"+t,x:e.x,y:e.y}))):[]}}class Go extends lo{static id="brushing";info={};brush=new l.No;initialSelectedIds=[];initialStartShape=null;onEnter=e=>{const{altKey:t,currentPagePoint:i}=this.app.inputs;t?this.parent.transition("scribble_brushing",e):(this.info=e,this.initialSelectedIds=this.app.selectedIds.slice(),this.initialStartShape=this.app.getShapesAtPoint(i)[0],this.onPointerMove())};onExit=()=>{this.initialSelectedIds=[],this.app.setBrush(null)};onPointerMove=()=>{this.hitTestShapes()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=e=>{this.app.setSelectedIds(this.initialSelectedIds,!0),this.parent.transition("idle",e)};onKeyDown=e=>{this.app.inputs.altKey?this.parent.transition("scribble_brushing",e):this.hitTestShapes()};onKeyUp=()=>{this.hitTestShapes()};complete(){this.parent.transition("idle",{})}hitTestShapes(){const{currentPageId:e,shapesArray:t,inputs:{originPagePoint:i,currentPagePoint:n,shiftKey:s,ctrlKey:o}}=this.app;this.brush.setTo(l.No.FromPoints([i,n]));const r=new Set(s?this.initialSelectedIds:[]);let a,c,d,u,h,p,g;const{corners:I}=this.brush;e:for(let m=0,y=t.length;m<y;m++)if(d=t[m],"group"!==d.type&&!r.has(d.id)&&(h=this.app.getPageBounds(d),h))if(this.brush.contains(h))this.handleHit(d,n,e,r,I);else if(!o&&"frame"!==d.type&&this.brush.collides(h)){if(u=this.app.getShapeUtil(d),p=this.app.getPageTransform(d),!p)continue e;g=l.yX.applyToPoints(l.yX.Inverse(p),I);t:for(let t=0;t<g.length;t++)if(a=g[t],c=g[(t+1)%g.length],u.hitTestLineSegment(d,a,c)){this.handleHit(d,n,e,r,I);break t}}this.app.setBrush({...this.brush.toJson()}),this.app.setSelectedIds(Array.from(r),!0)}onInterrupt=()=>{this.app.setBrush(null)};handleHit(e,t,i,n,s){if(e.parentId===i)return void n.add(e.id);const o=this.app.getOutermostSelectableShape(e),r=this.app.getPageMaskById(o.id);r&&null!==(0,l.UQ)(r,s)&&!(0,l.Of)(t,r)||n.add(o.id)}}class Oo extends lo{static id="dragging_handle";shapeId="";initialHandle={};initialAdjacentHandle=null;markId="";initialPageTransform;initialPageRotation;info={};isPrecise=!1;isPreciseId=null;pointingId=null;onEnter=e=>{const{shape:t,isCreating:i,handle:n}=e;this.info=e,this.shapeId=t.id,this.markId=i?"creating":this.app.mark("dragging handle"),this.initialHandle=(0,r.p$)(n),this.initialPageTransform=this.app.getPageTransform(t),this.initialPageRotation=this.app.getPageRotation(t),this.app.setCursor({type:i?"cross":"grabbing",rotation:0});const s=this.app.getShapeUtil(t).handles(t).sort(Fe),o=s.findIndex((t=>t.id===e.handle.id));this.initialAdjacentHandle=null;for(let r=o+1;r<s.length;r++){const t=s[r];if("vertex"===t.type&&"middle"!==t.id&&t.id!==e.handle.id){this.initialAdjacentHandle=t;break}}if(!this.initialAdjacentHandle)for(let r=s.length-1;r>=0;r--){const t=s[r];if("vertex"===t.type&&"middle"!==t.id&&t.id!==e.handle.id){this.initialAdjacentHandle=t;break}}const a=t.props[e.handle.id];this.isPrecise=!1,"binding"===a?.type&&(this.app.setHintingIds([a.boundShapeId]),this.isPrecise=!l.GF.Equals(a.normalizedAnchor,{x:.5,y:.5}),this.isPrecise?this.isPreciseId=a.boundShapeId:this.resetExactTimeout()),this.update()};exactTimeout=-1;resetExactTimeout(){-1!==this.exactTimeout&&this.clearExactTimeout(),this.exactTimeout=setTimeout((()=>{this.isActive&&!this.isPrecise&&(this.isPrecise=!0,this.isPreciseId=this.pointingId,this.update()),this.exactTimeout=-1}),750)}clearExactTimeout(){-1!==this.exactTimeout&&(clearTimeout(this.exactTimeout),this.exactTimeout=-1)}onPointerMove=()=>{this.update()};onKeyDown=()=>{this.update()};onKeyUp=()=>{this.update()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};onExit=()=>{this.app.setHintingIds([]),this.app.snaps.clear(),this.app.setCursor({type:"default"})};complete(){this.app.snaps.clear();const{onInteractionEnd:e}=this.info;this.app.instanceState.isToolLocked&&e?this.app.setSelectedTool(e,{shapeId:this.shapeId}):this.parent.transition("idle",{})}cancel(){this.app.bailToMark(this.markId),this.app.snaps.clear();const{onInteractionEnd:e}=this.info;e?this.app.setSelectedTool(e,{shapeId:this.shapeId}):this.parent.transition("idle",{})}update(){const{currentPagePoint:e,originPagePoint:t,shiftKey:i}=this.app.inputs,n=this.app.getShapeById(this.shapeId);if(!n)return;let s=l.GF.Add(l.GF.Rot(l.GF.Sub(e,t),-this.initialPageRotation),this.initialHandle);if(i&&"middle"!==this.initialHandle.id){const{initialAdjacentHandle:e}=this;if(e){const t=l.GF.Angle(e,s),i=(0,l.nD)(t,24)-t;s=l.GF.RotWith(s,e,i)}}this.app.snaps.clear();const{ctrlKey:o}=this.app.inputs;if((this.app.userDocumentSettings.isSnapMode?!o:o)&&"line"===n.type){const e=l.yX.applyToPoint(this.app.getPageTransformById(n.id),s),t=this.app.snaps.snapLineHandleTranslate({lineId:n.id,handleId:this.initialHandle.id,handlePoint:e}),{nudge:i}=t;if(i.x||i.y){const e=this.app.getDeltaInShapeSpace(n,i);s=l.GF.Add(s,e)}}const r=this.app.getShapeUtil(n),a=r.onHandleChange?.(n,{handle:{...this.initialHandle,x:s.x,y:s.y},isPrecise:this.isPrecise||this.app.inputs.altKey}),c={...n,...a};if(this.initialHandle.canBind){const e=c.props[this.initialHandle.id];"binding"===e?.type?this.app.hintingIds[0]!==e.boundShapeId&&(this.app.setHintingIds([e.boundShapeId]),this.pointingId=e.boundShapeId,this.isPrecise=this.app.inputs.pointerVelocity.len()<.5||this.app.inputs.altKey,this.isPreciseId=this.isPrecise?e.boundShapeId:null,this.resetExactTimeout()):this.app.hintingIds.length>0&&(this.app.setHintingIds([]),this.pointingId=null,this.isPrecise=!1,this.isPreciseId=null,this.resetExactTimeout())}a&&this.app.updateShapes([c],!0)}}class Ro extends lo{static id="editing_shape";onPointerEnter=e=>{switch(e.target){case"shape":{const{selectedIds:t,focusLayerId:i}=this.app,n=this.app.getOutermostSelectableShape(e.shape,(e=>!t.includes(e.id)));n.id!==i&&this.app.setHoveredId(n.id);break}}};onPointerLeave=e=>{if("shape"===e.target)this.app.setHoveredId(null)};onExit=()=>{if(!this.app.pageState.editingId)return;const{editingId:e}=this.app.pageState;if(!e)return;this.app.setEditingId(null);const t=this.app.getShapeById(e),i=this.app.getShapeUtil(t);i.onEditEnd?.(t)};onPointerDown=e=>{if("shape"===e.target){const{shape:t}=e,{editingId:i}=this.app.pageState;if(i){if(t.id===i)return;const e=this.app.getShapeById(i);if(e){const i=this.app.getShapeUtil(t);if(t.type===e.type&&i.canEdit?.(t))return this.app.setEditingId(t.id),this.app.setHoveredId(t.id),void this.app.setSelectedIds([t.id])}}}this.parent.transition("idle",e),this.parent.current.value?.onPointerDown?.(e)};onComplete=e=>{this.parent.transition("idle",e)};onCancel=e=>{this.parent.transition("idle",e)}}class Fo extends lo{static id="idle";onPointerEnter=e=>{switch(e.target){case"canvas":break;case"shape":{const{selectedIds:t,focusLayerId:i}=this.app,n=this.app.getOutermostSelectableShape(e.shape,(e=>!t.includes(e.id)));n.id!==i&&this.app.setHoveredId(n.id);break}}};onPointerLeave=e=>{if("shape"===e.target)this.app.setHoveredId(null)};onPointerDown=e=>{if(!this.app.isMenuOpen)if(e.ctrlKey)this.parent.transition("brushing",e);else switch(e.target){case"canvas":this.parent.transition("pointing_canvas",e);break;case"shape":this.parent.transition("pointing_shape",e);break;case"handle":if(this.app.isReadOnly)break;this.parent.transition("pointing_handle",e);break;case"selection":switch(e.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":this.parent.transition("pointing_rotate_handle",e);break;case"top":case"right":case"bottom":case"left":case"top_left":case"top_right":case"bottom_left":case"bottom_right":this.parent.transition("pointing_resize_handle",e);break;default:this.parent.transition("pointing_selection",e)}}};onDoubleClick=e=>{switch(e.target){case"canvas":this.createTextShapeAtPoint(e);break;case"selection":{if(this.app.isReadOnly)break;const{onlySelectedShape:t}=this.app;if(t){const i=this.app.getShapeUtil(t);if("right"===e.handle||"left"===e.handle||"top"===e.handle||"bottom"===e.handle){const e=i.onDoubleClickEdge?.(t);if(e)return this.app.mark("double click edge"),void this.app.updateShapes([e])}i.canEdit(t)&&this.startEditingShape(t,e)}break}case"shape":{const{shape:t}=e,i=this.app.getShapeUtil(t);if("video"!==t.type&&this.app.isReadOnly)break;if(i.onDoubleClick){const e=i.onDoubleClick?.(t);e&&this.app.updateShapes([e])}else i.canEdit(t)?this.startEditingShape(t,e):this.createTextShapeAtPoint(e);break}case"handle":{if(this.app.isReadOnly)break;const{shape:t,handle:i}=e,n=this.app.getShapeUtil(t),s=n.onDoubleClickHandle?.(t,i);s?this.app.updateShapes([s]):n.canEdit(t)&&this.startEditingShape(t,e)}}};onRightClick=e=>{switch(e.target){case"canvas":this.app.selectNone();break;case"shape":{const{selectedIds:t}=this.app.pageState,{shape:i}=e,n=this.app.getOutermostSelectableShape(i,(e=>!this.app.isSelected(e.id)));t.includes(n.id)||(this.app.mark("selecting shape"),this.app.setSelectedIds([n.id]));break}}};onEnter=()=>{this.app.setHoveredId(null),this.app.setCursor({type:"default"})};onCancel=()=>{0===this.app.selectedIds.length||1===this.app.selectedIds.length&&"group"===this.app.getShapeById(this.app.selectedIds[0])?.type&&this.app.focusLayerId!==this.app.currentPageId?this.app.popFocusLayer():(this.app.mark("clearing selection"),this.app.selectNone())};onKeyUp=e=>{if(!this.app.isReadOnly)switch(e.key){case"Enter":{const{selectedShapes:t}=this.app;if(t.every((e=>"group"===e.type)))return void this.app.setSelectedIds(t.flatMap((e=>this.app.getSortedChildIds(e.id))));const{onlySelectedShape:i}=this.app;if(i&&this.app.getShapeUtil(i).canEdit(i))return void this.startEditingShape(i,{...e,target:"shape",shape:i});break}}};startEditingShape(e,t){this.app.mark("editing shape"),this.app.setEditingId(e.id),this.parent.transition("editing_shape",t)}createTextShapeAtPoint(e){this.app.mark("creating text shape");const t=(0,n.F1)(),{x:i,y:s}=this.app.inputs.currentPagePoint;this.app.createShapes([{id:t,type:"text",x:i,y:s,props:{text:"",autoSize:!0}}]);const o=this.app.getShapeById(t);if(!o)return;const r=this.app.getBounds(o);this.app.updateShapes([{id:t,type:"text",x:o.x-r.width/2,y:o.y-r.height/2}]),this.app.setEditingId(t),this.app.select(t),this.parent.transition("editing_shape",e)}}class Bo extends lo{static id="pointing_canvas";onEnter=()=>{const{inputs:e}=this.app;e.shiftKey||this.app.selectedIds.length>0&&(this.app.mark("selecting none"),this.app.selectNone())};_clickWasInsideFocusedGroup(){const{focusLayerId:e,inputs:t}=this.app;if(!(0,n.YT)(e))return!1;const i=this.app.getShapeById(e);if(!i)return!1;const s=this.app.getPointInShapeSpace(i,t.currentPagePoint);return this.app.getShapeUtil(i).hitTestPoint(i,s)}onPointerMove=e=>{this.app.inputs.isDragging&&this.parent.transition("brushing",e)};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.parent.transition("idle",{})};complete(){const{shiftKey:e}=this.app.inputs;e||(this.app.selectNone(),this._clickWasInsideFocusedGroup()||this.app.setFocusLayer(null)),this.parent.transition("idle",{})}}class Jo extends lo{static id="pointing_handle";info={};onEnter=e=>{this.info=e;const t=e.shape.props[e.handle.id];"binding"===t?.type&&this.app.setHintingIds([t.boundShapeId]),this.app.setCursor({type:"grabbing"})};onExit=()=>{this.app.setHintingIds([]),this.app.setCursor({type:"default"})};onPointerUp=()=>{this.parent.transition("idle",this.info)};onPointerMove=()=>{this.app.inputs.isDragging&&this.parent.transition("dragging_handle",this.info)};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle",{})}}const Ho={bottom:"ns-resize",top:"ns-resize",left:"ew-resize",right:"ew-resize",bottom_left:"nesw-resize",bottom_right:"nwse-resize",top_left:"nwse-resize",top_right:"nesw-resize",bottom_left_rotate:"swne-rotate",bottom_right_rotate:"senw-rotate",top_left_rotate:"nwse-rotate",top_right_rotate:"nesw-rotate",mobile_rotate:"grabbing"};class Xo extends lo{static id="pointing_resize_handle";info={};updateCursor(){const e=this.app.selectedShapes,t=Ho[this.info.handle];this.app.setCursor({type:t,rotation:1===e.length?e[0].rotation:0})}onEnter=e=>{this.info=e,this.updateCursor()};onPointerMove=()=>{this.app.inputs.isDragging&&this.parent.transition("resizing",this.info)};onPointerUp=()=>{this.parent.transition("idle",{})};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle",{})}}class Vo extends lo{static id="pointing_rotate_handle";info={};updateCursor(){const{selectionRotation:e}=this.app;this.app.setCursor({type:Ho[this.info.handle],rotation:e})}onEnter=e=>{this.info=e,this.updateCursor()};onPointerMove=()=>{const{isDragging:e}=this.app.inputs;e&&this.parent.transition("rotating",this.info)};onPointerUp=()=>{this.parent.transition("idle",this.info)};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle",{})}}class _o extends lo{static id="pointing_selection";info={};onEnter=e=>{this.info=e};onPointerUp=e=>{this.app.selectNone(),this.parent.transition("idle",e)};onPointerMove=e=>{if(this.app.inputs.isDragging){if(this.app.isReadOnly)return;this.parent.transition("translating",e)}};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle",{})}}class Uo extends lo{static id="pointing_shape";eventTargetShape={};selectingShape={};didSelectOnEnter=!1;onEnter=e=>{const{shape:t}=e;if(t){if(void 0!==this.app.getShapeUtil(t).onClick)return}if(this.eventTargetShape=e.shape,this.selectingShape=this.app.getOutermostSelectableShape(e.shape),this.selectingShape.id===this.app.focusLayerId)return void(this.didSelectOnEnter=!1);const i=this.app.isWithinSelection(this.selectingShape.id),n=this.app.selectedIds.length>1&&this.app.selectionBounds?.containsPoint(this.app.inputs.currentPagePoint);if(this.didSelectOnEnter=!i&&this.selectingShape.id!==this.app.focusLayerId&&!n,this.didSelectOnEnter){const{inputs:t,selectedIds:i}=this.app,n=this.app.getParentShape(e.shape);n&&"group"===n.type&&this.app.cancelDoubleClick(),t.shiftKey&&!t.altKey?i.includes(this.selectingShape.id)||(this.app.mark("shift selecting shape"),this.app.setSelectedIds([...i,this.selectingShape.id])):(this.app.mark("selecting shape"),this.app.setSelectedIds([this.selectingShape.id]))}};onPointerUp=e=>{const{shape:t}=e;if(t){const e=this.app.getShapeUtil(t);if(e.onClick){const i=e.onClick?.(t);return void(i&&this.app.updateShapes([i]))}}if(this.didSelectOnEnter||this.selectingShape.id===this.app.focusLayerId)this.selectingShape.id===this.app.focusLayerId&&(this.app.selectedIds.length>0?this.app.setSelectedIds([]):this.app.popFocusLayer());else{this.app.mark("selecting shape (pointer up)");const e=this.app.getOutermostSelectableShape(this.eventTargetShape,(e=>!this.app.isSelected(e.id)));if(this.app.selectedIds.includes(e.id))this.app.setSelectedIds(this.app.inputs.shiftKey?this.app.selectedIds.filter((e=>e!==this.selectingShape.id)):[this.selectingShape.id]);else if(this.app.inputs.shiftKey){const t=this.app.getAncestors(e);this.app.setSelectedIds([...this.app.selectedIds.filter((e=>!t.find((t=>t.id===e)))),e.id])}else this.app.setSelectedIds([e.id])}this.parent.transition("idle",e)};onPointerMove=e=>{if(this.app.inputs.isDragging){if(this.app.isReadOnly)return;this.parent.transition("translating",e)}};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle",{})}}class Ko extends lo{static id="resizing";info={};markId="";creationCursorOffset={x:0,y:0};editAfterComplete=!1;snapshot={};onEnter=e=>{const{isCreating:t=!1,editAfterComplete:i=!1,creationCursorOffset:n={x:0,y:0}}=e;this.info=e,this.editAfterComplete=i,this.creationCursorOffset=n,e.isCreating&&this.app.setCursor({type:"cross",rotation:0}),this.snapshot=this._createSnapshot(),this.markId=t?"creating":this.app.mark("starting resizing"),this.handleResizeStart(),this.updateShapes()};onPointerMove=()=>{this.updateShapes()};onKeyDown=()=>{this.updateShapes()};onKeyUp=()=>{this.updateShapes()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};cancel(){this.app.bailToMark(this.markId),this.info.onInteractionEnd?this.app.setSelectedTool(this.info.onInteractionEnd):this.parent.transition("idle",{})}complete(){if(this.handleResizeEnd(),this.editAfterComplete&&this.app.onlySelectedShape)return this.app.setEditingId(this.app.onlySelectedShape.id),this.app.setSelectedTool("select"),void this.app.root.current.value.transition("editing_shape",{});this.app.instanceState.isToolLocked&&this.info.onInteractionEnd?this.app.setSelectedTool(this.info.onInteractionEnd):this.parent.transition("idle",{})}handleResizeStart(){const{shapeSnapshots:e}=this.snapshot,t=[];e.forEach((({shape:e})=>{const i=this.app.getShapeUtil(e),n=i.onResizeStart?.(e);n&&t.push(n)})),t.length>0&&this.app.updateShapes(t)}handleResizeEnd(){const{shapeSnapshots:e}=this.snapshot,t=[];e.forEach((({shape:e})=>{const i=this.app.getShapeById(e.id),n=this.app.getShapeUtil(e),s=n.onResizeEnd?.(e,i);s&&t.push(s)})),t.length>0&&this.app.updateShapes(t)}updateShapes(){const{altKey:e,shiftKey:t}=this.app.inputs,{shapeSnapshots:i,selectionBounds:n,cursorHandleOffset:s,selectedIds:o,selectionRotation:r,canShapesDeform:a}=this.snapshot,c=t||!a,{ctrlKey:d}=this.app.inputs,u=this.app.inputs.currentPagePoint.clone().sub(s).sub(this.creationCursorOffset),h=this.app.inputs.originPagePoint.clone().sub(s);this.app.isGridMode&&!d&&u.snapToGrid(this.app.gridSize);const p=this.info.handle,g=qo(p,Math.PI);this.app.snaps.clear();if((this.app.userDocumentSettings.isSnapMode?!d:d)&&r%l.gc==0){const{nudge:t}=this.app.snaps.snapResize({dragDelta:l.GF.Sub(u,h),initialSelectionPageBounds:this.snapshot.initialSelectionPageBounds,handle:qo(p,r),isAspectRatioLocked:c,isResizingFromCenter:e});u.add(t)}const I=l.GF.RotWith(e?n.center:n.getHandlePoint(g),n.point,r),m=l.GF.Sub(u,I).rot(-r),y=l.GF.Sub(h,I).rot(-r),b=l.GF.DivV(m,y);Number.isFinite(b.x)||(b.x=1),Number.isFinite(b.y)||(b.y=1);const f="top"===p||"bottom"===p,C="left"===p||"right"===p;c?C?b.y=Math.abs(b.x):f?b.x=Math.abs(b.y):Math.abs(b.x)>Math.abs(b.y)?b.y=Math.abs(b.x)*(b.y<0?-1:1):b.x=Math.abs(b.y)*(b.x<0?-1:1):(f&&(b.x=1),C&&(b.y=1)),this.info.isCreating||this.updateCursor({dragHandle:p,isFlippedX:b.x<0,isFlippedY:b.y<0,rotation:r});for(const l of i.keys()){const e=i.get(l);this.app.resizeShape(l,b,{initialBounds:e.bounds,dragHandle:p,initialPageTransform:e.pageTransform,initialShape:e.shape,mode:1===o.length&&l===o[0]?"resize_bounds":"scale_shape",scaleOrigin:I,scaleAxisRotation:r})}}updateCursor({dragHandle:e,isFlippedX:t,isFlippedY:i,rotation:n}){const s={...this.app.cursor};switch(e){case"top_left":case"bottom_right":s.type="nwse-resize",t!==i&&(s.type="nesw-resize");break;case"top_right":case"bottom_left":s.type="nesw-resize",t!==i&&(s.type="nwse-resize")}s.rotation=n,this.app.setCursor(s)}onExit=()=>{this.app.snaps.clear()};_createSnapshot=()=>{const{selectedIds:e,selectionRotation:t,inputs:{originPagePoint:i}}=this.app,n=this.app.selectionBounds,s=l.GF.RotWith(n.getHandlePoint(this.info.handle),n.point,t),o=l.GF.Sub(i,s),r=new Map;e.forEach((t=>{const i=this.app.getShapeById(t);if(i){if(r.set(i.id,this._createShapeSnapshot(i)),"frame"===i.type&&1===e.length)return;this.app.visitDescendants(i.id,(e=>{const t=this.app.getShapeById(e);if(t&&(r.set(t.id,this._createShapeSnapshot(t)),"frame"===t.type))return!1}))}}));const a=![...r.values()].some((e=>!(0,l._G)(e.pageRotation,t)||e.isAspectRatioLocked));return{shapeSnapshots:r,selectionBounds:n,cursorHandleOffset:o,selectionRotation:t,selectedIds:e,canShapesDeform:a,initialSelectionPageBounds:this.app.selectedPageBounds}};_createShapeSnapshot=e=>{const t=this.app.getPageTransform(e),i=this.app.getShapeUtil(e);return{shape:e,bounds:i.bounds(e),pageTransform:t,pageRotation:l.yX.Decompose(t).rotation,isAspectRatioLocked:i.isAspectRatioLocked(e)}}}const Qo=["top","top_right","right","bottom_right","bottom","bottom_left","left","top_left"];function qo(e,t){t%=l.yo;const i=Math.round(t/(l.PI/4)),n=Qo.indexOf(e);return Qo[(n+i)%Qo.length]}class $o extends lo{static id="rotating";snapshot={};info={};markId="";onEnter=e=>{this.info=e,this.markId=this.app.mark("rotate start"),this.snapshot=Je({app:this.app}),this.handleStart()};onExit=()=>{this.app.setCursor({type:"none"}),this.snapshot={}};onPointerMove=()=>{this.update()};onKeyDown=()=>{this.update()};onKeyUp=()=>{this.update()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.app.bailToMark(this.markId),this.parent.transition("idle",this.info)};update=()=>{const e=this._getRotationFromPointerPosition({snapToNearestDegree:!1});He({app:this.app,delta:e,snapshot:this.snapshot,stage:"update"}),this.app.setCursor({type:Ho[this.info.handle],rotation:e+this.snapshot.initialSelectionRotation})};complete=()=>{He({app:this.app,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!0}),snapshot:this.snapshot,stage:"end"}),this.parent.transition("idle",this.info)};handleStart(){const e=this._getRotationFromPointerPosition({snapToNearestDegree:!1});He({app:this.app,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!1}),snapshot:this.snapshot,stage:"start"}),this.app.setCursor({type:Ho[this.info.handle],rotation:e+this.snapshot.initialSelectionRotation})}_getRotationFromPointerPosition({snapToNearestDegree:e}){const{selectionPageCenter:t,inputs:{shiftKey:i,currentPagePoint:n}}=this.app,{initialCursorAngle:s,initialSelectionRotation:o}=this.snapshot;let r=o+(t.angle(n)-s);if(i)r=(0,l.nD)(r,24);else if(e&&(r=Math.round(r/l.Ib)*l.Ib,this.app.isCoarsePointer)){const e=(0,l.nD)(r,4),t=(0,l.Cc)(r,e);Math.abs(t)<(0,l.Ht)(5)&&(r=e)}return r-o}}class er extends lo{static id="scribble_brushing";static canActivateInReadOnly=!0;hits=new Set;size=0;scribble={};initialSelectedIds=new Set;newlySelectedIds=new Set;onEnter=()=>{this.initialSelectedIds=new Set(this.app.inputs.shiftKey?this.app.selectedIds:[]),this.newlySelectedIds=new Set,this.size=0,this.hits.clear(),this.startScribble(),this.updateBrushSelection(),requestAnimationFrame((()=>{this.app.setBrush(null)}))};onExit=()=>{this.app.setErasingIds([]),this.scribble.stop()};onPointerMove=()=>{this.updateBrushSelection()};onPointerUp=()=>{this.complete()};onKeyDown=()=>{this.updateBrushSelection()};onKeyUp=()=>{this.app.inputs.altKey?this.updateBrushSelection():this.parent.transition("brushing",{})};startScribble=()=>{this.scribble=new Us({onUpdate:this.onScribbleUpdate,onComplete:this.onScribbleComplete,color:"selection-stroke",opacity:.32,size:12}),this.app.on("tick",this.scribble.tick)};pushPointToScribble=()=>{const{x:e,y:t}=this.app.inputs.currentPagePoint;this.scribble.addPoint(e,t)};onScribbleUpdate=e=>{this.app.setScribble(e)};onScribbleComplete=()=>{this.app.off("tick",this.scribble.tick),this.app.setScribble(null)};updateBrushSelection(){const{shapesArray:e,inputs:{originPagePoint:t,previousPagePoint:i,currentPagePoint:n}}=this.app;this.pushPointToScribble();const s=e;let o,r;for(let a=0,c=s.length;a<c;a++)if(o=s[a],r=this.app.getShapeUtil(o),!("group"===o.type||this.newlySelectedIds.has(o.id)||"frame"===o.type&&r.hitTestPoint(o,this.app.getPointInShapeSpace(o,t)))&&r.hitTestLineSegment(o,this.app.getPointInShapeSpace(o,i),this.app.getPointInShapeSpace(o,n))){const e=this.app.getOutermostSelectableShape(o),t=this.app.getPageMaskById(e.id);if(t){if(null!==(0,l.Gc)(i,n,t)){if(!(0,l.Of)(n,t))continue}}this.newlySelectedIds.add(e.id)}this.app.setSelectedIds([...new Set([...this.newlySelectedIds,...this.initialSelectedIds])],!0)}onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};complete(){this.parent.transition("idle",{})}cancel(){this.app.setSelectedIds([...this.initialSelectedIds],!0),this.parent.transition("idle",{})}}class tr extends lo{static id="select";static initial="idle";static children=()=>[Fo,Bo,Uo,Yo,Go,er,_o,Xo,Ro,Ko,$o,Vo,Jo,Oo];styles=["color","opacity","dash","fill","size"];onExit=()=>{this.app.pageState.editingId&&this.app.setEditingId(null)}}class ir extends lo{static id="idle";onPointerEnter=e=>{switch(e.target){case"canvas":break;case"shape":{const{selectedIds:t,focusLayerId:i}=this.app,n=this.app.getOutermostSelectableShape(e.shape,(e=>!t.includes(e.id)));n.id!==i&&"text"===n.type&&this.app.setHoveredId(n.id);break}}};onPointerLeave=e=>{if("shape"===e.target)this.app.setHoveredId(null)};onPointerDown=e=>{const{hoveredId:t}=this.app;if(t){const i=this.app.getShapeById(t);if("text"===i.type)return void requestAnimationFrame((()=>{this.app.setSelectedIds([i.id]),this.app.setEditingId(i.id),this.app.setSelectedTool("select.editing_shape",{...e,target:"shape",shape:i})}))}this.parent.transition("pointing",e)};onEnter=()=>{this.app.setCursor({type:"cross"})};onKeyDown=e=>{if("Enter"===e.key){const t=this.app.selectedShapes[0];t&&"geo"===t.type&&(this.app.setSelectedTool("select"),this.app.setEditingId(t.id),this.app.root.current.value.transition("editing_shape",{...e,target:"shape",shape:t}))}};onCancel=()=>{this.app.setSelectedTool("select")}}class nr extends lo{static id="pointing";shape;onExit=()=>{this.app.setHintingIds([])};onPointerMove=e=>{if(this.app.inputs.isDragging){const{inputs:{originPagePoint:t}}=this.app,i=(0,n.F1)();if(this.app.mark("creating"),this.app.createShapes([{id:i,type:"text",x:t.x,y:t.y,props:{text:"",autoSize:!1,w:20}}]),this.app.select(i),this.shape=this.app.getShapeById(i),!this.shape)return;this.app.setSelectedTool("select.resizing",{...e,target:"selection",handle:"right",isCreating:!0,creationCursorOffset:{x:1,y:1},editAfterComplete:!0,onInteractionEnd:"text"})}};onPointerUp=()=>{this.complete()};onComplete=()=>{this.cancel()};onCancel=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};complete(){this.app.mark("creating text shape");const e=(0,n.F1)(),{x:t,y:i}=this.app.inputs.currentPagePoint;this.app.createShapes([{id:e,type:"text",x:t,y:i,props:{text:"",autoSize:!0}}],!0),this.app.setEditingId(e),this.app.setSelectedTool("select"),this.app.root.current.value?.transition("editing_shape",{})}cancel(){this.parent.transition("idle",{}),this.app.bailToMark("creating")}}class sr extends lo{static id="text";static initial="idle";static children=()=>[ir,nr];styles=["color","opacity","font","align","size"]}class or extends lo{static id="root";static initial="select";static children=()=>[tr,Do,fo,Io,sr,ko,ho,vo,Wo,Ao]}var rr=Object.defineProperty,ar=Object.getOwnPropertyDescriptor,lr=(e,t,i,n)=>{for(var s,o=n>1?void 0:n?ar(t,i):t,r=e.length-1;r>=0;r--)(s=e[r])&&(o=(n?s(t,i,o):s(o))||o);return n&&o&&rr(t,i,o),o};function cr(e){return"arrow"===e.type||"line"===e.type||"draw"===e.type}const dr=class extends c.EventEmitter{constructor({config:e=zs.default,store:t,getContainer:i}){if(super(),t.schema!==e.storeSchema)throw new Error("Store schema does not match schema given to App");this.config=e,this.store=t,this.getContainer=i??(()=>document.body),this.textMeasure=new oo(this),this.shapeUtils=Object.fromEntries(e.shapes.map((e=>[e.type,e.createShapeUtils(this)]))),"undefined"!=typeof window&&"navigator"in window?(this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i)):(this.isSafari=!1,this.isIos=!1),this.colors=new Map(dr.styles.color.map((e=>[e.id,`var(--palette-${e.id})`]))),this.root=new or(this),this.root.children&&e.tools.forEach((e=>{this.root.children[e.id]=new e(this)})),this.store.onBeforeDelete=e=>{"shape"===e.typeName?this._shapeWillBeDeleted(e):"page"===e.typeName&&this._pageWillBeDeleted(e)},this.store.onAfterChange=(e,t)=>{this._updateDepth++,this._updateDepth>1e3&&console.error("[onAfterChange] Maximum update depth exceeded, bailing out."),"shape"===e.typeName&&"shape"===t.typeName?this._shapeDidChange(e,t):"instance_page_state"===e.typeName&&"instance_page_state"===t.typeName&&this._tabStateDidChange(e,t),this._updateDepth--},this.store.onAfterCreate=e=>{"shape"===e.typeName&&un.is(e)&&this._arrowDidUpdate(e)},this._shapeIds=((e,t)=>{const i=e.query.ids("shape");let s=null;function r(){const n=t();return s=n,new Set([...i.value].filter((t=>Ws(e,n,e.get(t)))))}return(0,d.Fl)("_shapeIdsInCurrentPage",((i,a)=>{if((0,d.e1)(i))return r();const l=t();if(l!==s)return r();const c=e.history.getDiffSince(a);if(c===d.SB)return r();const u=new o.mW(i);for(const t of c){for(const i of Object.values(t.added))(0,n.VV)(i)&&Ws(e,l,i)&&u.add(i.id);for(const[i,s]of Object.values(t.updated))(0,n.VV)(s)&&(Ws(e,l,s)?u.add(s.id):u.remove(s.id));for(const e of Object.keys(t.removed))(0,n.YT)(e)&&u.remove(e)}const h=u.get();return h?(0,d.qo)(h.value,h.diff):i}))})(this.store,(()=>this.currentPageId)),this._parentIdsToChildIds=(e=>{const t=e.query.ids("shape");function i(){const i={};return t.value.forEach((t=>{const n=e.get(t);i[n.parentId]||(i[n.parentId]=[]),i[n.parentId].push([t,n.index])})),Object.values(i).forEach((e=>e.sort(((e,t)=>e[1]<t[1]?-1:1)))),i}return(0,d.Fl)("parentsToChildrenWithIndexes",((t,s)=>{if((0,d.e1)(t))return i();const o=e.history.getDiffSince(s);if(o===d.SB)return i();if(0===o.length)return t;let r=null;const a=e=>{r||(r={...t}),r[e]?r[e]===t[e]&&(r[e]=[...r[e]]):r[e]=[]},l=new Set;let c;for(let e=0,i=o.length;e<i;e++){c=o[e];for(const e of Object.values(c.added))(0,n.VV)(e)&&(a(e.parentId),r[e.parentId].push([e.id,e.index]),l.add(r[e.parentId]));for(const[e,t]of Object.values(c.updated))if((0,n.VV)(t)&&(0,n.VV)(e))if(e.parentId!==t.parentId)a(e.parentId),a(t.parentId),r[e.parentId].splice(r[e.parentId].findIndex((e=>e[0]===t.id)),1),r[t.parentId].push([t.id,t.index]),l.add(r[t.parentId]);else if(e.index!==t.index){a(t.parentId);const e=r[t.parentId].findIndex((e=>e[0]===t.id));r[t.parentId][e]=[t.id,t.index],l.add(r[t.parentId])}for(const e of Object.values(c.removed))(0,n.VV)(e)&&(a(e.parentId),r[e.parentId].splice(r[e.parentId].findIndex((t=>t[0]===e.id)),1))}for(const e of l)e.sort(((e,t)=>e[1]<t[1]?-1:1));return r??t}))})(this.store),this.disposables.add(this.store.listen((e=>{this.emit("change",e)})));const s=this.getContainer(),r=()=>{this._isFocused.set(!0)},a=()=>{this._isFocused.set(!1)};s.addEventListener("focusin",r),s.addEventListener("focus",r),s.addEventListener("focusout",a),s.addEventListener("blur",a),this.disposables.add((()=>{s.removeEventListener("focusin",r),s.removeEventListener("focus",r),s.removeEventListener("focusout",a),s.removeEventListener("blur",a)})),this.store.ensureStoreIsUsable(),this.root.enter(void 0,"initial"),this.updateCullingBounds(),requestAnimationFrame((()=>{this._tickManager.start()}))}store;config;root;_shapeIds;disposables=new Set;_dprManager=new Fs(this);_cameraManager=new Os(this);_activeAreaManager=new Gs(this);_tickManager=new ro(this);_updateDepth=0;snaps=new to(this);isSafari;isIos;_canMoveCamera=(0,d.cn)("can move camera",!0);get canMoveCamera(){return this._canMoveCamera.value}set canMoveCamera(e){this._canMoveCamera.set(e)}_isFocused=(0,d.cn)("_isFocused",!1);get isFocused(){return this._isFocused.value}getContainer;get userId(){return this.store.props.userId}get instanceId(){return this.store.props.instanceId}annotateError(e,{origin:t,willCrashApp:i,tags:n,extras:s}){const o=this.createErrorAnnotations(t,i);(0,r.lw)(e,{tags:{...o.tags,...n},extras:{...o.extras,...s}}),i&&this.store.markAsPossiblyCorrupted()}createErrorAnnotations(e,t){try{return{tags:{origin:e,willCrashApp:t},extras:{activeStateNode:this.root.path.value,selectedShapes:this.selectedShapes,editingShape:this.editingId?this.getShapeById(this.editingId):void 0,inputs:this.inputs}}}catch{return{tags:{origin:e,willCrashApp:t},extras:{}}}}_crashingError=null;get crashingError(){return this._crashingError}crash(e){this._crashingError=e,this.store.markAsPossiblyCorrupted(),this.emit("crash")}get devicePixelRatio(){return this._dprManager.dpr.value}openMenus=new Set;get isMenuOpen(){return this.openMenus.size>0}_isCoarsePointer=(0,d.cn)("isCoarsePointer",!1);get isCoarsePointer(){return this._isCoarsePointer.value}set isCoarsePointer(e){this._isCoarsePointer.set(e)}_isChangingStyle=(0,d.cn)("isChangingStyle",!1);_isChangingStyleTimeout=-1;get isChangingStyle(){return this._isChangingStyle.value}set isChangingStyle(e){this._isChangingStyle.set(e),clearTimeout(this._isChangingStyleTimeout),e&&(this._isChangingStyleTimeout=setTimeout((()=>this.isChangingStyle=!1),2e3))}get _pageTransformCache(){return this.store.createComputedCache("pageTransformCache",(e=>{if(n.rl.isId(e.parentId))return this.getTransform(e);const t=this._pageTransformCache.get(e.parentId);return l.yX.Compose(t,this.getTransform(e))}))}get _pageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",(e=>{const t=this._pageTransformCache.get(e.id);if(!t)return new l.No;return l.No.FromPoints(l.yX.applyToPoints(t,this.getShapeUtil(e).outline(e)))}))}get _pageMaskCache(){return this.store.createComputedCache("pageMaskCache",(e=>{if(n.rl.isId(e.parentId))return;const t=this.getAncestorsById(e.id).filter((e=>"frame"===e.type));if(0===t.length)return;return t.map((e=>l.yX.applyToPoints(this._pageTransformCache.get(e.id),this.getOutline(e)))).reduce(((e,t)=>t&&e?(0,l.tY)(e,t)??void 0:void 0))}))}getPageMaskById(e){return this._pageMaskCache.get(e)}get _clipPathCache(){return this.store.createComputedCache("clipPathCache",(e=>{const t=this._pageMaskCache.get(e.id);if(!t)return;const i=this._pageTransformCache.get(e.id);if(!i)return;if(0===t.length)return"polygon(0px 0px, 0px 0px, 0px 0px)";return`polygon(${l.yX.applyToPoints(l.yX.Inverse(i),t).map((e=>`${e.x}px ${e.y}px`)).join(",")})`}))}getClipPathById(e){return this._clipPathCache.get(e)}_parentIdsToChildIds;dispose(){this.disposables.forEach((e=>e())),this.disposables.clear()}history=new _s(this,(()=>this._complete()),(e=>{this.annotateError(e,{origin:"history.batch",willCrashApp:!0}),this.crash(e)}));undo(){return this.history.undo()}get canUndo(){return this.history.numUndos>0}redo(){return this.history.redo(),this}get canRedo(){return this.history.numRedos>0}mark(e,t,i){return this.history.mark(e,t,i)}bail(){return this.history.bail(),this}bailToMark(e){return this.history.bailToMark(e),this}batch(e){return this.history.batch(e),this}shapeUtils;getShapeUtil(e){return this.shapeUtils[e.type]}getShapeUtilByDef(e){return this.shapeUtils[e.type]}_childIdsCache=new G;getSortedChildIds(e){const t=this._parentIdsToChildIds.value[e];return t?this._childIdsCache.get(t,(()=>t.map((([e])=>e)))):d.LZ}visitDescendants(e,t){const i=this.getSortedChildIds(e);for(const n of i)!1!==t(n)&&this.visitDescendants(n,t)}get erasingIds(){return this.pageState.erasingIds}get hintingIds(){return this.pageState.hintingIds}get erasingIdsSet(){return new Set(this.erasingIds)}_extractSharedProps(e,t){if("group"===e.type){const i=this._parentIdsToChildIds.value[e.id];if(!i)return;for(let e=0,n=i.length;e<n;e++)this._extractSharedProps(this.getShapeById(i[e][0]),t)}else{const i=Object.entries(e.props);let n;for(let e=0,s=i.length;e<s;e++)switch(n=i[e],t[n[0]]){case void 0:t[n[0]]=n[1];break;case null:case n[1]:continue;default:t[n[0]]=null}}}_selectionSharedProps=(0,d.Fl)("_selectionSharedProps",(()=>{const{selectedShapes:e}=this,t={};for(let i=0,n=e.length;i<n;i++)this._extractSharedProps(e[i],t);return t}));get allowUiPaste(){return Boolean(navigator.clipboard)&&Boolean(navigator.clipboard.read)}_prevProps={};get props(){let e;if(this.isIn("select")&&this.selectedIds.length>0)e=this._selectionSharedProps.value;else{const t=this.root.current.value;if(0===t.styles.length)e=null;else{const{propsForNextShape:i}=this.instanceState;e=Object.fromEntries(t.styles.map((e=>[e,i[e]])))}}return JSON.stringify(this._prevProps)===JSON.stringify(e)?this._prevProps:(this._prevProps=e,e)}get shapeIds(){return this._shapeIds.value}_invalidParents=new Set;_complete(){const{lastUpdatedPageId:e,lastUsedTabId:t}=this.userDocumentSettings;t===this.instanceId&&e===this.currentPageId||this.store.put([{...this.userDocumentSettings,lastUsedTabId:this.instanceId,lastUpdatedPageId:this.currentPageId}]);for(const i of this._invalidParents){this._invalidParents.delete(i);const e=this.getShapeById(i);if(!e)continue;const t=this.getShapeUtil(e),n=t.onChildrenChange?.(e);n?.length&&this.updateShapes(n,!0)}this.updateUserPresence(),this.emit("update")}get _arrowBindingsIndex(){return(e=>{const t=e.query.filterHistory("shape"),i=e.query.records("shape",(()=>({type:{eq:"arrow"}})));function n(){const e=i.value,t={};for(const i of e){const{start:e,end:n}=i.props;if("binding"===e.type){const n=t[e.boundShapeId];n?n.push({arrowId:i.id,handleId:"start"}):t[e.boundShapeId]=[{arrowId:i.id,handleId:"start"}]}if("binding"===n.type){const e=t[n.boundShapeId];e?e.push({arrowId:i.id,handleId:"end"}):t[n.boundShapeId]=[{arrowId:i.id,handleId:"end"}]}}return t}return(0,d.Fl)("arrowBindingsIndex",((e,i)=>{if((0,d.e1)(e))return n();const s=e,o=t.getDiffSince(i);if(o===d.SB)return n();let r;function a(e){r||(r={...s}),r[e]?r[e]===s[e]&&(r[e]=[...r[e]]):r[e]=[]}function l(e,t,i){a(e),r[e]=r[e].filter((e=>e.arrowId!==t||e.handleId!==i)),0===r[e].length&&delete r[e]}function c(e,t,i){a(e),r[e].push({arrowId:t,handleId:i})}for(const t of o){for(const e of Object.values(t.added))if(un.is(e)){const{start:t,end:i}=e.props;"binding"===t.type&&c(t.boundShapeId,e.id,"start"),"binding"===i.type&&c(i.boundShapeId,e.id,"end")}for(const[e,i]of Object.values(t.updated))if(un.is(e)&&un.is(i))for(const t of["start","end"]){const n=e.props[t],s=i.props[t];"binding"===n.type&&"point"===s.type?l(n.boundShapeId,e.id,t):"point"===n.type&&"binding"===s.type?c(s.boundShapeId,i.id,t):"binding"===n.type&&"binding"===s.type&&n.boundShapeId!==s.boundShapeId&&(l(n.boundShapeId,e.id,t),c(s.boundShapeId,i.id,t))}for(const e of Object.values(t.removed))if(un.is(e)){const{start:t,end:i}=e.props;"binding"===t.type&&l(t.boundShapeId,e.id,"start"),"binding"===i.type&&l(i.boundShapeId,e.id,"end")}}return r??s}))})(this.store)}getArrowsBoundTo(e){return this._arrowBindingsIndex.value[e]||d.LZ}_reparentArrow(e){const t=this.getShapeById(e);if(!t)return;const{start:i,end:n}=t.props,s="binding"===i.type?this.getShapeById(i.boundShapeId):void 0,o="binding"===n.type?this.getShapeById(n.boundShapeId):void 0,r=this.getParentPageId(t);if(!r)return;let a;if(s&&o)a=this.findCommonAncestor([s,o])??r;else{if(!s&&!o)return;a=r}a&&a!==t.parentId&&this.reparentShapesById([e],a);const l=this.getShapeById(e),c=this.getNearestSiblingShape(l,s),d=this.getNearestSiblingShape(l,o);let u,h;if(c&&d)u=c.index>d.index?c:d;else if(c&&!d)u=c;else{if(!d||c)return;u=d}const p=this.getSortedChildIds(u.parentId).map((e=>this.getShapeById(e))).filter((e=>e.index>u.index));if(p.length){const e=p.find((e=>"arrow"!==e.type));if(l.index>u.index&&(!e||l.index<e.index))return;h=Pe(u.index,p[0].index)}else h=Ge(u.index);h!==l.index&&this.updateShapes([{id:e,type:"arrow",index:h}])}_unbindArrowTerminal(e,t){const{x:i,y:n}=Bi(this,e)[t];this.store.put([{...e,props:{...e.props,[t]:{type:"point",x:i,y:n}}}])}_shapeWillBeDeleted(e){e.parentId&&(0,n.YT)(e.parentId)&&this._invalidParents.add(e.parentId);const t=this._arrowBindingsIndex.value[e.id];if(t?.length)for(const{arrowId:n,handleId:r}of t){const e=this.getShapeById(n);e&&this._unbindArrowTerminal(e,r)}const i=this.store.query.records("instance_page_state").value,s=new Set([e.id]),o=(0,r.oA)(i.map((e=>this._cleanupInstancePageState(e,s))));o.length&&this.store.put(o)}_arrowDidUpdate(e){for(const t of["start","end"]){const i=e.props[t];if("binding"!==i.type)continue;const n=this.getShapeById(i.boundShapeId),s=this.getParentPageId(e)===this.getParentPageId(n);n&&s||this._unbindArrowTerminal(e,t)}this._reparentArrow(e.id)}_cleanupInstancePageState(e,t){let i=null;const n=e.selectedIds.filter((e=>!t.has(e)));n.length!==e.selectedIds.length&&(i||(i={...e}),i.selectedIds=n);const s=e.erasingIds.filter((e=>!t.has(e)));s.length!==e.erasingIds.length&&(i||(i={...e}),i.erasingIds=s),e.hoveredId&&t.has(e.hoveredId)&&(i||(i={...e}),i.hoveredId=null),e.editingId&&t.has(e.editingId)&&(i||(i={...e}),i.editingId=null);const o=e.hintingIds.filter((e=>!t.has(e)));return o.length!==e.hintingIds.length&&(i||(i={...e}),i.hintingIds=o),e.focusLayerId&&t.has(e.focusLayerId)&&(i||(i={...e}),i.focusLayerId=null),i}_shapeDidChange(e,t){if(un.is(t)&&this._arrowDidUpdate(t),e.parentId!==t.parentId){const e=e=>{const t=this._arrowBindingsIndex.value[e];if(t?.length)for(const i of t)this._reparentArrow(i.arrowId)};e(t.id),this.visitDescendants(t.id,e)}if(e.parentId!==t.parentId&&n.rl.isId(t.parentId)){const i=new Set([e.id]);this.visitDescendants(e.id,(e=>{i.add(e)}));for(const e of this.store.query.records("instance_page_state").value){if(e.pageId===t.parentId)continue;const n=this._cleanupInstancePageState(e,i);n&&this.store.put([n])}}e.parentId&&(0,n.YT)(e.parentId)&&this._invalidParents.add(e.parentId),t.parentId!==e.parentId&&(0,n.YT)(t.parentId)&&this._invalidParents.add(t.parentId)}_tabStateDidChange(e,t){if(e?.selectedIds!==t?.selectedIds){const e=t.selectedIds.filter((e=>{let i=this.getShapeById(e)?.parentId;for(;(0,n.YT)(i);){if(t.selectedIds.includes(i))return!1;i=this.getShapeById(i)?.parentId}return!0})),i=0===e.length?t?.focusLayerId:this.findCommonAncestor((0,r.oA)(e.map((e=>this.getShapeById(e)))),(e=>"group"===e.type));e.length===t.selectedIds.length&&i==t.focusLayerId||this.store.put([{...t,selectedIds:e,focusLayerId:i??null}])}}_pageWillBeDeleted(e){const t=this.store.query.exec("instance",{currentPageId:{eq:e.id}});if(!t.length)return;const i=this.pages.find((t=>t.id!==e.id))?.id;i&&this.store.put(t.map((e=>({...e,currentPageId:i}))))}get documentSettings(){return this.store.get(n.G4)}get gridSize(){return this.documentSettings.gridSize}get userSettings(){return this.store.get(this.userId)}get _userDocumentSettings(){return this.store.query.record("user_document",(()=>({userId:{eq:this.userId}})))}get userDocumentSettings(){return this._userDocumentSettings.value}get isReadOnly(){return this.userDocumentSettings.isReadOnly}get isGridMode(){return this.userDocumentSettings.isGridMode}setGridMode(e){this.updateUserDocumentSettings({isGridMode:e},!0)}setDarkMode(e){this.updateUserDocumentSettings({isDarkMode:e},!0)}enableReadOnlyMode(){this.updateUserDocumentSettings({isReadOnly:!0}),this.setSelectedTool("hand")}_isPenMode=(0,d.cn)("isPenMode",!1);_touchEventsRemainingBeforeExitingPenMode=0;get isPenMode(){return this._isPenMode.value}setPenMode(e){e&&(this._touchEventsRemainingBeforeExitingPenMode=3),this._isPenMode.set(e)}get user(){return this.store.get(this.userId)}get instanceState(){return this.store.get(this.instanceId)}get cursor(){return this.instanceState.cursor}get brush(){return this.instanceState.brush}get scribble(){return this.instanceState.scribble}get _pageState(){return this.store.query.record("instance_page_state",(()=>({pageId:{eq:this.currentPageId},instanceId:{eq:this.instanceId}})),"app._pageState")}get pageState(){return this._pageState.value}get camera(){return this.store.get(this.pageState.cameraId)}get zoomLevel(){return this.camera.z}get selectedIds(){return this.pageState.selectedIds}get selectedIdsSet(){return new Set(this.selectedIds)}get _pages(){return this.store.query.records("page")}get pages(){return this._pages.value.sort(Fe)}get currentPage(){return this.getPageById(this.currentPageId)}get currentPageId(){return this.instanceState.currentPageId}getPageById(e){return this.store.get(e)}get _pageStates(){return this.store.query.records("instance_page_state",(()=>({instanceId:{eq:this.instanceId}})))}getPageStateByPageId(e){return this._pageStates.value.find((t=>t.pageId===e))}getPageInfoById(e){return this.store.get(e)}getShapesInPage(e){const t=this.store.query.exec("shape",{parentId:{eq:e}});return this.getShapesAndDescendantsInOrder(t.map((e=>e.id)))}getTransform(e){return this.getShapeUtil(e).transform(e)}getParentTransform(e){return n.rl.isId(e.parentId)?l.yX.Identity():this._pageTransformCache.get(e.parentId)??l.yX.Identity()}getPageTransform(e){return this.getPageTransformById(e.id)}getPageTransformById(e){return this._pageTransformCache.get(e)}getPagePointById(e){const t=this.getPageTransformById(e);if(t)return l.yX.applyToPoint(t,new l.GF)}getPageCenter(e){const t=this.getPageTransformById(e.id);if(!t)return null;const i=this.getShapeUtil(e).center(e);return l.yX.applyToPoint(t,i)}getPageCenterById(e){const t=this.getShapeById(e);return this.getPageCenter(t)}getPageRotation(e){return this.getPageRotationById(e.id)}getPageRotationById(e){const t=this.getPageTransformById(e);return t?l.yX.Decompose(t).rotation:0}getBounds(e){return this.getShapeUtil(e).bounds(e)}getBoundsById(e){const t=this.getShapeById(e);if(t)return this.getBounds(t)}getPageBounds(e){return this.getPageBoundsById(e.id)}getPageBoundsById(e){return this._pageBoundsCache.get(e)}getMaskedPageBounds(e){return this.getMaskedPageBoundsById(e.id)}getMaskedPageBoundsById(e){const t=this._pageBoundsCache.get(e);if(!t)return;const i=this._pageMaskCache.get(e);if(i){const e=(0,l.tY)(i,t.corners);if(!e)return;return l.No.FromPoints(e)}return t}getOutline(e){return this.getShapeUtil(e).outline(e)}getOutlineById(e){return this.getOutline(this.getShapeById(e))}getAncestors(e,t=[]){const i=e.parentId;if(n.rl.isId(i))return t.reverse(),t;const s=this.store.get(i);return t.push(s),this.getAncestors(s,t)}getAncestorsById(e,t=[]){const i=this.getShapeById(e);return this.getAncestors(i,t)}findAncestor(e,t){const i=e.parentId;if(n.rl.isId(i))return;const s=this.getShapeById(i);return s?t(s)?s:this.findAncestor(s,t):void 0}hasAncestor(e,t){return!!e&&(e.parentId===t||this.hasAncestor(this.getParentShape(e),t))}findCommonAncestor(e,t){if(0===e.length)return;if(1===e.length){const i=e[0].parentId;if(n.rl.isId(i))return;return t?this.findAncestor(e[0],t)?.id:i}const[i,...s]=e;let o=this.getParentShape(i);for(;o;)if(!t||t(o)){if(s.every((e=>this.hasAncestor(e,o.id))))return o.id;o=this.getParentShape(o)}else o=this.getParentShape(o)}isShapeInViewport(e){const t=this.getPageBoundsById(e);return!!t&&this.viewportPageBounds.includes(t)}get renderingShapes(){const{currentPageId:e,cullingBounds:t,cullingBoundsExpanded:i,erasingIdsSet:n,editingId:s}=this,o=[],r=(e,a,l)=>{const c=this.getShapeById(e);if(!c)return;let d=+c.props.opacity*a,u=!1;!l&&n.has(e)&&(u=!0,d*=.32);const h=this.getMaskedPageBoundsById(e),p=!!h&&t.includes(h),g=!h||s!==e&&!i.includes(h);o.push({id:e,index:o.length,opacity:d,isCulled:g,isInViewport:p}),this.getSortedChildIds(e).forEach((e=>{r(e,d,l||u)}))};return this.getSortedChildIds(e).forEach((e=>r(e,1,!1))),o.sort(Be)}get allShapesCommonBounds(){let e=null;return this.shapeIds.forEach((t=>{const i=this.getMaskedPageBoundsById(t);i&&(e?e.expand(i):e=i.clone())})),e}getPageCorners(e){const t=this.getAncestors(e),i=this.getBounds(e).corners,n=l.yX.Compose(...t.flatMap((e=>[l.yX.Translate(e.x,e.y),l.yX.Rotate(e.rotation)])),l.yX.Translate(e.x,e.y),l.yX.Rotate(e.rotation,0,0));return l.yX.applyToPoints(n,i)}isPointInShape(e,t){const i=this.getShapeUtil(t),n=this._pageMaskCache.get(t.id);if(n){if(!(0,l.Of)(e,n))return!1}return i.hitTestPoint(t,this.getPointInShapeSpace(t,e))}getShapesAtPoint(e){return this.sortedShapesArray.filter((t=>{const i=this._pageMaskCache.get(t.id);if(i){if(!(0,l.Of)(e,i))return!1}return this.getShapeUtil(t).hitTestPoint(t,this.getPointInShapeSpace(t,e))}))}getPointInShapeSpace(e,t){return l.yX.applyToPoint(l.yX.Inverse(this.getPageTransform(e)),t)}getPointInParentSpace(e,t){const i=this.getShapeById(e);if(!i)return new l.GF(0,0);if(n.rl.isId(i.parentId))return l.GF.From(t);const s=this.getPageTransformById(i.parentId);return s?l.yX.applyToPoint(l.yX.Inverse(s),t):l.GF.From(t)}getDeltaInShapeSpace(e,t){const i=this.getPageTransform(e);return i?l.GF.Rot(t,-l.yX.Decompose(i).rotation):l.GF.From(t)}getDeltaInParentSpace(e,t){if(n.rl.isId(e.parentId))return l.GF.From(t);const i=this.getShapeById(e.parentId);return i?this.getDeltaInShapeSpace(i,t):l.GF.From(t)}getParentsMappedToChildren(e){const t=e.map((e=>this.store.get(e))),i=new Map;return t.forEach((e=>{i.has(e.parentId)||i.set(e.parentId,new Set),i.get(e.parentId)?.add(e)})),i}updateViewportScreenBounds(e=!1){const t=this.getContainer();if(!t)return this;const i=t.getBoundingClientRect(),n=new l.No(0,0,Math.max(i.width,1),Math.max(i.height,1)),s=n.equals(this.viewportScreenBounds),{_willSetInitialBounds:o}=this;if(s)this._willSetInitialBounds=!1;else if(o)this._willSetInitialBounds=!1,this.updateInstanceState({screenBounds:n.toJson()},!0,!0);else{const{zoomLevel:t}=this;if(e){const e=this.viewportPageCenter;this.updateInstanceState({screenBounds:n.toJson()},!0,!0);const i=this.viewportPageCenter;this.pan((i.x-e.x)*t,(i.y-e.y)*t)}else{const e=this.screenToPage(0,0);this.updateInstanceState({screenBounds:n.toJson()},!0,!0);const i=this.screenToPage(0,0);this.pan((i.x-e.x)*t,(i.y-e.y)*t)}}this._cameraManager.tick(),this.updateCullingBounds();const{editingId:r}=this;return r&&this.panZoomIntoView([r]),this}get viewportScreenBounds(){const{x:e,y:t,w:i,h:n}=this.instanceState.screenBounds;return new l.No(e,t,i,n)}get viewportScreenCenter(){return this.viewportScreenBounds.center}get viewportPageBounds(){const{x:e,y:t,w:i,h:n}=this.viewportScreenBounds,s=this.screenToPage(e,t),o=this.screenToPage(e+i,t+n);return new l.No(s.x,s.y,o.x-s.x,o.y-s.y)}get cullingBounds(){return this._cullingBounds.value}_cullingBounds=(0,d.cn)("culling viewport",new l.No);get cullingBoundsExpanded(){return this._cullingBoundsExpanded.value}_cullingBoundsExpanded=(0,d.cn)("culling viewport expanded",new l.No);updateCullingBounds(){const{viewportPageBounds:e}=this;return e.equals(this._cullingBounds.__unsafe__getWithoutCapture())||(this._cullingBounds.set(e.clone()),this._cullingBoundsExpanded.set(e.clone().expandBy(100/this.zoomLevel))),this}get viewportPageCenter(){return this.viewportPageBounds.center}screenToPage(e,t,i=.5,n=this.camera){const{screenBounds:s}=this.store.unsafeGetWithoutCapture(this.instanceId),{x:o,y:r,z:a=1}=n;return{x:(e-s.x)/a-o,y:(t-s.y)/a-r,z:i}}pageToScreen(e,t,i=.5,n=this.camera){const{x:s,y:o,z:r=1}=n;return{x:e+s*r,y:t+o*r,z:i}}get focusLayerId(){return this.pageState.focusLayerId??this.currentPageId}get focusLayerShape(){const e=this.pageState.focusLayerId;if(e)return this.getShapeById(e)}popFocusLayer(){const e=this.pageState.focusLayerId,t=e&&this.getShapeById(e);if(t){const e=this.findAncestor(t,(e=>"group"===e.type));this.setFocusLayer(e?.id??null),this.select(t.id)}else this.setFocusLayer(null),this.selectNone();return this}setFocusLayer(e){return this._setFocusLayer(e),this}_setFocusLayer=this.history.createCommand("setFocusLayer",(e=>{if(null===e&&!this.canUndo)return;return{data:{prev:this.pageState.focusLayerId,next:e},preservesRedoStack:!0,squashing:!0}}),{do:({next:e})=>{this.store.update(this.pageState.id,(t=>({...t,focusLayerId:e})))},undo:({prev:e})=>{this.store.update(this.pageState.id,(t=>({...t,focusLayerId:e})))},squash:({prev:e},{next:t})=>({prev:e,next:t})});setHintingIds(e){return this.store.update(this.pageState.id,(t=>({...t,hintingIds:(0,r.D8)(e)}))),this}get editingId(){return this.pageState.editingId}get editingShape(){return this.editingId?this.getShapeById(this.editingId)??null:null}setEditingId(e){if(e){if(e!==this.editingId){const t=this.getShapeById(e),i=this.getShapeUtil(t);if(t&&i.canEdit(t)){this.setInstancePageState({editingId:e,hoveredId:null},!1);const{viewportPageBounds:n}=this,s=i.getEditingBounds(t),o=this.getPageTransformById(e),r=l.No.FromPoints(l.yX.applyToPoints(o,s.corners));n.contains(r)||(r.width>n.width||r.height>n.height?this.zoomToBounds(r.minX,r.minY,r.width,r.height):this.centerOnPoint(r.midX,r.midY))}}}else this.setInstancePageState({editingId:null});return this}getParentIdForNewShapeAtPoint(e,t){const i=this.sortedShapesArray;for(let n=i.length-1;n>=0;n--){const s=i[n],o=this.getShapeUtil(s);if(!o.canReceiveNewChildrenOfType(t))continue;const r=this.getMaskedPageBoundsById(s.id);if(r&&r.containsPoint(e)&&o.hitTestPoint(s,this.getPointInShapeSpace(s,e)))return s.id}return this.focusLayerId}getDroppingShape(e,t=[]){const i=this.sortedShapesArray;for(let n=i.length-1;n>=0;n--){const s=i[n];if(t.find((e=>e.id===s.id||this.hasAncestor(s,e.id))))continue;const o=this.getShapeUtil(s);if(!o.canDropShapes(s,t))continue;const r=this.getMaskedPageBoundsById(s.id);if(r&&r.containsPoint(e)&&o.hitTestPoint(s,this.getPointInShapeSpace(s,e)))return s}}getOutermostSelectableShape(e,t){let i=e,n=e;for(;n;){if("group"===n.type&&this.focusLayerId!==n.id&&!this.hasAncestor(this.focusLayerShape,n.id)&&(t?.(n)??1))i=n;else if(this.focusLayerId===n.id)break;n=this.getParentShape(n)}return i}static styles=z;get selectedPageBounds(){const{pageState:{selectedIds:e}}=this;return 0===e.length?null:l.No.Common((0,r.oA)(e.map((e=>this.getPageBoundsById(e)))))}get selectionRotation(){const{selectedIds:e}=this;if(0===e.length)return 0;if(1===e.length)return this.getPageRotationById(this.selectedIds[0]);const t=e.map((e=>this.getPageRotationById(e)%(Math.PI/2)));return t.every((e=>Math.abs(e-t[0])<Math.PI/180))?this.getPageRotationById(e[0]):0}get selectionBounds(){const{selectedIds:e}=this;if(0===e.length)return;const{selectionRotation:t}=this;if(0===t)return this.selectedPageBounds;if(1===e.length){const t=this.getBounds(this.getShapeById(e[0])).clone();return t.point=l.yX.applyToPoint(this.getPageTransformById(e[0]),t.point),t}const i=this.selectedIds.flatMap((e=>{const t=this.getPageTransformById(e);return t?this.getOutlineById(e).map((e=>l.yX.applyToPoint(t,e))):[]})).map((e=>l.GF.Rot(e,-t))),n=l.No.FromPoints(i);return n.point=n.point.rot(t),n}get selectionPageCenter(){const{selectionBounds:e,selectionRotation:t}=this;return e?l.GF.RotWith(e.center,e.point,t):null}get shapesArray(){return Array.from(this.shapeIds).map((e=>this.store.get(e)))}get sortedShapesArray(){const e=new Set(this.shapesArray.sort(Fe)),t=[];function i(n){t.push(n),e.delete(n),e.forEach((e=>{e.parentId===n.id&&i(e)}))}return e.forEach((e=>{const t=this.getShapeById(e.parentId);(0,n.VV)(t)||i(e)})),t}get selectedShapes(){const{selectedIds:e}=this.pageState;return(0,r.oA)(e.map((e=>this.store.get(e))))}get onlySelectedShape(){const{selectedShapes:e}=this;return 1===e.length?e[0]:null}getShapeById(e){if((0,n.YT)(e))return this.store.get(e)}getParentShape(e){if(void 0!==e&&(0,n.YT)(e.parentId))return this.store.get(e.parentId)}getNearestSiblingShape(e,t){if(!t)return;if(t.parentId===e.parentId)return t;return this.findAncestor(t,(t=>t.parentId===e.parentId))}getParentPageId(e){if(void 0!==e)return n.rl.isId(e.parentId)?e.parentId:this.getParentPageId(this.getShapeById(e.parentId))}isShapeInPage(e,t=this.currentPageId){let i=!1;if(e.parentId===t)i=!0;else{let n=this.getShapeById(e.parentId);e:for(;n;){if(n.parentId===t){i=!0;break e}n=this.getShapeById(n.parentId)}}return i}colors;sizes={s:2,m:3.5,l:5,xl:10};getCssColor(e){return this.colors.get(e)}getStrokeWidth(e){return this.sizes[e]}get currentToolId(){const e=this.root.current.value;let t=e?.id;if("select"===t){const i=e?.current.value;t=i?.info?.onInteractionEnd??"select"}return t??"select"}setSelectedTool(e,t={}){return this.root.transition(e,t),this}getStateDescendant(e){const t=e.split(".").reverse();let i=this.root;for(;t.length>0;){const e=t.pop();if(!e)return i;const n=i.children?.[e];if(!n)return;i=n}return i}isIn(e){const t=e.split(".").reverse();let i=this.root;for(;t.length>0;){const e=t.pop();if(!e)return!0;const n=i.current.value;if(n?.id!==e)return!1;if(0===t.length)return!0;i=n}return!1}isInAny(...e){return e.some((e=>this.isIn(e)))}inputs={originPagePoint:new l.GF,originScreenPoint:new l.GF,previousPagePoint:new l.GF,previousScreenPoint:new l.GF,currentPagePoint:new l.GF,currentScreenPoint:new l.GF,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,pointerVelocity:new l.GF};_updateInputsFromEvent(e){const{previousScreenPoint:t,previousPagePoint:i,currentScreenPoint:n,currentPagePoint:s}=this.inputs,{screenBounds:o}=this.store.unsafeGetWithoutCapture(this.instanceId),{x:r,y:a,z:c}=e.point,{x:d,y:u,z:h}=this.camera;t.setTo(n),i.setTo(s);const p=(r-o.x)/h-d,g=(a-o.y)/h-u;n.set(r,a),s.set(p,g,c??.5),this.inputs.isPen="pointer"===e.type&&e.isPen,"pointer_down"===e.name&&(this.inputs.pointerVelocity=new l.GF),this.updateUserPresence({cursor:s.toJson()})}_clickManager=new Rs(this);cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}_prevCursor="default";_shiftKeyTimeout=-1;_setShiftKeyTimeout=()=>{this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey})};_altKeyTimeout=-1;_setAltKeyTimeout=()=>{this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey})};_ctrlKeyTimeout=-1;_setCtrlKeyTimeout=()=>{this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey})};_restoreToolId="select";_pinchStart=1;_didPinch=!1;_selectedIdsAtPointerDown=[];dispatch=e=>{if(this.crashingError)return this;const{inputs:t}=this,{type:i}=e;return this.batch((()=>{if("misc"===e.type)return"cancel"!==e.name&&"complete"!==e.name||this.inputs.isPanning&&(this.inputs.isPanning=!1,this.setCursor({type:this._prevCursor})),void this.root.handleEvent(e);e.shiftKey?(clearInterval(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,t.shiftKey=!0):!e.shiftKey&&t.shiftKey&&-1===this._shiftKeyTimeout&&(this._shiftKeyTimeout=setTimeout(this._setShiftKeyTimeout,150)),e.altKey?(clearInterval(this._altKeyTimeout),this._altKeyTimeout=-1,t.altKey=!0):!e.altKey&&t.altKey&&-1===this._altKeyTimeout&&(this._altKeyTimeout=setTimeout(this._setAltKeyTimeout,150)),e.ctrlKey?(clearInterval(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,t.ctrlKey=!0):!e.ctrlKey&&t.ctrlKey&&-1===this._ctrlKeyTimeout&&(this._ctrlKeyTimeout=setTimeout(this._setCtrlKeyTimeout,150));const{originPagePoint:n,originScreenPoint:s,currentPagePoint:o,currentScreenPoint:r}=t;switch(t.isPointing||(t.isDragging=!1),i){case"pinch":if(!this.canMoveCamera)return;switch(this._updateInputsFromEvent(e),e.name){case"pinch_start":if(t.isPinching)return;return void(t.isEditing||(this._pinchStart=this.camera.z,this._selectedIdsAtPointerDown.length||(this._selectedIdsAtPointerDown=this.selectedIds.slice()),this._didPinch=!0,t.isPinching=!0,this.interrupt()));case"pinch":{if(!t.isPinching)return;const{point:{x:i,y:n,z:s=1},delta:{x:o,y:r}}=e,{camera:{x:a,y:l,z:c}}=this,d=Math.min(8,Math.max(b,s));return void this.setCamera(a+o/c-i/c+i/d,l+r/c-n/c+n/d,d)}case"pinch_end":{if(!t.isPinching)return this;t.isPinching=!1;const{_selectedIdsAtPointerDown:e}=this;this.setSelectedIds(this._selectedIdsAtPointerDown,!0),this._selectedIdsAtPointerDown=[];const{camera:{x:i,y:n,z:s}}=this;let o;if(s>.9&&s<1.05?o=1:s>.49&&s<.505&&(o=.5),s>this._pinchStart-.1&&s<this._pinchStart+.05&&(o=this._pinchStart),void 0!==o){const{x:e,y:t}=this.viewportScreenCenter;this.animateCamera(i+(e/o-e)-(e/s-e),n+(t/o-t)-(t/s-t),o,{duration:100})}return void(this._didPinch&&(this._didPinch=!1,requestAnimationFrame((()=>{this._didPinch||this.setSelectedIds(e,!0)}))))}}case"wheel":if(!this.canMoveCamera)return;if(this._viewportAnimation||this.isMenuOpen);else{if(t.ctrlKey){const{x:t,y:i}=this.inputs.currentScreenPoint,{x:n,y:s,z:o}=this.camera,r=Math.min(8,Math.max(b,o+(e.delta.z??0)*o));return void this.setCamera(n+(t/r-t)-(t/o-t),s+(i/r-i)-(i/o-i),r)}this.pan(e.delta.x,e.delta.y),t.isPointing&&!t.isDragging&&l.GF.Dist(s,this.pageToScreen(r.x,r.y))>4&&(t.isDragging=!0),this.dispatch({type:"pointer",target:"canvas",name:"pointer_move",point:r,pointerId:0,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,button:0,isPen:this.isPenMode??!1})}break;case"pointer":{if(t.isPinching)return;this._updateInputsFromEvent(e);const{isPen:i}=e;switch(e.name){case"pointer_down":if(this._selectedIdsAtPointerDown=this.selectedIds.slice(),t.buttons.add(e.button),t.isPointing=!0,t.isDragging=!1,this.isPenMode)if(i)this._touchEventsRemainingBeforeExitingPenMode=3;else{if(this._touchEventsRemainingBeforeExitingPenMode--,0!==this._touchEventsRemainingBeforeExitingPenMode)return;this.setPenMode(!1)}else i&&this.setPenMode(!0);if(5===e.button?(this._restoreToolId=this.currentToolId,this.complete(),this.setSelectedTool("eraser")):1===e.button&&(this.inputs.isPanning||(this._prevCursor=this.instanceState.cursor.type),this.inputs.isPanning=!0),this.inputs.isPanning)return this.stopCameraAnimation(),this.setCursor({type:"grabbing"}),this;s.setTo(r),n.setTo(o);break;case"pointer_move":if(!i&&this.isPenMode)return;if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:e,previousScreenPoint:t}=this.inputs,i=l.GF.Sub(e,t);return void this.pan(i.x,i.y)}t.isPointing&&!t.isDragging&&l.GF.Dist(s,r)>4&&(t.isDragging=!0);break;case"pointer_up":if(t.buttons.delete(e.button),t.isPointing=!1,t.isDragging=!1,this.isMenuOpen)return;if(!i&&this.isPenMode)return;t.isPanning?1===e.button?this.inputs.keys.has(" ")?(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:A}),this.setCursor({type:"grab"})):(t.isPanning=!1,this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:A}),this.setCursor({type:this._prevCursor})):0===e.button&&(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:A}),this.setCursor({type:"grab"})):5===e.button&&(this.complete(),this.setSelectedTool(this._restoreToolId))}break}case"keyboard":switch(e.name){case"key_down":if(t.keys.has(e.key))return;t.keys.add(e.key),e.ctrlKey||" "!==e.key||(this.inputs.isPanning||(this._prevCursor=this.instanceState.cursor.type),this.inputs.isPanning=!0,this.setCursor({type:this.inputs.isPointing?"grabbing":"grab"}));break;case"key_up":t.keys.delete(e.key)," "!==e.key||this.inputs.buttons.has(1)||(this.inputs.isPanning=!1,this.setCursor({type:this._prevCursor}))}}if("pointer"===e.type&&(1===e.button?e.name="middle_click":2===e.button&&(e.name="right_click")),"pointer"===e.type&&e.isPen===this.isPenMode)switch(e.name){case"pointer_down":{const t=this._clickManager.transformPointerDownEvent(e);if(e.name!==t.name)return this.root.handleEvent(e),this.emit("event",e),this.root.handleEvent(t),void this.emit("event",t);break}case"pointer_up":{const t=this._clickManager.transformPointerUpEvent(e);if(e.name!==t.name)return this.root.handleEvent(e),this.emit("event",e),this.root.handleEvent(t),void this.emit("event",t);break}case"pointer_move":this._clickManager.handleMove()}this.root.handleEvent(e),this.emit("event",e)})),this};replaceStoreContentsWithRecordsForOtherDocument(e){(0,d.ay)((()=>{this.store.clear();const[t,i]=(0,r.uK)(e,(e=>"shape"===e.typeName));this.store.put(i,"initialize"),this.store.ensureStoreIsUsable(),this.store.put(t,"initialize"),this.history.clear(),this.updateViewportScreenBounds(),this.updateCullingBounds();const n=this.allShapesCommonBounds;n&&this.zoomToBounds(n.minX,n.minY,n.width,n.height,1)}))}getContent(e=this.selectedIds){if(!e)return;if(0===e.length)return;const t={};let i=(0,r.D8)(e.map((e=>this.getShapeById(e))).sort(Fe).flatMap((e=>{const t=[e];return this.visitDescendants(e.id,(e=>{t.push(this.getShapeById(e))})),t})));i=i.map((e=>{if(e=(0,r.v4)(e),t[e.id]=this.getPageTransformById(e.id),!un.is(e))return e;if("binding"===e.props.start.type){const t=e.props.start.boundShapeId;if(!i.find((e=>e.id===t))){const{start:t}=Bi(this,e);e.props.start={type:"point",x:t.x,y:t.y}}}if("binding"===e.props.end.type){const t=e.props.end.boundShapeId;if(!i.find((e=>e.id===t))){const{end:t}=Bi(this,e);e.props.end={type:"point",x:t.x,y:t.y}}}return e}));const n=[];i.forEach((e=>{if(void 0===i.find((t=>t.id===e.parentId))){const t=this.getPagePointById(e.id),i=this.getPageRotationById(e.id);e.x=t.x,e.y=t.y,e.rotation=i,e.parentId=this.currentPageId,n.push(e.id)}}));const s=new Set;return i.forEach((e=>{"assetId"in e.props&&null!==e.props.assetId&&s.add(e.props.assetId)})),{shapes:i,rootShapeIds:n,schema:this.store.schema.serialize(),assets:(0,r.oA)(Array.from(s).map((e=>this.getAssetById(e))))}}putContent(e,t={}){if(this.isReadOnly)return this;if(!e.schema)throw Error("Could not put content: content is missing a schema.");const{select:i=!1,preserveIds:s=!1,preservePosition:o=!1}=t;let{point:a}=t;const{currentPageId:c}=this,{assets:d,shapes:u,rootShapeIds:h}=e,p=new Map(u.map((e=>[e.id,(0,n.F1)()])));let I=this.currentPageId,m=1/0,y=[];for(const n of this.selectedShapes){if(0===m)break;const e=this.getAncestors(n);"frame"===n.type&&e.push(n);const t="frame"===n.type?e.length+1:e.length;if(t<m)m=t,y=e,I="frame"===n.type?n.id:n.parentId;else if(t===m){if(y.length!==e.length)throw Error(`Ancestors: ${y.length} !== ${e.length}`);if(0===y.length){I=c;break}I=c;for(let t=0;t<y.length&&e[t]===y[t];t++)I=e[t].id}}let b=!1;if(!n.rl.isId(I)){const e=this.getShapeById(I);if(e)if(this.viewportPageBounds.includes(this.getPageBounds(e))){if(1===h.length){const t=u.find((e=>e.id===h[0]));Wn.is(e)&&Wn.is(t)&&t.props.w===e?.props.w&&t.props.h===e?.props.h&&(b=!0)}}else I=c;else I=c}b||(b=p.has(I)),b&&(I=this.getShapeById(I).parentId);let f=this.getHighestIndexForParent(I);const C=[],w=u.map((e=>{let t;if(s)t=(0,r.p$)(e),p.set(e.id,e.id);else{const i=p.get(e.id);t=(0,r.p$)({...e,id:i})}if(h.includes(e.id)&&(t.parentId=c,C.push(t)),p.has(t.parentId)?t.parentId=p.get(e.parentId):(h.push(t.id),t.index=f,f=Ge(f)),un.is(t)){if("binding"===t.props.start.type){const e=p.get(t.props.start.boundShapeId);t.props.start=e?{...t.props.start,boundShapeId:e}:{type:"point",x:0,y:0}}if("binding"===t.props.end.type){const e=p.get(t.props.end.boundShapeId);t.props.end=e?{...t.props.end,boundShapeId:e}:{type:"point",x:0,y:0}}}return t}));if(w.length+this.shapeIds.size>g)return hr(this),this;let M=[];if(d){for(let i=0;i<d.length;i++){const t=d[i],n=this.store.schema.migratePersistedRecord(t,e.schema);if("success"!==n.type)throw Error(`Could not put content: could not migrate content for asset:\n${JSON.stringify(t,null,2)}`);d[i]=n.value}const t=[];M=d.filter((e=>!this.store.has(e.id))).map((e=>("image"!==e.type&&"video"!==e.type||(e.props.src&&e.props.src?.startsWith("data:image")?(t.push((0,r.v4)(e)),e.props.src=null):t.push((0,r.v4)(e))),e))),Promise.allSettled(t.map((async e=>{const t=await(i=e.props.src,n=e.props.name,s=e.props.mimeType??"image/png",fetch(i).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],n,{type:s})})));var i,n,s;return[e,await this.onCreateAssetFromFile(t)]}))).then((e=>{this.updateAssets((0,r.oA)(e.map((e=>"fulfilled"===e.status?{...e.value[1],id:e.value[0].id}:void 0))))}))}for(let n=0;n<w.length;n++){const t=w[n],i=this.store.schema.migratePersistedRecord(t,e.schema);if("success"!==i.type)throw Error(`Could not put content: could not migrate content for shape:\n${JSON.stringify(t,null,2)}`);w[n]=i.value}return this.batch((()=>{M.length>0&&this.createAssets(M),this.createShapes(w,i),I!==c&&this.reparentShapesById(C.map((e=>e.id)),I);const e=w.map((e=>this.getShapeById(e.id))),t=l.No.Common(e.map((e=>this.getPageBounds(e))));if(void 0===a)if(n.rl.isId(I)){const{viewportPageBounds:e}=this;a=o||e.includes(l.No.From(t))?t.center:e.center}else{const e=this.getShapeById(I),t=this.getShapeUtil(e);a=t.center(e)}if(1===C.length){const e=C[0];if("frame"===e.type)for(;this.getShapesAtPoint(a).some((t=>Wn.is(t)&&t.props.w===e.props.w&&t.props.h===e.props.h));)a.x+=t.w+16}this.updateShapes(C.map((e=>{const i=(e.x??0)-(t.x+t.w/2),n=(e.y??0)-(t.y+t.h/2);return{id:e.id,type:e.type,x:a.x+i,y:a.y+n}})))})),this}createShapeId(e){return e?(0,n.L8)(e):(0,n.F1)()}getHighestIndexForParent(e){const t=this._parentIdsToChildIds.value[e];return t&&0!==t.length?Ge(t[t.length-1][1]):"a1"}createShapes(e,t=!1){return this._createShapes(e,t),this}_createShapes=this.history.createCommand("createShapes",((e,t=!1)=>{if(this.isReadOnly)return null;if(e.length<=0)return null;const{shapeIds:i,selectedIds:n}=this,s=t?n:void 0,o=e.length+i.size>g;o&&hr(this);const r=o?e.slice(0,g-i.size):e;return 0===r.length?null:{data:{prevSelectedIds:s,partials:r,select:t}}}),{do:({partials:e,select:t})=>{const{focusLayerId:i}=this;e=e.map((t=>{if(!t.parentId||!this.store.get(t.parentId)&&!e.find((e=>e.id===t.parentId))){t={...t};const e=this.getParentIdForNewShapeAtPoint({x:t.x??0,y:t.y??0},t.type);if(t.parentId=e,(0,n.YT)(e)){const i=this.getPointInShapeSpace(this.getShapeById(e),{x:t.x??0,y:t.y??0});t.x=i.x,t.y=i.y,t.rotation=-this.getPageRotationById(e)+(t.rotation??0)}return t}return t}));const s=new Map,o=[];for(const n of e){const e=this.getShapeUtil(n);let t=n.index;if(!t){const e=n.parentId??i;s.has(e)||s.set(e,this.getHighestIndexForParent(e)),t=s.get(e),s.set(e,Ge(t))}const r=e.defaultProps(),{propsForNextShape:a}=this.instanceState;for(const i in r)if(i in a){if("url"===i)continue;r[i]=a[i]}let l=this.config.TLShape.create({...n,index:t,parentId:n.parentId??i,props:"props"in n?{...r,...n.props}:r});if(void 0===l.index)throw Error("no index!");const c=this.getShapeUtil(l).onBeforeCreate?.(l);c&&(l=c),o.push(l)}if(this.store.put(o),t){const t=e.map((e=>e.id));this.store.update(this.pageState.id,(e=>({...e,selectedIds:t})))}},undo:({partials:e,prevSelectedIds:t})=>{this.store.remove(e.map((e=>e.id))),t&&this.store.update(this.pageState.id,(e=>({...e,selectedIds:t})))}});animatingShapes=new Map;animateShapes(e,t={}){const{duration:i=500,ease:n=l.Lj.linear}=t,s=ue();let o,r=i;const a=[];let c;e.forEach((e=>{if(!e)return;const t={partial:e,values:[]},i=this.getShapeById(e.id);if(i){for(const n of["x","y","rotation"])void 0!==e[n]&&i[n]!==e[n]&&t.values.push({prop:n,from:i[n],to:e[n]});a.push(t),this.animatingShapes.set(i.id,s)}}));const d=t=>{if(r-=t,r<0){const{animatingShapes:t}=this,i=e.filter((e=>e&&t.get(e.id)===s));return i.length&&this.updateShapes(i,!1),void this.removeListener("tick",d)}o=n(1-r/i);const{animatingShapes:l}=this;try{const e=[];for(let t=0;t<a.length;t++)c=a[t],l.get(c.partial.id)===s&&e.push({id:c.partial.id,type:c.partial.type,...c.values.reduce(((e,{prop:t,from:i,to:n})=>(e[t]=i+(n-i)*o,e)),{})});this._updateShapes(e,!0)}catch(u){}};return this.addListener("tick",d),this}updateShapes(e,t=!1){if(this.animatingShapes.size>0){let t;for(let i=0;i<e.length;i++)t=e[i],t&&this.animatingShapes.delete(t.id)}return this._updateShapes(e,t),this}_updateShapes=this.history.createCommand("updateShapes",((e,t=!1)=>{if(this.isReadOnly)return null;const i=(0,r.oA)(e),n=Object.fromEntries((0,r.oA)(i.map((({id:e})=>this.getShapeById(e)))).map((e=>[e.id,e])));if(i.length<=0)return null;const s=(0,r.oA)(i.map((e=>{const t=n[e.id];if(!t)return null;let i=null;for(const[n,s]of Object.entries(e))switch(n){case"id":case"type":case"typeName":continue;default:s!==t[n]&&(i||(i={...t}),"props"===n?i.props={...t.props,...s}:i[n]=s)}return i??t}))),o=Object.fromEntries(s.map((e=>[e.id,e])));return{data:{snapshots:n,updates:o},squashing:t}}),{do:({updates:e})=>{const t=Object.values(e);let i,n;for(let s=0,o=t.length;s<o;s++)i=t[s],n=this.getShapeUtil(i).onBeforeUpdate?.(this.store.get(i.id),i),n&&(t[s]=n);this.store.put(t)},undo:({snapshots:e})=>{this.store.put(Object.values(e))},squash:(e,t)=>({snapshots:{...t.snapshots,...e.snapshots},updates:{...e.updates,...t.updates}})});deleteShapes(e=this.selectedIds){return this._deleteShapes(e),this}_deleteShapes=this.history.createCommand("delete_shapes",(e=>{if(this.isReadOnly)return null;if(0===e.length)return null;const t=[...this.pageState.selectedIds],i=new Set(e);for(const r of e)this.visitDescendants(r,(e=>{i.add(e)}));const n=[...i],s=this._arrowBindingsIndex.value,o=(0,r.oA)(n.flatMap((e=>{const t=this.getShapeById(e),i=s[e];return i&&i.length>0?i.map((({arrowId:e})=>this.getShapeById(e))).concat(t):t}))),a=t.filter((e=>!i.has(e)));return{data:{deletedIds:n,snapshots:o,prevSelectedIds:t,postSelectedIds:a}}}),{do:({deletedIds:e,postSelectedIds:t})=>{this.store.remove(e),this.store.update(this.pageState.id,(e=>({...e,selectedIds:t})))},undo:({snapshots:e,prevSelectedIds:t})=>{this.store.put(e),this.store.update(this.pageState.id,(e=>({...e,selectedIds:t})))}});updateUserDocumentSettings(e,t=!1){return this._updateUserDocumentSettings(e,t),this}_updateUserDocumentSettings=this.history.createCommand("updateUserDocumentSettings",((e,t=!1)=>{const{isReadOnly:i}=e;if(!1===i)return;const n=this.userDocumentSettings;return{data:{prev:n,next:{...n,...e}},ephemeral:t}}),{do:({next:e})=>{this.store.put([e])},undo:({prev:e})=>{this.store.put([e])}});updatePage(e,t=!1){return this._updatePage(e,t),this}_updatePage=this.history.createCommand("updatePage",((e,t=!1)=>{if(this.isReadOnly)return null;const i=this.getPageById(e.id);return i?{data:{prev:i,partial:e},squashing:t}:null}),{do:({partial:e})=>{this.store.update(e.id,(t=>({...t,...e})))},undo:({prev:e,partial:t})=>{this.store.update(t.id,(()=>e))},squash:(e,t)=>({prev:{...e.prev,...t.prev},partial:t.partial})});createPage(e,t=n.rl.createId(),i){return this._createPage(e,t,i),this}_createPage=this.history.createCommand("createPage",((e,t=n.rl.createId(),i)=>{if(this.isReadOnly)return null;if(this.pages.length>=I)return null;const s=this.pages,o=i??s[s.length-1]?.index??"a1",r=s[s.findIndex((e=>e.index===o))+1]?.index,a={...this.pageState},l={...this.instanceState};e=function(e,t){let i=e;const n=new Set(t);for(;n.has(i);)i=/^.*(\d+)$/.exec(i)?.[1]?i.replace(/(\d+)(?=\D?)$/,(e=>(+e+1).toString())):`${i} 1`;return i}(e,s.map((e=>e.name)));const c=n.rl.create({id:t,name:e,index:r?Pe(o,r):Ge(o)}),d=n.iH.create({});return{data:{prevPageState:a,prevTabState:l,newPage:c,newTabPageState:n.ww.create({pageId:c.id,instanceId:this.instanceId,cameraId:d.id}),newCamera:d}}}),{do:({newPage:e,newTabPageState:t,newCamera:i})=>{this.store.put([e,i,t,{...this.instanceState,currentPageId:e.id}]),this.updateCullingBounds()},undo:({newPage:e,prevPageState:t,prevTabState:i,newTabPageState:n})=>{this.store.put([t,i]),this.store.remove([n.id,e.id,n.cameraId]),this.updateCullingBounds()}});duplicatePage(e=this.currentPageId,t=n.rl.createId()){if(this.pages.length>=I)return;const i=this.getPageById(e);if(!i)return;const s={...this.camera},o=this.getContent(this.getSortedChildIds(i.id));this.batch((()=>{if(this.createPage(i.name+" Copy",t,i.index),this.setCurrentPageId(t),this.setCamera(s.x,s.y,s.z),o)return this.putContent(o)}))}deletePage(e){this._deletePage(e)}_deletePage=this.history.createCommand("delete_page",(e=>{if(this.isReadOnly)return null;const{pages:t}=this;if(1===t.length)return null;const i=this.getPageById(e),n=this._pageStates.value.filter((t=>t.pageId===e));if(!i)return null;if(e===this.currentPageId){const i=t.findIndex((t=>t.id===e)),n=t[i-1]??t[i+1];this.setCurrentPageId(n.id)}return{data:{id:e,deletedPage:i,deletedPageStates:n}}}),{do:({deletedPage:e,deletedPageStates:t})=>{this.store.remove(t.map((e=>e.id))),this.store.remove([e.id]),this.updateCullingBounds()},undo:({deletedPage:e,deletedPageStates:t})=>{this.store.put([e]),this.store.put(t),this.updateCullingBounds()}});setInstancePageState(e,t=!1){this._setInstancePageState(e,t)}_setInstancePageState=this.history.createCommand("setInstancePageState",((e,t=!1)=>({data:{prev:this.store.get(e.id??this.pageState.id),partial:e},ephemeral:t})),{do:({prev:e,partial:t})=>{this.store.update(e.id,(e=>({...e,...t})))},undo:({prev:e})=>{this.store.update(e.id,(()=>e))}});updateUser(e){const t={...this.user,...e};this.store.put([t])}get _currentUserPresence(){return this.store.query.record("user_presence",(()=>({userId:{eq:this.userId}})))}get userPresence(){return this._currentUserPresence.value}updateUserPresence=({cursor:e,color:t}={})=>{const i=this._currentUserPresence.value;i?this.store.put([{...i,cursor:e??i.cursor,color:t??i.color,lastUsedInstanceId:this.instanceId,lastActivityTimestamp:Date.now()}]):console.error("No presence found for current user")};setSelectedIds(e,t=!1){return this._setSelectedIds(e,t),this}_setSelectedIds=this.history.createCommand("setSelectedIds",((e,t=!1)=>{const i=this.pageState.selectedIds,n=new Set(this.pageState.selectedIds);return e.length===n.size&&e.every((e=>n.has(e)))?null:{data:{ids:e,prevSelectedIds:i},squashing:t,preservesRedoStack:!0}}),{do:({ids:e})=>{this.store.update(this.pageState.id,(t=>({...t,selectedIds:e})))},undo:({prevSelectedIds:e})=>{this.store.update(this.pageState.id,(()=>({...this.pageState,selectedIds:e})))},squash:(e,t)=>({ids:t.ids,prevSelectedIds:e.prevSelectedIds})});isSelected(e){return this.selectedIdsSet.has(e)}isWithinSelection(e){const t=this.getShapeById(e);return!!t&&(!!this.isSelected(e)||!!this.findAncestor(t,(e=>this.isSelected(e.id))))}get _assets(){return this.store.query.records("asset")}get assets(){return this._assets.value}createAssets(e){return this._createAssets(e),this}_createAssets=this.history.createCommand("createAssets",(e=>this.isReadOnly||e.length<=0?null:{data:{assets:e}}),{do:({assets:e})=>{this.store.put(e)},undo:({assets:e})=>{this.store.remove(e.map((e=>e.id)))}});deleteAssets(e){return this._deleteAssets(e),this}_deleteAssets=this.history.createCommand("deleteAssets",(e=>{if(this.isReadOnly)return;if(e.length<=0)return;const t=(0,r.oA)(e.map((e=>this.store.get(e))));return{data:{ids:e,prev:t}}}),{do:({ids:e})=>{this.store.remove(e)},undo:({prev:e})=>{this.store.put(e)}});updateAssets(e){return this._updateAssets(e),this}_updateAssets=this.history.createCommand("updateAssets",(e=>{if(this.isReadOnly)return;if(e.length<=0)return;return{data:{snapshots:{},assets:e}}}),{do:({assets:e,snapshots:t})=>{this.store.put(e.map((e=>{const i=this.store.get(e.id);return t[e.id]=i,{...i,...e}})))},undo:({snapshots:e})=>{this.store.put(Object.values(e))}});getAssetBySrc(e){return this.assets.find((t=>t.props.src===e))}getAssetById(e){return this.store.get(e)}async getSvg(e=(this.selectedIds.length?this.selectedIds:Object.keys(this.shapeIds)),t={}){if(0===e.length)return;if(!window.document)throw Error("No document");const{scale:i=1,background:n=!1,padding:s=C,darkMode:o=this.userDocumentSettings.isDarkMode,preserveAspectRatio:r=!1}=t,a=this.getContainer(),c=getComputedStyle(a),d=document.createElement("div");d.className="rs-container rs-theme__"+(o?"dark":"light"),document.body.appendChild(d);const u=getComputedStyle(d),h=new Map,p={fill:Object.fromEntries(z.color.map((e=>[e.id,u.getPropertyValue(`--palette-${e.id}`)]))),pattern:Object.fromEntries(z.color.map((e=>[e.id,u.getPropertyValue(`--palette-${e.id}-pattern`)]))),semi:Object.fromEntries(z.color.map((e=>[e.id,u.getPropertyValue(`--palette-${e.id}-semi`)]))),text:u.getPropertyValue("--color-text"),background:u.getPropertyValue("--color-background"),solid:u.getPropertyValue("--palette-solid")};document.body.removeChild(d);const g=this.getShapesAndDescendantsInOrder(e),I=l.No.FromPoints(g.map((e=>{const t=this.getPageTransform(e);return l.yX.applyToPoints(t,this.getOutline(e))})).flat());I.expandBy(s);const m=window.document.createElementNS("http://www.w3.org/2000/svg","svg");r&&m.setAttribute("preserveAspectRatio",r);const y=I.width*i,b=I.height*i;m.setAttribute("direction","ltr"),m.setAttribute("width",y+""),m.setAttribute("height",b+""),m.setAttribute("viewBox",`${I.minX} ${I.minY} ${I.width} ${I.height}`),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.style.setProperty("background-color",n?p.background:"transparent");const f=window.document.createElementNS("http://www.w3.org/2000/svg","defs");for(const l of Array.from(function(){const e=document.createElement("div");return e.innerHTML=`\n\t\t<svg>\n\t\t\t<defs>\n\t\t\t\t<g>\n\t\t\t\t\t<pattern\n\t\t\t\t\t\tid="hash_pattern"\n\t\t\t\t\t\twidth="8"\n\t\t\t\t\t\theight="8"\n\t\t\t\t\t\tpatternUnits="userSpaceOnUse"\n\t\t\t\t\t\tstrokeLinecap="round"\n\t\t\t\t\t\tstroke="white"\n\t\t\t\t\t>\n\t\t\t\t\t\t<line x1="${1*xi}" y1="2" x2="2" y2="${1*xi}" />\n\t\t\t\t\t\t<line x1="${5*xi}" y1="${7*xi}" x2="${7*xi}" y2="${5*xi}" />\n\t\t\t\t\t\t<line x1="6" y1="${11*xi}" x2="${11*xi}" y2="6" />\n\t\t\t\t\t</pattern>\n\t\t\t\t\t<mask id="hash_mask">\n\t\t\t\t\t\t<rect x="-100%" y="-100%" width="200%" height="200%" fill="url(#hash_pattern)" />\n\t\t\t\t\t</mask>\n\t\t\t\t</g>\n\t\t\t</defs>\n\t\t</svg>\n\t`,e.querySelectorAll("defs > *")}()))f.appendChild(l);try{document.body.focus?.()}catch(x){}m.append(f);for(const l of g){let e;"font"in l.props&&l.props.font&&(h.has(l.props.font)?e=h.get(l.props.font):(e=c.getPropertyValue(`--rs-font-${l.props.font}`),h.set(l.props.font,e)));const t=this.getShapeUtil(l);let i=await(t.toSvg?.(l,e,p));if(!i){const e=this.getPageBounds(l),t=window.document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("width",e.width+""),t.setAttribute("height",e.height+""),t.setAttribute("fill",p.solid),t.setAttribute("stroke",p.pattern.grey),t.setAttribute("stroke-width","1"),i=t}const n=i;let s=this.getPageTransform(l).toCssString();"scale"in l.props&&1!==l.props.scale&&(s=`${s} scale(${l.props.scale}, ${l.props.scale})`),n.setAttribute("transform",s),"opacity"in l.props&&n.setAttribute("opacity",l.props.opacity+""),m.appendChild(n);const o=this._clipPathCache.get(l.id);if(n&&o){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.style.clipPath=o;Array.from(n.childNodes).forEach((t=>e.appendChild(t))),n.appendChild(e)}}let w="";const M=window.document.createElementNS("http://www.w3.org/2000/svg","style"),A=[];"fonts"in document&&document.fonts.forEach((e=>A.push(e)));for(const l of A){const e=new FileReader;let t=!1;if(h.forEach((e=>{e.includes(l.family)&&(t=!0)})),!t)continue;const i=l.$$_url,n=l.$$_fontface;if(i){const t=await(await fetch(i)).blob(),s=await new Promise(((i,n)=>{e.onload=()=>i(e.result),e.onerror=()=>n(e.error),e.readAsDataURL(t)}));w+="\n"+n.replaceAll(i,s)}}return M.textContent=w,f.append(M),m}renamePage(e,t,i=!1){return this.isReadOnly||this.updatePage({id:e,name:t},i),this}moveShapesToPage(e,t){if(0===e.length)return this;if(this.isReadOnly)return this;const{currentPageId:i}=this;if(t===i)return this;if(!this.store.has(t))return this;const n=this.getContent(e);if(!n)return this;if(this.getShapesInPage(t).length+n.shapes.length>g)return hr(this,t),this;const s=this.camera.z;return this.history.batch((()=>{this.deleteShapes(e),this.setCurrentPageId(t),this.setFocusLayer(null),this.selectNone(),this.putContent(n,{select:!0,preserveIds:!0,preservePosition:!0});const{center:{x:i,y:o}}=this.selectionBounds;this.setCamera(this.camera.x,this.camera.y,s),this.centerOnPoint(i,o)})),this.emit("moved-to-page",{name:this.currentPage.name,toId:t,fromId:i}),this}lockShapes(e=this.pageState.selectedIds){return this.isReadOnly,this}reorderShapes(e,t){if(this.isReadOnly)return this;if(0===t.length)return this;const i=this.getParentsMappedToChildren(t),n=[];switch(e){case"toBack":i.forEach(((e,t)=>{const i=(0,r.oA)(this.getSortedChildIds(t).map((e=>this.getShapeById(e))));if(e.size===i.length)return;let s,o;for(const n of i){if(!e.has(n)){o=n.index;break}e.delete(n),s=n.index}if(0===e.size)return;const a=We(s,o,e.size);Array.from(e.values()).sort(Fe).forEach(((e,t)=>n.push({id:e.id,type:e.type,index:a[t]})))}));break;case"toFront":i.forEach(((e,t)=>{const i=(0,r.oA)(this.getSortedChildIds(t).map((e=>this.getShapeById(e)))),s=i.length;if(e.size===s)return;let o,a;for(let n=s-1;n>-1;n--){const t=i[n];if(!e.has(t)){o=t.index;break}e.delete(t),a=t.index}if(0===e.size)return;const l=We(o,a,e.size);Array.from(e.values()).sort(Fe).forEach(((e,t)=>n.push({id:e.id,type:e.type,index:l[t]})))}));break;case"forward":i.forEach(((e,t)=>{const i=(0,r.oA)(this.getSortedChildIds(t).map((e=>this.getShapeById(e)))),s=i.length;if(e.size===s)return;const o=new Set(Array.from(e).map((e=>i.indexOf(e))));let a,l,c,d=-1,u=!1;for(let r=0;r<s;r++){const e=o.has(r);if(!u&&e)u=!0,d=r,l=void 0;else if(u&&!e){u=!1,c=r-d,a=i[r].index,l=i[r+1]?.index;const e=We(a,l,c);for(let t=0;t<c;t++){const s=i[d+t];n.push({id:s.id,type:s.type,index:e[t]})}}}}));break;case"backward":i.forEach(((e,t)=>{const i=(0,r.oA)(this.getSortedChildIds(t).map((e=>this.getShapeById(e)))),s=i.length;if(e.size===s)return;const o=new Set(Array.from(e).map((e=>i.indexOf(e))));let a,l=-1,c=!1;for(let r=s-1;r>-1;r--){const e=o.has(r);if(!c&&e)c=!0,l=r;else if(c&&!e){c=!1,a=l-r;const e=We(i[r-1]?.index,i[r].index,a);for(let t=0;t<a;t++){const s=i[r+t+1];n.push({id:s.id,type:s.type,index:e[t]})}}}}))}return this.updateShapes(n),this}sendToBack(e=this.pageState.selectedIds){return this.reorderShapes("toBack",e),this}sendBackward(e=this.pageState.selectedIds){return this.reorderShapes("backward",e),this}bringForward(e=this.pageState.selectedIds){return this.reorderShapes("forward",e),this}bringToFront(e=this.pageState.selectedIds){return this.reorderShapes("toFront",e),this}flipShapes(e,t=this.selectedIds){if(this.isReadOnly)return this;let i=(0,r.oA)(t.map((e=>this.getShapeById(e))));if(!i.length)return this;i=i.map((e=>"group"===e.type?this.getSortedChildIds(e.id).map((e=>this.getShapeById(e))):e)).flat();const n=l.No.Common((0,r.oA)(i.map((e=>this.getPageBounds(e))))).center;for(const s of i){const t=this.getShapeUtil(s).bounds(s),i=this.getPageTransformById(s.id);i&&this.resizeShape(s.id,{x:"horizontal"===e?-1:1,y:"vertical"===e?-1:1},{initialBounds:t,initialPageTransform:i,initialShape:s,mode:"scale_shape",scaleOrigin:n,scaleAxisRotation:0})}return this}stackShapes(e,t=this.pageState.selectedIds,i){if(this.isReadOnly)return this;const n=(0,r.oA)(t.map((e=>this.getShapeById(e)))).filter((e=>!!e&&(!un.is(e)||"binding"!==e.props.start.type&&"binding"!==e.props.end.type))),s=n.length;if(void 0===i&&s<3||s<2)return this;const o=Object.fromEntries(n.map((e=>[e.id,this.getPageBounds(e)])));let a,c,d,u,h;if("horizontal"===e?(a="x",c="minX",d="maxX",u="width"):(a="y",c="minY",d="maxY",u="height"),void 0===i){const e=[];n.sort(((e,t)=>o[e.id][c]-o[t.id][c]));for(let i=0;i<s-1;i++){const t=n[i],s=n[i+1],r=o[t.id],a=o[s.id][c]-r[d],l=e.find((e=>e.gap===a));l?l.count++:e.push({gap:a,count:1})}let t=0;e.forEach((e=>{e.count>t&&(t=e.count,h=e.gap)})),1===t&&(h=Math.max(0,e.reduce(((e,t)=>e+t.gap*t.count),0)/(s-1)))}else h=i;const p=[];let g=o[n[0].id][d];return n.forEach(((e,t)=>{if(0===t)return;const i={x:0,y:0};i[a]=g+h-o[e.id][a];const n=this.getParentShape(e),s=n?l.GF.Rot(i,-this.getPageRotation(n)):i,r=this.getShapeUtil(e).onTranslateStart?.(e);p.push(r?{...r,[a]:e[a]+s[a]}:{id:e.id,type:e.type,[a]:e[a]+s[a]}),g+=o[e.id][u]+h})),this.updateShapes(p),this}packShapes(e=this.pageState.selectedIds,t=16){if(this.isReadOnly)return this;if(e.length<2)return this;const i=(0,r.oA)(e.map((e=>this.getShapeById(e))).filter((e=>!!e&&(!un.is(e)||"binding"!==e.props.start.type&&"binding"!==e.props.end.type)))),n={},s={};let o,a,c=0;for(let r=0;r<i.length;r++)o=i[r],a=this.getPageBounds(o),n[o.id]=a,s[o.id]=a.clone(),c+=a.width*a.height;const d=l.No.Common((0,r.oA)(Object.values(n))),u=d.width;i.sort(((e,t)=>n[t.id].height-n[e.id].height));const h=Math.max(Math.ceil(Math.sqrt(c/.95)),u),p=[new l.No(d.x,d.y,h,1/0)];let g,I,m=0,y=0;for(let r=0;r<i.length;r++){o=i[r],a=s[o.id];for(let e=p.length-1;e>=0;e--)if(g=p[e],!(a.width>g.width||a.height>g.height)){a.x=g.x,a.y=g.y,y=Math.max(y,a.maxY),m=Math.max(m,a.maxX),a.width===g.width&&a.height===g.height?(I=p.pop(),e<p.length&&(p[e]=I)):a.height===g.height?(g.x+=a.width+t,g.width-=a.width+t):a.width===g.width?(g.y+=a.height+t,g.height-=a.height+t):(p.push(new l.No(g.x+(a.width+t),g.y,g.width-(a.width+t),a.height)),g.y+=a.height+t,g.height-=a.height+t);break}}const b=l.No.Common(Object.values(s)),f=l.GF.Sub(d.center,b.center);let C;const w=[];for(let r=0;r<i.length;r++){o=i[r],a=n[o.id],C=s[o.id];const e=this.getDeltaInParentSpace(o,l.GF.Sub(C.point,a.point).add(f)),t={id:o.id,type:o.type,x:o.x+e.x,y:o.y+e.y},c=this.getShapeUtil(o).onTranslateStart?.({...o,...t});c?w.push({...t,...c}):w.push(t)}return w.length&&this.updateShapes(w),this}alignShapes(e,t=this.pageState.selectedIds){if(this.isReadOnly)return this;if(t.length<2)return this;const i=(0,r.oA)(t.map((e=>this.getShapeById(e)))),n=Object.fromEntries(i.map((e=>[e.id,this.getPageBounds(e)]))),s=l.No.Common((0,r.oA)(Object.values(n))),o=[];return i.forEach((t=>{const i=n[t.id];if(!i)return;const r={x:0,y:0};switch(e){case"top":r.y=s.minY-i.minY;break;case"center-vertical":r.y=s.midY-i.minY-i.height/2;break;case"bottom":r.y=s.maxY-i.minY-i.height;break;case"left":r.x=s.minX-i.minX;break;case"center-horizontal":r.x=s.midX-i.minX-i.width/2;break;case"right":r.x=s.maxX-i.minX-i.width}const a=this.getParentShape(t),c=a?l.GF.Rot(r,-this.getPageRotation(a)):r,d=this.getShapeUtil(t).onTranslateStart?.(t);o.push(d?{...d,x:t.x+c.x,y:t.y+c.y}:{id:t.id,type:t.type,x:t.x+c.x,y:t.y+c.y})})),this.updateShapes(o),this}distributeShapes(e,t=this.pageState.selectedIds){if(this.isReadOnly)return this;if(t.length<3)return this;const i=t.length,n=(0,r.oA)(t.map((e=>this.getShapeById(e)))),s=Object.fromEntries(n.map((e=>[e.id,this.getPageBounds(e)])));let o,a,c,d,u;"horizontal"===e?(o="x",a="minX",c="maxX",d="midX",u="width"):(o="y",a="minY",c="maxY",d="midY",u="height");const h=[],p=n.sort(((e,t)=>s[e.id][a]-s[t.id][a]))[0],g=n.sort(((e,t)=>s[t.id][c]-s[e.id][c]))[0],I=s[p.id][d],m=(s[g.id][d]-I)/(i-1),y=I+m;return n.filter((e=>e!==p&&e!==g)).sort(((e,t)=>s[e.id][d]-s[t.id][d])).forEach(((e,t)=>{const i={x:0,y:0};i[o]=y+m*t-s[e.id][u]/2-s[e.id][o];const n=this.getParentShape(e),r=n?l.GF.Rot(i,-this.getPageRotation(n)):i,a=this.getShapeUtil(e).onTranslateStart?.(e);h.push(a?{...a,[o]:e[o]+r[o]}:{id:e.id,type:e.type,[o]:e[o]+r[o]})})),this.updateShapes(h),this}_resizeUnalignedShape(e,t,i){const{type:n}=i.initialShape,s=new l.GF(t.x,t.y);if(Math.abs(t.x)>Math.abs(t.y)?s.x=Math.sign(t.x)*Math.abs(t.y):s.y=Math.sign(t.y)*Math.abs(t.x),this.resizeShape(e,s,{initialShape:i.initialShape,initialBounds:i.initialBounds}),Math.sign(t.x)*Math.sign(t.y)<0){let{rotation:t}=l.yX.Decompose(i.initialPageTransform);t-=2*t,this.updateShapes([{id:e,type:n,rotation:t}],!0)}const o=l.yX.applyToPoint(i.initialPageTransform,i.initialBounds.center),r=this._scalePagePoint(o,i.scaleOrigin,t,i.scaleAxisRotation),a=this.getPageCenterById(e),c=this.getPagePointById(e);if(!a||!c)return this;const d=l.GF.Sub(r,a),u=l.GF.Add(c,d),{x:h,y:p}=this.getPointInParentSpace(e,u);return this.updateShapes([{id:e,type:n,x:h,y:p}],!0),this}_scalePagePoint(e,t,i,n){const s=l.GF.RotWith(e,t,-n).sub(t),o=l.GF.MulV(s,i);return l.GF.Add(o,t).rotWith(t,n)}resizeShape(e,t,i){if(this.isReadOnly)return this;Number.isFinite(t.x)||(t=new l.GF(1,t.y)),Number.isFinite(t.y)||(t=new l.GF(t.x,1));const n=i?.initialShape??this.getShapeById(e);if(!n)return this;const s=i?.scaleOrigin??this.getPageBoundsById(e)?.center;if(!s)return this;const o=this.getPageRotationById(e);if(null==o)return this;const r=i?.scaleAxisRotation??o,a=i?.initialPageTransform??this.getPageTransformById(e);if(!a)return this;const c=i?.initialBounds??this.getBoundsById(e);if(!c)return this;if(!(0,l._G)(o,r))return this._resizeUnalignedShape(e,t,{...i,initialBounds:c,scaleOrigin:s,scaleAxisRotation:r,initialPageTransform:a,initialShape:n});const d=this.getShapeUtil(n);if(d.isAspectRatioLocked(n)&&(t=Math.abs(t.x)>Math.abs(t.y)?new l.GF(t.x,Math.sign(t.y)*Math.abs(t.x)):new l.GF(Math.sign(t.x)*Math.abs(t.y),t.y)),d.onResize&&d.canResize(n)){const u=this._scalePagePoint(l.yX.applyToPoint(a,new l.GF(0,0)),s,t,r),h=this.getPointInParentSpace(n.id,u),p=new l.GF(t.x,t.y),g=(0,l.C2)((o-r)%Math.PI,0);p.x=g?t.x:t.y,p.y=g?t.y:t.x;const I=l.yX.applyToPoint(a,new l.GF),{x:m,y}=this.getPointInParentSpace(n.id,I);this.updateShapes([{id:e,type:n.type,x:h.x,y:h.y,...d.onResize({...n,x:m,y},{newPoint:h,handle:i?.dragHandle??"bottom_right",mode:i?.mode??"scale_shape",scaleX:p.x,scaleY:p.y,initialBounds:c,initialShape:n})}],!0)}else{const i=l.yX.applyToPoint(a,c.center),o=this._scalePagePoint(i,s,t,r),d=this.getPointInParentSpace(n.id,i),u=this.getPointInParentSpace(n.id,o),h=l.GF.Sub(u,d);this.updateShapes([{id:e,type:n.type,x:n.x+h.x,y:n.y+h.y}],!0)}return this}stretchShapes(e,t=this.pageState.selectedIds){if(this.isReadOnly)return this;if(t.length<2)return this;const i=(0,r.oA)(t.map((e=>this.getShapeById(e)))),n=Object.fromEntries(i.map((e=>[e.id,this.getBounds(e)]))),s=Object.fromEntries(i.map((e=>[e.id,this.getPageBounds(e)]))),o=l.No.Common((0,r.oA)(Object.values(s)));switch(e){case"vertical":this.batch((()=>{for(const e of i){if(this.getPageRotation(e)%l.yo)continue;const t=n[e.id],i=s[e.id],r=this.getDeltaInParentSpace(e,new l.GF(0,o.minY-i.minY)),{x:a,y:c}=l.GF.Add(r,e);this.updateShapes([{id:e.id,type:e.type,x:a,y:c}],!0);const d=new l.GF(1,o.height/i.height);this.resizeShape(e.id,d,{initialBounds:t,scaleOrigin:new l.GF(i.center.x,o.minY),scaleAxisRotation:0})}}));break;case"horizontal":this.batch((()=>{for(const e of i){const t=n[e.id],i=s[e.id];if(this.getPageRotation(e)%l.yo)continue;const r=this.getDeltaInParentSpace(e,new l.GF(o.minX-i.minX,0)),{x:a,y:c}=l.GF.Add(r,e);this.updateShapes([{id:e.id,type:e.type,x:a,y:c}],!0);const d=new l.GF(o.width/i.width,1);this.resizeShape(e.id,d,{initialBounds:t,scaleOrigin:new l.GF(o.minX,i.center.y),scaleAxisRotation:0})}}))}return this.updateShapes([]),this}reparentShapesById(e,t,i){const s=[],o=n.rl.isId(t)?l.yX.Identity():this.getPageTransformById(t),a=o.decompose().rotation;let c=[];const d=(0,r.oA)(this.getSortedChildIds(t).map((e=>this.getShapeById(e))));if(i){const t=d.find((e=>e.index===i));if(t){const n=d[d.indexOf(t)+1];c=n?We(i,n.index,e.length):Ye(i,e.length)}else{const t=d.sort(Fe).find((e=>e.index>i));c=t?We(i,t.index,e.length):Ye(i,e.length)}}else{const t=d.length&&d[d.length-1];c=t?Ye(t.index,e.length):Re(e.length)}let u;for(let n=0;n<e.length;n++){u=e[n];const i=this.getShapeById(u),r=this.getPagePointById(u);if(!i||!r)continue;const d=l.yX.applyToPoint(l.yX.Inverse(o),r),h=this.getPageRotation(i)-a;s.push({id:i.id,type:i.type,parentId:t,x:d.x,y:d.y,rotation:h,index:c[n]})}return this.updateShapes(s),this}select(...e){return this.setSelectedIds(e),this}deselect(...e){const{selectedIds:t}=this;return t.length>0&&e.length>0&&this.setSelectedIds(t.filter((t=>!e.includes(t)))),this}selectAll(){const e=this.getSortedChildIds(this.currentPageId);return e.length<=0||this.setSelectedIds(e),this}getShapesAndDescendantsInOrder(e){const t=[],i=new Set,n=[...e];for(;n.length>0;){const e=n.pop();if(!e)break;i.has(e)||(t.push(e),this.getSortedChildIds(e).forEach((e=>{n.push(e)})))}const s=t.map((e=>this.getShapeById(e))).filter((e=>"group"!==e.type)),{sortedShapesArray:o}=this;return s.sort(((e,t)=>o.indexOf(e)-o.indexOf(t))),s}selectNone(){return this.selectedIds.length>0&&this.setSelectedIds([]),this}setCurrentPageId(e){return this._setCurrentPageId(e),this}_setCurrentPageId=this.history.createCommand("setCurrentPage",(e=>{if(this.store.has(e))return{data:{pageId:e,prev:this.currentPageId},squashing:!0,preservesRedoStack:!0};console.error("Tried to set the current page id to a page that doesn't exist.")}),{do:({pageId:e})=>{if(!this.getPageStateByPageId(e)){const t=n.iH.create({});this.store.put([t,n.ww.create({pageId:e,instanceId:this.instanceId,cameraId:t.id})])}this.store.put([{...this.instanceState,currentPageId:e}]),this.updateCullingBounds()},undo:({prev:e})=>{this.store.put([{...this.instanceState,currentPageId:e}]),this.updateCullingBounds()},squash:({prev:e},{pageId:t})=>({pageId:t,prev:e})});updateInstanceState(e,t=!1,i=!1){return this._updateInstanceState(e,t,i),this}_updateInstanceState=this.history.createCommand("updateTabState",((e,t=!1,i=!1)=>{const n=this.instanceState;return{data:{prev:n,next:{...n,...e}},squashing:i,ephemeral:t}}),{do:({next:e})=>{this.store.put([e])},undo:({prev:e})=>{this.store.put([e])},squash:({prev:e},{next:t})=>({prev:e,next:t})});get hoveredId(){return this.pageState.hoveredId}get hoveredShape(){return this.hoveredId?this.getShapeById(this.hoveredId)??null:null}setHoveredId(e=null){return e===this.pageState.hoveredId||this.setInstancePageState({hoveredId:e},!0),this}setErasingIds(e=[]){const t=this.erasingIdsSet;return e.length===t.size&&e.every((e=>t.has(e)))||this.setInstancePageState({erasingIds:e},!0),this}setCursor(e){const t=this.cursor,i={...t,rotation:0,...e};return t.type===i.type&&t.rotation===i.rotation&&t.color===i.color||this.updateInstanceState({cursor:i},!0),this}setScribble(e=null){return this.updateInstanceState({scribble:e},!0),this}setBrush(e=null){return!e&&this.brush,this.batch((()=>{this.updateInstanceState({brush:e},!0)})),this}rotateShapesBy(e,t){if(e.length<=0)return this;return He({delta:t,snapshot:Je({app:this}),app:this,stage:"one-off"}),this}nudgeShapes(e,t,i=!1){if(e.length<=0)return this;const n=this.isGridMode?i?5*this.gridSize:this.gridSize:i?10:1,s=l.GF.Mul(f[t],n),o=[];for(const r of e){const e=this.getShapeById(r);if(!e)throw Error(`Could not find a shape with the id ${r}.`);const t=this.getDeltaInParentSpace(e,s),i=this.getShapeUtil(e).onTranslateStart?.(e);o.push(i?{...i,x:e.x+t.x,y:e.y+t.y}:{id:r,x:e.x+t.x,y:e.y+t.y,type:e.type})}return this.updateShapes(o),this}duplicateShapes(e=this.selectedIds,t){if(e.length<=0)return this;const i=new Set(e),s=[],o=[...e];for(;o.length>0;){const e=o.pop();if(!e)break;s.push(e),this.getSortedChildIds(e).forEach((e=>o.push(e)))}s.reverse();const a=new Map(s.map((e=>[e,this.createShapeId()]))),c=(0,r.oA)(s.map((e=>{const n=this.getShapeById(e);if(!n)return null;const s=a.get(e);let o=0,c=0;if(t&&i.has(e)){const e=this.getParentTransform(n),i=new l.GF(t.x,t.y).rot(-l.yX.Decompose(e).rotation);o=i.x,c=i.y}const d=n.parentId??this.currentPageId,u=this.getSortedChildIds(d),h=u.indexOf(n.id),p=u[h+1],g=p?this.getShapeById(p):null,I=g?Pe(n.index,g.index):Ge(n.index),m={...(0,r.p$)(n),id:s,x:n.x+o,y:n.y+c,index:I};if(un.is(n)&&un.is(m)){if("binding"===n.props.start.type){const e=a.get(n.props.start.boundShapeId);if(e)m.props.start.boundShapeId=e;else{const e=this.getPageBoundsById(n.props.start.boundShapeId),t=new l.GF(n.props.start.normalizedAnchor.x*e.width+e.minX,n.props.start.normalizedAnchor.y*e.height+e.minY),i=l.yX.applyToPoint(l.yX.Inverse(this.getTransform(m)),t);m.props.start={type:"point",x:i.x+o,y:i.y+c}}}if("binding"===n.props.end.type){const e=a.get(n.props.end.boundShapeId);if(e)m.props.end.boundShapeId=e;else{const e=this.getPageBoundsById(n.props.end.boundShapeId),t=new l.GF(n.props.end.normalizedAnchor.x*e.width+e.minX,n.props.end.normalizedAnchor.y*e.height+e.minY),i=l.yX.applyToPoint(l.yX.Inverse(this.getTransform(m)),t);m.props.end={type:"point",x:i.x+o,y:i.y+c}}}}return m})));return c.forEach((e=>{(0,n.YT)(e.parentId)&&a.has(e.parentId)&&(e.parentId=a.get(e.parentId))})),this.history.batch((()=>{const e=c.length+this.shapeIds.size>g;e&&hr(this);const i=e?c.slice(0,g-this.shapeIds.size):c,n=i.map((e=>e.id));if(this.createShapes(i),this.setSelectedIds(n),void 0!==t){const{viewportPageBounds:e,selectedPageBounds:t}=this;t&&!e.contains(t)&&this.centerOnPoint(t.center.x,t.center.y,{duration:m})}})),this}setProp(e,t,i=!1,n=!1){const s=[],o=e=>{const t=this.getSortedChildIds(e);for(const i of t){const e=this.getShapeById(i);"group"===e?.type&&o(e.id),s.push(e)}};return this.history.batch((()=>{if(this.updateInstanceState({propsForNextShape:Ae(this.instanceState.propsForNextShape,{[e]:t})},i,n),this.isIn("select")){const{pageState:{selectedIds:n}}=this;if(n.length>0){const a=(0,r.oA)(n.map((e=>{const t=this.getShapeById(e);if("group"===t?.type){const e=this.getSortedChildIds(t.id);for(const t of e){const e=this.getShapeById(t);"group"===e?.type&&o(e.id),s.push(e)}return s}return t}))).flat().filter((t=>void 0!==t.props[e]&&"group"!==t?.type));if(this.updateShapes(a.map((i=>{const n={...i.props,[e]:t};return"color"===e&&"labelColor"in n&&(n.labelColor="black"),{id:i.id,type:i.type,props:n}})),i),"color"!==e&&"opacity"!==e){const e=[];for(const t of a){const i=this.getShapeById(t.id);if(!i)continue;const n=this.getShapeUtil(i),s=n.bounds(t),o=n.bounds(i),r={id:t.id,type:t.type};let a=!1;if(s.width!==o.width)if(a=!0,Ds.is(t))switch(t.props.align){case"middle":r.x=i.x+(s.width-o.width)/2;break;case"end":r.x=i.x+s.width-o.width}else r.x=i.x+(s.width-o.width)/2;s.height!==o.height&&(a=!0,r.y=i.y+(s.height-o.height)/2),a&&e.push(r)}e.length&&this.updateShapes(e,i)}}}this.updateInstanceState({propsForNextShape:Ae(this.instanceState.propsForNextShape,{[e]:t})},i,n)})),this}_willSetInitialBounds=!0;_setCamera(e,t,i=this.camera.z){const n=this.camera;return n.x===e&&n.y===t&&n.z===i||(this.store.put([{...n,x:e,y:t,z:i}]),this._cameraManager.tick(),this.emit("change-camera",this.camera)),this}setCamera(e,t,i=this.camera.z){return this.stopCameraAnimation(),e=Number.isNaN(e)?0:e,t=Number.isNaN(t)?0:t,i=Number.isNaN(i)?1:i,this._setCamera(e,t,i),this}animateCamera(e,t,i=this.camera.z,n=M){e=Number.isNaN(e)?0:e,t=Number.isNaN(t)?0:t,i=Number.isNaN(i)?1:i;const{width:s,height:o}=this.viewportScreenBounds,r=s/i,a=o/i,c=new l.No(-e,-t,r,a);return this._animateToViewport(c,n)}centerOnPoint(e,t,i){if(!this.canMoveCamera)return this;const{viewportPageBounds:{width:n,height:s},camera:o}=this;return i?.duration?this.animateCamera(-(e-n/2),-(t-s/2),o.z,i):this.setCamera(-(e-n/2),-(t-s/2),o.z),this}zoomToFit(e){if(!this.canMoveCamera)return this;const t=[...this.shapeIds];if(t.length<=0)return this;const i=l.No.Common((0,r.oA)(t.map((e=>this.getPageBoundsById(e)))));return this.zoomToBounds(i.minX,i.minY,i.width,i.height,void 0,e),this}resetZoom(e=this.viewportScreenCenter,t){if(!this.canMoveCamera)return this;const{x:i,y:n,z:s}=this.camera,{x:o,y:r}=e;return t?.duration?this.animateCamera(i+(o/1-o)-(o/s-o),n+(r/1-r)-(r/s-r),1,t):this.setCamera(i+(o/1-o)-(o/s-o),n+(r/1-r)-(r/s-r),1),this}zoomIn(e=this.viewportScreenCenter,t){if(!this.canMoveCamera)return this;const{x:i,y:n,z:s}=this.camera;let o=8;for(let l=1;l<y.length;l++){const e=y[l];if(!(e-s<=(e-y[l-1])/2)){o=e;break}}const{x:r,y:a}=e;return t?.duration?this.animateCamera(i+(r/o-r)-(r/s-r),n+(a/o-a)-(a/s-a),o,t):this.setCamera(i+(r/o-r)-(r/s-r),n+(a/o-a)-(a/s-a),o),this}zoomOut(e=this.viewportScreenCenter,t){if(!this.canMoveCamera)return this;const{x:i,y:n,z:s}=this.camera;let o=b;for(let l=y.length-1;l>0;l--){const e=y[l-1],t=y[l];if(!(t-s>=(t-e)/2)){o=e;break}}const{x:r,y:a}=e;return t?.duration?this.animateCamera(i+(r/o-r)-(r/s-r),n+(a/o-a)-(a/s-a),o,t):this.setCamera(i+(r/o-r)-(r/s-r),n+(a/o-a)-(a/s-a),o),this}zoomToSelection(e){if(!this.canMoveCamera)return this;const t=this.selectedIds;if(t.length<=0)return this;const i=l.No.Common((0,r.oA)(t.map((e=>this.getPageBoundsById(e)))));return this.zoomToBounds(i.minX,i.minY,i.width,i.height,Math.max(1,this.camera.z),e),this}panZoomIntoView(e,t){if(!this.canMoveCamera)return this;if(e.length<=0)return this;const i=l.No.Common((0,r.oA)(e.map((e=>this.getPageBoundsById(e))))),{viewportPageBounds:n}=this;if(n.h<i.h||n.w<i.w)return this.zoomToBounds(i.minX,i.minY,i.width,i.height,this.camera.z,t),this;{const e=this._activeAreaManager.offsets.value,s=n.y+e.top,o=n.maxY-e.right,r=n.maxY-e.bottom,a=n.x+e.left,l=i.y,c=i.maxX,d=i.maxY,u=i.x;let h=0,p=0;r<d?p=r-d:s>l&&(p=s-l),o<c?h=o-c:a>u&&(h=a-u);const{camera:g}=this;t?.duration?this.animateCamera(g.x+h,g.y+p,g.z,t):this.setCamera(g.x+h,g.y+p,g.z)}return this}zoomToBounds(e,t,i,n,s,o){if(!this.canMoveCamera)return this;const{viewportScreenBounds:r}=this,a=Math.min(256,.28*r.width);let c=(0,l.uZ)(Math.min((r.width-a)/i,(r.height-a)/n),b,8);return void 0!==s&&(c=Math.min(s,c)),o?.duration?this.animateCamera(-e+(r.width-i*c)/2/c,-t+(r.height-n*c)/2/c,c,o):this.setCamera(-e+(r.width-i*c)/2/c,-t+(r.height-n*c)/2/c,c),this}pan(e,t,i){if(!this.canMoveCamera)return this;const{camera:n}=this,{x:s,y:o,z:r}=n,a=new l.GF(e,t).div(r);return i?.duration?this.animateCamera(s+a.x,o+a.y,r,i):(this.setCamera(s+a.x,o+a.y,r),this)}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_viewportAnimation=null;_animateViewport(e){if(!this._viewportAnimation)return;const t=()=>{this.removeListener("tick",this._animateViewport),this.removeListener("stop-camera-animation",t)};this.once("stop-camera-animation",t),this._viewportAnimation.elapsed+=e;const{elapsed:i,easing:n,duration:s,start:o,end:r}=this._viewportAnimation;if(i>s){const e=this.viewportScreenBounds.width/r.width,t=-r.x,i=-r.y;return this._setCamera(t,i,e),this.removeListener("tick",this._animateViewport),void(this._viewportAnimation=null)}const a=n(1-(s-i)/s),c=o.minX+(r.minX-o.minX)*a,d=o.minY+(r.minY-o.minY)*a,u=o.maxX+(r.maxX-o.maxX)*a,h=o.maxY+(r.maxY-o.maxY)*a,p=new l.No(c,d,u-c,h-d),g=this.viewportScreenBounds.width/p.width,I=-p.x,m=-p.y;this._setCamera(I,m,g)}_animateToViewport(e,t={}){const{duration:i=0,easing:n=l.Lj.easeInOutCubic}=t,s=this.viewportPageBounds.clone();return this.stopCameraAnimation(),this._viewportAnimation={elapsed:0,duration:i,easing:n,start:s,end:e},this.addListener("tick",this._animateViewport),this}slideCamera(e={}){if(!this.canMoveCamera)return this;const{speed:t,direction:i,friction:n,speedThreshold:s=.01}=e;let o=t;this.stopCameraAnimation();const r=()=>{this.removeListener("tick",a),this.removeListener("stop-camera-animation",r)};this.once("stop-camera-animation",r);const a=e=>{const{x:t,y:a,z:l}=this.camera,c=i.clone().mul(o*e/l);o*=1-n,o<s?r():this._setCamera(t+c.x,a+c.y,l)};return this.addListener("tick",a),this}animateToShape(e,t=M){if(!this.canMoveCamera)return this;const i=Ps(this),n=i.width/i.height,s=this.getPageBoundsById(e);if(!s)return this;const o=s.width/s.height,r=s.clone(),a=s.width/i.width;return r.width+=(i.left+i.right)*a,r.height+=(i.top+i.bottom)*a,r.x-=i.left*a,r.y-=i.top*a,o>n?(r.height=s.width/n,r.y-=(r.height-s.height)/2):(r.width=s.height*n,r.x-=(r.width-s.width)/2),this._animateToViewport(r,t)}blur(){return this.complete(),this.getContainer().blur(),this._isFocused.set(!1),this}focus(){return this.getContainer().focus(),this._isFocused.set(!0),this}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}async onCreateAssetFromFile(e){return await ie(e)}async onCreateBookmarkFromUrl(e){try{const t=await fetch(e,{method:"GET",mode:"no-cors"}),i=await t.text(),n=(new DOMParser).parseFromString(i,"text/html");return{image:n.head.querySelector('meta[property="og:image"]')?.getAttribute("content")??"",title:n.head.querySelector('meta[property="og:title"]')?.getAttribute("content")??"",description:n.head.querySelector('meta[property="og:description"]')?.getAttribute("content")??""}}catch(t){return console.error(t),{image:"",title:"",description:""}}}textMeasure;groupShapes(e=this.selectedIds,t=(0,n.F1)()){if(this.isReadOnly)return this;if(e.length<=1)return this;const i=(0,r.oA)(e.map((e=>this.getShapeById(e)))),s=i.sort(Fe).map((e=>e.id)),o=l.No.Common((0,r.oA)(i.map((e=>this.getPageBounds(e))))),{x:a,y:c}=o.point,d=this.findCommonAncestor(i)??this.currentPageId;if("select"!==this.currentToolId)return this;this.isIn("select.idle")||this.cancel();const u=i.filter((e=>e.parentId===d)).sort(Fe),h=u[u.length-1]?.index;return this.batch((()=>{this.createShapes([{id:t,type:"group",parentId:d,index:h,x:a,y:c,props:{opacity:"1"}}]),this.reparentShapesById(s,t),this.select(t)})),this}ungroupShapes(e=this.selectedIds){if(this.isReadOnly)return this;if(0===e.length)return this;if("select"!==this.currentToolId)return this;this.isIn("select.idle")||this.cancel();const t=new Set,i=(0,r.oA)(e.map((e=>this.getShapeById(e)))),n=[];return i.forEach((e=>{cs.is(e)?n.push(e):t.add(e.id)})),0===n.length||this.batch((()=>{let e;for(let i=0,s=n.length;i<s;i++){e=n[i];const s=this.getSortedChildIds(e.id);for(let e=0,i=s.length;e<i;e++)t.add(s[e]);this.reparentShapesById(s,e.parentId,e.index)}this.deleteShapes(n.map((e=>e.id))),this.select(...t)})),this}};let ur=dr;function hr(e,t=e.currentPageId){const i=e.getPageById(t).name;e.emit("max-shapes",{name:i,pageId:t,count:g})}lr([d.Fl],ur.prototype,"_pageTransformCache",1),lr([d.Fl],ur.prototype,"_pageBoundsCache",1),lr([d.Fl],ur.prototype,"_pageMaskCache",1),lr([d.Fl],ur.prototype,"_clipPathCache",1),lr([d.Fl],ur.prototype,"canUndo",1),lr([d.Fl],ur.prototype,"canRedo",1),lr([d.Fl],ur.prototype,"erasingIds",1),lr([d.Fl],ur.prototype,"hintingIds",1),lr([d.Fl],ur.prototype,"erasingIdsSet",1),lr([d.Fl],ur.prototype,"allowUiPaste",1),lr([d.Fl],ur.prototype,"props",1),lr([d.Fl],ur.prototype,"_arrowBindingsIndex",1),lr([d.Fl],ur.prototype,"documentSettings",1),lr([d.Fl],ur.prototype,"_userDocumentSettings",1),lr([d.Fl],ur.prototype,"_pageState",1),lr([d.Fl],ur.prototype,"camera",1),lr([d.Fl],ur.prototype,"zoomLevel",1),lr([d.Fl],ur.prototype,"selectedIds",1),lr([d.Fl],ur.prototype,"selectedIdsSet",1),lr([d.Fl],ur.prototype,"_pages",1),lr([d.Fl],ur.prototype,"pages",1),lr([d.Fl],ur.prototype,"_pageStates",1),lr([d.Fl],ur.prototype,"renderingShapes",1),lr([d.Fl],ur.prototype,"allShapesCommonBounds",1),lr([d.Fl],ur.prototype,"viewportScreenBounds",1),lr([d.Fl],ur.prototype,"viewportScreenCenter",1),lr([d.Fl],ur.prototype,"viewportPageBounds",1),lr([d.Fl],ur.prototype,"cullingBounds",1),lr([d.Fl],ur.prototype,"cullingBoundsExpanded",1),lr([d.Fl],ur.prototype,"viewportPageCenter",1),lr([d.Fl],ur.prototype,"editingShape",1),lr([d.Fl],ur.prototype,"selectedPageBounds",1),lr([d.Fl],ur.prototype,"selectionRotation",1),lr([d.Fl],ur.prototype,"selectionBounds",1),lr([d.Fl],ur.prototype,"selectionPageCenter",1),lr([d.Fl],ur.prototype,"shapesArray",1),lr([d.Fl],ur.prototype,"sortedShapesArray",1),lr([d.Fl],ur.prototype,"selectedShapes",1),lr([d.Fl],ur.prototype,"onlySelectedShape",1),lr([d.Fl],ur.prototype,"_currentUserPresence",1),lr([d.Fl],ur.prototype,"_assets",1),lr([d.Fl],ur.prototype,"hoveredId",1),lr([d.Fl],ur.prototype,"hoveredShape",1);const pr={fonts:{draw:"/fonts/Shantell_Sans-Normal-SemiBold.woff2",serif:"/fonts/IBMPlexSerif-Medium.woff2",sansSerif:"/fonts/IBMPlexSans-Medium.woff2",monospace:"/fonts/IBMPlexMono-Medium.woff2"}},gr={error:null};class Ir extends a.Component{static getDerivedStateFromError(e){return{error:e}}state=gr;componentDidCatch(e){this.props.onError?.(e)}render(){const{error:e}=this.state;return null!==e?this.props.fallback(e):this.props.children}}var mr=i(94184);const yr=(0,W.j)((function(){const e=P(),t=e.brush,i=e.isIn("select.brushing");return t&&i?(0,s.jsx)("rect",{className:"rs-brush",width:(0,l.$Z)(Math.max(1,t.w)),height:(0,l.$Z)(Math.max(1,t.h)),transform:`translate(${t.x},${t.y})`}):null})),br=(0,W.j)((function({size:e}){const t=P(),{x:i,y:n,z:o}=t.camera;return t.isGridMode?(0,s.jsxs)("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{children:N.map((({min:t,mid:r,step:a},l)=>(0,s.jsx)(fr,{min:t,mid:r,step:a,x:i,y:n,z:o,size:e},`grid-layer-${l}`)))}),N.map((({step:e},t)=>(0,s.jsx)("rect",{width:"100%",height:"100%",fill:`url(#grid-${e})`},`grid-rect-${t}`)))]}):null}));function fr({step:e,min:t,mid:i,size:n,x:o,y:a,z:l}){const c=e*n*l,d=.5+o*l,u=.5+a*l,h=d>0?d%c:c+d%c,p=u>0?u%c:c+u%c,g=l<i?(0,r.vm)(l,[t,i],[0,1]):1;return(0,s.jsx)("pattern",{id:`grid-${e}`,width:c,height:c,patternUnits:"userSpaceOnUse",children:(0,s.jsx)("circle",{className:"tl-grid-dot",cx:h,cy:p,r:1,opacity:g})},`grid-pattern-${e}`)}function Cr({id:e,handle:t}){const i=function(e,t){const i=P();return a.useMemo((()=>{let n,s;return{onPointerDown:n=>{if(n.isKilled)return;ge(he(n.currentTarget),n);const{shape:s,handle:o}=fi(i,e,t);o&&i.dispatch({type:"pointer",target:"handle",handle:o,shape:s,name:"pointer_down",..._e(n,i.getContainer())})},onPointerMove:o=>{if(o.isKilled)return;if(o.clientX===n&&o.clientY===s)return;n=o.clientX,s=o.clientY;const{shape:r,handle:a}=fi(i,e,t);a&&i.dispatch({type:"pointer",target:"handle",handle:a,shape:r,name:"pointer_move",..._e(o,i.getContainer())})},onPointerUp:n=>{if(n.isKilled)return;Ie(he(n.currentTarget),n);const{shape:s,handle:o}=fi(i,e,t);o&&i.dispatch({type:"pointer",target:"handle",handle:o,shape:s,name:"pointer_up",..._e(n,i.getContainer())})},onPointerEnter:n=>{if(n.isKilled)return;const{shape:s,handle:o}=fi(i,e,t);o&&i.dispatch({type:"pointer",target:"handle",handle:o,shape:s,name:"pointer_enter",..._e(n,i.getContainer())})},onPointerLeave:n=>{if(n.isKilled)return;const{shape:s,handle:o}=fi(i,e,t);o&&i.dispatch({type:"pointer",target:"handle",handle:o,shape:s,name:"pointer_leave",..._e(n,i.getContainer())})}}}),[i,e,t])}(e,t.id),{x:n,y:o,type:r}=t;return(0,s.jsxs)("g",{className:mr("rs-handle",{"rs-handle-hint":"vertex"!==r}),"aria-label":"handle",transform:`translate(${n}, ${o})`,...i,children:[(0,s.jsx)("circle",{className:"rs-handle-bg"}),(0,s.jsx)("circle",{className:"rs-handle-fg"})]})}const wr=(0,W.j)((function(){const e=P(),t=e.zoomLevel,i=e.isChangingStyle,n=e.onlySelectedShape,o=e.isInAny("select.idle","select.pointing_handle")&&!i&&!e.isReadOnly;if(!n||!o)return null;const r=e.getShapeUtil(n),a=r.handles?.(n);if(!a)return null;const c=e.getPageTransform(n);if(!c)return null;const d=[];for(let s=0,l=a[s];s<a.length;s++,l=a[s]){if("vertex"!==l.type){const e=a[s-1],i=a[s+1];if(e&&i&&Math.hypot(e.y-i.y,e.x-i.x)<48/t)continue}d.push(l)}return d.sort((e=>"vertex"===e.type?1:-1)),(0,s.jsx)("g",{transform:l.yX.toCssString(c),children:d.map((e=>(0,s.jsx)(Cr,{id:n.id,handle:e},e.id)))})})),Mr=(0,a.memo)((({zoom:e,point:t,color:i})=>t?(0,s.jsx)("use",{href:"#cursor",transform:`translate(${t.x}, ${t.y}) scale(${1/e})`,color:i}):null)),Ar=({zoom:e,point:t,color:i,viewport:n})=>{const o=(0,l.uZ)(t.x,n.minX+5/e,n.maxX-5/e),r=(0,l.uZ)(t.y,n.minY+5/e,n.maxY-5/e),a=(0,l.vi)(l.GF.Angle(n.center,t));return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("use",{href:"#cursor_hint",transform:`translate(${o}, ${r}) scale(${1/e}) rotate(${a})`,color:i})})};class xr{constructor(e){this.shape=e}equals(e){return this.shape?.props===e?.shape?.props}}const Sr=({shape:e,util:t})=>(0,W.uC)("Indicator:",(()=>t.indicator(e))),vr=({app:e,id:t})=>{const i=(0,W.Hg)("shape",(()=>new xr(e.store.get(t))),[e,t]);return i.shape?(0,s.jsx)(Ir,{fallback:Lr,onError:t=>e.annotateError(t,{origin:"react.shapeIndicator",willCrashApp:!1}),children:(0,s.jsx)(Sr,{shape:i.shape,util:e.getShapeUtil(i.shape)})}):null};function Lr(){return(0,s.jsx)("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"})}const jr=a.memo((function({id:e,isHinting:t,color:i}){const n=P(),o=(0,W.Hg)("transform",(()=>{const t=n.getPageTransformById(e);return t?l.yX.toCssString(t):""}),[n,e]);return(0,s.jsx)("g",{className:mr("rs-shape-indicator",{"rs-shape-indicator__hinting":t}),transform:o,stroke:i??"var(--color-selected)",children:(0,s.jsx)(vr,{app:n,id:e})})})),Nr=(0,W.j)((function(){const e=P(),{viewportPageBounds:t,zoomLevel:i}=e,n=(()=>{const e=P(),t=(0,W.KO)("time",Date.now());return a.useEffect((()=>{const e=setInterval((()=>t.set(Date.now())),5e3);return()=>clearInterval(e)}),[t]),(0,a.useMemo)((()=>e.store.query.records("user_presence",(()=>({lastActivityTimestamp:{gt:t.value-Dr},userId:{neq:e.userId}})))),[e,t])})();return(0,s.jsx)("g",{children:n.value.map((e=>(0,s.jsx)(Zr,{presence:e,viewport:t,zoom:i},e.id)))})})),Dr=1e4,Zr=(0,W.j)((function({presence:e,viewport:t,zoom:i}){const n=P(),{userId:o,color:r,cursor:c,lastUsedInstanceId:d}=e,u=(0,a.useMemo)((()=>d?n.store.query.record("instance_page_state",(()=>({instanceId:{eq:d},pageId:{eq:n.currentPageId}}))):null),[n,d]);if(!d||!u)return null;const h=n.store.get(d);if(!h)return null;if(h.currentPageId!==n.currentPageId)return null;if(!u.value)return null;const{brush:p,scribble:g}=h,{selectedIds:I}=u.value,m=!(c.x<t.minX-12/i||c.y<t.minY-16/i||c.x>t.maxX-12/i||c.y>t.maxY-16/i);return(0,s.jsxs)(s.Fragment,{children:[p?(0,s.jsxs)("g",{className:"rs-collaborator-brush",transform:`translate(${p.x},${p.y})`,children:[(0,s.jsx)("rect",{width:(0,l.$Z)(Math.max(1,p.w)),height:(0,l.$Z)(Math.max(1,p.h)),fill:r,opacity:.1}),(0,s.jsx)("rect",{width:(0,l.$Z)(Math.max(1,p.w)),height:(0,l.$Z)(Math.max(1,p.h)),fill:"none",stroke:r,opacity:.1})]},o+"_brush"):null,m?(0,s.jsx)(Mr,{point:c,color:r,zoom:i},o+"_cursor"):(0,s.jsx)(Ar,{point:c,color:r,zoom:i,viewport:t},o+"_cursor_hint"),g?(0,s.jsx)(Er,{scribble:g,color:r,zoom:i},o+"_scribble"):null,I.map((e=>(0,s.jsx)(jr,{id:e,color:r},o+"_"+e)))]})}));function Er({scribble:e,color:t,zoom:i}){if(!e)return null;const n=l.No.FromPoints(e.points),o=Qe((0,l.mx)(e.points,{size:e.size/i,start:{taper:!0},last:"stopping"===e.state||n.width<128&&n.height<128}));return(0,s.jsx)("path",{className:"tl-scribble",d:o,fill:t,opacity:.1})}const kr=(0,W.j)((function(){const e=P(),t=e.scribble,i=e.zoomLevel;if(!t)return null;const n=Qe((0,l.mx)(t.points,{size:t.size/i,start:{taper:!0,easing:l.Lj.linear},last:!1,simulatePressure:!1}));return(0,s.jsx)("path",{className:"tl-scribble",d:n,fill:`var(--color-${t.color})`,opacity:t.opacity})})),Tr=(0,W.j)((function(){const e=P(),t=a.useMemo((()=>({onPointerDown:t=>{if(t.isKilled)return;ge(t.currentTarget,t);const i={type:"pointer",target:"selection",name:"pointer_down",..._e(t,e.getContainer())};e.dispatch(i)},onPointerMove:t=>{if(t.isKilled)return;const i={type:"pointer",target:"selection",name:"pointer_move",..._e(t,e.getContainer())};e.dispatch(i)},onPointerUp:t=>{if(t.isKilled)return;Ie(t.currentTarget,t);const i={type:"pointer",target:"selection",name:"pointer_up",..._e(t,e.getContainer())};e.dispatch(i)},onPointerEnter:t=>{if(t.isKilled)return;const i={type:"pointer",target:"selection",name:"pointer_enter",..._e(t,e.getContainer())};e.dispatch(i)},onPointerLeave:t=>{if(t.isKilled)return;const i={type:"pointer",target:"selection",name:"pointer_leave",..._e(t,e.getContainer())};e.dispatch(i)}})),[e]),{selectionBounds:i,selectedIds:n}=e;if(!i)return null;const o=e.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_shape","select.pointing_selection","text.resizing");if(1===n.length){const t=e.getShapeById(n[0]);if(!t)return null;if(e.getShapeUtil(t).hideSelectionBoundsBg(t))return null}const r=l.yX.toCssString(l.yX.Compose(l.yX.Translate(i.minX,i.minY),l.yX.Rotate(e.selectionRotation)));return(0,s.jsx)("div",{className:"tlui-selection__bg",draggable:!1,style:{transform:r,width:(0,l.$Z)(Math.max(1,i.width)),height:(0,l.$Z)(Math.max(1,i.height)),pointerEvents:o?"all":"none",opacity:o?1:0},...t})}));function zr(e){const t=P();return(0,a.useMemo)((function(){let i,n;return{onPointerDown:i=>{if(i.isKilled)return;if(0!==i.button)return;const n=he(i.currentTarget);ge(n,i),n.addEventListener("pointerup",(function e(){n.removeEventListener("pointerup",e),Ie(n,i)})),t.dispatch({name:"pointer_down",type:"pointer",target:"selection",handle:e,..._e(i,t.getContainer())}),i.stopPropagation()},onPointerMove:function(s){s.isKilled||0===s.button&&(s.clientX===i&&s.clientY===n||(i=s.clientX,n=s.clientY,t.dispatch({name:"pointer_move",type:"pointer",target:"selection",handle:e,..._e(s,t.getContainer())})))},onPointerUp:i=>{i.isKilled||0===i.button&&t.dispatch({name:"pointer_up",type:"pointer",target:"selection",handle:e,..._e(i,t.getContainer())})}}}),[t,e])}const Wr=Math.sqrt(Math.PI),Yr=function({cx:e,cy:t,size:i,isHidden:n,"data-wd":o}){const r=zr("mobile_rotate");return(0,s.jsxs)("g",{children:[(0,s.jsx)("circle",{"data-wd":o,className:mr("rs-transparent","rs-mobile-rotate__bg",{"rs-hidden":n}),cx:e,cy:t,...r}),(0,s.jsx)("circle",{className:mr("rs-mobile-rotate__fg",{"rs-hidden":n}),cx:e,cy:t,r:i/Wr})]})},Pr=function({cx:e,cy:t,targetSize:i,corner:n,cursor:o,isHidden:r,"data-wd":a}){const c=zr(n);return(0,s.jsx)("rect",{className:mr("rs-transparent","rs-rotate-corner",{"rs-hidden":r}),"data-wd":a,"aria-label":`${n} target`,x:(0,l.$Z)(e-3*i),y:(0,l.$Z)(t-3*i),width:(0,l.$Z)(Math.max(1,3*i)),height:(0,l.$Z)(Math.max(1,3*i)),cursor:o,...c})},Gr=(0,W.j)((function(){const e=P(),t=(0,W.Hg)("isReadOnlyMode",(()=>e.isReadOnly),[e]),i=zr("top"),n=zr("right"),o=zr("bottom"),r=zr("left"),a=zr("top_left"),c=zr("top_right"),d=zr("bottom_right"),u=zr("bottom_left"),h=!e.isMenuOpen&&"default"===e.cursor.type,p=e.isCoarsePointer,g=e.selectionBounds;if(!g)return null;const I=e.selectedShapes,m=e.selectionRotation,y=e.isChangingStyle,b=Math.max(1,g.width),f=Math.max(1,g.height),C=e.zoomLevel,w=8/C,M=b<2*w,A=f<2*w,x=b<4*w,S=f<4*w,v=p?1.75:1,L=6/C*v,j=(x?L/2:L)*(.75*v),N=(S?L/2:L)*(.75*v),D=l.yX.toCssString(l.yX.Compose(l.yX.Translate(g.minX,g.minY),l.yX.Rotate(e.selectionRotation))),Z=1===I.length?I[0]:null,E=!(Z&&e.getShapeUtil(Z).hideSelectionBoundsFg(Z)||y),k=(e.isInAny("select.idle","select.brushing","select.editing_shape","select.scribble_brushing","select.pointing_canvas","select.pointing_selection","select.pointing_shape")||e.isIn("select.resizing")&&Z&&"text"===I[0].type||e.isIn("select")&&e.inputs.ctrlKey)&&E,T=e.isInAny("select.idle","select.pointing_selection","select.pointing_shape","select.pointing_selection")&&!y&&!t,z=!p&&!(M||A)&&T&&(!Z||!e.getShapeUtil(Z).hideRotateHandle(Z)),Y=p&&(!x||!S)&&T&&(!Z||!e.getShapeUtil(Z).hideRotateHandle(Z)),G=T&&(!Z||e.getShapeUtil(Z).canResize(Z)&&!e.getShapeUtil(Z).hideResizeHandles(Z)),O=M||A,R=M&&A,F=!T||!z,B=!T||!Y,J=!T||!G,H=!T||!G||O,X=!T||!G||O,V=!T||!G||R;let _=p;_&&I.every((t=>e.getShapeUtil(t).isAspectRatioLocked(t)))&&(_=!1);const U=!T||!G||O||R||_;return(0,s.jsxs)("g",{transform:D,children:[k&&(0,s.jsx)("rect",{className:"tlui-selection__fg-outline",width:(0,l.$Z)(b),height:(0,l.$Z)(f)}),(0,s.jsxs)("g",{children:[(0,s.jsx)("g",{pointerEvents:"all",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Pr,{"data-wd":"selection.rotate.top-left",cx:0,cy:0,targetSize:L,corner:"top_left_rotate",cursor:h?ct("nwse-rotate",m):void 0,isHidden:F}),(0,s.jsx)(Pr,{"data-wd":"selection.rotate.top-right",cx:b+3*L,cy:0,targetSize:L,corner:"top_right_rotate",cursor:h?ct("nesw-rotate",m):void 0,isHidden:F}),(0,s.jsx)(Pr,{"data-wd":"selection.rotate.bottom-left",cx:0,cy:f+3*L,targetSize:L,corner:"bottom_left_rotate",cursor:h?ct("swne-rotate",m):void 0,isHidden:F}),(0,s.jsx)(Pr,{"data-wd":"selection.rotate.bottom-right",cx:b+3*L,cy:f+3*L,targetSize:L,corner:"bottom_right_rotate",cursor:h?ct("senw-rotate",m):void 0,isHidden:F})]})}),(0,s.jsx)(Yr,{"data-wd":"selection.rotate.mobile",cx:x?1.5*-L:b/2,cy:x?f/2:1.5*-L,size:w,isHidden:B}),(0,s.jsxs)("g",{pointerEvents:"all",children:[(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":U}),"data-wd":"selection.resize.top","aria-label":"top target",x:0,y:(0,l.$Z)(0-(S?2*N:N)),width:(0,l.$Z)(Math.max(1,b)),height:(0,l.$Z)(Math.max(1,2*N)),style:h?{cursor:ct("ns-resize",m)}:void 0,...i}),(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":U}),"data-wd":"selection.resize.right","aria-label":"right target",x:(0,l.$Z)(b-(x?0:j)),y:0,height:(0,l.$Z)(Math.max(1,f)),width:(0,l.$Z)(Math.max(1,2*j)),style:h?{cursor:ct("ew-resize",m)}:void 0,...n}),(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":U}),"data-wd":"selection.resize.bottom","aria-label":"bottom target",x:0,y:(0,l.$Z)(f-(S?0:N)),width:(0,l.$Z)(Math.max(1,b)),height:(0,l.$Z)(Math.max(1,2*N)),style:h?{cursor:ct("ns-resize",m)}:void 0,...o}),(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":U}),"data-wd":"selection.resize.left","aria-label":"left target",x:(0,l.$Z)(0-(x?2*j:j)),y:0,height:(0,l.$Z)(Math.max(1,f)),width:(0,l.$Z)(Math.max(1,2*j)),style:h?{cursor:ct("ew-resize",m)}:void 0,...r}),(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":J}),"data-wd":"selection.resize.top-left","aria-label":"top-left target",x:(0,l.$Z)(0-(x?2*j:1.5*j)),y:(0,l.$Z)(0-(S?2*N:1.5*N)),width:(0,l.$Z)(3*j),height:(0,l.$Z)(3*N),style:h?{cursor:ct("nwse-resize",m)}:void 0,...a}),(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":H}),"data-wd":"selection.resize.top-right","aria-label":"top-right target",x:(0,l.$Z)(b-(x?0:1.5*j)),y:(0,l.$Z)(0-(S?2*N:1.5*N)),width:(0,l.$Z)(3*j),height:(0,l.$Z)(3*N),style:h?{cursor:ct("nesw-resize",m)}:void 0,...c}),(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":V}),"data-wd":"selection.resize.bottom-right","aria-label":"bottom-right target",x:(0,l.$Z)(b-(x?j:1.5*j)),y:(0,l.$Z)(f-(S?N:1.5*N)),width:(0,l.$Z)(3*j),height:(0,l.$Z)(3*N),style:h?{cursor:ct("nwse-resize",m)}:void 0,...d}),(0,s.jsx)("rect",{className:mr("rs-transparent",{"rs-hidden":X}),"data-wd":"selection.resize.bottom-left","aria-label":"bottom-left target",x:(0,l.$Z)(0-(x?3*j:1.5*j)),y:(0,l.$Z)(f-(S?0:1.5*N)),width:(0,l.$Z)(3*j),height:(0,l.$Z)(3*N),style:h?{cursor:ct("nesw-resize",m)}:void 0,...u}),(0,s.jsx)("rect",{"data-wd":"selection.resize.top-left",className:mr("rs-corner-handle",{"rs-hidden":J}),"aria-label":"top_left handle",x:(0,l.$Z)(0-w/2),y:(0,l.$Z)(0-w/2),width:(0,l.$Z)(w),height:(0,l.$Z)(w)}),(0,s.jsx)("rect",{"data-wd":"selection.resize.top-right",className:mr("rs-corner-handle",{"rs-hidden":H}),"aria-label":"top_right handle",x:(0,l.$Z)(b-w/2),y:(0,l.$Z)(0-w/2),width:(0,l.$Z)(w),height:(0,l.$Z)(w)}),(0,s.jsx)("rect",{"data-wd":"selection.resize.bottom-right",className:mr("rs-corner-handle",{"rs-hidden":V}),"aria-label":"bottom_right handle",x:(0,l.$Z)(b-w/2),y:(0,l.$Z)(f-w/2),width:(0,l.$Z)(w),height:(0,l.$Z)(w)}),(0,s.jsx)("rect",{"data-wd":"selection.resize.bottom-left",className:mr("rs-corner-handle",{"rs-hidden":X}),"aria-label":"bottom_left handle",x:(0,l.$Z)(0-w/2),y:(0,l.$Z)(f-w/2),width:(0,l.$Z)(w),height:(0,l.$Z)(w)})]})]})]})}));function Or(){return(0,s.jsx)("div",{className:"rs-shape-error-boundary"})}const Rr=(0,W.j)((function({id:e,index:t,opacity:i,isCulled:n}){const o=P(),r=function(e){const t=P();return a.useMemo((()=>{const i=vi(t,e,"pointer_move");let n,s;return{onPointerDown:vi(t,e,"pointer_down"),onPointerUp:vi(t,e,"pointer_up"),onPointerEnter:vi(t,e,"pointer_enter"),onPointerLeave:vi(t,e,"pointer_leave"),onPointerMove:function(e){if(!e.isKilled&&(e.clientX!==n||e.clientY!==s))return n=e.clientX,s=e.clientY,i(e)},onTouchStart:function(e){e.isKilled=!0,pe(e)},onTouchEnd:function(e){e.isKilled=!0,pe(e)}}}),[t,e])}(e),c=a.useRef(null);nt("set shape container transform position",(()=>{const t=c.current;if(!t)return;const i=o.getShapeById(e),n=o.getPageTransformById(e);if(!i||!n)return null;const s=l.yX.toCssString(n);t.style.setProperty("transform",s)}),[o]),nt("set shape container clip path / color",(()=>{const t=c.current,i=o.getShapeById(e);if(!t)return;if(!i)return null;const n=o.getClipPathById(e);t.style.setProperty("clip-path",n??"none"),"color"in i.props&&t.style.setProperty("color",o.getCssColor(i.props.color))}),[o]),nt("set shape height and width",(()=>{const t=c.current,i=o.getShapeById(e);if(!t)return;if(!i)return null;const n=o.getShapeUtil(i).bounds(i);t.style.setProperty("width",Math.ceil(n.width)+"px"),t.style.setProperty("height",Math.ceil(n.height)+"px")}),[o]),a.useLayoutEffect((()=>{const e=c.current;e&&(e.style.setProperty("opacity",i+""),e.style.setProperty("z-index",t+""))}),[i,t]);const d=o.getShapeById(e);if(!d)return null;const u=o.getShapeUtil(d);return(0,s.jsx)("div",{ref:c,className:"rs-shape","data-shape-type":d.type,draggable:!1,onPointerDown:r.onPointerDown,onPointerMove:r.onPointerMove,onPointerUp:r.onPointerUp,onPointerEnter:r.onPointerEnter,onPointerLeave:r.onPointerLeave,children:n&&u.canUnmount(d)?(0,s.jsx)(Br,{shape:d,util:u}):(0,s.jsxs)(Ir,{fallback:Or,onError:e=>o.annotateError(e,{origin:"react.shape",willCrashApp:!1}),children:[" ",(0,s.jsx)(Fr,{shape:d,util:u})]})},e)})),Fr=a.memo((function({shape:e,util:t}){return(0,W.uC)("InnerShape:"+t.type,(()=>t.render(e)))}),((e,t)=>e.shape.props===t.shape.props)),Br=a.memo((function({shape:e,util:t}){const i=t.bounds(e);return(0,s.jsx)("div",{className:"rs-shape__culled",style:{transform:`translate(${i.minX}px, ${i.minY}px)`,width:i.width,height:i.height}})}),(()=>!0));function Jr({points:e,zoom:t}){const i=2.5/t,n=e.reduce(((e,t)=>Math.min(e,t.x)),1/0),o=e.reduce(((e,t)=>Math.max(e,t.x)),-1/0),r=e.reduce(((e,t)=>Math.min(e,t.y)),1/0),a=e.reduce(((e,t)=>Math.max(e,t.y)),-1/0);let l,c,d,u;return e.some((e=>e.x===n&&e.y===r))?(l=n,c=r,d=o,u=a):(l=n,c=a,d=o,u=r),(0,s.jsxs)("g",{className:"rs-snap-line",children:[(0,s.jsx)("line",{x1:l,y1:c,x2:d,y2:u}),e.map(((e,t)=>(0,s.jsx)("g",{transform:`translate(${e.x},${e.y})`,children:(0,s.jsx)("path",{className:"rs-snap-point",d:`M ${-i},${-i} L ${i},${i} M ${-i},${i} L ${i},${-i}`})},t)))]})}function Hr({gaps:e,direction:t,zoom:i}){const n=3.5/i;let o=[-1/0,1/0],r=null;const c="horizontal"===t;for(const s of e)r=(0,l.mW)(o[0],o[1],c?s.startEdge[0].y:s.startEdge[0].x,c?s.startEdge[1].y:s.startEdge[1].x),r&&(o=r,r=(0,l.mW)(o[0],o[1],c?s.endEdge[0].y:s.endEdge[0].x,c?s.endEdge[1].y:s.endEdge[1].x),r&&(o=r));if(null===o)return null;const d=(o[0]+o[1])/2;return(0,s.jsx)("g",{className:"rs-snap-line",children:e.map((({startEdge:e,endEdge:t},i)=>(0,s.jsx)(a.Fragment,{children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("line",{x1:e[0].x,y1:d-2*n,x2:e[1].x,y2:d+2*n}),(0,s.jsx)("line",{x1:t[0].x,y1:d-2*n,x2:t[1].x,y2:d+2*n}),(0,s.jsx)("line",{x1:e[0].x,y1:d,x2:t[0].x,y2:d}),(0,s.jsx)("line",{x1:(e[0].x+t[0].x)/2,y1:d-n,x2:(e[0].x+t[0].x)/2,y2:d+n})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("line",{x1:d-2*n,y1:e[0].y,x2:d+2*n,y2:e[1].y}),(0,s.jsx)("line",{x1:d-2*n,y1:t[0].y,x2:d+2*n,y2:t[1].y}),(0,s.jsx)("line",{x1:d,y1:e[0].y,x2:d,y2:t[0].y}),(0,s.jsx)("line",{x1:d-n,y1:(e[0].y+t[0].y)/2,x2:d+n,y2:(e[0].y+t[0].y)/2})]})},i)))})}function Xr({line:e,zoom:t}){switch(e.type){case"points":return(0,s.jsx)(Jr,{...e,zoom:t});case"gaps":return(0,s.jsx)(Hr,{...e,zoom:t});default:return null}}const Vr=(0,W.j)((function(){const e=P(),t=e.zoomLevel;return(0,s.jsx)(s.Fragment,{children:e.snaps.lines.map((e=>(0,s.jsx)(Xr,{line:e,zoom:t},e.id)))})})),_r=(0,W.j)((function({id:e}){const t=P(),i=t.getShapeById(e),[n,o]=a.useState("");return a.useEffect((()=>{let i=!1;return(async()=>{if(i)return;const n=t.getPageBoundsById(e),s=await t.getSvg([e],{padding:0});s&&n&&!i&&(s.style.setProperty("overflow","visible"),s.setAttribute("preserveAspectRatio","xMidYMin slice"),s.style.setProperty("transform",`translate(${n.x}px, ${n.y+n.h+12}px)`),s.style.setProperty("border","1px solid black"),o(s?.outerHTML))})(),()=>{i=!0}}),[t,i,e]),(0,s.jsx)("div",{style:{paddingTop:12,position:"absolute"},children:(0,s.jsx)("div",{style:{display:"flex"},dangerouslySetInnerHTML:{__html:n}})})})),Ur=(0,W.j)((function({onDropOverride:e}){const t=P(),i=a.useRef(null),n=a.useRef(null),o=a.useRef(null);!function(){const e=P(),t=it(),i=(0,W.Hg)("isFocused",(()=>e.isFocused),[e]);(0,a.useEffect)((()=>{if(!i)return;const n=t=>{if(!t.altKey||e.root.path.value.endsWith(".idle")||ut()||pe(t),t.isKilled)return;switch(t.isKilled=!0,t.key){case"=":case"-":case"0":if(t.metaKey||t.ctrlKey)return void pe(t);break;case"Tab":default:if(ut()||e.isMenuOpen)return;break;case",":if(!ut()&&(pe(t),!e.inputs.keys.has(","))){const{x:i,y:n,z:s}=e.inputs.currentScreenPoint,{pageState:{hoveredId:o}}=e;e.inputs.keys.add(",");const r={type:"pointer",name:"pointer_down",point:{x:i,y:n,z:s},shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey,pointerId:0,button:0,isPen:e.isPenMode,...o?{target:"shape",shape:e.getShapeById(o)}:{target:"canvas"}};return void e.dispatch(r)}break;case"Escape":return void(e.inputs.keys.has("Escape")||(e.inputs.keys.add("Escape"),e.cancel()))}const i={type:"keyboard",name:"key_down",key:t.key,shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey};e.dispatch(i)},s=t=>{if(t.isKilled)return;if(t.isKilled=!0,ut()||e.isMenuOpen)return;if(","===t.key&&(document.activeElement?.ELEMENT_NODE&&pe(t),e.inputs.keys.has(","))){const{x:i,y:n,z:s}=e.inputs.currentScreenPoint,{pageState:{hoveredId:o}}=e;e.inputs.keys.delete(",");const r={type:"pointer",name:"pointer_up",point:{x:i,y:n,z:s},shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey,pointerId:0,button:0,isPen:e.isPenMode,...o?{target:"shape",shape:e.getShapeById(o)}:{target:"canvas"}};return void e.dispatch(r)}const i={type:"keyboard",name:"key_up",key:t.key,shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey};e.dispatch(i)};function o(i){if(t.contains(i.target)){const t=i.touches[0].pageX,n=i.touches[0].radiusX||0;(t-n<10||t+n>e.viewportScreenBounds.width-10)&&("BUTTON"===i.target?.tagName&&i.target?.click(),pe(i))}}const r=e=>{t.contains(e.target)&&(e.ctrlKey||e.metaKey)&&pe(e)};function a(){e.complete()}function l(){e.updateViewportScreenBounds()}return t.addEventListener("touchstart",o,{passive:!1}),document.addEventListener("wheel",r,{passive:!1}),document.addEventListener("gesturestart",pe),document.addEventListener("gesturechange",pe),document.addEventListener("gestureend",pe),document.addEventListener("keydown",n),document.addEventListener("keyup",s),window.addEventListener("blur",a),window.addEventListener("focus",l),()=>{t.removeEventListener("touchstart",o),document.removeEventListener("wheel",r),document.removeEventListener("gesturestart",pe),document.removeEventListener("gesturechange",pe),document.removeEventListener("gestureend",pe),document.removeEventListener("keydown",n),document.removeEventListener("keyup",s),window.removeEventListener("blur",a),window.removeEventListener("focus",l)}}),[e,t,i])}(),function(){const e=P();(0,a.useEffect)((()=>{const t=window.matchMedia("(pointer: coarse)"),i=()=>{e.isCoarsePointer=t.matches};return i(),t.addEventListener("change",i),()=>t.removeEventListener("change",i)}),[e])}(),bi(i),function(e){const t=P();(0,a.useEffect)((()=>{const i=e.current;if(!i)return;const n=e=>{if(e instanceof PointerEvent&&"pen"===e.pointerType){e.isKilled=!0;const{target:i}=e;if(ht.includes(i.tagName?.toLocaleLowerCase())||t.isIn("select.editing_shape"))return;pe(e)}};return i.addEventListener("touchstart",n),i.addEventListener("touchend",n),()=>{i.removeEventListener("touchstart",n),i.addEventListener("touchend",n)}}),[t,e])}(i),function(){const e=P(),t=it();(0,a.useLayoutEffect)((()=>{const i=Si((()=>{e.updateViewportScreenBounds()}),200,{trailing:!0}),n=new ResizeObserver((e=>{e[0].contentRect&&i()}));return t&&n.observe(t),i(),()=>{n.disconnect()}}),[e,t])}(),nt("position layers",(()=>{const e=o.current,i=n.current;if(!e||!i)return;const{x:s,y:a,z:c}=t.camera,d=c>=1?(0,r.vm)(c,[1,8],[.125,.5],!0):(0,r.vm)(c,[.1,1],[-2,.125],!0);e.style.setProperty("transform",`scale(${(0,l.$Z)(c)}) translate(${(0,l.$Z)(s)}px,${(0,l.$Z)(a)}px)`),i.style.setProperty("transform",`scale(${(0,l.$Z)(c)}) translate(${(0,l.$Z)(s+d)}px,${(0,l.$Z)(a+d)}px)`)}),[t]);const{context:c,isReady:d}=Ai(),u=function(){const e=P();return(0,a.useMemo)((function(){let t,i;return{onPointerDown:function(t){t.isKilled||0!==t.button&&1!==t.button&&5!==t.button||(ge(t.currentTarget,t),e.dispatch({type:"pointer",target:"canvas",name:"pointer_down",..._e(t,e.getContainer())}))},onPointerMove:function(n){n.isKilled||n.clientX===t&&n.clientY===i||(t=n.clientX,i=n.clientY,e.dispatch({type:"pointer",target:"canvas",name:"pointer_move",..._e(n,e.getContainer())}))},onPointerUp:function(n){n.isKilled||0!==n.button&&1!==n.button&&5!==n.button||(t=n.clientX,i=n.clientY,Ie(n.currentTarget,n),e.dispatch({type:"pointer",target:"canvas",name:"pointer_up",..._e(n,e.getContainer())}))},onPointerEnter:function(t){t.isKilled||e.dispatch({type:"pointer",target:"canvas",name:"pointer_enter",..._e(t,e.getContainer())})},onPointerLeave:function(t){t.isKilled||e.dispatch({type:"pointer",target:"canvas",name:"pointer_leave",..._e(t,e.getContainer())})},onDragOver:function(e){pe(e)},onDrop:async function(t){if(pe(t),!t.dataTransfer?.files?.length)return;const i=Array.from(t.dataTransfer.files).filter((e=>!e.name.endsWith(".tldr")));await ne(e,i,e.screenToPage(t.clientX,t.clientY),!1)},onTouchStart:function(e){e.isKilled=!0,document.body.click(),pe(e)},onTouchEnd:function(e){e.isKilled=!0,"A"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&pe(e)}}}),[e])}();return e&&(u.onDrop=e(u.onDrop)),a.useEffect((()=>{if(d&&t.isSafari){const e=o.current,t=n.current;e&&t&&requestAnimationFrame((()=>{e.style.display="none",t.style.display="none",requestAnimationFrame((()=>{e.style.display="",t.style.display=""}))}))}}),[t,d]),a.useEffect((()=>{i.current?.focus()}),[]),(0,s.jsxs)("div",{ref:i,draggable:!1,className:"rs-canvas","data-wd":"canvas",...u,children:[(0,s.jsx)(br,{size:t.gridSize}),(0,s.jsxs)("div",{ref:n,className:"rs-html-layer",draggable:!1,children:[(0,s.jsx)(Tr,{}),(0,s.jsx)(Kr,{})]}),(0,s.jsxs)("svg",{className:"rs-svg-layer",children:[c,(0,s.jsxs)("defs",{children:[(0,s.jsx)(ea,{}),(0,s.jsx)(ta,{}),(0,s.jsx)("marker",{id:"arrowhead-dot",className:"rs-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:(0,s.jsx)("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})}),(0,s.jsxs)("marker",{id:"arrowhead-cross",className:"rs-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[(0,s.jsx)("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),(0,s.jsx)("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})]}),(0,s.jsxs)("g",{ref:o,children:[(0,s.jsx)(Nr,{}),(0,s.jsx)(kr,{}),(0,s.jsx)(yr,{}),(0,s.jsx)(Qr,{}),(0,s.jsx)(qr,{}),(0,s.jsx)(Gr,{}),(0,s.jsx)($r,{}),(0,s.jsx)(wr,{}),(0,s.jsx)(Vr,{})]})]})]})})),Kr=(0,W.j)((function(){const e=P(),{renderingShapes:t}=e;return R.debugSvg.value?(0,s.jsx)(s.Fragment,{children:t.map((e=>(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(Rr,{...e},e.id+"_shape"),(0,s.jsx)(_r,{id:e.id},e.id+"_shape_debug")]},e.id+"_fragment")))}):(0,s.jsx)(s.Fragment,{children:t.map((e=>(0,s.jsx)(Rr,{...e},e.id+"_shape")))})})),Qr=(0,W.j)((function(){const e=P(),t=e.selectedIds,i=e.isChangingStyle;return e.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!i?(0,s.jsx)("g",{"aria-label":"SELECTED INDICATORS",children:t.map((e=>(0,s.jsx)(jr,{id:e},e+"_indicator")))}):null})),qr=(0,W.j)((function(){const e=P(),t=e.pageState.hoveredId,i=e.isInAny("select.idle","select.editing_shape");return t&&i?(0,s.jsx)(jr,{id:t},t):null})),$r=(0,W.j)((function(){const e=P(),t=(0,r.D8)(e.hintingIds);return t.length?(0,s.jsx)("g",{"aria-label":"HINTED SHAPES",children:t.map((e=>(0,s.jsx)(jr,{id:e,isHinting:!0},e+"_hinting")))}):null}));function ea(){return(0,s.jsxs)("g",{id:"cursor",children:[(0,s.jsxs)("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[(0,s.jsx)("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),(0,s.jsx)("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),(0,s.jsxs)("g",{fill:"white",transform:"translate(-12,-12)",children:[(0,s.jsx)("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),(0,s.jsx)("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),(0,s.jsxs)("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[(0,s.jsx)("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),(0,s.jsx)("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function ta(){return(0,s.jsx)("path",{id:"cursor_hint",fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z",opacity:".8"})}const ia="https://github.com/tldraw/editor/issues/new";function na(){}function sa({error:e,app:t}){const i=(0,a.useRef)(null),[n,o]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=e instanceof Error?e.message:String(e),h=e instanceof Error?e.stack:null,p=(0,W.Hg)("isDarkMode",(()=>{try{if(t)return t.userDocumentSettings.isDarkMode}catch{}return null}),[t]),[g,I]=(0,a.useState)(null);(0,a.useLayoutEffect)((()=>{null!==p&&I(p);let e=i.current?.parentElement,t=!1;for(;e;){if(e.classList.contains("rs-theme__dark")||e.classList.contains("rs-theme__light")){t=!0;break}e=e.parentElement}I(t?null:window.matchMedia("(prefers-color-scheme: dark)").matches)}),[p]),(0,a.useEffect)((()=>{if(r){const e=setTimeout((()=>{l(!1)}),2e3);return()=>clearTimeout(e)}}),[r]);const m=new URL(ia);return m.searchParams.set("title",u),m.searchParams.set("labels","bug"),m.searchParams.set("body",`Hey, I ran into an error while using tldraw:\n\n\`\`\`js\n${h??u}\n\`\`\`\n\nMy browser: ${navigator.userAgent}`),(0,s.jsxs)("div",{ref:i,className:mr("rs-container rs-error-boundary",null===g?"":g?"rs-theme__dark":"rs-theme__light"),children:[(0,s.jsx)("div",{className:"rs-error-boundary__overlay"}),t&&(0,s.jsx)(Ir,{onError:na,fallback:()=>null,children:(0,s.jsx)(Y.Provider,{value:t,children:(0,s.jsx)("div",{className:"rs-overlay rs-error-boundary__canvas",children:(0,s.jsx)(Ur,{})})})}),(0,s.jsx)("div",{className:mr("rs-modal","rs-error-boundary__content",{"rs-error-boundary__content__expanded":n&&!c}),children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Are you sure?"}),(0,s.jsx)("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),(0,s.jsxs)("div",{className:"rs-error-boundary__content__actions",children:[(0,s.jsx)("button",{onClick:()=>d(!1),children:"Cancel"}),(0,s.jsx)("button",{className:"rs-error-boundary__reset",onClick:async()=>{await(window.__tldraw__hardReset?.())},children:"Reset data"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Something's gone wrong."}),(0,s.jsxs)("p",{children:["Sorry, we encountered an error. Please refresh the page to continue. If you keep seeing this error, you can ",(0,s.jsx)("a",{href:m.toString(),children:"create a GitHub issue"})," or"," ",(0,s.jsx)("a",{href:"https://discord.gg/Cq6cPsTfNy",children:"ask for help on Discord"}),"."]}),n&&(0,s.jsxs)("div",{className:"rs-error-boundary__content__error",children:[(0,s.jsx)("pre",{children:(0,s.jsx)("code",{children:h??u})}),(0,s.jsx)("button",{onClick:()=>{const e=document.createElement("textarea");e.value=h??u,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),l(!0)},children:r?"Copied!":"Copy"})]}),(0,s.jsxs)("div",{className:"rs-error-boundary__content__actions",children:[(0,s.jsx)("button",{onClick:()=>o(!n),children:n?"Hide details":"Show details"}),(0,s.jsxs)("div",{className:"rs-error-boundary__content__actions__group",children:[(0,s.jsx)("button",{className:"rs-error-boundary__reset",onClick:()=>d(!0),children:"Reset data"}),(0,s.jsx)("button",{className:"rs-error-boundary__refresh",onClick:()=>{window.location.reload()},children:"Refresh Page"})]})]})]})})]})}let oa=!1;if("undefined"!=typeof window){const e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),i=!!e.match(/WebKit/i);oa=t&&i&&!e.match(/CriOS/i)}const ra=({children:e})=>(function(){const e=P(),t=it();a.useEffect((()=>{const i=e=>t.style.setProperty("--rs-zoom",e.toString()),n=(0,r.Ds)(i,100),s=new d.R0("useZoomCss",(()=>{e.shapeIds.size<300?i(e.zoomLevel):n(e.zoomLevel)}));return s.attach(),s.execute(),()=>{s.detach()}}),[e,t])}(),function(){const e=P(),t=it();nt("useCursor",(()=>{const{type:i,rotation:n,color:s}=e.cursor;t.style.setProperty("--rs-cursor",ct(i,n,s))}),[e,t])}(),function(){const e=P(),t=it(),i=(0,W.Hg)("isDarkMode",(()=>e.userDocumentSettings.isDarkMode),[e]);a.useEffect((()=>{i?(t.setAttribute("data-color-mode","dark"),t.classList.remove("rs-theme__light"),t.classList.add("rs-theme__dark"),e.setCursor({color:"white"})):(t.setAttribute("data-color-mode","light"),t.classList.remove("rs-theme__dark"),t.classList.add("rs-theme__light"),e.setCursor({color:"black"}))}),[e,t,i])}(),function(){const[e,t]=(0,a.useState)(0);(0,a.useEffect)((()=>t((e=>e+1))),[])}(),function(){const e=P();a.useEffect((()=>{if(oa)return document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t);function t(t){(t.target instanceof HTMLInputElement&&"text"===t.target.type||t.target instanceof HTMLTextAreaElement)&&e.complete()}}),[e])}(),e);const aa=(e,t)=>{const[i,n]=(0,a.useState)(2);return(0,a.useEffect)((()=>{const{url:i,style:s="normal",weight:o="500",display:r,featureSettings:a,stretch:l,unicodeRange:c,variant:d}=t;let u=!1;n(2);const h=new FontFace(e,`url(${i})`,{style:s,weight:o,display:r,featureSettings:a,stretch:l,unicodeRange:c,variant:d});return h.load().then((()=>{u||(document.fonts.add(h),n(0))})).catch((e=>{u||(console.error(e),n(1))})),h.$$_url=i,h.$$_fontface=`\n@font-face {\n\tfont-family: ${h.family};\n\tfont-stretch: ${h.stretch};\n\tfont-weight: ${h.weight};\n\tfont-style: ${h.style};\n\tsrc: url("${i}") format("woff2")\n}`,()=>{document.fonts.delete(h),u=!0}}),[e,t]),i};function la(e){const[t,i]=a.useState(null);return(0,s.jsx)("div",{ref:i,draggable:!1,className:"rs-container rs-theme__light",tabIndex:0,children:(0,s.jsx)(Ir,{fallback:e=>(0,s.jsx)(sa,{error:e}),onError:e=>(0,r.lw)(e,{tags:{origin:"react.tldraw-before-app"}}),children:t&&(0,s.jsx)(tt,{container:t,children:(0,s.jsx)(ca,{...e})})})})}function ca({config:e=zs.default,userId:t,instanceId:i,store:r,...l}){const{done:c,error:d}=function(e){const t=(0,a.useMemo)((()=>function(e){return{draw:{url:e.fonts.draw},serif:{url:e.fonts.serif},sansSerif:{url:e.fonts.sansSerif},monospace:{url:e.fonts.monospace}}}(e)),[e]),i=[aa("tldraw_draw",t.draw),aa("tldraw_serif",t.serif),aa("tldraw_sans",t.sansSerif),aa("tldraw_mono",t.monospace)];return{error:i.some((e=>1===e)),done:!i.some((e=>2===e))}}(l.assetUrls??pr);let u;if(r??=e.createStore({userId:t??n.bK.createId(),instanceId:i??n.Kj.createId()}),r instanceof o.yh)u=r;else{if(r.error)throw r.error;if(!r.store)return(0,s.jsx)(ua,{children:"Connecting..."});u=r.store}return i&&u.props.instanceId!==i&&console.error(`The store's instanceId (${u.props.instanceId}) does not match the instanceId prop (${i}). This may cause unexpected behavior.`),t&&u.props.userId!==t&&console.error(`The store's userId (${u.props.userId}) does not match the userId prop (${t}). This may cause unexpected behavior.`),d?(0,s.jsx)(ha,{children:"Could not load assets. Please refresh the page."}):c?(0,s.jsx)(da,{...l,store:u,config:e}):(0,s.jsx)(ua,{children:"Loading assets..."})}function da({onMount:e,config:t,isDarkMode:i,children:n,onCreateAssetFromFile:o,onCreateBookmarkFromUrl:l,store:c,autoFocus:d}){const u=it(),[h,p]=a.useState(null);a.useLayoutEffect((()=>{const e=new ur({store:c,getContainer:()=>u,config:t});return p(e),d&&e.focus(),window.app=e,()=>{e.dispose(),p((t=>t===e?null:t))}}),[u,t,c,d]),a.useEffect((()=>{h&&(o&&(h.onCreateAssetFromFile=o),l&&(h.onCreateBookmarkFromUrl=l))}),[h,i,o,l]);const g=function(e){const t=(0,a.useRef)();return(0,a.useLayoutEffect)((()=>{t.current=e})),(0,a.useDebugValue)(e),(0,a.useCallback)(((...e)=>{const i=t.current;return(0,r.hu)(i,"fn does not exist"),i(...e)}),[])}((t=>e?.(t)));a.useEffect((()=>{h&&(void 0!==i&&h.updateUserDocumentSettings({isDarkMode:i}),window.tldrawReady=!0,g(h))}),[h,g,i]);const I=(0,a.useSyncExternalStore)((0,a.useCallback)((e=>h?(h.on("crash",e),()=>h.off("crash",e)):()=>{}),[h]),(()=>h?.crashingError??null));return h?(0,s.jsx)(Ir,{fallback:e=>(0,s.jsx)(sa,{error:e,app:h}),onError:e=>h.annotateError(e,{origin:"react.tldraw",willCrashApp:!0}),children:I?(0,s.jsx)(sa,{error:I,app:h}):(0,s.jsx)(Y.Provider,{value:h,children:(0,s.jsx)(ra,{children:n})})}):null}function ua({children:e}){return(0,s.jsxs)("div",{className:"rs-loading",children:[(0,s.jsx)(Nn,{}),e]})}function ha({children:e}){return(0,s.jsx)("div",{className:"rs-loading",children:e})}},78751:(e,t,i)=>{"use strict";i.d(t,{No:()=>z,_e:()=>F,Lj:()=>n,Ib:()=>c,yX:()=>J,PI:()=>r,yo:()=>l,qv:()=>H,dv:()=>d,gc:()=>a,GF:()=>s,Cc:()=>f,C2:()=>p,_G:()=>M,ws:()=>I,uZ:()=>u,Ht:()=>A,Ee:()=>Y,Op:()=>W,Pl:()=>S,XD:()=>v,Oe:()=>L,LP:()=>D,mx:()=>te,ib:()=>_,tt:()=>Q,bO:()=>re,h9:()=>ae,XS:()=>le,qZ:()=>oe,Gc:()=>se,tY:()=>ue,m3:()=>P,M7:()=>b,cB:()=>de,yE:()=>y,Rp:()=>g,Of:()=>E,Xh:()=>k,UQ:()=>he,vi:()=>x,mW:()=>N,ep:()=>j,CB:()=>ee,Z7:()=>m,nD:()=>w,$Z:()=>T});const n={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2};class s{constructor(e=0,t=0,i=1){this.x=e,this.y=t,this.z=i}get pressure(){return this.z}set(e=this.x,t=this.y,i=this.z){return this.x=e,this.y=t,this.z=i,this}setTo({x:e=0,y:t=0,z:i=1}){return this.x=e,this.y=t,this.z=i,this}rot(e){if(0===e)return this;const{x:t,y:i}=this,n=Math.sin(e),s=Math.cos(e);return this.x=t*s-i*n,this.y=t*n+i*s,this}rotWith(e,t){if(0===t)return this;const i=this.x-e.x,n=this.y-e.y,s=Math.sin(t),o=Math.cos(t);return this.x=e.x+(i*o-n*s),this.y=e.y+(i*s+n*o),this}clone(){const{x:e,y:t,z:i}=this;return new s(e,t,i)}sub(e){return this.x-=e.x,this.y-=e.y,this}subXY(e,t){return this.x-=e,this.y-=t,this}subScalar(e){return this.x-=e,this.y-=e,this}add(e){return this.x+=e.x,this.y+=e.y,this}addXY(e,t){return this.x+=e,this.y+=t,this}addScalar(e){return this.x+=e,this.y+=e,this}clamp(e,t){return this.x=Math.min(Math.max(this.x,e),t??this.x),this.y=Math.min(Math.max(this.y,e),t??this.y),this}div(e){return this.x/=e,this.y/=e,this}divV(e){return this.x/=e.x,this.y/=e.y,this}mul(e){return this.x*=e,this.y*=e,this}mulV(e){return this.x*=e.x,this.y*=e.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(e,t){const i=s.Tan(e,this);return this.add(i.mul(t))}neg(){return this.x*=-1,this.y*=-1,this}cross(e){return this.x=this.y*e.z-this.z*e.y,this.y=this.z*e.x-this.x*e.z,this}dpr(e){return s.Dpr(this,e)}cpr(e){return s.Cpr(this,e)}len2(){return s.Len2(this)}len(){return s.Len(this)}pry(e){return s.Pry(this,e)}per(){const{x:e,y:t}=this;return this.x=t,this.y=-e,this}uni(){return s.Uni(this)}tan(e){return s.Tan(this,e)}dist(e){return s.Dist(this,e)}distanceToLineSegment(e,t){return s.DistanceToLineSegment(e,t,this)}slope(e){return s.Slope(this,e)}snapToGrid(e){return this.x=Math.round(this.x/e)*e,this.y=Math.round(this.y/e)*e,this}angle(e){return s.Angle(this,e)}toAngle(){return s.ToAngle(this)}lrp(e,t){return this.x=this.x+(e.x-this.x)*t,this.y=this.y+(e.y-this.y)*t,this}equals(e){return s.Equals(this,e)}equalsXY(e,t){return s.EqualsXY(this,e,t)}norm(){const e=this.len();return this.x=0===e?0:this.x/e,this.y=0===e?0:this.y/e,this}toFixed(){return s.ToFixed(this)}toString(){return s.ToString(s.ToFixed(this))}toJson(){return s.ToJson(this)}toArray(){return s.ToArray(this)}static Add(e,t){return new s(e.x+t.x,e.y+t.y)}static AddXY(e,t,i){return new s(e.x+t,e.y+i)}static Sub(e,t){return new s(e.x-t.x,e.y-t.y)}static SubXY(e,t,i){return new s(e.x-t,e.y-i)}static AddScalar(e,t){return new s(e.x+t,e.y+t)}static SubScalar(e,t){return new s(e.x-t,e.y-t)}static Div(e,t){return new s(e.x/t,e.y/t)}static Mul(e,t){return new s(e.x*t,e.y*t)}static DivV(e,t){return new s(e.x/t.x,e.y/t.y)}static MulV(e,t){return new s(e.x*t.x,e.y*t.y)}static Neg(e){return new s(-e.x,-e.y)}static Per(e){return new s(e.y,-e.x)}static Dist2(e,t){return s.Sub(e,t).len2()}static Abs(e){return new s(Math.abs(e.x),Math.abs(e.y))}static Dist(e,t){return Math.hypot(e.y-t.y,e.x-t.x)}static Dpr(e,t){return e.x*t.x+e.y*t.y}static Cross(e,t){return new s(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z)}static Cpr(e,t){return e.x*t.y-t.x*e.y}static Len2(e){return e.x*e.x+e.y*e.y}static Len(e){return Math.sqrt(s.Len2(e))}static Pry(e,t){return s.Dpr(e,t)/s.Len(t)}static Uni(e){return s.Div(e,s.Len(e))}static Tan(e,t){return s.Uni(s.Sub(e,t))}static Min(e,t){return new s(Math.min(e.x,t.x),Math.min(e.y,t.y))}static Max(e,t){return new s(Math.max(e.x,t.x),Math.max(e.y,t.y))}static From({x:e,y:t,z:i=1}){return new s(e,t,i)}static FromArray(e){return new s(e[0],e[1])}static Rot(e,t=0){const i=Math.sin(t),n=Math.cos(t);return new s(e.x*n-e.y*i,e.x*i+e.y*n)}static RotWith(e,t,i){const n=e.x-t.x,o=e.y-t.y,r=Math.sin(i),a=Math.cos(i);return new s(t.x+(n*a-o*r),t.y+(n*r+o*a))}static NearestPointOnLineThroughPoint(e,t,i){return s.Mul(t,s.Sub(i,e).pry(t)).add(e)}static NearestPointOnLineSegment(e,t,i,n=!0){const o=s.Tan(t,e),r=s.Add(e,s.Mul(o,s.Sub(i,e).pry(o)));if(n){if(r.x<Math.min(e.x,t.x))return s.Cast(e.x<t.x?e:t);if(r.x>Math.max(e.x,t.x))return s.Cast(e.x>t.x?e:t);if(r.y<Math.min(e.y,t.y))return s.Cast(e.y<t.y?e:t);if(r.y>Math.max(e.y,t.y))return s.Cast(e.y>t.y?e:t)}return r}static DistanceToLineThroughPoint(e,t,i){return s.Dist(i,s.NearestPointOnLineThroughPoint(e,t,i))}static DistanceToLineSegment(e,t,i,n=!0){return s.Dist(i,s.NearestPointOnLineSegment(e,t,i,n))}static Snap(e,t=1){return new s(Math.round(e.x/t)*t,Math.round(e.y/t)*t)}static Cast(e){return e instanceof s?e:s.From(e)}static Slope(e,t){return e.x===t.y?NaN:(e.y-t.y)/(e.x-t.x)}static Angle(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}static Lrp(e,t,i){return s.Sub(t,e).mul(i).add(e)}static Med(e,t){return new s((e.x+t.x)/2,(e.y+t.y)/2)}static Equals(e,t){return Math.abs(e.x-t.x)<1e-4&&Math.abs(e.y-t.y)<1e-4}static EqualsXY(e,t,i){return e.x===t&&e.y===i}static Clockwise(e,t,i){return(i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y)<0}static Rescale(e,t){const i=s.Len(e);return new s(t*e.x/i,t*e.y/i)}static ScaleWithOrigin(e,t,i){return s.Sub(e,i).mul(t).add(i)}static ToFixed(e,t=2){return new s(+e.x.toFixed(t),+e.y.toFixed(t),+e.z.toFixed(t))}static Nudge(e,t,i){return s.Add(e,s.Tan(t,e).mul(i))}static ToString(e){return`${e.x}, ${e.y}`}static ToAngle(e){let t=Math.atan2(e.y,e.x);return t<0&&(t+=2*Math.PI),t}static ToArray(e){return[e.x,e.y,e.z]}static ToJson(e){const{x:t,y:i,z:n}=e;return{x:t,y:i,z:n}}static Average(e){const t=e.length,i=new s(0,0);for(let n=0;n<t;n++)i.add(e[n]);return i.div(t)}static Clamp(e,t,i){return new s(Math.min(Math.max(e.x,t),i??e.x),Math.min(Math.max(e.y,t),i??e.y))}static PointsBetween(e,t,i=6){const r=[];for(let a=0;a<i;a++){const l=n.easeInQuad(a/(i-1)),c=s.Lrp(e,t,l);c.z=Math.min(1,.5+.65*Math.abs(.5-o(l))),r.push(c)}return r}static SnapToGrid(e,t=8){return new s(Math.round(e.x/t)*t,Math.round(e.y/t)*t)}}const o=e=>e<.5?2*e*e:(4-2*e)*e-1,r=Math.PI,a=r/2,l=2*r,c=Math.PI/180,d=Math.sin;function u(e,t,i){return Math.max(t,void 0!==i?Math.min(e,i):e)}function h(e,t=1e10){return e?Math.round(e*t)/t:0}function p(e,t,i=1e-6){return Math.abs(e-t)<=i}function g(e,t){const i=Math.pow(e-t,2)/Math.pow(e+t,2);return r*(e+t)*(1+3*i/(10+Math.sqrt(4-3*i)))}function I(e){return(e%=l)<0?e+=l:0===e&&(e=0),e}function m(e,t){const i=(t-e)%l;return 2*i%l-i}function y(e,t){return l-m(e,t)}function b(e,t,i){return e+m(e,t)*i}function f(e,t){return m(e,t)}function C(e){return(l+e)%l}function w(e,t){const i=l/t;let n=Math.floor((C(e)+i/2)/i)*i%l;return n<r&&(n+=l),n>r&&(n-=l),n}function M(e,t){return e===t||p(e%(Math.PI/2)-t%(Math.PI/2),0)}function A(e){return e*r/180}function x(e){return 180*e/r}function S(e,t,i,n){const o=function(e,t,i){return f(s.Angle(e,t),s.Angle(e,i))}(e,i,n);return t*l*(o/l)}function v(e,t,i,n){return new s(e+i*Math.cos(n),t+i*Math.sin(n))}function L(e,t,i){const n=e/2,o=t/2,r=[];for(let c=0;c<i;c++){const e=c*(l/i)-a;r.push(new s(n+n*Math.cos(e),o+o*Math.sin(e)))}return r}function j(e,t,i,n){return e<n&&i<t}function N(e,t,i,n){const s=Math.max(e,i),o=Math.min(t,n);return s<=o?[s,o]:null}const D=(e,t,i)=>{const n=l/e/2,s=2*Math.floor(e/4),o=2*e-s,r=2*Math.floor(e/2),c=Math.cos(s*n-a)*t/2,d=Math.cos(o*n-a)*t/2,u=Math.sin(0*n-a)*i/2,h=Math.sin(r*n-a)*i/2;return new z(0,0,c-d,h-u)};function Z(e,t,i){return(t.x-e.x)*(i.y-e.y)-(i.x-e.x)*(t.y-e.y)}function E(e,t){let i,n,s=0;for(let o=0;o<t.length;o++)i=t[o],n=t[(o+1)%t.length],i.y<=e.y?n.y>e.y&&Z(i,n,e)>0&&(s+=1):n.y<=e.y&&Z(i,n,e)<0&&(s-=1);return 0!==s}function k(e,t,i=8){const n=t.length;for(let o=1;o<n;o++){const n=t[o-1],r=t[o];if(s.DistanceToLineSegment(n,r,e)<i)return!0}return!1}function T(e){return+e.toFixed(4)}class z{constructor(e=0,t=0,i=0,n=0){this.x=e,this.y=t,this.w=i,this.h=n}x=0;y=0;w=0;h=0;get point(){return new s(this.x,this.y)}set point(e){this.x=e.x,this.y=e.y}get minX(){return this.x}set minX(e){this.x=e}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(e){this.y=e}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(e){this.w=e}get height(){return this.h}set height(e){this.h=e}get aspectRatio(){return this.width/this.height}get center(){return new s(this.midX,this.midY)}set center(e){this.minX=e.x-this.width/2,this.minY=e.y-this.height/2}get corners(){return[new s(this.minX,this.minY),new s(this.maxX,this.minY),new s(this.maxX,this.maxY),new s(this.minX,this.maxY)]}get snapPoints(){return[new s(this.minX,this.minY),new s(this.maxX,this.minY),new s(this.maxX,this.maxY),new s(this.minX,this.maxY),this.center]}get sides(){const{corners:e}=this;return[[e[0],e[1]],[e[1],e[2]],[e[2],e[3]],[e[3],e[0]]]}get size(){return new s(this.w,this.h)}toFixed(){return this.x=h(this.x),this.y=h(this.y),this.w=h(this.w),this.h=h(this.h),this}setTo(e){return this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this}set(e=0,t=0,i=0,n=0){return this.x=e,this.y=t,this.w=i,this.h=n,this}expand(e){const t=Math.min(this.minX,e.minX),i=Math.min(this.minY,e.minY),n=Math.max(this.maxX,e.maxX),s=Math.max(this.maxY,e.maxY);return this.x=t,this.y=i,this.w=n-t,this.h=s-i,this}expandBy(e){return this.x-=e,this.y-=e,this.w+=2*e,this.h+=2*e,this}scale(e){return this.x/=e,this.y/=e,this.w/=e,this.h/=e,this}clone(){const{x:e,y:t,w:i,h:n}=this;return new z(e,t,i,n)}translate(e){return this.x+=e.x,this.y+=e.y,this}snapToGrid(e){const t=Math.round(this.minX/e)*e,i=Math.round(this.minY/e)*e,n=Math.round(this.maxX/e)*e,s=Math.round(this.maxY/e)*e;this.minX=t,this.minY=i,this.width=Math.max(1,n-t),this.height=Math.max(1,s-i)}collides(e){return z.Collides(this,e)}contains(e){return z.Contains(this,e)}includes(e){return z.Includes(this,e)}containsPoint(e,t){return z.ContainsPoint(this,e,t)}getHandlePoint(e){switch(e){case"top_left":return new s(this.minX,this.minY);case"top_right":return new s(this.maxX,this.minY);case"bottom_left":return new s(this.minX,this.maxY);case"bottom_right":return new s(this.maxX,this.maxY);case"top":return new s(this.midX,this.minY);case"right":return new s(this.maxX,this.midY);case"bottom":return new s(this.midX,this.maxY);case"left":return new s(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(e,t,i){const{minX:n,minY:s,maxX:o,maxY:r}=this;let{minX:a,minY:l,maxX:c,maxY:d}=this;switch(e){case"left":case"top_left":case"bottom_left":a+=t;break;case"right":case"top_right":case"bottom_right":c+=t}switch(e){case"top":case"top_left":case"top_right":l+=i;break;case"bottom":case"bottom_left":case"bottom_right":d+=i}if((c-a)/(o-n)<0){const e=c;c=a,a=e}if((d-l)/(r-s)<0){const e=d;d=l,l=e}this.minX=a,this.minY=l,this.width=Math.abs(c-a),this.height=Math.abs(d-l)}static From(e){return new z(e.x,e.y,e.w,e.h)}static FromPoints(e){if(0===e.length)return new z;let t,i=1/0,n=1/0,s=-1/0,o=-1/0;for(let r=0,a=e.length;r<a;r++)t=e[r],i=Math.min(t.x,i),n=Math.min(t.y,n),s=Math.max(t.x,s),o=Math.max(t.y,o);return new z(i,n,s-i,o-n)}static Expand(e,t){const i=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY),s=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return new z(i,n,s-i,o-n)}static ExpandBy(e,t){return new z(e.minX-t,e.minY-t,e.width+2*t,e.height+2*t)}static Collides=(e,t)=>!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY);static Contains=(e,t)=>e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX;static Includes=(e,t)=>z.Collides(e,t)||z.Contains(e,t);static ContainsPoint=(e,t,i)=>"number"==typeof t?!(t<e.minX||i<e.minY||t>e.maxX||i>e.maxY):!(t.x<e.minX||t.y<e.minY||t.x>e.maxX||t.y>e.maxY);static Common=e=>{let t=1/0,i=1/0,n=-1/0,s=-1/0;for(let o=0;o<e.length;o++){const r=e[o];t=Math.min(t,r.minX),i=Math.min(i,r.minY),n=Math.max(n,r.maxX),s=Math.max(s,r.maxY)}return new z(t,i,n-t,s-i)};static Sides=(e,t=0)=>{const{corners:i}=e;return[[i[0],i[1]],[i[1],i[2]],[i[2],i[3]],[i[3],i[0]]]};static Resize(e,t,i,n,s=!1){const{minX:o,minY:r,maxX:a,maxY:l}=e;let{minX:c,minY:d,maxX:u,maxY:h}=e;switch(t){case"left":case"top_left":case"bottom_left":c+=i;break;case"right":case"top_right":case"bottom_right":u+=i}switch(t){case"top":case"top_left":case"top_right":d+=n;break;case"bottom":case"bottom_left":case"bottom_right":h+=n}const p=(u-c)/(a-o),g=(h-d)/(l-r),I=p<0,m=g<0;if(s){const e=(a-o)/(l-r),i=Math.abs(u-c),n=Math.abs(h-d),s=i*(g<0?1:-1)*(1/e),I=n*(p<0?1:-1)*e,m=e<i/n;switch(t){case"top_left":m?d=h+s:c=u+I;break;case"top_right":m?d=h+s:u=c-I;break;case"bottom_right":m?h=d-s:u=c-I;break;case"bottom_left":m?h=d-s:c=u+I;break;case"bottom":case"top":{const t=(c+u)/2,i=n*e;c=t-i/2,u=t+i/2;break}case"left":case"right":{const t=(d+h)/2,n=i/e;d=t-n/2,h=t+n/2;break}}}if(I){const e=u;u=c,c=e}if(m){const e=h;h=d,d=e}const y=new z(c,d,Math.abs(u-c),Math.abs(h-d));return{box:y,scaleX:+(y.width/e.width*(p>0?1:-1)).toFixed(5),scaleY:+(y.height/e.height*(g>0?1:-1)).toFixed(5)}}equals(e){return z.Equals(this,e)}static Equals(e,t){return t.x===e.x&&t.y===e.y&&t.w===e.w&&t.h===e.h}}function W(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return e}}function Y(e){switch(e){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return e}}function P(e){return"top_left"===e||"top_right"===e||"bottom_right"===e||"bottom_left"===e}class G{constructor(e){this._values=e}_values;_computed={};get values(){return this._values}set values(e){this._values=e,this._computed={}}get length(){if(void 0!==this._computed.length)return this._computed.length;const{lut:e}=this;let t=e[0],i=0;for(let n=1;n<e.length;n++){const s=e[n];i+=t.dist(s),t=s}return this._computed.length=i,i}get bounds(){if(void 0!==this._computed.bounds)return this._computed.bounds;let e=1/0,t=1/0,i=-1/0,n=-1/0;const{lut:s}=this;for(const r of s)e=Math.min(r.x,e),t=Math.min(r.y,t),i=Math.max(r.x,i),n=Math.max(r.y,n);const o=new z(e,t,i-e,n-t);return this._computed.bounds=o,o}get lut(){if(this._computed.lut)return this._computed.lut;const{p:e}=this.values,t=[];for(let i=0;i<e+1;i++)t.push(this.getPoint(i/e));return this._computed.lut=t,t}get midPoint(){if(this._computed.midPoint)return this._computed.midPoint;const e=this.getPoint(.5);return this._computed.midPoint=e,e}get path(){if(this._computed.path)return this._computed.path;const e=this.getPath();return this._computed.path=e,e}getPointAtLength(e){const t=Math.max(0,Math.min(1,e/this.length));return this.getPoint(t)}getNormal(e){return this.getPoint(e-.0025).tan(this.getPoint(e+.0025)).per().uni().toFixed()}getNormalAtLength(e){return this.getNormal(e/this.length)}getClosestPointTo(e){const{lut:t}=this;let i=0,n=t[0],o=t[0].dist(e);for(let a=1;a<t.length;a++){const r=s.Dist(t[a],e);r<o&&(o=r,n=t[a],i=a/t.length)}const r=1/this.values.p;for(let a=Math.max(0,i-r/2);a<Math.min(1,i+r/2);a+=r/10){const t=this.getPoint(a),i=s.Dist(t,e);i<o&&(o=i,n=t)}return{point:n,distance:o}}update(e){this._computed={},this.values={...this.values,...e}}}class O extends G{constructor(e,t,i,n,s=25){super({a:e,b:t,c:i,d:n,p:s})}[Symbol.iterator]=function*(){const{a:e,b:t,c:i,d:n}=this.values;yield*[e,t,i,n]};getPath(e=!0){const{a:t,b:i,c:n,d:o}=this.values;return s.Equals(t,o)?"":`${e?`M${t.x.toFixed(2)},${t.y.toFixed(2)}C`:""}${i.x.toFixed(2)},${i.y.toFixed(2)} ${n.x.toFixed(2)},${n.y.toFixed(2)} ${o.x.toFixed(2)},${o.y.toFixed(2)}`}getPoint(e){const{a:t,b:i,c:n,d:o}=this.values;return new s((1-e)*(1-e)*(1-e)*t.x+(1-e)*(1-e)*3*e*i.x+3*(1-e)*(e*e)*n.x+e*e*e*o.x,(1-e)*(1-e)*(1-e)*t.y+(1-e)*(1-e)*3*e*i.y+3*(1-e)*(e*e)*n.y+e*e*e*o.y)}getX(e){const{a:t,b:i,c:n,d:s}=this.values;return(1-e)*(1-e)*(1-e)*t.x+(1-e)*(1-e)*3*e*i.x+3*(1-e)*(e*e)*n.x+e*e*e*s.x}getY(e){const{a:t,b:i,c:n,d:s}=this.values;return(1-e)*(1-e)*(1-e)*t.y+(1-e)*(1-e)*3*e*i.y+3*(1-e)*(e*e)*n.y+e*e*e*s.y}}class R{constructor(e,t=50,i=1){this.points=e,this.p=t,this.k=i}computed={};get length(){if(void 0!==this.computed.length)return this.computed.length;const{segments:e}=this,t=e.reduce(((e,t)=>e+t.length),0);return this.computed.length=t,t}get bounds(){if(void 0!==this.computed.bounds)return this.computed.bounds;const{segments:e}=this,t=z.Common(e.map((e=>e.bounds)));return this.computed.bounds=t,t}get head(){const{points:e}=this;return e[0]}get tail(){const{points:e}=this;return e[e.length-1]}get path(){if(void 0!==this.computed.path)return this.computed.path;const e=this.segments.map((e=>e.path)).filter((e=>null!=e&&""!==e)).join(" ");return this.computed.path=e,e}addPoint(e){const{points:t,k:i,p:n}=this;return t.push(e),this.computed={},this.getSegmentsFromPoints(this.points,n,i),this}removePoint(e){const{points:t,k:i,p:n}=this,s="number"==typeof e?Math.floor(e):t.indexOf(e);return-1===s||(t.splice(s,1),this.computed={},this.getSegmentsFromPoints(this.points,n,i)),this}getPointAtLength(e){const{segments:t}=this;let i=e;if(e<=0)return t[0].getPoint(0);if(e>=this.length)return t[t.length-1].getPoint(1);for(let n=0;n<t.length;n++){const e=t[n],{length:s}=e;if(i<s)return e.getPoint(i/s);i-=e.length}return t[t.length-1].getPoint(1)}getPoint(e){return e<=0?this.segments[0].getPoint(0):e>=1?this.segments[this.segments.length-1].getPoint(1):this.getPointAtLength(e*this.length)}getNormal(e){const{length:t}=this;return this.getNormalAtLength(e*t)}getNormalAtLength(e){const{segments:t}=this;if(e<0)return new s(0,0);let i=e;for(const n of t){const e=n.length;if(i<=e)return n.getNormal(i/e);i-=e}return new s(0,0)}getClosestPointTo(e){const{head:t,segments:i}=this;let n=t,o=s.Dist(e,t);for(const s of i){const t=s.getClosestPointTo(e);t.distance<o&&(o=t.distance,n=t.point)}return{point:n,distance:o}}}class F extends R{constructor(e,t=1.2,i=20){super(e,t,i),this.segments=this.getSegmentsFromPoints(e,t,i)}segments;getSegmentsFromPoints(e,t=1.25,i=20){const n=e.length,o=n-2,r=[];for(let a=0;a<n-1;a++){const n=0===a?e[0]:e[a-1],l=e[a],c=e[a+1],d=a===o?c:e[a+2];r.push(new O(l,0===a?n:new s(l.x+(c.x-n.x)/6*t,l.y+(c.y-n.y)/6*t),a===o?c:new s(c.x-(d.x-l.x)/6*t,c.y-(d.y-l.y)/6*t),c,i))}return r}static FromPoints(e){return new F(e)}}class B extends G{constructor(e,t,i=2){super({a:e,b:t,p:i}),this.a=e,this.b=t,this.values.p=Math.max(10,Math.ceil(this.length/20))}get length(){return s.Dist(this.a,this.b)}get tangent(){return s.Tan(this.a,this.b)}get angle(){return s.Angle(this.a,this.b)}get bounds(){return z.FromPoints([this.a,this.b])}getX(e){const{a:t,b:i}=this.values;return t.x+(i.x-t.x)*e}getY(e){const{a:t,b:i}=this.values;return t.y+(i.y-t.y)*e}getPoint(e){const{a:t,b:i}=this.values;return s.Lrp(t,i,e)}getPath(e=!0){const{a:t,b:i}=this.values;return s.Equals(t,i)?"":e?`M${t.x},${t.y}L${i.x},${i.y}`:`${i.x},${i.y}`}getNormal(){const{a:e,b:t}=this.values;return s.Sub(e,t).per().uni().toFixed()}getClosestPointTo(e){const{a:t,b:i}=this.values,n=s.NearestPointOnLineSegment(t,i,e),o=n.dist(e);return{point:n,distance:o}}static Length(e){return s.Dist(e.a,e.b)}static Tangent(e){return s.Tan(e.a,e.b)}static Angle(e){return s.Angle(e.a,e.b)}}class J{constructor(e,t,i,n,s,o){this.a=e,this.b=t,this.c=i,this.d=n,this.e=s,this.f=o}a=1;b=0;c=0;d=1;e=0;f=0;equals(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(e){const t=e,{a:i,b:n,c:s,d:o,e:r,f:a}=this;return this.a=i*t.a+s*t.b,this.c=i*t.c+s*t.d,this.e=i*t.e+s*t.f+r,this.b=n*t.a+o*t.b,this.d=n*t.c+o*t.d,this.f=n*t.e+o*t.f+a,this}rotate(e,t,i){return 0===e?this:void 0===t?this.multiply(J.Rotate(e)):this.translate(t,i).multiply(J.Rotate(e)).translate(-t,-i)}translate(e,t){return this.multiply(J.Translate(e,t))}scale(e,t){return this.multiply(J.Scale(e,t))}invert(){const{a:e,b:t,c:i,d:n,e:s,f:o}=this,r=e*n-t*i;return this.a=n/r,this.b=t/-r,this.c=i/-r,this.d=e/r,this.e=(n*s-i*o)/-r,this.f=(t*s-e*o)/r,this}applyToPoint(e){return J.applyToPoint(this,e)}applyToPoints(e){return J.applyToPoints(this,e)}decomposed(){return J.Decompose(this)}toCssString(){return J.toCssString(this)}setTo(e){return Object.assign(this,e),this}decompose(){return J.Decompose(this)}clone(){return new J(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new J(1,0,0,1,0,0)}static Translate(e,t){return new J(1,0,0,1,e,t)}static Rotate(e,t,i){if(0===e)return J.Identity();const n=Math.cos(e),s=Math.sin(e),o=new J(n,s,-s,n,0,0);return void 0===t?o:J.Compose(J.Translate(t,i),o,J.Translate(-t,-i))}static Scale=(e,t,i,n)=>{const s=new J(e,0,0,0,t,0);return void 0===i?s:J.Compose(J.Translate(i,n),s,J.Translate(-i,-n))};static Multiply(e,t){return{a:e.a*t.a+e.c*t.b,c:e.a*t.c+e.c*t.d,e:e.a*t.e+e.c*t.f+e.e,b:e.b*t.a+e.d*t.b,d:e.b*t.c+e.d*t.d,f:e.b*t.e+e.d*t.f+e.f}}static Inverse(e){const t=e.a*e.d-e.b*e.c;return{a:e.d/t,b:e.b/-t,c:e.c/-t,d:e.a/t,e:(e.d*e.e-e.c*e.f)/-t,f:(e.b*e.e-e.a*e.f)/t}}static Absolute(e){const t=e.a*e.d-e.b*e.c;return{a:e.d/t,b:e.b/-t,c:e.c/-t,d:e.a/t,e:(e.d*e.e-e.c*e.f)/t,f:(e.b*e.e-e.a*e.f)/-t}}static Compose(...e){const t=J.Identity();for(let i=0,n=e.length;i<n;i++)t.multiply(e[i]);return t}static Decompose(e){let t,i,n;if(0!==e.a||0!==e.c){const s=Math.hypot(e.a,e.c);t=s,i=(e.a*e.d-e.b*e.c)/s,n=Math.acos(e.a/s)*(e.c>0?-1:1)}else if(0!==e.b||0!==e.d){const s=Math.hypot(e.b,e.d);t=(e.a*e.d-e.b*e.c)/s,i=s,n=a+Math.acos(e.b/s)*(e.d>0?-1:1)}else t=0,i=0,n=0;return{x:e.e,y:e.f,scaleX:t,scaleY:i,rotation:C(n)}}static Smooth(e,t=1e10){return e.a=Math.round(e.a*t)/t,e.b=Math.round(e.b*t)/t,e.c=Math.round(e.c*t)/t,e.d=Math.round(e.d*t)/t,e.e=Math.round(e.e*t)/t,e.f=Math.round(e.f*t)/t,e}static toCssString(e){return`matrix(${T(e.a)}, ${T(e.b)}, ${T(e.c)}, ${T(e.d)}, ${T(e.e)}, ${T(e.f)})`}static applyToPoint(e,t){return new s(e.a*t.x+e.c*t.y+e.e,e.b*t.x+e.d*t.y+e.f,t.z)}static applyToXY(e,t,i){return[e.a*t+e.c*i+e.e,e.b*t+e.d*i+e.f]}static applyToPoints(e,t){return t.map((t=>new s(e.a*t.x+e.c*t.y+e.e,e.b*t.x+e.d*t.y+e.f,t.z)))}static applyToBounds(e,t){return new z(e.e+t.minX,e.f+t.minY,t.width,t.height)}static From(e){return new J(e.a,e.b,e.c,e.d,e.e,e.f)}}class H extends R{constructor(e,t=1.2,i=20){super(e,t,i),this.segments=this.getSegmentsFromPoints(e,i)}segments;getSegmentsFromPoints(e,t=50){const i=[];for(let n=0;n<e.length-1;n++)i.push(new B(e[n],e[n+1],t));return i}static FromPoints(e){return new H(e)}}const{PI:X}=Math,V=X+1e-4;function _(e,t={}){const{size:i=16,smoothing:n=.5,start:o={},end:r={},last:a=!1}=t,{cap:l=!0}=o,{cap:c=!0}=r;if(0===e.length||i<=0)return[];const d=e[0],u=e[e.length-1],h=u.runningLength,p=!1===o.taper?0:!0===o.taper?Math.max(i,h):o.taper,g=!1===r.taper?0:!0===r.taper?Math.max(i,h):r.taper,I=Math.pow(i*n,2),m=[],y=[];let b,f=e[0].vector,C=e[0].point,w=C,M=C,A=w,x=!1;for(let D=0;D<e.length;D++){b=e[D];const{point:t,vector:i}=e[D],n=b.vector.dpr(f),o=(D<e.length-1?e[D+1]:e[D]).vector,r=D<e.length-1?o.dpr(b.vector):1,a=null!==r&&r<.2;if(n<0&&!x||a){if(r>-.62&&h-b.runningLength>b.radius){const e=f.clone().mul(b.radius);f.clone().cpr(o)<0?(M=s.Add(t,e),A=s.Sub(t,e)):(M=s.Sub(t,e),A=s.Add(t,e)),m.push(M),y.push(A)}else{const e=f.clone().mul(b.radius).per(),t=s.Sub(b.input,e);for(let i=1/13,n=0;n<1;n+=i)M=s.RotWith(t,b.input,V*n),m.push(M),A=s.RotWith(t,b.input,V+V*-n),y.push(A)}C=M,w=A,a&&(x=!0);continue}if(x=!1,b===d||b===u){const e=s.Per(i).mul(b.radius);m.push(s.Sub(t,e)),y.push(s.Add(t,e));continue}const l=s.Lrp(o,i,r).per().mul(b.radius);M=s.Sub(t,l),(D<=1||s.Dist2(C,M)>I)&&(m.push(M),C=M),A=s.Add(t,l),(D<=1||s.Dist2(w,A)>I)&&(y.push(A),w=A),f=i}const S=d.point,v=e.length>1?e[e.length-1].point:s.AddXY(d.point,1,1);if(1===e.length&&(!p&&!g||a)){const e=s.Add(S,s.Sub(S,v).uni().per().mul(-d.radius)),t=[];for(let i=1/13,n=i;n<=1;n+=i)t.push(s.RotWith(e,S,2*V*n));return t}const L=[];if(p||g&&1===e.length);else if(l)for(let D=1/8,Z=D;Z<=1;Z+=D){const e=s.RotWith(y[0],S,V*Z);L.push(e)}else{const e=s.Sub(m[0],y[0]),t=s.Mul(e,.5),i=s.Mul(e,.51);L.push(s.Sub(S,t),s.Sub(S,i),s.Add(S,i),s.Add(S,t))}const j=[],N=u.vector.clone().per().neg();if(g||p&&1===e.length)j.push(v);else if(c){const e=s.Add(v,s.Mul(N,u.radius));for(let t=1/29,i=t;i<1;i+=t)j.push(s.RotWith(e,v,3*V*i))}else j.push(s.Add(v,s.Mul(N,u.radius)),s.Add(v,s.Mul(N,.99*u.radius)),s.Sub(v,s.Mul(N,.99*u.radius)),s.Sub(v,s.Mul(N,u.radius)));return m.concat(j,y.reverse(),L)}const U=.025,K=.01;function Q(e,t={}){const{streamline:i=.5,size:n=16,simulatePressure:o=!1}=t;if(0===e.length)return[];const r=.15+.85*(1-i);let a=e.map(s.From),l=0;if(!o){let e=a[0];for(;e&&!(e.z>=U);)a.shift(),e=a[0]}if(!o){let e=a[a.length-1];for(;e&&!(e.z>=K);)a.pop(),e=a[a.length-1]}if(0===a.length)return[{point:s.From(e[0]),input:s.From(e[0]),pressure:o?.5:.15,vector:new s(1,1),distance:0,runningLength:0,radius:1}];let c=a[1];for(;c&&!(s.Dist(c,a[0])>n/3);)a[0].z=Math.max(a[0].z,c.z),a.splice(1,1),c=a[1];const d=a.pop();for(c=a[a.length-1];c&&!(s.Dist(c,d)>n/3);)a.pop(),c=a[a.length-1],l++;a.push(d);const u=t.last||!t.simulatePressure||a.length>1&&s.Dist(a[a.length-1],a[a.length-2])<n||l>0;if(2===a.length&&t.simulatePressure){const e=a[1];a=a.slice(0,-1);for(let t=1;t<5;t++){const i=s.Lrp(a[0],e,t/4);i.z=(a[0].z+(e.z-a[0].z))*t/4,a.push(i)}}const h=[{point:a[0],input:a[0],pressure:o?.5:a[0].z,vector:new s(1,1),distance:0,runningLength:0,radius:1}];let p,g,I=0,m=h[0];u&&i>0&&a.push(a[a.length-1].clone());for(let y=1,b=a.length;y<b;y++)p=!r||t.last&&y===b-1?a[y].clone():a[y].clone().lrp(m.point,1-r),m.point.equals(p)||(g=s.Dist(p,m.point),I+=g,y<4&&I<n||(m={input:a[y],point:p,pressure:o?.5:a[y].z,vector:s.Sub(m.point,p).uni(),distance:g,runningLength:I,radius:1},h.push(m)));if(h[1]?.vector&&(h[0].vector=h[1].vector.clone()),I<1){const e=Math.max(.5,...h.map((e=>e.pressure)));h.forEach((t=>t.pressure=e))}return h}const{min:q}=Math,$=.275;function ee(e,t){const{size:i=16,thinning:s=.5,simulatePressure:o=!0,easing:r=(e=>e),start:a={},end:l={}}=t,{easing:c=n.easeOutQuad}=a,{easing:d=n.easeOutCubic}=l,u=e[e.length-1].runningLength;let h,p,g=e[0].pressure;if(!o&&u<i){const t=e.reduce(((e,t)=>Math.max(e,t.pressure)),.5);return e.forEach((e=>{e.pressure=t,e.radius=i*r(.5-s*(.5-e.pressure))})),e}{let t;for(let n=0,s=e.length;n<s&&(p=e[n],!(p.runningLength>5*i));n++){const e=q(1,p.distance/i);if(o){const i=q(1,1-e);t=q(1,g+e*$*(i-g))}else t=q(1,g+.5*(p.pressure-g));g+=.5*(t-g)}for(let n=0;n<e.length;n++){if(p=e[n],s){let{pressure:e}=p;const t=q(1,p.distance/i);if(o){const i=q(1,1-t);e=q(1,g+t*$*(i-g))}else e=q(1,g+t*$*(e-g));p.radius=i*r(.5-s*(.5-e)),g=e}else p.radius=i/2;void 0===h&&(h=p.radius)}}const I=!1===a.taper?0:!0===a.taper?Math.max(i,u):a.taper,m=!1===l.taper?0:!0===l.taper?Math.max(i,u):l.taper;if(I||m)for(let n=0;n<e.length;n++){p=e[n];const{runningLength:t}=p,i=t<I?c(t/I):1,s=u-t<m?d((u-t)/m):1;p.radius=Math.max(.01,p.radius*Math.min(i,s))}return e}function te(e,t={}){return _(ee(Q(e,t),t),t)}function ie(e,t,i,n){const o=e.x-i.x,r=e.y-i.y,a=n.x-i.x,l=n.y-i.y,c=t.x-e.x,d=t.y-e.y,u=a*r-l*o,h=c*r-d*o,p=l*c-a*d;if(0===u||0===h)return null;if(0===p)return null;if(0!==p){const t=u/p,i=h/p;if(0<=t&&t<=1&&0<=i&&i<=1)return s.AddXY(e,t*c,t*d)}return null}function ne(e,t,i,n){const o=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y),r=2*((t.x-e.x)*(e.x-i.x)+(t.y-e.y)*(e.y-i.y)),a=r*r-4*o*(i.x*i.x+i.y*i.y+e.x*e.x+e.y*e.y-2*(i.x*e.x+i.y*e.y)-n*n);if(a<0)return null;if(0===a)return null;const l=Math.sqrt(a),c=(-r+l)/(2*o),d=(-r-l)/(2*o);if((c<0||c>1)&&(d<0||d>1))return null;const u=[];return 0<=c&&c<=1&&u.push(s.Lrp(e,t,c)),0<=d&&d<=1&&u.push(s.Lrp(e,t,d)),0===u.length?null:u}function se(e,t,i){const n=[];let s;for(let o=0,r=i.length-1;o<r;o++)s=ie(e,t,i[o],i[o+1]),s&&n.push(s);return 0===n.length?null:n}function oe(e,t,i){const n=[];let s;for(let o=1,r=i.length;o<r+1;o++)s=ie(e,t,i[o-1],i[o%i.length]),s&&n.push(s);return 0===n.length?null:n}function re(e,t,i,n){let o=i.x-e.x,r=i.y-e.y;const a=Math.sqrt(o*o+r*r),l=(a*a-n*n+t*t)/(2*a),c=Math.sqrt(t*t-l*l);return o/=a,r/=a,[new s(e.x+o*l-r*c,e.y+r*l+o*c),new s(e.x+o*l+r*c,e.y+r*l-o*c)]}function ae(e,t,i){const n=[];let s,o,r;for(let a=0,l=i.length;a<l;a++)s=i[a],o=i[(a+1)%i.length],r=ne(s,o,e,t),r&&n.push(...r);return 0===n.length?null:n}function le(e,t,i){const n=[];let s,o,r;for(let a=1,l=i.length;a<l;a++)s=i[a-1],o=i[a],r=ne(s,o,e,t),r&&n.push(...r);return 0===n.length?null:n}function ce(e,t,i){return(i.y-e.y)*(t.x-e.x)>(t.y-e.y)*(i.x-e.x)}function de(e,t,i,n){return ce(e,i,n)!==ce(t,i,n)&&ce(e,t,i)!==ce(e,t,n)}function ue(e,t){const i=[];let n,o,r,a;for(let s=0,l=e.length;s<l;s++)n=e[s],E(n,t)&&i.push(n);for(let s=0,l=t.length;s<l;s++)n=t[s],E(n,e)&&i.push(n);for(let s=0,l=e.length;s<l;s++){n=e[s],o=e[(s+1)%e.length];for(let e=0,s=t.length;e<s;e++){r=t[e],a=t[(e+1)%t.length];const s=ie(n,o,r,a);null!==s&&i.push(s)}}return 0===i.length?null:function(e){const t=s.Average(e);return e.sort(((e,i)=>s.Angle(t,e)-s.Angle(t,i)))}(i)}function he(e,t){let i,n,s,o;for(let r=0,a=e.length;r<a;r++){i=e[r],n=e[(r+1)%a];for(let e=0,r=t.length;e<r;e++)if(s=t[e],o=t[(e+1)%r],de(i,n,s,o))return!0}return!1}},1991:(e,t,i)=>{"use strict";i.d(t,{Xz7:()=>n.Xz7,xVl:()=>ud,F7R:()=>n.F7R,iHI:()=>n.iHI,KjH:()=>n.KjH,wwX:()=>n.wwX,bKH:()=>n.bKH,luK:()=>n.luK,Anc:()=>n.Anc,gRN:()=>n.gRN,WqU:()=>n.WqU,p4C:()=>Fu,$5f:()=>Uo});i(27119),i(69884),i(19964),i(29490),i(37082);var n=i(47771),s=(i(65097),i(82941)),o=i(99241);const r=(e,t)=>t.some((t=>e instanceof t));let a,l;const c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap;let g={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return d.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return y(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function I(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(b(this),t),y(c.get(this))}:function(...t){return y(e.apply(b(this),t))}:function(t,...i){const n=e.call(b(this),t,...i);return u.set(n,t.sort?t.sort():[t]),y(n)}}function m(e){return"function"==typeof e?I(e):(e instanceof IDBTransaction&&function(e){if(d.has(e))return;const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),n()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)}));d.set(e,t)}(e),r(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,g):e)}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(y(e.result)),n()},o=()=>{i(e.error),n()};e.addEventListener("success",s),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),p.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=m(e);return t!==e&&(h.set(e,t),p.set(t,e)),t}const b=e=>p.get(e);const f=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],w=new Map;function M(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const i=t.replace(/FromIndex$/,""),n=t!==i,s=C.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!s&&!f.includes(i))return;const o=async function(e,...t){const o=this.transaction(e,s?"readwrite":"readonly");let r=o.store;return n&&(r=r.index(t.shift())),(await Promise.all([r[i](...t),s&&o.done]))[0]};return w.set(t,o),o}g=(e=>({...e,get:(t,i,n)=>M(t,i)||e.get(t,i,n),has:(t,i)=>!!M(t,i)||e.has(t,i)}))(g);const A="TLDRAW_TAB_ID_v2",x=globalThis.window;const S="TLDRAW_USER_DATA_v2",v=(0,o.cn)("globalUserData",JSON.parse(x?.localStorage.getItem(S)||"null")??n.bKH.create({}));(0,o.Ym)("set global user data",(()=>{x&&x.localStorage.setItem(S,JSON.stringify(v.value))}));const L="TLDRAW_DEFAULT_DOCUMENT_NAME_v2",j=x?.localStorage.getItem(L)??(0,n.ELf)();x?.localStorage.setItem(L,j);const N=x?.[A]??x?.sessionStorage[A]??n.KjH.createId();x&&(x[A]=N,x&&(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(x.navigator.platform)||x.navigator.userAgent.includes("Mac")&&"ontouchend"in document)?x.sessionStorage[A]=N:delete x.sessionStorage[A]),x?.addEventListener("beforeunload",(()=>{x.sessionStorage[A]=N}));const D="TLDRAW_DB_NAME_INDEX_v2";function Z(){const e=JSON.parse(x?.localStorage.getItem(D)||"[]")??[];return Array.isArray(e)?e:[]}"undefined"==typeof BroadcastChannel||BroadcastChannel;"undefined"!=typeof window&&(window.__tldraw__hardReset=async function({shouldReload:e=!0}={}){sessionStorage.clear(),await Promise.all(Z().map((e=>function(e,{blocked:t}={}){const i=indexedDB.deleteDatabase(e);return t&&i.addEventListener("blocked",(e=>t(e.oldVersion,e))),y(i).then((()=>{}))}(e)))),localStorage.clear(),e&&window.location.reload()});var E=i(67294),k=i.t(E,2);var T=i(85893),z=i(87462),W=i(73935);function Y(e,t,{checkForDefaultPrevented:i=!0}={}){return function(n){if(null==e||e(n),!1===i||!n.defaultPrevented)return null==t?void 0:t(n)}}function P(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function G(...e){return(0,E.useCallback)(P(...e),e)}function O(e,t=[]){let i=[];const n=()=>{const t=i.map((e=>(0,E.createContext)(e)));return function(i){const n=(null==i?void 0:i[e])||t;return(0,E.useMemo)((()=>({[`__scope${e}`]:{...i,[e]:n}})),[i,n])}};return n.scopeName=e,[function(t,n){const s=(0,E.createContext)(n),o=i.length;function r(t){const{scope:i,children:n,...r}=t,a=(null==i?void 0:i[e][o])||s,l=(0,E.useMemo)((()=>r),Object.values(r));return(0,E.createElement)(a.Provider,{value:l},n)}return i=[...i,n],r.displayName=t+"Provider",[r,function(i,r){const a=(null==r?void 0:r[e][o])||s,l=(0,E.useContext)(a);if(l)return l;if(void 0!==n)return n;throw new Error(`\`${i}\` must be used within \`${t}\``)}]},R(n,...t)]}function R(...e){const t=e[0];if(1===e.length)return t;const i=()=>{const i=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const n=i.reduce(((t,{useScope:i,scopeName:n})=>({...t,...i(e)[`__scope${n}`]})),{});return(0,E.useMemo)((()=>({[`__scope${t.scopeName}`]:n})),[n])}};return i.scopeName=t.scopeName,i}const F=(0,E.forwardRef)(((e,t)=>{const{children:i,...n}=e,s=E.Children.toArray(i),o=s.find(H);if(o){const e=o.props.children,i=s.map((t=>t===o?E.Children.count(e)>1?E.Children.only(null):(0,E.isValidElement)(e)?e.props.children:null:t));return(0,E.createElement)(B,(0,z.Z)({},n,{ref:t}),(0,E.isValidElement)(e)?(0,E.cloneElement)(e,void 0,i):null)}return(0,E.createElement)(B,(0,z.Z)({},n,{ref:t}),i)}));F.displayName="Slot";const B=(0,E.forwardRef)(((e,t)=>{const{children:i,...n}=e;return(0,E.isValidElement)(i)?(0,E.cloneElement)(i,{...X(n,i.props),ref:P(t,i.ref)}):E.Children.count(i)>1?E.Children.only(null):null}));B.displayName="SlotClone";const J=({children:e})=>(0,E.createElement)(E.Fragment,null,e);function H(e){return(0,E.isValidElement)(e)&&e.type===J}function X(e,t){const i={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?i[n]=(...e)=>{o(...e),s(...e)}:s&&(i[n]=s):"style"===n?i[n]={...s,...o}:"className"===n&&(i[n]=[s,o].filter(Boolean).join(" "))}return{...e,...i}}function V(e){const t=e+"CollectionProvider",[i,n]=O(t),[s,o]=i(t,{collectionRef:{current:null},itemMap:new Map}),r=e=>{const{scope:t,children:i}=e,n=E.useRef(null),o=E.useRef(new Map).current;return E.createElement(s,{scope:t,itemMap:o,collectionRef:n},i)},a=e+"CollectionSlot",l=E.forwardRef(((e,t)=>{const{scope:i,children:n}=e,s=G(t,o(a,i).collectionRef);return E.createElement(F,{ref:s},n)})),c=e+"CollectionItemSlot",d="data-radix-collection-item",u=E.forwardRef(((e,t)=>{const{scope:i,children:n,...s}=e,r=E.useRef(null),a=G(t,r),l=o(c,i);return E.useEffect((()=>(l.itemMap.set(r,{ref:r,...s}),()=>{l.itemMap.delete(r)}))),E.createElement(F,{[d]:"",ref:a},n)}));return[{Provider:r,Slot:l,ItemSlot:u},function(t){const i=o(e+"CollectionConsumer",t),n=E.useCallback((()=>{const e=i.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`)),n=Array.from(i.itemMap.values()).sort(((e,i)=>t.indexOf(e.ref.current)-t.indexOf(i.ref.current)));return n}),[i.collectionRef,i.itemMap]);return n},n]}const _=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const i=(0,E.forwardRef)(((e,i)=>{const{asChild:n,...s}=e,o=n?F:t;return(0,E.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,E.createElement)(o,(0,z.Z)({},s,{ref:i}))}));return i.displayName=`Primitive.${t}`,{...e,[t]:i}}),{});function U(e,t){e&&(0,W.flushSync)((()=>e.dispatchEvent(t)))}function K(e){const t=(0,E.useRef)(e);return(0,E.useEffect)((()=>{t.current=e})),(0,E.useMemo)((()=>(...e)=>{var i;return null===(i=t.current)||void 0===i?void 0:i.call(t,...e)}),[])}const Q="dismissableLayer.update",q="dismissableLayer.pointerDownOutside",$="dismissableLayer.focusOutside";let ee;const te=(0,E.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ie=(0,E.forwardRef)(((e,t)=>{var i;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:r,onInteractOutside:a,onDismiss:l,...c}=e,d=(0,E.useContext)(te),[u,h]=(0,E.useState)(null),p=null!==(i=null==u?void 0:u.ownerDocument)&&void 0!==i?i:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=(0,E.useState)({}),I=G(t,(e=>h(e))),m=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(y),f=u?m.indexOf(u):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,w=f>=b,M=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const i=K(e),n=(0,E.useRef)(!1),s=(0,E.useRef)((()=>{}));return(0,E.useEffect)((()=>{const e=e=>{if(e.target&&!n.current){const o={originalEvent:e};function r(){oe(q,i,o,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}n.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}}),[t,i]),{onPointerDownCapture:()=>n.current=!0}}((e=>{const t=e.target,i=[...d.branches].some((e=>e.contains(t)));w&&!i&&(null==o||o(e),null==a||a(e),e.defaultPrevented||null==l||l())}),p),A=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const i=K(e),n=(0,E.useRef)(!1);return(0,E.useEffect)((()=>{const e=e=>{if(e.target&&!n.current){oe($,i,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,i]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((e=>{const t=e.target;[...d.branches].some((e=>e.contains(t)))||(null==r||r(e),null==a||a(e),e.defaultPrevented||null==l||l())}),p);return function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const i=K(e);(0,E.useEffect)((()=>{const e=e=>{"Escape"===e.key&&i(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}),[i,t])}((e=>{f===d.layers.size-1&&(null==s||s(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),p),(0,E.useEffect)((()=>{if(u)return n&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(ee=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),se(),()=>{n&&1===d.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=ee)}}),[u,p,n,d]),(0,E.useEffect)((()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),se())}),[u,d]),(0,E.useEffect)((()=>{const e=()=>g({});return document.addEventListener(Q,e),()=>document.removeEventListener(Q,e)}),[]),(0,E.createElement)(_.div,(0,z.Z)({},c,{ref:I,style:{pointerEvents:C?w?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,M.onPointerDownCapture)}))})),ne=(0,E.forwardRef)(((e,t)=>{const i=(0,E.useContext)(te),n=(0,E.useRef)(null),s=G(t,n);return(0,E.useEffect)((()=>{const e=n.current;if(e)return i.branches.add(e),()=>{i.branches.delete(e)}}),[i.branches]),(0,E.createElement)(_.div,(0,z.Z)({},e,{ref:s}))}));function se(){const e=new CustomEvent(Q);document.dispatchEvent(e)}function oe(e,t,i,{discrete:n}){const s=i.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});t&&s.addEventListener(e,t,{once:!0}),n?U(s,o):s.dispatchEvent(o)}const re=ie,ae=ne,le=(0,E.forwardRef)(((e,t)=>{var i;const{container:n=(null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body),...s}=e;return n?W.createPortal((0,E.createElement)(_.div,(0,z.Z)({},s,{ref:t})),n):null})),ce=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?E.useLayoutEffect:()=>{};const de=e=>{const{present:t,children:i}=e,n=function(e){const[t,i]=(0,E.useState)(),n=(0,E.useRef)({}),s=(0,E.useRef)(e),o=(0,E.useRef)("none"),r=e?"mounted":"unmounted",[a,l]=function(e,t){return(0,E.useReducer)(((e,i)=>{const n=t[e][i];return null!=n?n:e}),e)}(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,E.useEffect)((()=>{const e=ue(n.current);o.current="mounted"===a?e:"none"}),[a]),ce((()=>{const t=n.current,i=s.current;if(i!==e){const n=o.current,r=ue(t);if(e)l("MOUNT");else if("none"===r||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(i&&n!==r?"ANIMATION_OUT":"UNMOUNT")}s.current=e}}),[e,l]),ce((()=>{if(t){const e=e=>{const i=ue(n.current).includes(e.animationName);e.target===t&&i&&(0,W.flushSync)((()=>l("ANIMATION_END")))},i=e=>{e.target===t&&(o.current=ue(n.current))};return t.addEventListener("animationstart",i),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",i),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:(0,E.useCallback)((e=>{e&&(n.current=getComputedStyle(e)),i(e)}),[])}}(t),s="function"==typeof i?i({present:n.isPresent}):E.Children.only(i),o=G(n.ref,s.ref);return"function"==typeof i||n.isPresent?(0,E.cloneElement)(s,{ref:o}):null};function ue(e){return(null==e?void 0:e.animationName)||"none"}function he({prop:e,defaultProp:t,onChange:i=(()=>{})}){const[n,s]=function({defaultProp:e,onChange:t}){const i=(0,E.useState)(e),[n]=i,s=(0,E.useRef)(n),o=K(t);return(0,E.useEffect)((()=>{s.current!==n&&(o(n),s.current=n)}),[n,s,o]),i}({defaultProp:t,onChange:i}),o=void 0!==e,r=o?e:n,a=K(i);return[r,(0,E.useCallback)((t=>{if(o){const i="function"==typeof t?t(e):t;i!==e&&a(i)}else s(t)}),[o,e,s,a])]}de.displayName="Presence";const pe=(0,E.forwardRef)(((e,t)=>(0,E.createElement)(_.span,(0,z.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})))),ge="ToastProvider",[Ie,me,ye]=V("Toast"),[be,fe]=O("Toast",[ye]),[Ce,we]=be(ge),Me=e=>{const{__scopeToast:t,label:i="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:r}=e,[a,l]=(0,E.useState)(null),[c,d]=(0,E.useState)(0),u=(0,E.useRef)(!1),h=(0,E.useRef)(!1);return(0,E.createElement)(Ie.Provider,{scope:t},(0,E.createElement)(Ce,{scope:t,label:i,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:(0,E.useCallback)((()=>d((e=>e+1))),[]),onToastRemove:(0,E.useCallback)((()=>d((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h},r))};Me.propTypes={label(e){if(e.label&&"string"==typeof e.label&&!e.label.trim()){return new Error(`Invalid prop \`label\` supplied to \`${ge}\`. Expected non-empty \`string\`.`)}return null}};const Ae="ToastViewport",xe=["F8"],Se="toast.viewportPause",ve="toast.viewportResume",Le=(0,E.forwardRef)(((e,t)=>{const{__scopeToast:i,hotkey:n=xe,label:s="Notifications ({hotkey})",...o}=e,r=we(Ae,i),a=me(i),l=(0,E.useRef)(null),c=(0,E.useRef)(null),d=(0,E.useRef)(null),u=(0,E.useRef)(null),h=G(t,u,r.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=r.toastCount>0;(0,E.useEffect)((()=>{const e=e=>{var t;n.every((t=>e[t]||e.code===t))&&(null===(t=u.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[n]),(0,E.useEffect)((()=>{const e=l.current,t=u.current;if(g&&e&&t){const i=()=>{if(!r.isClosePausedRef.current){const e=new CustomEvent(Se);t.dispatchEvent(e),r.isClosePausedRef.current=!0}},n=()=>{if(r.isClosePausedRef.current){const e=new CustomEvent(ve);t.dispatchEvent(e),r.isClosePausedRef.current=!1}},s=t=>{!e.contains(t.relatedTarget)&&n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",i),e.addEventListener("focusout",s),e.addEventListener("pointermove",i),e.addEventListener("pointerleave",o),window.addEventListener("blur",i),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",i),e.removeEventListener("focusout",s),e.removeEventListener("pointermove",i),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",i),window.removeEventListener("focus",n)}}}),[g,r.isClosePausedRef]);const I=(0,E.useCallback)((({tabbingDirection:e})=>{const t=a().map((t=>{const i=t.ref.current,n=[i,...Xe(i)];return"forwards"===e?n:n.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[a]);return(0,E.useEffect)((()=>{const e=u.current;if(e){const t=t=>{const i=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!i){const i=document.activeElement,r=t.shiftKey;var n;if(t.target===e&&r)return void(null===(n=c.current)||void 0===n||n.focus());const a=I({tabbingDirection:r?"backwards":"forwards"}),l=a.findIndex((e=>e===i));var s,o;if(Ve(a.slice(l+1)))t.preventDefault();else r?null===(s=c.current)||void 0===s||s.focus():null===(o=d.current)||void 0===o||o.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[a,I]),(0,E.createElement)(ae,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"}},g&&(0,E.createElement)(Ne,{ref:c,onFocusFromOutsideViewport:()=>{Ve(I({tabbingDirection:"forwards"}))}}),(0,E.createElement)(Ie.Slot,{scope:i},(0,E.createElement)(_.ol,(0,z.Z)({tabIndex:-1},o,{ref:h}))),g&&(0,E.createElement)(Ne,{ref:d,onFocusFromOutsideViewport:()=>{Ve(I({tabbingDirection:"backwards"}))}}))})),je="ToastFocusProxy",Ne=(0,E.forwardRef)(((e,t)=>{const{__scopeToast:i,onFocusFromOutsideViewport:n,...s}=e,o=we(je,i);return(0,E.createElement)(pe,(0,z.Z)({"aria-hidden":!0,tabIndex:0},s,{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const i=e.relatedTarget;!(null!==(t=o.viewport)&&void 0!==t&&t.contains(i))&&n()}}))})),De="Toast",Ze=(0,E.forwardRef)(((e,t)=>{const{forceMount:i,open:n,defaultOpen:s,onOpenChange:o,...r}=e,[a=!0,l]=he({prop:n,defaultProp:s,onChange:o});return(0,E.createElement)(de,{present:i||a},(0,E.createElement)(Te,(0,z.Z)({open:a},r,{ref:t,onClose:()=>l(!1),onPause:K(e.onPause),onResume:K(e.onResume),onSwipeStart:Y(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:Y(e.onSwipeMove,(e=>{const{x:t,y:i}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${i}px`)})),onSwipeCancel:Y(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:Y(e.onSwipeEnd,(e=>{const{x:t,y:i}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${i}px`),l(!1)}))})))})),[Ee,ke]=be(De,{onClose(){}}),Te=(0,E.forwardRef)(((e,t)=>{const{__scopeToast:i,type:n="foreground",duration:s,open:o,onClose:r,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:p,...g}=e,I=we(De,i),[m,y]=(0,E.useState)(null),b=G(t,(e=>y(e))),f=(0,E.useRef)(null),C=(0,E.useRef)(null),w=s||I.duration,M=(0,E.useRef)(0),A=(0,E.useRef)(w),x=(0,E.useRef)(0),{onToastAdd:S,onToastRemove:v}=I,L=K((()=>{var e;(null==m?void 0:m.contains(document.activeElement))&&(null===(e=I.viewport)||void 0===e||e.focus()),r()})),j=(0,E.useCallback)((e=>{e&&e!==1/0&&(window.clearTimeout(x.current),M.current=(new Date).getTime(),x.current=window.setTimeout(L,e))}),[L]);(0,E.useEffect)((()=>{const e=I.viewport;if(e){const t=()=>{j(A.current),null==c||c()},i=()=>{const e=(new Date).getTime()-M.current;A.current=A.current-e,window.clearTimeout(x.current),null==l||l()};return e.addEventListener(Se,i),e.addEventListener(ve,t),()=>{e.removeEventListener(Se,i),e.removeEventListener(ve,t)}}}),[I.viewport,w,l,c,j]),(0,E.useEffect)((()=>{o&&!I.isClosePausedRef.current&&j(w)}),[o,w,I.isClosePausedRef,j]),(0,E.useEffect)((()=>(S(),()=>v())),[S,v]);const N=(0,E.useMemo)((()=>m?Be(m):null),[m]);return I.viewport?(0,E.createElement)(E.Fragment,null,N&&(0,E.createElement)(ze,{__scopeToast:i,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0},N),(0,E.createElement)(Ee,{scope:i,onClose:L},(0,W.createPortal)((0,E.createElement)(Ie.ItemSlot,{scope:i},(0,E.createElement)(re,{asChild:!0,onEscapeKeyDown:Y(a,(()=>{I.isFocusedToastEscapeKeyDownRef.current||L(),I.isFocusedToastEscapeKeyDownRef.current=!1}))},(0,E.createElement)(_.li,(0,z.Z)({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":I.swipeDirection},g,{ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,(e=>{"Escape"===e.key&&(null==a||a(e.nativeEvent),e.nativeEvent.defaultPrevented||(I.isFocusedToastEscapeKeyDownRef.current=!0,L()))})),onPointerDown:Y(e.onPointerDown,(e=>{0===e.button&&(f.current={x:e.clientX,y:e.clientY})})),onPointerMove:Y(e.onPointerMove,(e=>{if(!f.current)return;const t=e.clientX-f.current.x,i=e.clientY-f.current.y,n=Boolean(C.current),s=["left","right"].includes(I.swipeDirection),o=["left","up"].includes(I.swipeDirection)?Math.min:Math.max,r=s?o(0,t):0,a=s?0:o(0,i),l="touch"===e.pointerType?10:2,c={x:r,y:a},h={originalEvent:e,delta:c};n?(C.current=c,Je("toast.swipeMove",u,h,{discrete:!1})):He(c,I.swipeDirection,l)?(C.current=c,Je("toast.swipeStart",d,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(i)>l)&&(f.current=null)})),onPointerUp:Y(e.onPointerUp,(e=>{const t=C.current,i=e.target;if(i.hasPointerCapture(e.pointerId)&&i.releasePointerCapture(e.pointerId),C.current=null,f.current=null,t){const i=e.currentTarget,n={originalEvent:e,delta:t};He(t,I.swipeDirection,I.swipeThreshold)?Je("toast.swipeEnd",p,n,{discrete:!0}):Je("toast.swipeCancel",h,n,{discrete:!0}),i.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})))),I.viewport))):null}));Te.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){return new Error(`Invalid prop \`type\` supplied to \`${De}\`. Expected \`foreground | background\`.`)}return null}};const ze=e=>{const{__scopeToast:t,children:i,...n}=e,s=we(De,t),[o,r]=(0,E.useState)(!1),[a,l]=(0,E.useState)(!1);return function(e=(()=>{})){const t=K(e);ce((()=>{let e=0,i=0;return e=window.requestAnimationFrame((()=>i=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(i)}}),[t])}((()=>r(!0))),(0,E.useEffect)((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),a?null:(0,E.createElement)(le,{asChild:!0},(0,E.createElement)(pe,n,o&&(0,E.createElement)(E.Fragment,null,s.label," ",i)))},We=(0,E.forwardRef)(((e,t)=>{const{__scopeToast:i,...n}=e;return(0,E.createElement)(_.div,(0,z.Z)({},n,{ref:t}))})),Ye=(0,E.forwardRef)(((e,t)=>{const{__scopeToast:i,...n}=e;return(0,E.createElement)(_.div,(0,z.Z)({},n,{ref:t}))})),Pe="ToastAction",Ge=(0,E.forwardRef)(((e,t)=>{const{altText:i,...n}=e;return i?(0,E.createElement)(Fe,{altText:i,asChild:!0},(0,E.createElement)(Re,(0,z.Z)({},n,{ref:t}))):null}));Ge.propTypes={altText:e=>e.altText?null:new Error(`Missing prop \`altText\` expected on \`${Pe}\``)};const Oe="ToastClose",Re=(0,E.forwardRef)(((e,t)=>{const{__scopeToast:i,...n}=e,s=ke(Oe,i);return(0,E.createElement)(Fe,{asChild:!0},(0,E.createElement)(_.button,(0,z.Z)({type:"button"},n,{ref:t,onClick:Y(e.onClick,s.onClose)})))})),Fe=(0,E.forwardRef)(((e,t)=>{const{__scopeToast:i,altText:n,...s}=e;return(0,E.createElement)(_.div,(0,z.Z)({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},s,{ref:t}))}));function Be(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const i=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!i)if(n){const i=e.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Be(e))}})),t}function Je(e,t,i,{discrete:n}){const s=i.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});t&&s.addEventListener(e,t,{once:!0}),n?U(s,o):s.dispatchEvent(o)}const He=(e,t,i=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return"left"===t||"right"===t?o&&n>i:!o&&s>i};function Xe(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function Ve(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}const _e=Ze,Ue=We,Ke=Ye,Qe=Ge,qe=Re;var $e=i(94184),et=i(86256);const tt=(0,E.createContext)(void 0);function it(e){const t=(0,E.useContext)(tt);return e||t||"ltr"}let nt=0;function st(){(0,E.useEffect)((()=>{var e,t;const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=i[0])&&void 0!==e?e:ot()),document.body.insertAdjacentElement("beforeend",null!==(t=i[1])&&void 0!==t?t:ot()),nt++,()=>{1===nt&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),nt--}}),[])}function ot(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const rt="focusScope.autoFocusOnMount",at="focusScope.autoFocusOnUnmount",lt={bubbles:!1,cancelable:!0},ct=(0,E.forwardRef)(((e,t)=>{const{loop:i=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...r}=e,[a,l]=(0,E.useState)(null),c=K(s),d=K(o),u=(0,E.useRef)(null),h=G(t,(e=>l(e))),p=(0,E.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,E.useEffect)((()=>{if(n){function e(e){if(p.paused||!a)return;const t=e.target;a.contains(t)?u.current=t:pt(u.current,{select:!0})}function t(e){!p.paused&&a&&(a.contains(e.relatedTarget)||pt(u.current,{select:!0}))}return document.addEventListener("focusin",e),document.addEventListener("focusout",t),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[n,a,p.paused]),(0,E.useEffect)((()=>{if(a){gt.add(p);const t=document.activeElement;if(!a.contains(t)){const i=new CustomEvent(rt,lt);a.addEventListener(rt,c),a.dispatchEvent(i),i.defaultPrevented||(!function(e,{select:t=!1}={}){const i=document.activeElement;for(const n of e)if(pt(n,{select:t}),document.activeElement!==i)return}((e=dt(a),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&pt(a))}return()=>{a.removeEventListener(rt,c),setTimeout((()=>{const e=new CustomEvent(at,lt);a.addEventListener(at,d),a.dispatchEvent(e),e.defaultPrevented||pt(null!=t?t:document.body,{select:!0}),a.removeEventListener(at,d),gt.remove(p)}),0)}}var e}),[a,c,d,p]);const g=(0,E.useCallback)((e=>{if(!i&&!n)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[n,o]=function(e){const t=dt(e),i=ut(t,e),n=ut(t.reverse(),e);return[i,n]}(t);n&&o?e.shiftKey||s!==o?e.shiftKey&&s===n&&(e.preventDefault(),i&&pt(o,{select:!0})):(e.preventDefault(),i&&pt(n,{select:!0})):s===t&&e.preventDefault()}}),[i,n,p.paused]);return(0,E.createElement)(_.div,(0,z.Z)({tabIndex:-1},r,{ref:h,onKeyDown:g}))}));function dt(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function ut(e,t){for(const i of e)if(!ht(i,{upTo:t}))return i}function ht(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function pt(e,{select:t=!1}={}){if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const gt=function(){let e=[];return{add(t){const i=e[0];t!==i&&(null==i||i.pause()),e=It(e,t),e.unshift(t)},remove(t){var i;e=It(e,t),null===(i=e[0])||void 0===i||i.resume()}}}();function It(e,t){const i=[...e],n=i.indexOf(t);return-1!==n&&i.splice(n,1),i}const mt=k["useId".toString()]||(()=>{});let yt=0;function bt(e){const[t,i]=E.useState(mt());return ce((()=>{e||i((e=>null!=e?e:String(yt++)))}),[e]),e||(t?`radix-${t}`:"")}function ft(e){return e.split("-")[0]}function Ct(e){return e.split("-")[1]}function wt(e){return["top","bottom"].includes(ft(e))?"x":"y"}function Mt(e){return"y"===e?"height":"width"}function At(e,t,i){let{reference:n,floating:s}=e;const o=n.x+n.width/2-s.width/2,r=n.y+n.height/2-s.height/2,a=wt(t),l=Mt(a),c=n[l]/2-s[l]/2,d="x"===a;let u;switch(ft(t)){case"top":u={x:o,y:n.y-s.height};break;case"bottom":u={x:o,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:r};break;case"left":u={x:n.x-s.width,y:r};break;default:u={x:n.x,y:n.y}}switch(Ct(t)){case"start":u[a]-=c*(i&&d?-1:1);break;case"end":u[a]+=c*(i&&d?-1:1)}return u}function xt(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function St(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function vt(e,t){var i;void 0===t&&(t={});const{x:n,y:s,platform:o,rects:r,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=t,g=xt(p),I=a[h?"floating"===u?"reference":"floating":u],m=St(await o.getClippingRect({element:null==(i=await(null==o.isElement?void 0:o.isElement(I)))||i?I:I.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=St(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===u?{...r.floating,x:n,y:s}:r.reference,offsetParent:await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),strategy:l}):r[u]);return{top:m.top-y.top+g.top,bottom:y.bottom-m.bottom+g.bottom,left:m.left-y.left+g.left,right:y.right-m.right+g.right}}const Lt=Math.min,jt=Math.max;function Nt(e,t,i){return jt(e,Lt(t,i))}const Dt=e=>({name:"arrow",options:e,async fn(t){const{element:i,padding:n=0}=null!=e?e:{},{x:s,y:o,placement:r,rects:a,platform:l}=t;if(null==i)return{};const c=xt(n),d={x:s,y:o},u=wt(r),h=Ct(r),p=Mt(u),g=await l.getDimensions(i),I="y"===u?"top":"left",m="y"===u?"bottom":"right",y=a.reference[p]+a.reference[u]-d[u]-a.floating[p],b=d[u]-a.reference[u],f=await(null==l.getOffsetParent?void 0:l.getOffsetParent(i));let C=f?"y"===u?f.clientHeight||0:f.clientWidth||0:0;0===C&&(C=a.floating[p]);const w=y/2-b/2,M=c[I],A=C-g[p]-c[m],x=C/2-g[p]/2+w,S=Nt(M,x,A),v=("start"===h?c[I]:c[m])>0&&x!==S&&a.reference[p]<=a.floating[p];return{[u]:d[u]-(v?x<M?M-x:A-x:0),data:{[u]:S,centerOffset:x-S}}}}),Zt={left:"right",right:"left",bottom:"top",top:"bottom"};function Et(e){return e.replace(/left|right|bottom|top/g,(e=>Zt[e]))}function kt(e,t,i){void 0===i&&(i=!1);const n=Ct(e),s=wt(e),o=Mt(s);let r="x"===s?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=Et(r)),{main:r,cross:Et(r)}}const Tt={start:"end",end:"start"};function zt(e){return e.replace(/start|end/g,(e=>Tt[e]))}const Wt=["top","right","bottom","left"],Yt=(Wt.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i;const{placement:n,middlewareData:s,rects:o,initialPlacement:r,platform:a,elements:l}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:h="bestFit",flipAlignment:p=!0,...g}=e,I=ft(n),m=u||(I!==r&&p?function(e){const t=Et(e);return[zt(e),t,zt(t)]}(r):[Et(r)]),y=[r,...m],b=await vt(t,g),f=[];let C=(null==(i=s.flip)?void 0:i.overflows)||[];if(c&&f.push(b[I]),d){const{main:e,cross:t}=kt(n,o,await(null==a.isRTL?void 0:a.isRTL(l.floating)));f.push(b[e],b[t])}if(C=[...C,{placement:n,overflows:f}],!f.every((e=>e<=0))){var w,M;const e=(null!=(w=null==(M=s.flip)?void 0:M.index)?w:0)+1,t=y[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let i="bottom";switch(h){case"bestFit":{var A;const e=null==(A=C.map((e=>[e,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0].placement;e&&(i=e);break}case"initialPlacement":i=r}if(n!==i)return{reset:{placement:i}}}return{}}}});function Pt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Gt(e){return Wt.some((t=>e[t]>=0))}const Ot=function(e){let{strategy:t="referenceHidden",...i}=void 0===e?{}:e;return{name:"hide",async fn(e){const{rects:n}=e;switch(t){case"referenceHidden":{const t=Pt(await vt(e,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:Gt(t)}}}case"escaped":{const t=Pt(await vt(e,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:t,escaped:Gt(t)}}}default:return{}}}}},Rt=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:i,y:n}=t,s=await async function(e,t){const{placement:i,platform:n,elements:s}=e,o=await(null==n.isRTL?void 0:n.isRTL(s.floating)),r=ft(i),a=Ct(i),l="x"===wt(i),c=["left","top"].includes(r)?-1:1,d=o&&l?-1:1,u="function"==typeof t?t(e):t;let{mainAxis:h,crossAxis:p,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&"number"==typeof g&&(p="end"===a?-1*g:g),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return{x:i+s.x,y:n+s.y,data:s}}}};function Ft(e){return"x"===e?"y":"x"}const Bt=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:a={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...l}=e,c={x:i,y:n},d=await vt(t,l),u=wt(ft(s)),h=Ft(u);let p=c[u],g=c[h];if(o){const e="y"===u?"bottom":"right";p=Nt(p+d["y"===u?"top":"left"],p,p-d[e])}if(r){const e="y"===h?"bottom":"right";g=Nt(g+d["y"===h?"top":"left"],g,g-d[e])}const I=a.fn({...t,[u]:p,[h]:g});return{...I,data:{x:I.x-i,y:I.y-n}}}}},Jt=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:i,y:n,placement:s,rects:o,middlewareData:r}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=e,d={x:i,y:n},u=wt(s),h=Ft(u);let p=d[u],g=d[h];const I="function"==typeof a?a({...o,placement:s}):a,m="number"==typeof I?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(l){const e="y"===u?"height":"width",t=o.reference[u]-o.floating[e]+m.mainAxis,i=o.reference[u]+o.reference[e]-m.mainAxis;p<t?p=t:p>i&&(p=i)}if(c){var y,b,f,C;const e="y"===u?"width":"height",t=["top","left"].includes(ft(s)),i=o.reference[h]-o.floating[e]+(t&&null!=(y=null==(b=r.offset)?void 0:b[h])?y:0)+(t?0:m.crossAxis),n=o.reference[h]+o.reference[e]+(t?0:null!=(f=null==(C=r.offset)?void 0:C[h])?f:0)-(t?m.crossAxis:0);g<i?g=i:g>n&&(g=n)}return{[u]:p,[h]:g}}}},Ht=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:i,rects:n,platform:s,elements:o}=t,{apply:r,...a}=e,l=await vt(t,a),c=ft(i),d=Ct(i);let u,h;"top"===c||"bottom"===c?(u=c,h=d===(await(null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(h=c,u="end"===d?"top":"bottom");const p=jt(l.left,0),g=jt(l.right,0),I=jt(l.top,0),m=jt(l.bottom,0),y={availableHeight:n.floating.height-(["left","right"].includes(i)?2*(0!==I||0!==m?I+m:jt(l.top,l.bottom)):l[u]),availableWidth:n.floating.width-(["top","bottom"].includes(i)?2*(0!==p||0!==g?p+g:jt(l.left,l.right)):l[h])},b=await s.getDimensions(o.floating);null==r||r({...t,...y});const f=await s.getDimensions(o.floating);return b.width!==f.width||b.height!==f.height?{reset:{rects:!0}}:{}}}};function Xt(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Vt(e){if(null==e)return window;if(!Xt(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function _t(e){return Vt(e).getComputedStyle(e)}function Ut(e){return Xt(e)?"":e?(e.nodeName||"").toLowerCase():""}function Kt(){const e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function Qt(e){return e instanceof Vt(e).HTMLElement}function qt(e){return e instanceof Vt(e).Element}function $t(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Vt(e).ShadowRoot||e instanceof ShadowRoot)}function ei(e){const{overflow:t,overflowX:i,overflowY:n}=_t(e);return/auto|scroll|overlay|hidden/.test(t+n+i)}function ti(e){return["table","td","th"].includes(Ut(e))}function ii(e){const t=/firefox/i.test(Kt()),i=_t(e);return"none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||["transform","perspective"].includes(i.willChange)||t&&"filter"===i.willChange||t&&!!i.filter&&"none"!==i.filter}function ni(){return!/^((?!chrome|android).)*safari/i.test(Kt())}const si=Math.min,oi=Math.max,ri=Math.round;function ai(e,t,i){var n,s,o,r;void 0===t&&(t=!1),void 0===i&&(i=!1);const a=e.getBoundingClientRect();let l=1,c=1;t&&Qt(e)&&(l=e.offsetWidth>0&&ri(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&ri(a.height)/e.offsetHeight||1);const d=qt(e)?Vt(e):window,u=!ni()&&i,h=(a.left+(u&&null!=(n=null==(s=d.visualViewport)?void 0:s.offsetLeft)?n:0))/l,p=(a.top+(u&&null!=(o=null==(r=d.visualViewport)?void 0:r.offsetTop)?o:0))/c,g=a.width/l,I=a.height/c;return{width:g,height:I,top:p,right:h+g,bottom:p+I,left:h,x:h,y:p}}function li(e){return(t=e,(t instanceof Vt(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function ci(e){return qt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function di(e){return ai(li(e)).left+ci(e).scrollLeft}function ui(e,t,i){const n=Qt(t),s=li(t),o=ai(e,n&&function(e){const t=ai(e);return ri(t.width)!==e.offsetWidth||ri(t.height)!==e.offsetHeight}(t),"fixed"===i);let r={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(n||!n&&"fixed"!==i)if(("body"!==Ut(t)||ei(s))&&(r=ci(t)),Qt(t)){const e=ai(t,!0);a.x=e.x+t.clientLeft,a.y=e.y+t.clientTop}else s&&(a.x=di(s));return{x:o.left+r.scrollLeft-a.x,y:o.top+r.scrollTop-a.y,width:o.width,height:o.height}}function hi(e){return"html"===Ut(e)?e:e.assignedSlot||e.parentNode||($t(e)?e.host:null)||li(e)}function pi(e){return Qt(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function gi(e){const t=Vt(e);let i=pi(e);for(;i&&ti(i)&&"static"===getComputedStyle(i).position;)i=pi(i);return i&&("html"===Ut(i)||"body"===Ut(i)&&"static"===getComputedStyle(i).position&&!ii(i))?t:i||function(e){let t=hi(e);for($t(t)&&(t=t.host);Qt(t)&&!["html","body"].includes(Ut(t));){if(ii(t))return t;t=t.parentNode}return null}(e)||t}function Ii(e){if(Qt(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=ai(e);return{width:t.width,height:t.height}}function mi(e){const t=hi(e);return["html","body","#document"].includes(Ut(t))?e.ownerDocument.body:Qt(t)&&ei(t)?t:mi(t)}function yi(e,t){var i;void 0===t&&(t=[]);const n=mi(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),o=Vt(n),r=s?[o].concat(o.visualViewport||[],ei(n)?n:[]):n,a=t.concat(r);return s?a:a.concat(yi(r))}function bi(e,t,i){return"viewport"===t?St(function(e,t){const i=Vt(e),n=li(e),s=i.visualViewport;let o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;const e=ni();(e||!e&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a,y:l}}(e,i)):qt(t)?function(e,t){const i=ai(e,!1,"fixed"===t),n=i.top+e.clientTop,s=i.left+e.clientLeft;return{top:n,left:s,x:s,y:n,right:s+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,i):St(function(e){var t;const i=li(e),n=ci(e),s=null==(t=e.ownerDocument)?void 0:t.body,o=oi(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=oi(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let a=-n.scrollLeft+di(e);const l=-n.scrollTop;return"rtl"===_t(s||i).direction&&(a+=oi(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(li(e)))}function fi(e){const t=yi(e),i=["absolute","fixed"].includes(_t(e).position)&&Qt(e)?gi(e):e;return qt(i)?t.filter((e=>qt(e)&&function(e,t){const i=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(i&&$t(i)){let i=t;do{if(i&&e===i)return!0;i=i.parentNode||i.host}while(i)}return!1}(e,i)&&"body"!==Ut(e))):[]}const Ci={getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:n,strategy:s}=e;const o=[..."clippingAncestors"===i?fi(t):[].concat(i),n],r=o[0],a=o.reduce(((e,i)=>{const n=bi(t,i,s);return e.top=oi(n.top,e.top),e.right=si(n.right,e.right),e.bottom=si(n.bottom,e.bottom),e.left=oi(n.left,e.left),e}),bi(t,r,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:i,strategy:n}=e;const s=Qt(i),o=li(i);if(i===o)return t;let r={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((s||!s&&"fixed"!==n)&&(("body"!==Ut(i)||ei(o))&&(r=ci(i)),Qt(i))){const e=ai(i,!0);a.x=e.x+i.clientLeft,a.y=e.y+i.clientTop}return{...t,x:t.x-r.scrollLeft+a.x,y:t.y-r.scrollTop+a.y}},isElement:qt,getDimensions:Ii,getOffsetParent:gi,getDocumentElement:li,getElementRects:e=>{let{reference:t,floating:i,strategy:n}=e;return{reference:ui(t,gi(i),n),floating:{...Ii(i),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===_t(e).direction};function wi(e,t,i,n){void 0===n&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:r=!0,animationFrame:a=!1}=n,l=s&&!a,c=o&&!a,d=l||c?[...qt(e)?yi(e):[],...yi(t)]:[];d.forEach((e=>{l&&e.addEventListener("scroll",i,{passive:!0}),c&&e.addEventListener("resize",i)}));let u,h=null;if(r){let n=!0;h=new ResizeObserver((()=>{n||i(),n=!1})),qt(e)&&!a&&h.observe(e),h.observe(t)}let p=a?ai(e):null;return a&&function t(){const n=ai(e);!p||n.x===p.x&&n.y===p.y&&n.width===p.width&&n.height===p.height||i(),p=n,u=requestAnimationFrame(t)}(),i(),()=>{var e;d.forEach((e=>{l&&e.removeEventListener("scroll",i),c&&e.removeEventListener("resize",i)})),null==(e=h)||e.disconnect(),h=null,a&&cancelAnimationFrame(u)}}const Mi=(e,t,i)=>(async(e,t,i)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:r}=i,a=await(null==r.isRTL?void 0:r.isRTL(t));let l=await r.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:d}=At(l,n,a),u=n,h={},p=0;for(let g=0;g<o.length;g++){const{name:i,fn:I}=o[g],{x:m,y,data:b,reset:f}=await I({x:c,y:d,initialPlacement:n,placement:u,strategy:s,middlewareData:h,rects:l,platform:r,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=y?y:d,h={...h,[i]:{...h[i],...b}},f&&p<=50&&(p++,"object"==typeof f&&(f.placement&&(u=f.placement),f.rects&&(l=!0===f.rects?await r.getElementRects({reference:e,floating:t,strategy:s}):f.rects),({x:c,y:d}=At(l,u,a))),g=-1)}return{x:c,y:d,placement:u,strategy:s,middlewareData:h}})(e,t,{platform:Ci,...i});var Ai="undefined"!=typeof document?E.useLayoutEffect:E.useEffect;function xi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let i,n,s;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(n=i;0!=n--;)if(!xi(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;for(n=i;0!=n--;){const i=s[n];if(("_owner"!==i||!e.$$typeof)&&!xi(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function Si(e){let{middleware:t,placement:i="bottom",strategy:n="absolute",whileElementsMounted:s}=void 0===e?{}:e;const o=E.useRef(null),r=E.useRef(null),a=function(e){const t=E.useRef(e);return Ai((()=>{t.current=e})),t}(s),l=E.useRef(null),[c,d]=E.useState({x:null,y:null,strategy:n,placement:i,middlewareData:{}}),[u,h]=E.useState(t);xi(null==u?void 0:u.map((e=>{let{options:t}=e;return t})),null==t?void 0:t.map((e=>{let{options:t}=e;return t})))||h(t);const p=E.useCallback((()=>{o.current&&r.current&&Mi(o.current,r.current,{middleware:u,placement:i,strategy:n}).then((e=>{g.current&&W.flushSync((()=>{d(e)}))}))}),[u,i,n]);Ai((()=>{g.current&&p()}),[p]);const g=E.useRef(!1);Ai((()=>(g.current=!0,()=>{g.current=!1})),[]);const I=E.useCallback((()=>{if("function"==typeof l.current&&(l.current(),l.current=null),o.current&&r.current)if(a.current){const e=a.current(o.current,r.current,p);l.current=e}else p()}),[p,a]),m=E.useCallback((e=>{o.current=e,I()}),[I]),y=E.useCallback((e=>{r.current=e,I()}),[I]),b=E.useMemo((()=>({reference:o,floating:r})),[]);return E.useMemo((()=>({...c,update:p,refs:b,reference:m,floating:y})),[c,p,b,m,y])}const vi=e=>{const{element:t,padding:i}=e;return{name:"arrow",options:e,fn(e){return n=t,Object.prototype.hasOwnProperty.call(n,"current")?null!=t.current?Dt({element:t.current,padding:i}).fn(e):{}:t?Dt({element:t,padding:i}).fn(e):{};var n}}};function Li(e){const[t,i]=(0,E.useState)(void 0);return ce((()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let s,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,o=t.blockSize}else s=e.offsetWidth,o=e.offsetHeight;i({width:s,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}i(void 0)}),[e]),t}const ji="Popper",[Ni,Di]=O(ji),[Zi,Ei]=Ni(ji),ki=e=>{const{__scopePopper:t,children:i}=e,[n,s]=(0,E.useState)(null);return(0,E.createElement)(Zi,{scope:t,anchor:n,onAnchorChange:s},i)},Ti="PopperAnchor",zi=(0,E.forwardRef)(((e,t)=>{const{__scopePopper:i,virtualRef:n,...s}=e,o=Ei(Ti,i),r=(0,E.useRef)(null),a=G(t,r);return(0,E.useEffect)((()=>{o.onAnchorChange((null==n?void 0:n.current)||r.current)})),n?null:(0,E.createElement)(_.div,(0,z.Z)({},s,{ref:a}))})),Wi="PopperContent",[Yi,Pi]=Ni(Wi),[Gi,Oi]=Ni(Wi,{hasParent:!1,positionUpdateFns:new Set}),Ri=(0,E.forwardRef)(((e,t)=>{var i,n,s,o,r,a,l,c;const{__scopePopper:d,side:u="bottom",sideOffset:h=0,align:p="center",alignOffset:g=0,arrowPadding:I=0,collisionBoundary:m=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:f=!1,avoidCollisions:C=!0,onPlaced:w,...M}=e,A=Ei(Wi,d),[x,S]=(0,E.useState)(null),v=G(t,(e=>S(e))),[L,j]=(0,E.useState)(null),N=Li(L),D=null!==(i=null==N?void 0:N.width)&&void 0!==i?i:0,Z=null!==(n=null==N?void 0:N.height)&&void 0!==n?n:0,k=u+("center"!==p?"-"+p:""),T="number"==typeof y?y:{top:0,right:0,bottom:0,left:0,...y},z=Array.isArray(m)?m:[m],W=z.length>0,Y={padding:T,boundary:z.filter(Bi),altBoundary:W},{reference:P,floating:O,strategy:R,x:F,y:B,placement:J,middlewareData:H,update:X}=Si({strategy:"fixed",placement:k,whileElementsMounted:wi,middleware:[Ji(),Rt({mainAxis:h+Z,alignmentAxis:g}),C?Bt({mainAxis:!0,crossAxis:!1,limiter:"partial"===b?Jt():void 0,...Y}):void 0,L?vi({element:L,padding:I}):void 0,C?Yt({...Y}):void 0,Ht({...Y,apply:({elements:e,availableWidth:t,availableHeight:i})=>{e.floating.style.setProperty("--radix-popper-available-width",`${t}px`),e.floating.style.setProperty("--radix-popper-available-height",`${i}px`)}}),Hi({arrowWidth:D,arrowHeight:Z}),f?Ot({strategy:"referenceHidden"}):void 0].filter(Fi)});ce((()=>{P(A.anchor)}),[P,A.anchor]);const V=null!==F&&null!==B,[U,Q]=Xi(J),q=K(w);ce((()=>{V&&(null==q||q())}),[V,q]);const $=null===(s=H.arrow)||void 0===s?void 0:s.x,ee=null===(o=H.arrow)||void 0===o?void 0:o.y,te=0!==(null===(r=H.arrow)||void 0===r?void 0:r.centerOffset),[ie,ne]=(0,E.useState)();ce((()=>{x&&ne(window.getComputedStyle(x).zIndex)}),[x]);const{hasParent:se,positionUpdateFns:oe}=Oi(Wi,d),re=!se;(0,E.useLayoutEffect)((()=>{if(!re)return oe.add(X),()=>{oe.delete(X)}}),[re,oe,X]),ce((()=>{re&&V&&Array.from(oe).reverse().forEach((e=>requestAnimationFrame(e)))}),[re,V,oe]);const ae={"data-side":U,"data-align":Q,...M,ref:v,style:{...M.style,animation:V?void 0:"none",opacity:null!==(a=H.hide)&&void 0!==a&&a.referenceHidden?0:void 0}};return(0,E.createElement)("div",{ref:O,"data-radix-popper-content-wrapper":"",style:{position:R,left:0,top:0,transform:V?`translate3d(${Math.round(F)}px, ${Math.round(B)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[null===(l=H.transformOrigin)||void 0===l?void 0:l.x,null===(c=H.transformOrigin)||void 0===c?void 0:c.y].join(" ")},dir:e.dir},(0,E.createElement)(Yi,{scope:d,placedSide:U,onArrowChange:j,arrowX:$,arrowY:ee,shouldHideArrow:te},re?(0,E.createElement)(Gi,{scope:d,hasParent:!0,positionUpdateFns:oe},(0,E.createElement)(_.div,ae)):(0,E.createElement)(_.div,ae)))}));function Fi(e){return void 0!==e}function Bi(e){return null!==e}const Ji=()=>({name:"anchorCssProperties",fn(e){const{rects:t,elements:i}=e,{width:n,height:s}=t.reference;return i.floating.style.setProperty("--radix-popper-anchor-width",`${n}px`),i.floating.style.setProperty("--radix-popper-anchor-height",`${s}px`),{}}}),Hi=e=>({name:"transformOrigin",options:e,fn(t){var i,n,s,o,r;const{placement:a,rects:l,middlewareData:c}=t,d=0!==(null===(i=c.arrow)||void 0===i?void 0:i.centerOffset),u=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[p,g]=Xi(a),I={start:"0%",center:"50%",end:"100%"}[g],m=(null!==(n=null===(s=c.arrow)||void 0===s?void 0:s.x)&&void 0!==n?n:0)+u/2,y=(null!==(o=null===(r=c.arrow)||void 0===r?void 0:r.y)&&void 0!==o?o:0)+h/2;let b="",f="";return"bottom"===p?(b=d?I:`${m}px`,f=-h+"px"):"top"===p?(b=d?I:`${m}px`,f=`${l.floating.height+h}px`):"right"===p?(b=-h+"px",f=d?I:`${y}px`):"left"===p&&(b=`${l.floating.width+h}px`,f=d?I:`${y}px`),{data:{x:b,y:f}}}});function Xi(e){const[t,i="center"]=e.split("-");return[t,i]}const Vi=ki,_i=zi,Ui=Ri,Ki="rovingFocusGroup.onEntryFocus",Qi={bubbles:!1,cancelable:!0},qi="RovingFocusGroup",[$i,en,tn]=V(qi),[nn,sn]=O(qi,[tn]),[on,rn]=nn(qi),an=(0,E.forwardRef)(((e,t)=>(0,E.createElement)($i.Provider,{scope:e.__scopeRovingFocusGroup},(0,E.createElement)($i.Slot,{scope:e.__scopeRovingFocusGroup},(0,E.createElement)(ln,(0,z.Z)({},e,{ref:t})))))),ln=(0,E.forwardRef)(((e,t)=>{const{__scopeRovingFocusGroup:i,orientation:n,loop:s=!1,dir:o,currentTabStopId:r,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...d}=e,u=(0,E.useRef)(null),h=G(t,u),p=it(o),[g=null,I]=he({prop:r,defaultProp:a,onChange:l}),[m,y]=(0,E.useState)(!1),b=K(c),f=en(i),C=(0,E.useRef)(!1),[w,M]=(0,E.useState)(0);return(0,E.useEffect)((()=>{const e=u.current;if(e)return e.addEventListener(Ki,b),()=>e.removeEventListener(Ki,b)}),[b]),(0,E.createElement)(on,{scope:i,orientation:n,dir:p,loop:s,currentTabStopId:g,onItemFocus:(0,E.useCallback)((e=>I(e)),[I]),onItemShiftTab:(0,E.useCallback)((()=>y(!0)),[]),onFocusableItemAdd:(0,E.useCallback)((()=>M((e=>e+1))),[]),onFocusableItemRemove:(0,E.useCallback)((()=>M((e=>e-1))),[])},(0,E.createElement)(_.div,(0,z.Z)({tabIndex:m||0===w?-1:0,"data-orientation":n},d,{ref:h,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,(()=>{C.current=!0})),onFocus:Y(e.onFocus,(e=>{const t=!C.current;if(e.target===e.currentTarget&&t&&!m){const t=new CustomEvent(Ki,Qi);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=f().filter((e=>e.focusable));hn([e.find((e=>e.active)),e.find((e=>e.id===g)),...e].filter(Boolean).map((e=>e.ref.current)))}}C.current=!1})),onBlur:Y(e.onBlur,(()=>y(!1)))})))})),cn="RovingFocusGroupItem",dn=(0,E.forwardRef)(((e,t)=>{const{__scopeRovingFocusGroup:i,focusable:n=!0,active:s=!1,tabStopId:o,...r}=e,a=bt(),l=o||a,c=rn(cn,i),d=c.currentTabStopId===l,u=en(i),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return(0,E.useEffect)((()=>{if(n)return h(),()=>p()}),[n,h,p]),(0,E.createElement)($i.ItemSlot,{scope:i,id:l,focusable:n,active:s},(0,E.createElement)(_.span,(0,z.Z)({tabIndex:d?0:-1,"data-orientation":c.orientation},r,{ref:t,onMouseDown:Y(e.onMouseDown,(e=>{n?c.onItemFocus(l):e.preventDefault()})),onFocus:Y(e.onFocus,(()=>c.onItemFocus(l))),onKeyDown:Y(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,i){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,i);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:un[n]}(e,c.orientation,c.dir);if(void 0!==t){e.preventDefault();let s=u().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const o=s.indexOf(e.currentTarget);s=c.loop?(n=o+1,(i=s).map(((e,t)=>i[(n+t)%i.length]))):s.slice(o+1)}setTimeout((()=>hn(s)))}var i,n}))})))})),un={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hn(e){const t=document.activeElement;for(const i of e){if(i===t)return;if(i.focus(),document.activeElement!==t)return}}const pn=an,gn=dn;var In=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},mn=new WeakMap,yn=new WeakMap,bn={},fn=0,Cn=function(e){return e&&(e.host||Cn(e.parentNode))},wn=function(e,t,i,n){var s=function(e,t){return t.map((function(t){if(e.contains(t))return t;var i=Cn(t);return i&&e.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);bn[i]||(bn[i]=new WeakMap);var o=bn[i],r=[],a=new Set,l=new Set(s),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};s.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(a.has(e))d(e);else{var t=e.getAttribute(n),s=null!==t&&"false"!==t,l=(mn.get(e)||0)+1,c=(o.get(e)||0)+1;mn.set(e,l),o.set(e,c),r.push(e),1===l&&s&&yn.set(e,!0),1===c&&e.setAttribute(i,"true"),s||e.setAttribute(n,"true")}}))};return d(t),a.clear(),fn++,function(){r.forEach((function(e){var t=mn.get(e)-1,s=o.get(e)-1;mn.set(e,t),o.set(e,s),t||(yn.has(e)||e.removeAttribute(n),yn.delete(e)),s||e.removeAttribute(i)})),--fn||(mn=new WeakMap,mn=new WeakMap,yn=new WeakMap,bn={})}},Mn=function(e,t,i){void 0===i&&(i="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=t||In(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),wn(n,s,i,"aria-hidden")):function(){return null}},An=i(70655),xn="right-scroll-bar-position",Sn="width-before-scroll-bar";function vn(e,t){return function(e,t){var i=(0,E.useState)((function(){return{value:e,callback:t,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0];return i.callback=t,i.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}function Ln(e){return e}function jn(e,t){void 0===t&&(t=Ln);var i=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(e){var s=t(e,n);return i.push(s),function(){i=i.filter((function(e){return e!==s}))}},assignSyncMedium:function(e){for(n=!0;i.length;){var t=i;i=[],t.forEach(e)}i={push:function(t){return e(t)},filter:function(){return i}}},assignMedium:function(e){n=!0;var t=[];if(i.length){var s=i;i=[],s.forEach(e),t=i}var o=function(){var i=t;t=[],i.forEach(e)},r=function(){return Promise.resolve().then(o)};r(),i={push:function(e){t.push(e),r()},filter:function(e){return t=t.filter(e),i}}}};return s}var Nn=function(e){void 0===e&&(e={});var t=jn(null);return t.options=(0,An.__assign)({async:!0,ssr:!1},e),t}(),Dn=function(){},Zn=E.forwardRef((function(e,t){var i=E.useRef(null),n=E.useState({onScrollCapture:Dn,onWheelCapture:Dn,onTouchMoveCapture:Dn}),s=n[0],o=n[1],r=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,I=e.allowPinchZoom,m=e.as,y=void 0===m?"div":m,b=(0,An.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),f=h,C=vn([i,t]),w=(0,An.__assign)((0,An.__assign)({},b),s);return E.createElement(E.Fragment,null,d&&E.createElement(f,{sideCar:Nn,removeScrollBar:c,shards:u,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!I,lockRef:i}),r?E.cloneElement(E.Children.only(a),(0,An.__assign)((0,An.__assign)({},w),{ref:C})):E.createElement(y,(0,An.__assign)({},w,{className:l,ref:C}),a))}));Zn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Zn.classNames={fullWidth:Sn,zeroRight:xn};var En,kn=function(e){var t=e.sideCar,i=(0,An.__rest)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,(0,An.__assign)({},i))};kn.isSideCarExport=!0;function Tn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=En||i.nc;return t&&e.setAttribute("nonce",t),e}var zn=function(){var e=0,t=null;return{add:function(i){var n,s;0==e&&(t=Tn())&&(s=i,(n=t).styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Wn=function(){var e,t=(e=zn(),function(t,i){E.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&i])});return function(e){var i=e.styles,n=e.dynamic;return t(i,n),null}},Yn={left:0,top:0,right:0,gap:0},Pn=function(e){return parseInt(e||"",10)||0},Gn=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Yn;var t=function(e){var t=window.getComputedStyle(document.body),i=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[Pn(i),Pn(n),Pn(s)]}(e),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-i+t[2]-t[0])}},On=Wn(),Rn=function(e,t,i,n){var s=e.left,o=e.top,r=e.right,a=e.gap;return void 0===i&&(i="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===i&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(r,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),"padding"===i&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(xn," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(Sn," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(xn," .").concat(xn," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Sn," .").concat(Sn," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},Fn=function(e){var t=e.noRelative,i=e.noImportant,n=e.gapMode,s=void 0===n?"margin":n,o=E.useMemo((function(){return Gn(s)}),[s]);return E.createElement(On,{styles:Rn(o,!t,s,i?"":"!important")})},Bn=!1;if("undefined"!=typeof window)try{var Jn=Object.defineProperty({},"passive",{get:function(){return Bn=!0,!0}});window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch(Hu){Bn=!1}var Hn=!!Bn&&{passive:!1},Xn=function(e,t){var i=window.getComputedStyle(e);return"hidden"!==i[t]&&!(i.overflowY===i.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===i[t])},Vn=function(e,t){var i=t;do{if("undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),_n(e,i)){var n=Un(e,i);if(n[1]>n[2])return!0}i=i.parentNode}while(i&&i!==document.body);return!1},_n=function(e,t){return"v"===e?function(e){return Xn(e,"overflowY")}(t):function(e){return Xn(e,"overflowX")}(t)},Un=function(e,t){return"v"===e?[(i=t).scrollTop,i.scrollHeight,i.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var i},Kn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qn=function(e){return[e.deltaX,e.deltaY]},qn=function(e){return e&&"current"in e?e.current:e},$n=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},es=0,ts=[];const is=(ns=function(e){var t=E.useRef([]),i=E.useRef([0,0]),n=E.useRef(),s=E.useState(es++)[0],o=E.useState((function(){return Wn()}))[0],r=E.useRef(e);E.useEffect((function(){r.current=e}),[e]),E.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(0,An.__spreadArray)([e.lockRef.current],(e.shards||[]).map(qn),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(s))})),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(s))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=E.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!r.current.allowPinchZoom;var s,o=Kn(e),a=i.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=Vn(u,d);if(!h)return!0;if(h?s=u:(s="v"===u?"h":"v",h=Vn(u,d)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=s),!s)return!0;var p=n.current||s;return function(e,t,i,n,s){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),r=o*n,a=i.target,l=t.contains(a),c=!1,d=r>0,u=0,h=0;do{var p=Un(e,a),g=p[0],I=p[1]-p[2]-o*g;(g||I)&&_n(e,a)&&(u+=I,h+=g),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(s&&0===u||!s&&r>u)||!d&&(s&&0===h||!s&&-r>h))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),l=E.useCallback((function(e){var i=e;if(ts.length&&ts[ts.length-1]===o){var n="deltaY"in i?Qn(i):Kn(i),s=t.current.filter((function(e){return e.name===i.type&&e.target===i.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,n)}))[0];if(s&&s.should)i.cancelable&&i.preventDefault();else if(!s){var l=(r.current.shards||[]).map(qn).filter(Boolean).filter((function(e){return e.contains(i.target)}));(l.length>0?a(i,l[0]):!r.current.noIsolation)&&i.cancelable&&i.preventDefault()}}}),[]),c=E.useCallback((function(e,i,n,s){var o={name:e,delta:i,target:n,should:s};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),d=E.useCallback((function(e){i.current=Kn(e),n.current=void 0}),[]),u=E.useCallback((function(t){c(t.type,Qn(t),t.target,a(t,e.lockRef.current))}),[]),h=E.useCallback((function(t){c(t.type,Kn(t),t.target,a(t,e.lockRef.current))}),[]);E.useEffect((function(){return ts.push(o),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hn),document.addEventListener("touchmove",l,Hn),document.addEventListener("touchstart",d,Hn),function(){ts=ts.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,Hn),document.removeEventListener("touchmove",l,Hn),document.removeEventListener("touchstart",d,Hn)}}),[]);var p=e.removeScrollBar,g=e.inert;return E.createElement(E.Fragment,null,g?E.createElement(o,{styles:$n(s)}):null,p?E.createElement(Fn,{gapMode:"margin"}):null)},Nn.useMedium(ns),kn);var ns,ss=E.forwardRef((function(e,t){return E.createElement(Zn,(0,An.__assign)({},e,{ref:t,sideCar:is}))}));ss.classNames=Zn.classNames;const os=ss,rs=["Enter"," "],as=["ArrowUp","PageDown","End"],ls=["ArrowDown","PageUp","Home",...as],cs={ltr:[...rs,"ArrowRight"],rtl:[...rs,"ArrowLeft"]},ds={ltr:["ArrowLeft"],rtl:["ArrowRight"]},us="Menu",[hs,ps,gs]=V(us),[Is,ms]=O(us,[gs,Di,sn]),ys=Di(),bs=sn(),[fs,Cs]=Is(us),[ws,Ms]=Is(us),As=e=>{const{__scopeMenu:t,open:i=!1,children:n,dir:s,onOpenChange:o,modal:r=!0}=e,a=ys(t),[l,c]=(0,E.useState)(null),d=(0,E.useRef)(!1),u=K(o),h=it(s);return(0,E.useEffect)((()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,E.createElement)(Vi,a,(0,E.createElement)(fs,{scope:t,open:i,onOpenChange:u,content:l,onContentChange:c},(0,E.createElement)(ws,{scope:t,onClose:(0,E.useCallback)((()=>u(!1)),[u]),isUsingKeyboardRef:d,dir:h,modal:r},n)))},xs=(0,E.forwardRef)(((e,t)=>{const{__scopeMenu:i,...n}=e,s=ys(i);return(0,E.createElement)(_i,(0,z.Z)({},s,n,{ref:t}))})),Ss="MenuPortal",[vs,Ls]=Is(Ss,{forceMount:void 0}),js=e=>{const{__scopeMenu:t,forceMount:i,children:n,container:s}=e,o=Cs(Ss,t);return(0,E.createElement)(vs,{scope:t,forceMount:i},(0,E.createElement)(de,{present:i||o.open},(0,E.createElement)(le,{asChild:!0,container:s},n)))},Ns="MenuContent",[Ds,Zs]=Is(Ns),Es=(0,E.forwardRef)(((e,t)=>{const i=Ls(Ns,e.__scopeMenu),{forceMount:n=i.forceMount,...s}=e,o=Cs(Ns,e.__scopeMenu),r=Ms(Ns,e.__scopeMenu);return(0,E.createElement)(hs.Provider,{scope:e.__scopeMenu},(0,E.createElement)(de,{present:n||o.open},(0,E.createElement)(hs.Slot,{scope:e.__scopeMenu},r.modal?(0,E.createElement)(ks,(0,z.Z)({},s,{ref:t})):(0,E.createElement)(Ts,(0,z.Z)({},s,{ref:t})))))})),ks=(0,E.forwardRef)(((e,t)=>{const i=Cs(Ns,e.__scopeMenu),n=(0,E.useRef)(null),s=G(t,n);return(0,E.useEffect)((()=>{const e=n.current;if(e)return Mn(e)}),[]),(0,E.createElement)(zs,(0,z.Z)({},e,{ref:s,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Y(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)}))})),Ts=(0,E.forwardRef)(((e,t)=>{const i=Cs(Ns,e.__scopeMenu);return(0,E.createElement)(zs,(0,z.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)}))})),zs=(0,E.forwardRef)(((e,t)=>{const{__scopeMenu:i,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:r,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...I}=e,m=Cs(Ns,i),y=Ms(Ns,i),b=ys(i),f=bs(i),C=ps(i),[w,M]=(0,E.useState)(null),A=(0,E.useRef)(null),x=G(t,A,m.onContentChange),S=(0,E.useRef)(0),v=(0,E.useRef)(""),L=(0,E.useRef)(0),j=(0,E.useRef)(null),N=(0,E.useRef)("right"),D=(0,E.useRef)(0),Z=g?os:E.Fragment,k=g?{as:F,allowPinchZoom:!0}:void 0,T=e=>{var t,i;const n=v.current+e,s=C().filter((e=>!e.disabled)),o=document.activeElement,r=null===(t=s.find((e=>e.ref.current===o)))||void 0===t?void 0:t.textValue,a=function(e,t,i){const n=t.length>1&&Array.from(t).every((e=>e===t[0])),s=n?t[0]:t,o=i?e.indexOf(i):-1;let r=(a=e,l=Math.max(o,0),a.map(((e,t)=>a[(l+t)%a.length])));var a,l;1===s.length&&(r=r.filter((e=>e!==i)));const c=r.find((e=>e.toLowerCase().startsWith(s.toLowerCase())));return c!==i?c:void 0}(s.map((e=>e.textValue)),n,r),l=null===(i=s.find((e=>e.textValue===a)))||void 0===i?void 0:i.ref.current;!function e(t){v.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout((()=>e("")),1e3))}(n),l&&setTimeout((()=>l.focus()))};(0,E.useEffect)((()=>()=>window.clearTimeout(S.current)),[]),st();const W=(0,E.useCallback)((e=>{var t,i;return N.current===(null===(t=j.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const i={x:e.clientX,y:e.clientY};return function(e,t){const{x:i,y:n}=e;let s=!1;for(let o=0,r=t.length-1;o<t.length;r=o++){const e=t[o].x,a=t[o].y,l=t[r].x,c=t[r].y;a>n!=c>n&&i<(l-e)*(n-a)/(c-a)+e&&(s=!s)}return s}(i,t)}(e,null===(i=j.current)||void 0===i?void 0:i.area)}),[]);return(0,E.createElement)(Ds,{scope:i,searchRef:v,onItemEnter:(0,E.useCallback)((e=>{W(e)&&e.preventDefault()}),[W]),onItemLeave:(0,E.useCallback)((e=>{var t;W(e)||(null===(t=A.current)||void 0===t||t.focus(),M(null))}),[W]),onTriggerLeave:(0,E.useCallback)((e=>{W(e)&&e.preventDefault()}),[W]),pointerGraceTimerRef:L,onPointerGraceIntentChange:(0,E.useCallback)((e=>{j.current=e}),[])},(0,E.createElement)(Z,k,(0,E.createElement)(ct,{asChild:!0,trapped:s,onMountAutoFocus:Y(o,(e=>{var t;e.preventDefault(),null===(t=A.current)||void 0===t||t.focus()})),onUnmountAutoFocus:r},(0,E.createElement)(ie,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:p},(0,E.createElement)(pn,(0,z.Z)({asChild:!0},f,{dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:M,onEntryFocus:Y(l,(e=>{y.isUsingKeyboardRef.current||e.preventDefault()}))}),(0,E.createElement)(Ui,(0,z.Z)({role:"menu","aria-orientation":"vertical","data-state":no(m.open),"data-radix-menu-content":"",dir:y.dir},b,I,{ref:x,style:{outline:"none",...I.style},onKeyDown:Y(I.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,i=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!i&&n&&T(e.key));const s=A.current;if(e.target!==s)return;if(!ls.includes(e.key))return;e.preventDefault();const o=C().filter((e=>!e.disabled)).map((e=>e.ref.current));as.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const i of e){if(i===t)return;if(i.focus(),document.activeElement!==t)return}}(o)})),onBlur:Y(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),v.current="")})),onPointerMove:Y(e.onPointerMove,ro((e=>{const t=e.target,i=D.current!==e.clientX;if(e.currentTarget.contains(t)&&i){const t=e.clientX>D.current?"right":"left";N.current=t,D.current=e.clientX}})))})))))))})),Ws=(0,E.forwardRef)(((e,t)=>{const{__scopeMenu:i,...n}=e;return(0,E.createElement)(_.div,(0,z.Z)({role:"group"},n,{ref:t}))})),Ys="MenuItem",Ps="menu.itemSelect",Gs=(0,E.forwardRef)(((e,t)=>{const{disabled:i=!1,onSelect:n,...s}=e,o=(0,E.useRef)(null),r=Ms(Ys,e.__scopeMenu),a=Zs(Ys,e.__scopeMenu),l=G(t,o),c=(0,E.useRef)(!1);return(0,E.createElement)(Os,(0,z.Z)({},s,{ref:l,disabled:i,onClick:Y(e.onClick,(()=>{const e=o.current;if(!i&&e){const t=new CustomEvent(Ps,{bubbles:!0,cancelable:!0});e.addEventListener(Ps,(e=>null==n?void 0:n(e)),{once:!0}),U(e,t),t.defaultPrevented?c.current=!1:r.onClose()}})),onPointerDown:t=>{var i;null===(i=e.onPointerDown)||void 0===i||i.call(e,t),c.current=!0},onPointerUp:Y(e.onPointerUp,(e=>{var t;c.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:Y(e.onKeyDown,(e=>{const t=""!==a.searchRef.current;i||t&&" "===e.key||rs.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),Os=(0,E.forwardRef)(((e,t)=>{const{__scopeMenu:i,disabled:n=!1,textValue:s,...o}=e,r=Zs(Ys,i),a=bs(i),l=(0,E.useRef)(null),c=G(t,l),[d,u]=(0,E.useState)(!1),[h,p]=(0,E.useState)("");return(0,E.useEffect)((()=>{const e=l.current;var t;e&&p((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}),[o.children]),(0,E.createElement)(hs.ItemSlot,{scope:i,disabled:n,textValue:null!=s?s:h},(0,E.createElement)(gn,(0,z.Z)({asChild:!0},a,{focusable:!n}),(0,E.createElement)(_.div,(0,z.Z)({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},o,{ref:c,onPointerMove:Y(e.onPointerMove,ro((e=>{if(n)r.onItemLeave(e);else if(r.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus()}}))),onPointerLeave:Y(e.onPointerLeave,ro((e=>r.onItemLeave(e)))),onFocus:Y(e.onFocus,(()=>u(!0))),onBlur:Y(e.onBlur,(()=>u(!1)))}))))})),Rs=(0,E.forwardRef)(((e,t)=>{const{checked:i=!1,onCheckedChange:n,...s}=e;return(0,E.createElement)(Xs,{scope:e.__scopeMenu,checked:i},(0,E.createElement)(Gs,(0,z.Z)({role:"menuitemcheckbox","aria-checked":so(i)?"mixed":i},s,{ref:t,"data-state":oo(i),onSelect:Y(s.onSelect,(()=>null==n?void 0:n(!!so(i)||!i)),{checkForDefaultPrevented:!1})})))})),Fs="MenuRadioGroup",[Bs,Js]=Is(Fs,{value:void 0,onValueChange:()=>{}}),Hs="MenuItemIndicator",[Xs,Vs]=Is(Hs,{checked:!1}),_s=(0,E.forwardRef)(((e,t)=>{const{__scopeMenu:i,forceMount:n,...s}=e,o=Vs(Hs,i);return(0,E.createElement)(de,{present:n||so(o.checked)||!0===o.checked},(0,E.createElement)(_.span,(0,z.Z)({},s,{ref:t,"data-state":oo(o.checked)})))})),Us="MenuSub",[Ks,Qs]=Is(Us),qs=e=>{const{__scopeMenu:t,children:i,open:n=!1,onOpenChange:s}=e,o=Cs(Us,t),r=ys(t),[a,l]=(0,E.useState)(null),[c,d]=(0,E.useState)(null),u=K(s);return(0,E.useEffect)((()=>(!1===o.open&&u(!1),()=>u(!1))),[o.open,u]),(0,E.createElement)(Vi,r,(0,E.createElement)(fs,{scope:t,open:n,onOpenChange:u,content:c,onContentChange:d},(0,E.createElement)(Ks,{scope:t,contentId:bt(),triggerId:bt(),trigger:a,onTriggerChange:l},i)))},$s="MenuSubTrigger",eo=(0,E.forwardRef)(((e,t)=>{const i=Cs($s,e.__scopeMenu),n=Ms($s,e.__scopeMenu),s=Qs($s,e.__scopeMenu),o=Zs($s,e.__scopeMenu),r=(0,E.useRef)(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},d=(0,E.useCallback)((()=>{r.current&&window.clearTimeout(r.current),r.current=null}),[]);return(0,E.useEffect)((()=>d),[d]),(0,E.useEffect)((()=>{const e=a.current;return()=>{window.clearTimeout(e),l(null)}}),[a,l]),(0,E.createElement)(xs,(0,z.Z)({asChild:!0},c),(0,E.createElement)(Os,(0,z.Z)({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":s.contentId,"data-state":no(i.open)},e,{ref:P(t,s.onTriggerChange),onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Y(e.onPointerMove,ro((t=>{o.onItemEnter(t),t.defaultPrevented||e.disabled||i.open||r.current||(o.onPointerGraceIntentChange(null),r.current=window.setTimeout((()=>{i.onOpenChange(!0),d()}),100))}))),onPointerLeave:Y(e.onPointerLeave,ro((e=>{var t;d();const n=null===(t=i.content)||void 0===t?void 0:t.getBoundingClientRect();if(n){var s;const t=null===(s=i.content)||void 0===s?void 0:s.dataset.side,r="right"===t,l=r?-5:5,c=n[r?"left":"right"],d=n[r?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+l,y:e.clientY},{x:c,y:n.top},{x:d,y:n.top},{x:d,y:n.bottom},{x:c,y:n.bottom}],side:t}),window.clearTimeout(a.current),a.current=window.setTimeout((()=>o.onPointerGraceIntentChange(null)),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}}))),onKeyDown:Y(e.onKeyDown,(t=>{const s=""!==o.searchRef.current;var r;e.disabled||s&&" "===t.key||cs[n.dir].includes(t.key)&&(i.onOpenChange(!0),null===(r=i.content)||void 0===r||r.focus(),t.preventDefault())}))})))})),to="MenuSubContent",io=(0,E.forwardRef)(((e,t)=>{const i=Ls(Ns,e.__scopeMenu),{forceMount:n=i.forceMount,...s}=e,o=Cs(Ns,e.__scopeMenu),r=Ms(Ns,e.__scopeMenu),a=Qs(to,e.__scopeMenu),l=(0,E.useRef)(null),c=G(t,l);return(0,E.createElement)(hs.Provider,{scope:e.__scopeMenu},(0,E.createElement)(de,{present:n||o.open},(0,E.createElement)(hs.Slot,{scope:e.__scopeMenu},(0,E.createElement)(zs,(0,z.Z)({id:a.contentId,"aria-labelledby":a.triggerId},s,{ref:c,align:"start",side:"rtl"===r.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;r.isUsingKeyboardRef.current&&(null===(t=l.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:Y(e.onFocusOutside,(e=>{e.target!==a.trigger&&o.onOpenChange(!1)})),onEscapeKeyDown:Y(e.onEscapeKeyDown,(e=>{r.onClose(),e.preventDefault()})),onKeyDown:Y(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),i=ds[r.dir].includes(e.key);var n;t&&i&&(o.onOpenChange(!1),null===(n=a.trigger)||void 0===n||n.focus(),e.preventDefault())}))})))))}));function no(e){return e?"open":"closed"}function so(e){return"indeterminate"===e}function oo(e){return so(e)?"indeterminate":e?"checked":"unchecked"}function ro(e){return t=>"mouse"===t.pointerType?e(t):void 0}const ao=As,lo=xs,co=js,uo=Es,ho=Ws,po=Gs,go=Rs,Io=_s,mo=qs,yo=eo,bo=io,fo="ContextMenu",[Co,wo]=O(fo,[ms]),Mo=ms(),[Ao,xo]=Co(fo),So=e=>{const{__scopeContextMenu:t,children:i,onOpenChange:n,dir:s,modal:o=!0}=e,[r,a]=(0,E.useState)(!1),l=Mo(t),c=K(n),d=(0,E.useCallback)((e=>{a(e),c(e)}),[c]);return(0,E.createElement)(Ao,{scope:t,open:r,onOpenChange:d,modal:o},(0,E.createElement)(ao,(0,z.Z)({},l,{dir:s,open:r,onOpenChange:d,modal:o}),i))},vo="ContextMenuTrigger",Lo=(0,E.forwardRef)(((e,t)=>{const{__scopeContextMenu:i,disabled:n=!1,...s}=e,o=xo(vo,i),r=Mo(i),a=(0,E.useRef)({x:0,y:0}),l=(0,E.useRef)({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=(0,E.useRef)(0),d=(0,E.useCallback)((()=>window.clearTimeout(c.current)),[]),u=e=>{a.current={x:e.clientX,y:e.clientY},o.onOpenChange(!0)};return(0,E.useEffect)((()=>d),[d]),(0,E.useEffect)((()=>{n&&d()}),[n,d]),(0,E.createElement)(E.Fragment,null,(0,E.createElement)(lo,(0,z.Z)({},r,{virtualRef:l})),(0,E.createElement)(_.span,(0,z.Z)({"data-state":o.open?"open":"closed","data-disabled":n?"":void 0},s,{ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:Y(e.onContextMenu,(e=>{d(),u(e),e.preventDefault()})),onPointerDown:n?e.onPointerDown:Y(e.onPointerDown,Yo((e=>{d(),c.current=window.setTimeout((()=>u(e)),700)}))),onPointerMove:n?e.onPointerMove:Y(e.onPointerMove,Yo(d)),onPointerCancel:n?e.onPointerCancel:Y(e.onPointerCancel,Yo(d)),onPointerUp:n?e.onPointerUp:Y(e.onPointerUp,Yo(d))})))})),jo=e=>{const{__scopeContextMenu:t,...i}=e,n=Mo(t);return(0,E.createElement)(co,(0,z.Z)({},n,i))},No="ContextMenuContent",Do=(0,E.forwardRef)(((e,t)=>{const{__scopeContextMenu:i,...n}=e,s=xo(No,i),o=Mo(i),r=(0,E.useRef)(!1);return(0,E.createElement)(uo,(0,z.Z)({},o,n,{ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:t=>{var i;null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),!t.defaultPrevented&&r.current&&t.preventDefault(),r.current=!1},onInteractOutside:t=>{var i;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||s.modal||(r.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))})),Zo=(0,E.forwardRef)(((e,t)=>{const{__scopeContextMenu:i,...n}=e,s=Mo(i);return(0,E.createElement)(ho,(0,z.Z)({},s,n,{ref:t}))})),Eo=(0,E.forwardRef)(((e,t)=>{const{__scopeContextMenu:i,...n}=e,s=Mo(i);return(0,E.createElement)(po,(0,z.Z)({},s,n,{ref:t}))})),ko=(0,E.forwardRef)(((e,t)=>{const{__scopeContextMenu:i,...n}=e,s=Mo(i);return(0,E.createElement)(go,(0,z.Z)({},s,n,{ref:t}))})),To=e=>{const{__scopeContextMenu:t,children:i,onOpenChange:n,open:s,defaultOpen:o}=e,r=Mo(t),[a,l]=he({prop:s,defaultProp:o,onChange:n});return(0,E.createElement)(mo,(0,z.Z)({},r,{open:a,onOpenChange:l}),i)},zo=(0,E.forwardRef)(((e,t)=>{const{__scopeContextMenu:i,...n}=e,s=Mo(i);return(0,E.createElement)(yo,(0,z.Z)({},s,n,{ref:t}))})),Wo=(0,E.forwardRef)(((e,t)=>{const{__scopeContextMenu:i,...n}=e,s=Mo(i);return(0,E.createElement)(bo,(0,z.Z)({},s,n,{ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}));function Yo(e){return t=>"mouse"!==t.pointerType?e(t):void 0}const Po=So,Go=Lo,Oo=jo,Ro=Do,Fo=Zo,Bo=Eo,Jo=ko,Ho=To,Xo=zo,Vo=Wo;function _o(e){return e.filter((e=>null!=e&&!1!==e))}function Uo(e,...t){const i=_o(t);return 0===i.length?null:{id:e,type:"group",checkbox:i.every((e=>"item"===e.type&&e.actionItem.checkbox)),disabled:i.every((e=>e.disabled)),readonlyOk:i.some((e=>e.readonlyOk)),children:i}}function Ko(e,t,...i){const n=_o(i);return 0===n.length?null:{id:e,type:"submenu",label:t,children:n,disabled:n.every((e=>e.disabled)),readonlyOk:n.some((e=>e.readonlyOk))}}function Qo(e,t={}){const{readonlyOk:i=!0,disabled:n=!1}=t;return{id:e,type:"custom",disabled:n,readonlyOk:i}}function qo(e,t={}){if(!e)throw Error("No action item provided to menuItem");if(!e.label)throw Error("Trying to create menu item for action item that doesn't have a label");const{checked:i=!1,disabled:n=!1}=t;return{id:e.id,type:"item",actionItem:e,disabled:n,checked:i,readonlyOk:e.readonlyOk}}function $o(e){const{selectedIds:t}=e;return t.map((t=>e.getShapeById(t))).filter((e=>!!e&&((!n.DwZ.is(e)||"binding"!==e.props.start.type)&&(!n.DwZ.is(e)||"binding"!==e.props.end.type))))}const er=()=>{const e=(0,n.qDZ)();return(0,et.Hg)("threeStackableItems",(()=>$o(e).length>2),[e])},tr=()=>{const e=(0,n.qDZ)();return(0,et.Hg)("allowGroup",(()=>$o(e).length>1),[e])},ir=()=>{const e=(0,n.qDZ)();return(0,et.Hg)("allowUngroup",(()=>e.selectedIds.some((t=>"group"===e.getShapeById(t)?.type))),[])},nr="undefined"!=typeof window&&"navigator"in window&&Boolean(navigator.clipboard)&&Boolean(navigator.clipboard.read),sr=(e,t,i)=>e.meta?.geo?"geo"===t&&i===e.meta?.geo:t===e.id;var or=i(78751);const rr="Dialog",[ar,lr]=O(rr),[cr,dr]=ar(rr),ur=e=>{const{__scopeDialog:t,children:i,open:n,defaultOpen:s,onOpenChange:o,modal:r=!0}=e,a=(0,E.useRef)(null),l=(0,E.useRef)(null),[c=!1,d]=he({prop:n,defaultProp:s,onChange:o});return(0,E.createElement)(cr,{scope:t,triggerRef:a,contentRef:l,contentId:bt(),titleId:bt(),descriptionId:bt(),open:c,onOpenChange:d,onOpenToggle:(0,E.useCallback)((()=>d((e=>!e))),[d]),modal:r},i)},hr="DialogPortal",[pr,gr]=ar(hr,{forceMount:void 0}),Ir=e=>{const{__scopeDialog:t,forceMount:i,children:n,container:s}=e,o=dr(hr,t);return(0,E.createElement)(pr,{scope:t,forceMount:i},E.Children.map(n,(e=>(0,E.createElement)(de,{present:i||o.open},(0,E.createElement)(le,{asChild:!0,container:s},e)))))},mr="DialogOverlay",yr=(0,E.forwardRef)(((e,t)=>{const i=gr(mr,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,o=dr(mr,e.__scopeDialog);return o.modal?(0,E.createElement)(de,{present:n||o.open},(0,E.createElement)(br,(0,z.Z)({},s,{ref:t}))):null})),br=(0,E.forwardRef)(((e,t)=>{const{__scopeDialog:i,...n}=e,s=dr(mr,i);return(0,E.createElement)(os,{as:F,allowPinchZoom:!0,shards:[s.contentRef]},(0,E.createElement)(_.div,(0,z.Z)({"data-state":jr(s.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))})),fr="DialogContent",Cr=(0,E.forwardRef)(((e,t)=>{const i=gr(fr,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,o=dr(fr,e.__scopeDialog);return(0,E.createElement)(de,{present:n||o.open},o.modal?(0,E.createElement)(wr,(0,z.Z)({},s,{ref:t})):(0,E.createElement)(Mr,(0,z.Z)({},s,{ref:t})))})),wr=(0,E.forwardRef)(((e,t)=>{const i=dr(fr,e.__scopeDialog),n=(0,E.useRef)(null),s=G(t,i.contentRef,n);return(0,E.useEffect)((()=>{const e=n.current;if(e)return Mn(e)}),[]),(0,E.createElement)(Ar,(0,z.Z)({},e,{ref:s,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=i.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:Y(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,i=0===t.button&&!0===t.ctrlKey;(2===t.button||i)&&e.preventDefault()})),onFocusOutside:Y(e.onFocusOutside,(e=>e.preventDefault()))}))})),Mr=(0,E.forwardRef)(((e,t)=>{const i=dr(fr,e.__scopeDialog),n=(0,E.useRef)(!1);return(0,E.createElement)(Ar,(0,z.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,o;(null===(s=e.onCloseAutoFocus)||void 0===s||s.call(e,t),t.defaultPrevented)||(n.current||null===(o=i.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());n.current=!1},onInteractOutside:t=>{var s,o;null===(s=e.onInteractOutside)||void 0===s||s.call(e,t),t.defaultPrevented||(n.current=!0);const r=t.target;(null===(o=i.triggerRef.current)||void 0===o?void 0:o.contains(r))&&t.preventDefault()}}))})),Ar=(0,E.forwardRef)(((e,t)=>{const{__scopeDialog:i,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...r}=e,a=dr(fr,i),l=G(t,(0,E.useRef)(null));return st(),(0,E.createElement)(E.Fragment,null,(0,E.createElement)(ct,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o},(0,E.createElement)(ie,(0,z.Z)({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":jr(a.open)},r,{ref:l,onDismiss:()=>a.onOpenChange(!1)}))),!1)})),xr="DialogTitle",Sr=(0,E.forwardRef)(((e,t)=>{const{__scopeDialog:i,...n}=e,s=dr(xr,i);return(0,E.createElement)(_.h2,(0,z.Z)({id:s.titleId},n,{ref:t}))})),vr="DialogClose",Lr=(0,E.forwardRef)(((e,t)=>{const{__scopeDialog:i,...n}=e,s=dr(vr,i);return(0,E.createElement)(_.button,(0,z.Z)({type:"button"},n,{ref:t,onClick:Y(e.onClick,(()=>s.onOpenChange(!1)))}))}));function jr(e){return e?"open":"closed"}const Nr="DialogTitleWarning",[Dr,Zr]=function(e,t){const i=(0,E.createContext)(t);function n(e){const{children:t,...n}=e,s=(0,E.useMemo)((()=>n),Object.values(n));return(0,E.createElement)(i.Provider,{value:s},t)}return n.displayName=e+"Provider",[n,function(n){const s=(0,E.useContext)(i);if(s)return s;if(void 0!==t)return t;throw new Error(`\`${n}\` must be used within \`${e}\``)}]}(Nr,{contentName:fr,titleName:xr,docsSlug:"dialog"}),Er=ur,kr=Ir,Tr=yr,zr=Cr;function Wr(e){return(0,T.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",...e,children:(0,T.jsxs)("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[(0,T.jsx)("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),(0,T.jsx)("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:(0,T.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}const Yr=(0,E.forwardRef)((function({small:e,invertIcon:t,icon:i,className:n,...s},o){const r=Hl();return(0,T.jsx)("div",{ref:o,...s,className:$e("tlui-icon",{"tlui-icon__small":e},n),style:{mask:`url(${r.icons[i]}) center 100% / 100% no-repeat`,WebkitMask:`url(${r.icons[i]}) center 100% / 100% no-repeat`,backgroundColor:"currentcolor",transform:t?"scale(-1, 1)":void 0}})}));const Pr="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase().indexOf("mac")>-1,Gr=Pr?"⌘":"Ctrl",Or=Pr?"⌥":"Alt";function Rr(e){return"— "+e.split(",")[0].split("").map((e=>{const t=e.replace(/\$/g,Gr).replace(/\?/g,Or).replace(/!/g,"⇧");return t[0].toUpperCase()+t.slice(1)})).join(" ")}"undefined"==typeof process||"production"===process.env.NEXT_PUBLIC_VERCEL_ENV||"preview"===process.env.NEXT_PUBLIC_VERCEL_ENV&&process.env.NEXT_PUBLIC_VERCEL_URL;function Fr({children:e}){return(0,T.jsx)("kbd",{className:"tlui-kbd",children:(t=e,t.split(",")[0].split("").map((e=>{const t=e.replace(/\$/g,Gr).replace(/\?/g,Or).replace(/!/g,"⇧");return t[0].toUpperCase()+t.slice(1)}))).map(((e,t)=>(0,T.jsx)("span",{children:e},t)))});var t}const Br=E.forwardRef((function({label:e,icon:t,invertIcon:i,iconLeft:n,smallIcon:s,kbd:o,isChecked:r=!1,type:a="normal",children:l,spinner:c,...d},u){const h=Ul(),p=e?h(e):"";return(0,T.jsxs)("button",{ref:u,draggable:!1,type:"button",...d,title:d.title??p,className:$e("tlui-button",`tlui-button__${a}`,d.className),children:[n&&(0,T.jsx)(Yr,{icon:n,className:"tlui-icon-left",small:!0}),l,e&&(0,T.jsxs)("span",{draggable:!1,children:[p,r&&(0,T.jsx)(Yr,{icon:"check"})]}),o&&(0,T.jsx)(Fr,{children:o}),t&&!c&&(0,T.jsx)(Yr,{icon:t,small:!!e||s,invertIcon:i}),c&&(0,T.jsx)(Wr,{})]})}));function Jr({className:e,children:t}){return(0,T.jsx)("div",{className:$e("tlui-dialog__header",e),children:t})}function Hr({className:e,children:t}){return(0,T.jsx)(Sr,{dir:"ltr",className:$e("tlui-dialog__header__title",e),children:t})}function Xr(){return(0,T.jsx)("div",{className:"tlui-dialog__header__close",children:(0,T.jsx)(Lr,{"data-wd":"dialog.close",dir:"ltr",asChild:!0,children:(0,T.jsx)(Br,{"aria-label":"Close",onTouchEnd:e=>e.target.click(),children:(0,T.jsx)(Yr,{small:!0,icon:"cross-2"})})})})}function Vr({className:e,children:t,style:i}){return(0,T.jsx)("div",{className:$e("tlui-dialog__body",e),style:i,children:t})}function _r({className:e,children:t}){return(0,T.jsx)("div",{className:$e("tlui-dialog__footer",e),children:t})}const Ur="DropdownMenu",[Kr,Qr]=O(Ur,[ms]),qr=ms(),[$r,ea]=Kr(Ur),ta=e=>{const{__scopeDropdownMenu:t,children:i,dir:n,open:s,defaultOpen:o,onOpenChange:r,modal:a=!0}=e,l=qr(t),c=(0,E.useRef)(null),[d=!1,u]=he({prop:s,defaultProp:o,onChange:r});return(0,E.createElement)($r,{scope:t,triggerId:bt(),triggerRef:c,contentId:bt(),open:d,onOpenChange:u,onOpenToggle:(0,E.useCallback)((()=>u((e=>!e))),[u]),modal:a},(0,E.createElement)(ao,(0,z.Z)({},l,{open:d,onOpenChange:u,dir:n,modal:a}),i))},ia="DropdownMenuTrigger",na=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,disabled:n=!1,...s}=e,o=ea(ia,i),r=qr(i);return(0,E.createElement)(lo,(0,z.Z)({asChild:!0},r),(0,E.createElement)(_.button,(0,z.Z)({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},s,{ref:P(t,o.triggerRef),onPointerDown:Y(e.onPointerDown,(e=>{n||0!==e.button||!1!==e.ctrlKey||(o.onOpenToggle(),o.open||e.preventDefault())})),onKeyDown:Y(e.onKeyDown,(e=>{n||(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})))})),sa=e=>{const{__scopeDropdownMenu:t,...i}=e,n=qr(t);return(0,E.createElement)(co,(0,z.Z)({},n,i))},oa="DropdownMenuContent",ra=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,...n}=e,s=ea(oa,i),o=qr(i),r=(0,E.useRef)(!1);return(0,E.createElement)(uo,(0,z.Z)({id:s.contentId,"aria-labelledby":s.triggerId},o,n,{ref:t,onCloseAutoFocus:Y(e.onCloseAutoFocus,(e=>{var t;r.current||null===(t=s.triggerRef.current)||void 0===t||t.focus(),r.current=!1,e.preventDefault()})),onInteractOutside:Y(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,i=0===t.button&&!0===t.ctrlKey,n=2===t.button||i;s.modal&&!n||(r.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))})),aa=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,...n}=e,s=qr(i);return(0,E.createElement)(ho,(0,z.Z)({},s,n,{ref:t}))})),la=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,...n}=e,s=qr(i);return(0,E.createElement)(po,(0,z.Z)({},s,n,{ref:t}))})),ca=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,...n}=e,s=qr(i);return(0,E.createElement)(go,(0,z.Z)({},s,n,{ref:t}))})),da=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,...n}=e,s=qr(i);return(0,E.createElement)(Io,(0,z.Z)({},s,n,{ref:t}))})),ua=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,...n}=e,s=qr(i);return(0,E.createElement)(yo,(0,z.Z)({},s,n,{ref:t}))})),ha=(0,E.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:i,...n}=e,s=qr(i);return(0,E.createElement)(bo,(0,z.Z)({},s,n,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))})),pa=ta,ga=na,Ia=sa,ma=ra,ya=aa,ba=la,fa=ca,Ca=da,wa=e=>{const{__scopeDropdownMenu:t,children:i,open:n,onOpenChange:s,defaultOpen:o}=e,r=qr(t),[a=!1,l]=he({prop:n,defaultProp:o,onChange:s});return(0,E.createElement)(mo,(0,z.Z)({},r,{open:a,onOpenChange:l}),i)},Ma=ua,Aa=ha;function xa({id:e,open:t,children:i,modal:n=!1}){const s=sd(e);return(0,T.jsx)(pa,{open:t,dir:"ltr",modal:n,onOpenChange:s,children:i})}function Sa({children:e,"data-wd":t}){return(0,T.jsx)(ga,{dir:"ltr","data-wd":t,asChild:!0,children:e})}function va({side:e="bottom",align:t="start",sideOffset:i=8,alignOffset:s=8,children:o}){const r=(0,n.uK4)();return(0,T.jsx)(Ia,{dir:"ltr",container:r,children:(0,T.jsx)(ma,{className:"tlui-menu",align:t,sideOffset:i,side:e,alignOffset:s,collisionPadding:4,children:o})})}function La({id:e,children:t,open:i}){const n=sd(e);return(0,T.jsx)(wa,{open:i,onOpenChange:n,children:t})}function ja({label:e,"data-wd":t,"data-direction":i}){return(0,T.jsx)(Ma,{dir:"ltr","data-direction":i,"data-wd":t,asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button tlui-menu__submenu__trigger",label:e,icon:"chevron-right"})})}function Na({alignOffset:e=0,sideOffset:t=5,children:i}){const s=(0,n.uK4)();return(0,T.jsx)(Ia,{container:s,dir:"ltr",children:(0,T.jsx)(Aa,{className:"tlui-menu tlui-menu__submenu__content",alignOffset:e,sideOffset:t,collisionPadding:4,children:i})})}function Da({children:e,size:t="medium"}){return(0,T.jsx)(ya,{dir:"ltr",className:"tlui-menu__group","data-size":t,children:e})}function Za({noClose:e,...t}){return(0,T.jsx)(ba,{dir:"ltr",asChild:!0,onClick:e||void 0!==t.isChecked?n.PFJ:void 0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",...t})})}function Ea({children:e,onSelect:t,...i}){return(0,T.jsxs)(fa,{dir:"ltr",className:"tlui-button tlui-menu__button tlui-menu__checkbox-item",onSelect:e=>{t?.(e),(0,n.PFJ)(e)},...i,children:[(0,T.jsx)("div",{className:"tlui-menu__checkbox-item__check",style:{transformOrigin:"75% center",transform:`scale(${i.checked?1:.5})`,opacity:i.checked?1:.5},children:(0,T.jsx)(Yr,{small:!0,icon:i.checked?"check":"checkbox-empty"})}),e]})}function ka({children:e,onSelect:t,...i}){return(0,T.jsxs)(fa,{dir:"ltr",className:"tlui-button tlui-menu__button tlui-menu__checkbox-item",onSelect:e=>{t?.(e),(0,n.PFJ)(e)},...i,children:[(0,T.jsx)(Ca,{dir:"ltr",className:"tlui-menu__checkbox-item__check",children:(0,T.jsx)(Yr,{icon:"check"})}),e]})}const Ta=E.memo((function(e){const{items:t,title:i,styleType:s,value:o=null,onValueChange:r,columns:a=(t.length<4?2:4)}=e,l=(0,n.qDZ)(),c=Ul(),d=(0,E.useRef)(!1),{handleButtonClick:u,handleButtonPointerDown:h,handleButtonPointerEnter:p,handleButtonPointerUp:g}=E.useMemo((()=>{const e=()=>{d.current=!1,window.removeEventListener("pointerup",e)};return{handleButtonClick:e=>{const{id:i}=e.currentTarget.dataset;o!==i&&(l.mark("point picker item"),r(t.find((e=>e.id===i)),!1))},handleButtonPointerDown:i=>{const{id:n}=i.currentTarget.dataset;l.mark("point picker item"),r(t.find((e=>e.id===n)),!0),d.current=!0,window.addEventListener("pointerup",e)},handleButtonPointerEnter:e=>{if(!d.current)return;const{id:i}=e.currentTarget.dataset;r(t.find((e=>e.id===i)),!0)},handleButtonPointerUp:e=>{const{id:i}=e.currentTarget.dataset;r(t.find((e=>e.id===i)),!1)}}}),[l,o,r,t]);return(0,T.jsx)("div",{className:$e("tlui-button-grid",{"tlui-button-grid__two":2===a,"tlui-button-grid__three":3===a,"tlui-button-grid__four":4===a}),children:t.map((t=>(0,T.jsx)(Br,{"data-id":t.id,"data-wd":`${e["data-wd"]}.${t.id}`,"aria-label":t.id,"data-state":o===t.id?"hinted":void 0,title:i+" — "+c(`${s}-style.${t.id}`),className:$e("tlui-button-grid__button"),style:"color"===t.type?{color:`var(--palette-${t.id})`}:void 0,onPointerEnter:p,onPointerDown:h,onPointerUp:g,onClick:u,icon:t.icon},t.id)))})})),za=E.forwardRef((function({className:e,label:t,icon:i,iconLeft:n,autoselect:s=!1,autofocus:o=!1,defaultValue:r,placeholder:a,onComplete:l,onValueChange:c,onCancel:d,shouldManuallyMaintainScrollPositionWhenFocused:u=!1,children:h},p){const g=E.useRef(null);E.useImperativeHandle(p,(()=>g.current));const I=Ul(),m=E.useRef(r??""),y=E.useRef(r??""),[b,f]=E.useState(!1),C=E.useCallback((e=>{f(!0);const t=e.currentTarget;y.current=t.value,requestAnimationFrame((()=>{s&&t.select()}))}),[s]),w=E.useCallback((e=>{const t=e.currentTarget.value;y.current=t,c?.(t)}),[c]),M=E.useCallback((e=>{switch(e.key){case"Enter":e.currentTarget.blur(),e.stopPropagation(),l?.(e.currentTarget.value);break;case"Escape":e.currentTarget.value=m.current,e.currentTarget.blur(),e.stopPropagation(),d?.(e.currentTarget.value)}}),[l,d]),A=E.useCallback((()=>f(!1)),[]);return E.useEffect((()=>{const e=window.visualViewport;if(b&&u&&e){const t=()=>{g.current?.scrollIntoView({block:"center"})};return e.addEventListener("resize",t),e.addEventListener("scroll",t),requestAnimationFrame((()=>{g.current?.scrollIntoView({block:"center"})})),()=>{e.removeEventListener("resize",t),e.removeEventListener("scroll",t)}}}),[b,u]),(0,T.jsxs)("div",{draggable:!1,className:"tlui-input__wrapper",children:[h,t&&(0,T.jsx)("label",{children:I(t)}),n&&(0,T.jsx)(Yr,{icon:n,className:"tlui-icon-left",small:!0}),(0,T.jsx)("input",{ref:g,className:$e("tlui-input",e),type:"text",defaultValue:r,onKeyUp:M,onChange:w,onFocus:C,onBlur:A,autoFocus:o,placeholder:a}),i&&(0,T.jsx)(Yr,{icon:i,small:!!t})]})}));const Wa=["PageUp","PageDown"],Ya=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pa={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ga="Slider",[Oa,Ra,Fa]=V(Ga),[Ba,Ja]=O(Ga,[Fa]),[Ha,Xa]=Ba(Ga),Va=(0,E.forwardRef)(((e,t)=>{const{name:i,min:n=0,max:s=100,step:o=1,orientation:r="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:u=(()=>{}),onValueCommit:h=(()=>{}),inverted:p=!1,...g}=e,[I,m]=(0,E.useState)(null),y=G(t,(e=>m(e))),b=(0,E.useRef)(new Set),f=(0,E.useRef)(0),C="horizontal"===r,w=!I||Boolean(I.closest("form")),M=C?Ka:Qa,[A=[],x]=he({prop:d,defaultProp:c,onChange:e=>{var t;null===(t=[...b.current][f.current])||void 0===t||t.focus(),u(e)}}),S=(0,E.useRef)(A);function v(e,t,{commit:i}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(o),a=function(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}(Math.round((e-n)/o)*o+n,r),c=function(e,[t,i]){return Math.min(i,Math.max(t,e))}(a,[n,s]);x(((e=[])=>{const n=function(e=[],t,i){const n=[...e];return n[i]=t,n.sort(((e,t)=>e-t))}(e,c,t);if(function(e,t){if(t>0){const i=function(e){return e.slice(0,-1).map(((t,i)=>e[i+1]-t))}(e);return Math.min(...i)>=t}return!0}(n,l*o)){f.current=n.indexOf(c);const t=String(n)!==String(e);return t&&i&&h(n),t?n:e}return e}))}return(0,E.createElement)(Ha,{scope:e.__scopeSlider,disabled:a,min:n,max:s,valueIndexToChangeRef:f,thumbs:b.current,values:A,orientation:r},(0,E.createElement)(Oa.Provider,{scope:e.__scopeSlider},(0,E.createElement)(Oa.Slot,{scope:e.__scopeSlider},(0,E.createElement)(M,(0,z.Z)({"aria-disabled":a,"data-disabled":a?"":void 0},g,{ref:y,onPointerDown:Y(g.onPointerDown,(()=>{a||(S.current=A)})),min:n,max:s,inverted:p,onSlideStart:a?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const i=e.map((e=>Math.abs(e-t))),n=Math.min(...i);return i.indexOf(n)}(A,e);v(e,t)},onSlideMove:a?void 0:function(e){v(e,f.current)},onSlideEnd:a?void 0:function(){const e=S.current[f.current];A[f.current]!==e&&h(A)},onHomeKeyDown:()=>!a&&v(n,0,{commit:!0}),onEndKeyDown:()=>!a&&v(s,A.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!a){const i=Wa.includes(e.key)||e.shiftKey&&Ya.includes(e.key)?10:1,n=f.current;v(A[n]+o*i*t,n,{commit:!0})}}})))),w&&A.map(((e,t)=>(0,E.createElement)(rl,{key:t,name:i?i+(A.length>1?"[]":""):void 0,value:e}))))})),[_a,Ua]=Ba(Ga,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ka=(0,E.forwardRef)(((e,t)=>{const{min:i,max:n,dir:s,inverted:o,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=(0,E.useState)(null),p=G(t,(e=>h(e))),g=(0,E.useRef)(),I=it(s),m="ltr"===I,y=m&&!o||!m&&o;function b(e){const t=g.current||u.getBoundingClientRect(),s=ll([0,t.width],y?[i,n]:[n,i]);return g.current=t,s(e-t.left)}return(0,E.createElement)(_a,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width"},(0,E.createElement)(qa,(0,z.Z)({dir:I,"data-orientation":"horizontal"},d,{ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=b(e.clientX);null==r||r(t)},onSlideMove:e=>{const t=b(e.clientX);null==a||a(t)},onSlideEnd:()=>{g.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=Pa[y?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})))})),Qa=(0,E.forwardRef)(((e,t)=>{const{min:i,max:n,inverted:s,onSlideStart:o,onSlideMove:r,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=(0,E.useRef)(null),u=G(t,d),h=(0,E.useRef)(),p=!s;function g(e){const t=h.current||d.current.getBoundingClientRect(),s=ll([0,t.height],p?[n,i]:[i,n]);return h.current=t,s(e-t.top)}return(0,E.createElement)(_a,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1},(0,E.createElement)(qa,(0,z.Z)({"data-orientation":"vertical"},c,{ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=g(e.clientY);null==o||o(t)},onSlideMove:e=>{const t=g(e.clientY);null==r||r(t)},onSlideEnd:()=>{h.current=void 0,null==a||a()},onStepKeyDown:e=>{const t=Pa[p?"from-bottom":"from-top"].includes(e.key);null==l||l({event:e,direction:t?-1:1})}})))})),qa=(0,E.forwardRef)(((e,t)=>{const{__scopeSlider:i,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:r,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=Xa(Ga,i);return(0,E.createElement)(_.span,(0,z.Z)({},c,{ref:t,onKeyDown:Y(e.onKeyDown,(e=>{"Home"===e.key?(r(e),e.preventDefault()):"End"===e.key?(a(e),e.preventDefault()):Wa.concat(Ya).includes(e.key)&&(l(e),e.preventDefault())})),onPointerDown:Y(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():n(e)})),onPointerMove:Y(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)})),onPointerUp:Y(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))}))}))})),$a="SliderTrack",el=(0,E.forwardRef)(((e,t)=>{const{__scopeSlider:i,...n}=e,s=Xa($a,i);return(0,E.createElement)(_.span,(0,z.Z)({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},n,{ref:t}))})),tl="SliderRange",il=(0,E.forwardRef)(((e,t)=>{const{__scopeSlider:i,...n}=e,s=Xa(tl,i),o=Ua(tl,i),r=G(t,(0,E.useRef)(null)),a=s.values.length,l=s.values.map((e=>al(e,s.min,s.max))),c=a>1?Math.min(...l):0,d=100-Math.max(...l);return(0,E.createElement)(_.span,(0,z.Z)({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},n,{ref:r,style:{...e.style,[o.startEdge]:c+"%",[o.endEdge]:d+"%"}}))})),nl="SliderThumb",sl=(0,E.forwardRef)(((e,t)=>{const i=Ra(e.__scopeSlider),[n,s]=(0,E.useState)(null),o=G(t,(e=>s(e))),r=(0,E.useMemo)((()=>n?i().findIndex((e=>e.ref.current===n)):-1),[i,n]);return(0,E.createElement)(ol,(0,z.Z)({},e,{ref:o,index:r}))})),ol=(0,E.forwardRef)(((e,t)=>{const{__scopeSlider:i,index:n,...s}=e,o=Xa(nl,i),r=Ua(nl,i),[a,l]=(0,E.useState)(null),c=G(t,(e=>l(e))),d=Li(a),u=o.values[n],h=void 0===u?0:al(u,o.min,o.max),p=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(n,o.values.length),g=null==d?void 0:d[r.size],I=g?function(e,t,i){const n=e/2,s=ll([0,50],[0,n]);return(n-s(t)*i)*i}(g,h,r.direction):0;return(0,E.useEffect)((()=>{if(a)return o.thumbs.add(a),()=>{o.thumbs.delete(a)}}),[a,o.thumbs]),(0,E.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[r.startEdge]:`calc(${h}% + ${I}px)`}},(0,E.createElement)(Oa.ItemSlot,{scope:e.__scopeSlider},(0,E.createElement)(_.span,(0,z.Z)({role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":u,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},s,{ref:c,style:void 0===u?{display:"none"}:e.style,onFocus:Y(e.onFocus,(()=>{o.valueIndexToChangeRef.current=n}))}))))})),rl=e=>{const{value:t,...i}=e,n=(0,E.useRef)(null),s=function(e){const t=(0,E.useRef)({value:e,previous:e});return(0,E.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(t);return(0,E.useEffect)((()=>{const e=n.current,i=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&o){const i=new Event("input",{bubbles:!0});o.call(e,t),e.dispatchEvent(i)}}),[s,t]),(0,E.createElement)("input",(0,z.Z)({style:{display:"none"}},i,{ref:n,defaultValue:t}))};function al(e,t,i){return 100/(i-t)*(e-t)}function ll(e,t){return i=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(i-e[0])}}const cl=Va,dl=el,ul=il,hl=sl;function pl(e){const{title:t,steps:i,value:s,label:o,onValueChange:r}=e,a=(0,n.qDZ)(),l=Ul(),c=(0,E.useCallback)((e=>{r(e[0],!0)}),[r]),d=(0,E.useCallback)((()=>{a.mark("click slider")}),[a]),u=(0,E.useCallback)((()=>{s&&r(s,!1)}),[s,r]);return(0,T.jsx)("div",{className:"tlui-slider__container",children:(0,T.jsxs)(cl,{"data-wd":e["data-wd"],className:"tlui-slider","area-label":"Opacity",dir:"ltr",min:0,max:i,step:1,value:s?[s]:void 0,onPointerDown:d,onValueChange:c,onPointerUp:u,title:t+" — "+l(o),children:[(0,T.jsx)(dl,{className:"tlui-slider__track",dir:"ltr",children:null!==s&&(0,T.jsx)(ul,{className:"tlui-slider__range",dir:"ltr"})}),null!==s&&(0,T.jsx)(hl,{className:"tlui-slider__thumb",dir:"ltr"})]})})}const gl=new RegExp(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);function Il(e){return!!gl.test(e)||!!gl.test("https://"+e)&&"needs protocol"}const ml=(0,et.j)((function({onClose:e}){const t=(0,n.qDZ)(),i=Ul(),s=t.onlySelectedShape,[o,r]=(0,E.useState)(Il(s?.props.url)),a=(0,E.useRef)(s?.props.url),l=(0,E.useRef)(s?.props.url),c=(0,E.useCallback)((e=>{const t=Il(e.trim());r((e=>e===t?e:t)),t&&(l.current=e)}),[]),d=(0,E.useCallback)((()=>{t.setProp("url","",!1),e()}),[t,e]),u=(0,E.useCallback)((i=>{const n=Il(i=i.trim()),s=t.selectedShapes[0];if(s){const e=s.props.url,o=n?"needs protocol"===n?"https://"+i:i:"bookmark"===s.type?a.current:"";void 0!==e&&e!==o&&t.setProp("url",o,!1)}e()}),[t,e]),h=(0,E.useCallback)((()=>{e()}),[e]);if(!s)return e(),null;const p=a.current&&!o;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(Jr,{children:[(0,T.jsx)(Hr,{children:i("edit-link-dialog.title")}),(0,T.jsx)(Xr,{})]}),(0,T.jsx)(Vr,{children:(0,T.jsxs)("div",{className:"tlui-edit-link-dialog",children:[(0,T.jsx)(za,{className:"tlui-edit-link-dialog__input",label:"edit-link-dialog.url",defaultValue:o?"needs protocol"===o?"https://"+s.props.url:s.props.url:"https://",autofocus:!0,onValueChange:c,onComplete:u,onCancel:h}),(0,T.jsx)("div",{children:i(o?"edit-link-dialog.detail":"edit-link-dialog.invalid-url")})]})}),(0,T.jsxs)(_r,{className:"tlui-dialog__footer__actions",children:[(0,T.jsx)(Br,{onClick:h,onTouchEnd:h,children:i("edit-link-dialog.cancel")}),p?(0,T.jsx)(Br,{type:"danger",onTouchEnd:d,onClick:d,children:i("edit-link-dialog.clear")}):(0,T.jsx)(Br,{type:"primary",disabled:!o,onTouchEnd:()=>u(l.current),onClick:()=>u(l.current),children:i("edit-link-dialog.save")})]})]})}));var yl=i(26961);function bl(){const e=(0,n.qDZ)();return(0,et.Hg)("app.isFocused",(()=>e.isFocused),[e])}async function fl(e){return new Promise(((t,i)=>{const n=new FileReader;n.addEventListener("loadend",(()=>{const e=n.result;t(e)})),n.addEventListener("error",(()=>{i(n.error)})),n.readAsText(e)}))}async function Cl(e){return new Promise((t=>{e.getAsString((e=>{t(e)}))}))}const wl=["input","select","textarea"];function Ml(e){const{activeElement:t}=document;return e.isMenuOpen||t&&(t.getAttribute("contenteditable")||wl.indexOf(t.tagName.toLowerCase())>-1)}function Al(e){const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,t.body.textContent||t.body.innerText||""}const xl=async(e,t,i)=>{const n=i??(e.inputs.shiftKey?e.inputs.currentPagePoint:void 0);e.mark("paste"),e.putContent(t,{point:n,select:!0})},Sl=async(e,t,i)=>{const s=i??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.viewportPageCenter);try{const i=await fetch(t);if(i.headers.get("content-type")?.match(/^image\//))return e.mark("paste"),void vl(e,[t])}catch(Hu){"Failed to fetch"!==Hu.message&&console.error(Hu)}const o=(0,n.kGR)(t);o?(e.mark("paste"),(0,n.NW0)(e,o.url,s,o.definition)):(e.mark("paste"),await(0,n.XU$)(e,t,s))},vl=async(e,t,i)=>{const s=i??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.viewportPageCenter),o=(await Promise.all(t.map((async e=>await(await fetch(e)).blob())))).map((e=>new File([e],"TLdrawFile",{type:e.type})));e.mark("paste"),await(0,n.aou)(e,o,s,!1),t.forEach((e=>URL.revokeObjectURL(e)))},Ll=e=>{const t=e.getContent();if(!t)return void window.navigator.clipboard.writeText("");const i=(o=t,r="content",(0,yl.compressToBase64)(JSON.stringify({type:"application/tldraw",kind:r,data:o})));var o,r;if(void 0!==window?.navigator){const e=t.shapes.map((e=>n.MjR.is(e)||n.XM1.is(e)||n.DwZ.is(e)?e.props.text:n.Yzh.is(e)||n.xmU.is(e)?e.props.url:null)).filter(s.GT);if(navigator.clipboard?.write){const t=new Blob([`<tldraw>${i}</tldraw>`],{type:"text/html"});let n=e.join(" ");""===n&&(n=" "),navigator.clipboard.write([new ClipboardItem({"text/html":t,"text/plain":new Blob([n],{type:"text/plain"})})])}else navigator.clipboard.writeText&&navigator.clipboard.writeText(`<tldraw>${i}</tldraw>`)}},jl=(e,t,i)=>{const s=(0,n.T6R)(t);if(s)for(const n of s)Sl(e,n,i);else(0,n.i87)(t)?Sl(e,t,i):(0,n.Co2)(t)?((e,t,i)=>{const s=i??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.viewportPageCenter);e.mark("paste"),(0,n.bcf)(e,t,s)})(e,t,i):(async(e,t,i)=>{const s=i??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.viewportPageCenter),o=e.getShapeUtilByDef(n.MjR).defaultProps(),{w:r,h:a}=e.textMeasure.measureText({...n.Pmg,text:Al(t),fontFamily:n.Lh0[o.font],fontSize:n.ums[o.size],width:"fit-content"});e.mark("paste"),e.createShapes([{id:(0,n.F17)(),type:"text",x:s.x-r/2,y:s.y-a/2,props:{text:Al(t),autoSize:!0}}])})(e,t,i)};const Nl=async(e,t,i)=>{const n=t.map((e=>URL.createObjectURL(e)));vl(e,n,i)},Dl=async(e,t,i)=>{const n=t.match(/<tldraw[^>]*>(.*)<\/tldraw>/)?.[1];if(n)try{const t=JSON.parse((0,yl.decompressFromBase64)(n));"application/tldraw"===t.type?xl(e,t.data,i):jl(e,n,i)}catch(s){jl(e,n,i)}else{const n=(new DOMParser).parseFromString(t,"text/html").querySelector("body");if(n&&1===Array.from(n.children).filter((e=>1===e.nodeType)).length&&n.firstElementChild&&"A"===n.firstElementChild.tagName&&n.firstElementChild.hasAttribute("href")&&""!==n.firstElementChild.getAttribute("href")){const t=n.firstElementChild.getAttribute("href");jl(e,t,i)}else jl(e,t,i)}},Zl=async(e,t,i)=>{const o=t.trim(),r=t.match(/<tldraw[^>]*>(.*)<\/tldraw>/)?.[1];if(r)Dl(e,t);else if(o)try{const t=JSON.parse(o);"application/tldraw"===t.type?xl(e,t.data,i):"excalidraw/clipboard"===t.type?async function(e,t,i){const{elements:o,files:r}=t,a={shapes:[],rootShapeIds:[],assets:[],schema:e.store.schema.serialize()},l=new Map,c=new Map,d=e=>{const t=e/100;return t<.2?"0.1":t<.4?"0.25":t<.6?"0.5":t<.8?"0.75":"1"},u={1:"s",2:"m",3:"l",4:"xl"},h={16:"s",20:"m",28:"l",36:"xl"};function p(e){const t=h[e];return t?{size:t,scale:1}:e<16?{size:"s",scale:e/16}:e>36?{size:"xl",scale:e/36}:{size:"m",scale:1}}const g={1:"draw",2:"sans",3:"mono"},I={"#ffffff":"grey","#000000":"black","#343a40":"grey","#495057":"grey","#c92a2a":"red","#a61e4d":"light-red","#862e9c":"violet","#5f3dc4":"light-violet","#364fc7":"blue","#1864ab":"light-blue","#0b7285":"light-green","#087f5b":"light-green","#2b8a3e":"green","#5c940d":"light-green","#e67700":"yellow","#d9480f":"orange","#ced4da":"grey","#868e96":"grey","#fa5252":"light-red","#e64980":"red","#be4bdb":"light-violet","#7950f2":"violet","#4c6ef5":"blue","#228be6":"light-blue","#15aabf":"light-green","#12b886":"green","#40c057":"green","#82c91e":"light-green","#fab005":"yellow","#fd7e14":"orange","#212529":"grey"},m={solid:"draw",dashed:"dashed",dotted:"dotted"},y={"cross-hatch":"pattern",hachure:"pattern",solid:"solid"},b={left:"start",center:"middle",right:"end"},f={arrow:"arrow",dot:"dot",triangle:"triangle",bar:"pipe"};function C(e,t,i){let n=0;if(e.points.length>2){const s=new or.GF(t[0],t[1]),o=new or.GF(i[0],i[1]),r=new or.GF(e.points[1][0],e.points[1][1]),a=or.GF.Sub(o,s),l=or.GF.Per(a),c=or.GF.Med(o,s),d=or.GF.Sub(c,l),u=or.GF.Add(c,l),h=or.GF.NearestPointOnLineSegment(d,u,r,!1);n=or.GF.Dist(h,c),or.GF.Clockwise(h,o,c)&&(n*=-1)}return n}const w=e=>{let t=m[e.strokeStyle]??"draw";return"draw"===t&&0===e.roughness&&(t="solid"),t},M=e=>"transparent"===e.backgroundColor?"none":y[e.fillStyle]??"solid",{currentPageId:A}=e;let x="a1";const S=new Map,v=[],L=new Set;o.forEach((t=>{if(S.set(t.id,e.createShapeId()),null!==t.boundElements)for(const e of t.boundElements)"text"===e.type&&L.add(e.id)}));for(const s of o){if(L.has(s.id))continue;const e=S.get(s.id),t={id:e,typeName:"shape",parentId:A,index:x,x:s.x,y:s.y,rotation:0,isLocked:s.locked};switch(0!==s.angle&&c.set(e,s.angle),s.groupIds&&s.groupIds.length>0?l.has(s.groupIds[0])?l.get(s.groupIds[0])?.push(e):l.set(s.groupIds[0],[e]):v.push(e),s.type){case"rectangle":case"ellipse":case"diamond":{let e="",i="middle";if(null!==s.boundElements)for(const t of s.boundElements)if("text"===t.type){const n=o.find((e=>e.id===t.id));n&&(e=n.text,i=b[n.textAlign])}const n="transparent"===s.backgroundColor?s.strokeColor:s.backgroundColor;a.shapes.push({...t,type:"geo",props:{geo:s.type,opacity:d(s.opacity),url:s.link??"",w:s.width,h:s.height,size:u[s.strokeWidth]??"draw",color:I[n]??"black",text:e,align:i,dash:w(s),fill:M(s)}});break}case"freedraw":a.shapes.push({...t,type:"draw",props:{dash:w(s),size:u[s.strokeWidth],opacity:d(s.opacity),color:I[s.strokeColor]??"black",segments:[{type:"free",points:s.points.map((([e,t,i=.5])=>({x:e,y:t,z:i})))}]}});break;case"line":{const e=s.points[0],i=s.points[s.points.length-1],o=(0,n.H$$)(s.points.length);a.shapes.push({...t,type:"line",props:{dash:w(s),size:u[s.strokeWidth],opacity:d(s.opacity),color:I[s.strokeColor]??"black",spline:s.roundness?"cubic":"line",handles:{start:{id:"start",type:"vertex",index:o[0],x:e[0],y:e[1]},end:{id:"end",type:"vertex",index:o[o.length-1],x:i[0],y:i[1]},...Object.fromEntries(s.points.slice(1,-1).map((([e,t],i)=>{const s=(0,n.ELf)();return[s,{id:s,type:"vertex",index:o[i+1],x:e,y:t}]})))}}});break}case"arrow":{let e="";if(null!==s.boundElements)for(const t of s.boundElements)if("text"===t.type){const i=o.find((e=>e.id===t.id));i&&(e=i.text)}const i=s.points[0],n=s.points[s.points.length-1],r=S.get(s.startBinding?.elementId),l=S.get(s.endBinding?.elementId);a.shapes.push({...t,type:"arrow",props:{text:e,bend:C(s,i,n),dash:w(s),opacity:d(s.opacity),size:u[s.strokeWidth]??"m",color:I[s.strokeColor]??"black",start:r?{type:"binding",boundShapeId:r,normalizedAnchor:{x:.5,y:.5},isExact:!1}:{type:"point",x:i[0],y:i[1]},end:l?{type:"binding",boundShapeId:l,normalizedAnchor:{x:.5,y:.5},isExact:!1}:{type:"point",x:n[0],y:n[1]},arrowheadEnd:f[s.endArrowhead]??"none",arrowheadStart:f[s.startArrowhead]??"none"}});break}case"text":{const{size:e,scale:i}=p(s.fontSize);a.shapes.push({...t,type:"text",props:{size:e,scale:i,font:g[s.fontFamily]??"draw",opacity:d(s.opacity),color:I[s.strokeColor]??"black",text:s.text,align:b[s.textAlign]}});break}case"image":{const e=r[s.fileId];if(!e)break;const i=n.F7R.createId();a.assets.push({id:i,typeName:"asset",type:"image",props:{w:s.width,h:s.height,name:s.id??"Untitled",isAnimated:!1,mimeType:e.mimeType,src:e.dataURL}}),a.shapes.push({...t,type:"image",props:{opacity:d(s.opacity),w:s.width,h:s.height,assetId:i}})}}x=(0,n._LC)(x)}const j=i??(e.inputs.shiftKey?e.inputs.currentPagePoint:void 0);e.mark("paste"),e.putContent(a,{point:j,select:!1,preserveIds:!0});for(const s of l.values())if(s.length>1){e.groupShapes(s);const t=e.getShapeById(s[0]);t?.parentId&&(0,n.YTh)(t.parentId)&&v.push(t.parentId)}for(const[n,s]of c)e.select(n),e.rotateShapesBy([n],s);const N=(0,s.oA)(v.map((t=>e.getShapeById(t)))),D=or.No.Common(N.map((t=>e.getPageBounds(t)))),Z=e.viewportPageBounds.center;e.updateShapes(N.map((e=>{const t=(e.x??0)-(D.x+D.w/2),i=(e.y??0)-(D.y+D.h/2);return{id:e.id,type:e.type,x:Z.x+t,y:Z.y+i}}))),e.setSelectedIds(v)}(e,t,i):jl(e,o,i)}catch(a){jl(e,o,i)}},El=async(e,t,i)=>{if(e.isIn("select.editing"))return;const n=t.some((e=>(e=>e.types.find((e=>e.match(/^image\//))))(e))),s=t.some((e=>e.types.includes("text/html"))),o=t.filter((e=>!!e.types.find((e=>e.match(/^image\//)))));await Promise.all(o.map((async t=>{const n=t.types.find((e=>"text/plain"!==e&&"text/html"!==e));if(n){const s=await t.getType(n);s&&await Nl(e,[s],i)}})));for(const r of t)if(r.types.includes("text/html")){if(n)break;const t=await r.getType("text/html");await Dl(e,await fl(t),i)}else if(r.types.includes("text/uri-list")){if(s)break;const t=await r.getType("text/uri-list");await Sl(e,await fl(t),i)}else if(r.types.includes("text/plain")){if(s)break;const t=await r.getType("text/plain");await Zl(e,await fl(t),i)}};function kl(){const e=(0,n.qDZ)(),t=(0,E.useCallback)((function(){0!==e.selectedIds.length&&Ll(e)}),[e]),i=(0,E.useCallback)((function(){0!==e.selectedIds.length&&(Ll(e),e.deleteShapes())}),[e]),s=(0,E.useCallback)((async function(t,i){Array.isArray(t)&&t[0]instanceof ClipboardItem?El(e,t,i):navigator.clipboard.read().then((t=>{s(t,e.inputs.currentPagePoint)}))}),[e]);return{copy:t,cut:i,paste:s}}function Tl(){const e=(0,n.qDZ)(),t=bl();(0,E.useEffect)((()=>{if(!t)return;const i=()=>{0===e.selectedIds.length||null!==e.editingId||Ml(e)||Ll(e)};function n(){0===e.selectedIds.length||null!==e.editingId||Ml(e)||(Ll(e),e.deleteShapes())}const s=t=>{null!==e.editingId||Ml(e)||(t.clipboardData&&!e.inputs.shiftKey?(async(e,t,i)=>{if(!e.isIn("select.editing")&&t){const n=Object.values(t.items),s=n.some((e=>"file"===e.kind)),o=n.some((e=>"text/html"===e.type)),r=[],a=[];n.forEach((e=>{if("file"===e.kind){const t=e.getAsFile();t&&r.push(t)}else"string"===e.kind&&a.push(e)})),r.length>0&&Nl(e,r,i);for(const t of a)s||"text/html"!==t.type?"text/plain"===t.type&&(o||await Zl(e,await Cl(t),i)):await Dl(e,await Cl(t),i)}})(e,t.clipboardData):navigator.clipboard.read().then((t=>{Array.isArray(t)&&t[0]instanceof ClipboardItem&&El(e,t,e.inputs.currentPagePoint)})))};return document.addEventListener("copy",i),document.addEventListener("cut",n),document.addEventListener("paste",s),()=>{document.removeEventListener("copy",i),document.removeEventListener("cut",n),document.removeEventListener("paste",s)}}),[e,t])}const zl=(0,E.createContext)({});function Wl({children:e}){const[t,i]=(0,E.useState)([]),s=(0,E.useCallback)((e=>{const t=e.id??(0,n.ELf)();return i((i=>[...i.filter((t=>t.id!==e.id)),{...e,id:t}])),t}),[]),o=(0,E.useCallback)((e=>(i((t=>t.filter((t=>t.id!==e)))),e)),[]),r=(0,E.useCallback)((()=>{i((()=>[]))}),[]);return(0,T.jsx)(zl.Provider,{value:{toasts:t,addToast:s,removeToast:o,clearToasts:r},children:e})}function Yl(){const e=(0,E.useContext)(zl);if(!e)throw new Error("useToasts must be used within a ToastsProvider");return e}const Pl={"action.convert-to-bookmark":"Convert to Bookmark","action.convert-to-embed":"Convert to Embed","action.open-embed-link":"Open link","action.align-bottom":"Align bottom","action.align-center-horizontal":"Align horizontally","action.align-center-vertical":"Align vertically","action.align-center-horizontal.short":"Align H","action.align-center-vertical.short":"Align V","action.align-left":"Align left","action.align-right":"Align right","action.align-top":"Align top","action.back-to-content":"Back to content","action.bring-forward":"Bring forward","action.bring-to-front":"Bring to front","action.copy-as-json.short":"JSON","action.copy-as-json":"Copy as JSON","action.copy-as-png.short":"PNG","action.copy-as-png":"Copy as PNG","action.copy-as-svg.short":"SVG","action.copy-as-svg":"Copy as SVG","action.copy":"Copy","action.cut":"Cut","action.delete":"Delete","action.distribute-horizontal":"Distribute horizontally","action.distribute-vertical":"Distribute vertically","action.distribute-horizontal.short":"Distribute H","action.distribute-vertical.short":"Distribute V","action.duplicate":"Duplicate","action.edit-link":"Edit link","action.exit-pen-mode":"Exit pen mode","action.export-as-json.short":"JSON","action.export-as-json":"Export as JSON","action.export-as-png.short":"PNG","action.export-as-png":"Export as PNG","action.export-as-svg.short":"SVG","action.export-as-svg":"Export as SVG","action.flip-horizontal":"Flip horizontally","action.flip-vertical":"Flip vertically","action.flip-horizontal.short":"Flip H","action.flip-vertical.short":"Flip V","action.group":"Group","action.insert-media":"Upload media","action.new-shared-project":"New shared project","action.nudge-down":"Nudge down","action.nudge-left":"Nudge left","action.nudge-right":"Nudge right","action.nudge-up":"Nudge up","action.open-file":"Open file","action.pack":"Pack","action.paste":"Paste","action.print":"Print","action.redo":"Redo","action.rotate-ccw":"Rotate counterclockwise","action.rotate-cw":"Rotate clockwise","action.save-copy":"Save a copy","action.select-all":"Select all","action.select-none":"Select none","action.send-backward":"Send backward","action.send-to-back":"Send to back","action.share-project":"Share this project","action.stack-horizontal":"Stack horizontally","action.stack-vertical":"Stack vertically","action.stack-horizontal.short":"Stack H","action.stack-vertical.short":"Stack V","action.stretch-horizontal":"Stretch horizontally","action.stretch-vertical":"Stretch vertically","action.stretch-horizontal.short":"Stretch H","action.stretch-vertical.short":"Stretch V","action.toggle-auto-size":"Toggle auto size","action.toggle-dark-mode.menu":"Dark mode","action.toggle-dark-mode":"Toggle dark mode","action.toggle-debug-mode.menu":"Debug mode","action.toggle-debug-mode":"Toggle debug mode","action.toggle-focus-mode.menu":"Focus mode","action.toggle-focus-mode":"Toggle focus mode","action.toggle-grid.menu":"Show grid","action.toggle-grid":"Toggle grid","action.toggle-snap-mode.menu":"Always snap","action.toggle-snap-mode":"Toggle always snap","action.toggle-tool-lock.menu":"Tool lock","action.toggle-tool-lock":"Toggle tool lock","action.toggle-transparent.context-menu":"Transparent","action.toggle-transparent.menu":"Transparent","action.toggle-transparent":"Toggle transparent background","action.undo":"Undo","action.ungroup":"Ungroup","action.zoom-in":"Zoom in","action.zoom-out":"Zoom out","action.zoom-to-100":"Zoom to 100%","action.zoom-to-fit":"Zoom to fit","action.zoom-to-selection":"Zoom to selection","color-style.black":"Black","color-style.blue":"Blue","color-style.green":"Green","color-style.grey":"Grey","color-style.light-blue":"Light blue","color-style.light-green":"Light green","color-style.light-red":"Light red","color-style.light-violet":"Light violet","color-style.orange":"Orange","color-style.red":"Red","color-style.violet":"Violet","color-style.yellow":"Yellow","fill-style.none":"None","fill-style.semi":"Semi","fill-style.solid":"Solid","fill-style.pattern":"Pattern","dash-style.dashed":"Dashed","dash-style.dotted":"Dotted","dash-style.draw":"Draw","dash-style.solid":"Solid","size-style.s":"Small","size-style.m":"Medium","size-style.l":"Large","size-style.xl":"Extra large","opacity-style.0.1":"10%","opacity-style.0.25":"25%","opacity-style.0.5":"50%","opacity-style.0.75":"75%","opacity-style.1":"100%","font-style.draw":"Draw","font-style.sans":"Sans","font-style.serif":"Serif","font-style.mono":"Mono","align-style.start":"Start","align-style.middle":"Middle","align-style.end":"End","align-style.justify":"Justify","geo-style.arrow-down":"Arrow down","geo-style.arrow-left":"Arrow left","geo-style.arrow-right":"Arrow right","geo-style.arrow-up":"Arrow up","geo-style.diamond":"Diamond","geo-style.ellipse":"Ellipse","geo-style.hexagon":"Hexagon","geo-style.octagon":"Octagon","geo-style.oval":"Oval","geo-style.pentagon":"Pentagon","geo-style.rectangle":"Rectangle","geo-style.rhombus-2":"Rhombus 2","geo-style.rhombus":"Rhombus","geo-style.star":"Star","geo-style.trapezoid":"Trapezoid","geo-style.triangle":"Triangle","geo-style.x-box":"X Box","arrowheadStart-style.none":"None","arrowheadStart-style.arrow":"Arrow","arrowheadStart-style.bar":"Bar","arrowheadStart-style.diamond":"Diamond","arrowheadStart-style.dot":"Dot","arrowheadStart-style.inverted":"Inverted","arrowheadStart-style.pipe":"Pipe","arrowheadStart-style.square":"Square","arrowheadStart-style.triangle":"Triangle","arrowheadEnd-style.none":"None","arrowheadEnd-style.arrow":"Arrow","arrowheadEnd-style.bar":"Bar","arrowheadEnd-style.diamond":"Diamond","arrowheadEnd-style.dot":"Dot","arrowheadEnd-style.inverted":"Inverted","arrowheadEnd-style.pipe":"Pipe","arrowheadEnd-style.square":"Square","arrowheadEnd-style.triangle":"Triangle","spline-style.line":"Line","spline-style.cubic":"Cubic","tool.select":"Select","tool.hand":"Hand","tool.draw":"Draw","tool.eraser":"Eraser","tool.arrow-down":"Arrow down","tool.arrow-left":"Arrow left","tool.arrow-right":"Arrow right","tool.arrow-up":"Arrow up","tool.arrow":"Arrow","tool.diamond":"Diamond","tool.ellipse":"Ellipse","tool.hexagon":"Hexagon","tool.line":"Line","tool.octagon":"Octagon","tool.oval":"Oval","tool.pentagon":"Pentagon","tool.rectangle":"Rectangle","tool.rhombus":"Rhombus","tool.star":"Star","tool.trapezoid":"Trapezoid","tool.triangle":"Triangle","tool.x-box":"X box","tool.asset":"Asset","tool.frame":"Frame","tool.note":"Note","tool.embed":"Embed","tool.text":"Text","menu.title":"Menu","menu.copy-as":"Copy as","menu.edit":"Edit","menu.export-as":"Export as","menu.file":"File","menu.language":"Language","menu.preferences":"Preferences","menu.view":"View","context-menu.arrange":"Arrange","context-menu.copy-as":"Copy as","context-menu.export-as":"Export as","context-menu.move-to-page":"Move to page","context-menu.reorder":"Reorder","page-menu.title":"Pages","page-menu.create-new-page":"Create new page","page-menu.edit-pages":"Edit pages","page-menu.max-page-count-reached":"Max pages reached","page-menu.new-page-initial-name":"Page 1","page-menu.page":"Page","page-menu.edit-start":"Edit","page-menu.edit-done":"Done","page-menu.submenu.rename":"Rename","page-menu.submenu.duplicate-page":"Duplicate","page-menu.submenu.go-to-page":"Go to page","page-menu.submenu.title":"Menu","page-menu.submenu.move-down":"Move down","page-menu.submenu.move-up":"Move up","page-menu.submenu.delete":"Delete","share-menu.title":"Share","share-menu.share-project":"Share this project","share-menu.create-project":"New shared project","share-menu.copy-link":"Copy link","share-menu.readonly-link":"Read-only","share-menu.copy-readonly-link":"Copy read-only link","share-menu.offline-note":"Sharing this project will create a hosted live copy at a new URL. You can share the URL with up to thirty other people to view and edit the project together.","share-menu.copy-link-note":"Anyone with the link will be able to view and edit this project.","share-menu.copy-readonly-link-note":"Anyone with the link will be able to view (but not edit) this project.","share-menu.project-too-large":"Sorry, this project can't be shared because it's too large. We're working on it!","people-menu.title":"People","people-menu.change-name":"Change name","people-menu.change-color":"Change color","people-menu.user":"(You)","people-menu.invite":"Invite others","debug-menu.hard-reset":"Hard reset","debug-menu.create-shapes":"Create 100 shapes","help-menu.title":"Help and resources","help-menu.about":"About","help-menu.discord":"Discord","help-menu.github":"GitHub","help-menu.keyboard-shortcuts":"Keyboard shortcuts","help-menu.twitter":"Twitter","links-menu.about":"About","links-menu.discord":"Discord","links-menu.github":"GitHub","links-menu.twitter":"Twitter","actions-menu.title":"Actions","edit-link-dialog.title":"Edit link","edit-link-dialog.invalid-url":"A link must be a valid URL.","edit-link-dialog.detail":"Links will open in a new tab.","edit-link-dialog.url":"URL","edit-link-dialog.clear":"Clear","edit-link-dialog.save":"Continue","edit-link-dialog.cancel":"Cancel","embed-dialog.title":"Create embed","embed-dialog.url-title":"Create %s embed","embed-dialog.url-label":"Paste URL","embed-dialog.back":"Back","embed-dialog.create":"Create","embed-dialog.cancel":"Cancel","embed-dialog.url":"URL","embed-dialog.instruction":"Paste in the site's URL to create the embed.","embed-dialog.invalid-url":"We could not create an embed from that URL.","edit-pages-dialog.title":"Edit pages","edit-pages-dialog.create-new-page":"Create new page","edit-pages-dialog.delete":"Delete","edit-pages-dialog.duplicate-page":"Duplicate","edit-pages-dialog.go-to-page":"Go to page","edit-pages-dialog.max-page-count-reached":"Max pages reached","edit-pages-dialog.more-menu":"Menu","edit-pages-dialog.move-down":"Move down","edit-pages-dialog.move-up":"Move up","edit-pages-dialog.new-page-initial-name":"Page 1","reload-file-dialog.title":"Continue editing file","reload-file-dialog.description":"You were just editing a file. Would you like to continue editing it?","reload-file-dialog.failure":"Failed to reload file. Try again?","reload-file-dialog.reload":"Continue editing","reload-file-dialog.revert":"No thanks","shortcuts-dialog.title":"Keyboard shortcuts","shortcuts-dialog.edit":"Edit","shortcuts-dialog.file":"File","shortcuts-dialog.preferences":"Preferences","shortcuts-dialog.tools":"Tools","shortcuts-dialog.transform":"Transform","shortcuts-dialog.view":"View","shortcuts-dialog.save":"Continue","style-panel.title":"Styles","style-panel.align":"Align","style-panel.arrowheads":"Arrowheads","style-panel.arrowhead-start":"Start","style-panel.arrowhead-end":"End","style-panel.color":"Color","style-panel.dash":"Dash","style-panel.fill":"Fill","style-panel.font":"Font","style-panel.geo":"Shape","style-panel.label":"Label","style-panel.mixed":"Mixed","style-panel.opacity":"Opacity","style-panel.size":"Size","style-panel.spline":"Spline","style-panel.text":"Text","tool-panel.drawing":"Drawing","tool-panel.geo":"Shape","tool-panel.shapes":"Shapes","tool-panel.things":"Things","tool-panel.tools":"Tools","save-changes-prompt.title":"You have unsaved changes","save-changes-prompt.description":"Would you like to save changes to your current file?","save-changes-prompt.go-back":"Go back","save-changes-prompt.continue":"Continue","navigation-zone.toggle-minimap":"Toggle minimap","navigation-zone.zoom":"Zoom","focus-mode.toggle-focus-mode":"Toggle focus mode","toast.close":"Close","file-system.file-open-error.title":"Could not open file","file-system.file-open-error.not-a-tldraw-file":"The file you tried to open doesn't look like a tldraw file.","file-system.file-open-error.file-format-version-too-new":"The file you tried to open is from a newer version of tldraw. Please reload the page and try again.","file-system.file-open-error.generic-corrupted-file":"The file you tried to open is corrupted.","file-system.confirm-open.title":"Overwrite current project?","file-system.confirm-open.description":"Opening a file will replace your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-open.cancel":"Cancel","file-system.confirm-open.open":"Open file","file-system.confirm-open.dont-show-again":"Don't ask again","file-system.shared-document-file-open-error.title":"Could not open file","file-system.shared-document-file-open-error.description":"Opening files from shared projects is not supported.","toast.error.export-fail.title":"Failed export","toast.error.export-fail.desc":"Failed to export image","toast.error.copy-fail.title":"Failed copy","toast.error.copy-fail.desc":"Failed to copy image","context.pages.new-page":"New page","vscode.file-open.desc":"We've updated this document to work with the current version of tldraw. If you'd like to keep the original version (which will work on old.tldraw.com), click below to create a backup.","vscode.file-open.open":"Continue","vscode.file-open.backup":"Backup","vscode.file-open.backup-saved":"Backup saved","vscode.file-open.backup-failed":"Backup failed: this is not a .tldr file.","vscode.file-open.dont-show-again":"Don't ask again"},Gl=[{locale:"ar",label:"عربي"},{locale:"ca",label:"Català"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Español"},{locale:"fa",label:"فارسی"},{locale:"fi",label:"Suomi"},{locale:"fr",label:"Français"},{locale:"gl",label:"Galego"},{locale:"he",label:"עברית"},{locale:"it",label:"Italiano"},{locale:"ja",label:"日本語"},{locale:"ko-kr",label:"한국어"},{locale:"ku",label:"کوردی"},{locale:"hi-in",label:"हिन्दी"},{locale:"hu",label:"Magyar"},{locale:"my",label:"မြန်မာစာ"},{locale:"ne",label:"नेपाली"},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Português - Brasil"},{locale:"pt-pt",label:"Português - Europeu"},{locale:"ro",label:"Română"},{locale:"ru",label:"Russian"},{locale:"sv",label:"Svenska"},{locale:"te",label:"తెలుగు"},{locale:"th",label:"ภาษาไทย"},{locale:"tr",label:"Türkçe"},{locale:"uk",label:"Ukrainian"},{locale:"vi",label:"Tiếng Việt"},{locale:"zh-cn",label:"Chinese - Simplified"},{locale:"zh-tw",label:"繁體中文 (台灣)"}],Ol={locale:"en",label:"English",messages:Pl};async function Rl(e,t){return await async function(e,t){if(!(await fetch(t.translations.en)).ok)return console.warn("No main translations found."),Ol;if("en"===e)return Ol;const i=Gl.find((t=>t.locale===e));if(!i)return console.warn(`No translation found for locale ${e}`),Ol;const n=await fetch(t.translations[i.locale]),s=await n.json();if(!s)return console.warn(`No messages found for locale ${e}`),Ol;const o=[];for(const r in Ol)s[r]||o.push(r);return o.length,{...Ol,messages:{...Ol.messages,...s}}}(e,t)}function Fl(){const e=(0,n.qDZ)();return{languages:Gl,currentLanguage:e.user.locale}}const Bl=(0,E.createContext)(null);function Jl({assetUrls:e,children:t}){return(0,T.jsx)(Bl.Provider,{value:e,children:t})}function Hl(){const e=(0,E.useContext)(Bl);if(!e)throw new Error("useAssetUrls must be used within an AssetUrlsProvider");return e}const Xl=E.createContext({}),Vl=()=>E.useContext(Xl),_l=(0,et.j)((function({overrides:e,children:t}){const i=(0,n.qDZ)().userSettings.locale,s=Hl(),[o,r]=E.useState((()=>e&&e.en?{locale:"en",label:"English",messages:{...Pl,...e.en}}:{locale:"en",label:"English",messages:Pl}));return E.useEffect((()=>{let t=!1;return async function(){const n=i??navigator.language.split(/[-_]/)[0],o=await Rl(n,s);o&&!t&&(e&&e[n]?r({...o,messages:{...o.messages,...e[n]}}):r(o))}(),()=>{t=!0}}),[s,i,e]),(0,T.jsx)(Xl.Provider,{value:o,children:t})}));function Ul(){const e=Vl();return E.useCallback((function(t){return e.messages[t]??t}),[e])}async function Kl(e,t,i){const n=await e.getSvg(t,{scale:"svg"===i?1:2,background:e.instanceState.exportBackground});if(!n)throw new Error("Could not construct SVG.");return n}async function Ql(e,t){return new Blob([(0,n.y1f)(await Kl(e,t,"svg"))],{type:"text/plain"})}async function ql(e,t,i){return await(0,n.uNu)(await Kl(e,t,i),{type:i,quality:1,scale:1})}async function $l(e){navigator.clipboard.writeText(await e())}const ec=(0,E.createContext)({});function tc({children:e}){const t=(0,n.qDZ)(),[i,s]=(0,E.useState)([]),o=(0,E.useCallback)((e=>{const i=e.id??(0,n.ELf)();return s((t=>[...t.filter((t=>t.id!==e.id)),{...e,id:i}])),t.openMenus.add(i),i}),[t]),r=(0,E.useCallback)(((e,i)=>(s((t=>t.map((t=>t.id===e?{...t,...i}:t)))),t.openMenus.add(e),e)),[t]),a=(0,E.useCallback)((e=>(s((t=>t.filter((t=>t.id!==e||(t.onClose?.(),!1))))),t.openMenus.delete(e),e)),[t]),l=(0,E.useCallback)((()=>{s((e=>(e.forEach((e=>{e.onClose?.(),t.openMenus.delete(e.id)})),[])))}),[t]);return(0,T.jsx)(ec.Provider,{value:{dialogs:i,addDialog:o,removeDialog:a,clearDialogs:l,updateDialog:r},children:e})}function ic(){const e=(0,E.useContext)(ec);if(!e)throw new Error("useDialogs must be used within a DialogsProvider");return e}function nc(){const e=(0,n.qDZ)(),t=(0,E.useRef)();return(0,E.useEffect)((()=>{const i=window.document.createElement("input");async function s(t){const s=t.target.files;s&&0!==s.length&&(await(0,n.aou)(e,Array.from(s),e.viewportPageBounds.center,!1),i.value="")}return i.type="file",i.accept=n.gih,i.multiple=!0,t.current=i,i.addEventListener("change",s),()=>{t.current=void 0,i.removeEventListener("change",s)}}),[e]),(0,E.useCallback)((()=>{t.current?.click()}),[t])}const sc=E.createContext({});function oc({overrides:e,children:t}){const i=(0,n.qDZ)(),{addDialog:o,clearDialogs:r}=ic(),{clearToasts:a}=Yl(),l=nc(),c=function(){const e=(0,n.qDZ)(),t=(0,E.useRef)(null),i=(0,E.useRef)(null);return(0,E.useCallback)((async function(){const s=document.createElement("div"),o=document.createElement("style"),r=(e,t)=>{e&&(e.innerHTML=""),t&&document.head.contains(t)&&document.head.removeChild(t),e&&document.body.contains(e)&&document.body.removeChild(e)};r(t.current,i.current),t.current=s,i.current=o;const a=`rs-print-surface-${(0,n.ELf)()}`;s.className=a,o.innerHTML=`\n\t\t\t.${a} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.${a} svg {\n\t\t\t\tmax-width: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t@media print {\t\t\t\t  \n\t\t\t\thtml, body {\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t}\n\n\t\t\t\tbody {\n\t\t\t\t\tposition: relative;\n\t\t\t\t}\n\n\t\t\t\tbody > * {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t.${a} {\n\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmax-width: 100%;\n\t\t\t\t}\n\n\t\t\t\t.${a}__item {\n\t\t\t\t\tpadding: 10mm;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tpage-break-after: always;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\theight: 100%;\n\t\t\t\t}\n\n\t\t\t\t.${a}__item__main {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tmax-height: 100%;\n\t\t\t\t}\n\n\t\t\t\t.${a}__item__header {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t.${a}__item__footer {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\ttext-align: right;\n\t\t\t\t}\n\n\t\t\t\t.${a}__item__footer__hide {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t}\n\n\t\t`;const l=()=>{document.head.appendChild(o),document.body.appendChild(s)},c=()=>{e.once("change-camera",(()=>{r(s,o)}))};function d(e,t,i){try{s.innerHTML+=`<div class="${a}__item">\n        <div class="${a}__item__header">\n          ${e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}\n        </div>\n        <div class="${a}__item__main">\n          ${i.outerHTML}\n        </div>\n        <div class="${a}__item__footer ${a}__item__footer__${t?"":"hide"}">\n          ${t??""}\n        </div>\n      </div>`}catch(Ct){console.error(Ct)}}function u(){e.isSafari?(l(),document.execCommand("print",!1)):window.print()}window.addEventListener("beforeprint",l),window.addEventListener("afterprint",c);const{pages:h,currentPageId:p,selectedIds:g}=e,I={scale:1,background:!1,darkMode:!1,preserveAspectRatio:"xMidYMid meet"};if(e.selectedIds.length>0){const t=await e.getSvg(g,I);if(t){const e=h.find((e=>e.id===p));d(`tldraw — ${e?.name}`,null,t),u()}}else{const t=e.currentPage,i=await e.getSvg(e.getSortedChildIds(t.id),I);i&&(d(`tldraw — ${t.name}`,null,i),u())}window.removeEventListener("beforeprint",l),window.removeEventListener("afterprint",c)}),[e])}(),{cut:d,copy:u}=kl(),h=function(){const e=(0,n.qDZ)(),{addToast:t}=Yl(),i=Ul();return(0,E.useCallback)((function(s=e.selectedIds,o="svg"){if(0===s.length&&(s=[...e.shapeIds]),0!==s.length)switch(o){case"svg":window.navigator.clipboard&&(window.navigator.clipboard.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":Ql(e,s)})]):$l((async()=>(0,n.y1f)(await Kl(e,s,o)))));break;case"jpeg":case"png":{const n="jpeg"===o?"image/jpeg":"image/png";window.navigator.clipboard.write([new ClipboardItem({[n]:ql(e,s,o).then((e=>{if(e){if(window.navigator.clipboard)return e;throw new Error("Copy not supported")}throw t({id:"copy-fail",icon:"warning-triangle",title:i("toast.error.copy-fail.title"),description:i("toast.error.copy-fail.desc")}),new Error("Copy not possible")}))})]);break}case"json":{const t=e.getContent(s);if(window.navigator.clipboard){const e=JSON.stringify(t);window.navigator.clipboard.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})})]):$l((async()=>e))}break}default:throw new Error(`Copy type ${o} not supported.`)}}),[e,t,i])}(),p=function(){const e=(0,n.qDZ)(),{addToast:t}=Yl(),i=Ul();return(0,E.useCallback)((async function(s=e.selectedIds,o="png"){if(0===s.length&&(s=[...e.shapeIds]),0===s.length)return;const r=await e.getSvg(s,{scale:"svg"===o?1:2,background:e.instanceState.exportBackground});if(!r)throw new Error("Could not construct SVG.");const a=1===s.length?e.getShapeById(s[0])?.id.replace(/:/,"_"):"shapes";switch(o){case"svg":{const e=await(0,n.ijs)(r);return void(0,n.VxC)(e,`${a||"shapes"}.svg`)}case"webp":case"png":{const e=await(0,n.uNu)(r,{type:o,quality:1,scale:1});if(!e)return void t({id:"export-fail",title:i("toast.error.export-fail.title"),description:i("toast.error.export-fail.desc")});const s=URL.createObjectURL(e);return(0,n.VxC)(s,`${a||"shapes"}.${o}`),void URL.revokeObjectURL(s)}case"json":{const t=e.getContent(s),i=URL.createObjectURL(new Blob([JSON.stringify(t,null,4)],{type:"application/json"}));return(0,n.VxC)(i,`${a||"shapes"}.json`),void URL.revokeObjectURL(i)}default:throw new Error(`Export type ${o} not supported.`)}}),[e,t,i])}(),g=E.useMemo((()=>{const t=function(e){return Object.fromEntries(e.map((e=>[e.id,e])))}([{id:"edit-link",label:"action.edit-link",icon:"link",readonlyOk:!1,onSelect(){i.mark("edit-link"),o({component:ml})}},{id:"insert-media",label:"action.insert-media",kbd:"$u",readonlyOk:!1,onSelect(){l()}},{id:"undo",label:"action.undo",icon:"undo",kbd:"$z",readonlyOk:!1,onSelect(){i.undo()}},{id:"redo",label:"action.redo",icon:"redo",kbd:"$!z",readonlyOk:!1,onSelect(){i.redo()}},{id:"export-as-svg",label:"action.export-as-svg",menuLabel:"action.export-as-svg.short",contextMenuLabel:"action.export-as-svg.short",readonlyOk:!0,onSelect(){p(i.selectedIds,"svg")}},{id:"export-as-png",label:"action.export-as-png",menuLabel:"action.export-as-png.short",contextMenuLabel:"action.export-as-png.short",readonlyOk:!0,onSelect(){p(i.selectedIds,"png")}},{id:"export-as-json",label:"action.export-as-json",menuLabel:"action.export-as-json.short",contextMenuLabel:"action.export-as-json.short",readonlyOk:!0,onSelect(){p(i.selectedIds,"json")}},{id:"copy-as-svg",label:"action.copy-as-svg",menuLabel:"action.copy-as-svg.short",contextMenuLabel:"action.copy-as-svg.short",kbd:"$!c",readonlyOk:!0,onSelect(){h(i.selectedIds,"svg")}},{id:"copy-as-png",label:"action.copy-as-png",menuLabel:"action.copy-as-png.short",contextMenuLabel:"action.copy-as-png.short",readonlyOk:!0,onSelect(){h(i.selectedIds,"png")}},{id:"copy-as-json",label:"action.copy-as-json",menuLabel:"action.copy-as-json.short",contextMenuLabel:"action.copy-as-json.short",readonlyOk:!0,onSelect(){h(i.selectedIds,"json")}},{id:"toggle-auto-size",label:"action.toggle-auto-size",readonlyOk:!1,onSelect(){i.mark(),i.updateShapes(i.selectedShapes.filter((e=>e&&"text"===e.type&&!1===e.props.autoSize)).map((e=>({id:e.id,type:e.type,props:{...e.props,w:8,autoSize:!0}}))))}},{id:"open-embed-link",label:"action.open-embed-link",readonlyOk:!0,onSelect(){const e=i.selectedIds,t="No embed shapes selected";if(1!==e.length)return void console.error(t);const s=i.getShapeById(e[0]);s&&n.xmU.is(s)?(0,n.xwP)(s.props.url,"_blank"):console.error(t)}},{id:"convert-to-bookmark",label:"action.convert-to-bookmark",readonlyOk:!1,onSelect(){const e=i.selectedIds.map((e=>i.getShapeById(e))),t=[],s=[];for(const o of e){if(!o||!n.xmU.is(o)||!o.props.url)continue;const e=new or.GF(o.x,o.y);e.rot(-o.rotation),e.add(new or.GF(o.props.w/2-n.c5_/2,o.props.h/2-n.ZEF/2)),e.rot(o.rotation),t.push({id:i.createShapeId(),type:"bookmark",rotation:o.rotation,x:e.x,y:e.y,props:{url:o.props.url,opacity:"1"}}),s.push(o.id)}i.mark("convert shapes to bookmark"),i.deleteShapes(s),i.createShapes(t)}},{id:"convert-to-embed",label:"action.convert-to-embed",readonlyOk:!1,onSelect(){const e=i.selectedIds,t=(0,s.oA)(e.map((e=>i.getShapeById(e)))),o=[],r=[];for(const s of t){if(!n.Yzh.is(s))continue;const{url:e}=s.props,t=(0,n.kGR)(s.props.url);if(!t)continue;if(!t.definition)continue;const{width:a,height:l,doesResize:c}=t.definition,d=new or.GF(s.x,s.y);d.rot(-s.rotation),d.add(new or.GF(s.props.w/2-a/2,s.props.h/2-l/2)),d.rot(s.rotation),o.push({id:i.createShapeId(),type:"embed",x:d.x,y:d.y,rotation:s.rotation,props:{url:e,w:a,h:l,doesResize:c}}),r.push(s.id)}i.mark("convert shapes to embed"),i.deleteShapes(r),i.createShapes(o)}},{id:"duplicate",kbd:"$d",label:"action.duplicate",icon:"duplicate",readonlyOk:!1,onSelect(){if("select"!==i.currentToolId)return;const e=i.selectedIds,t=or.No.Common((0,s.oA)(e.map((e=>i.getPageBoundsById(e))))),n=i.canMoveCamera?{x:t.width+10,y:0}:{x:16/i.camera.z,y:16/i.camera.z};i.mark("duplicate shapes"),i.duplicateShapes(e,n)}},{id:"ungroup",label:"action.ungroup",kbd:"$!g",icon:"ungroup",readonlyOk:!1,onSelect(){i.mark("ungroup"),i.ungroupShapes(i.selectedIds)}},{id:"group",label:"action.group",kbd:"$g",icon:"group",readonlyOk:!1,onSelect(){1===i.selectedShapes.length&&"group"===i.selectedShapes[0].type?(i.mark("ungroup"),i.ungroupShapes(i.selectedIds)):(i.mark("group"),i.groupShapes(i.selectedIds))}},{id:"align-left",label:"action.align-left",kbd:"?A",icon:"align-left",readonlyOk:!1,onSelect(){i.mark("align left"),i.alignShapes("left",i.selectedIds)}},{id:"align-center-horizontal",label:"action.align-center-horizontal",contextMenuLabel:"action.align-center-horizontal.short",kbd:"?H",icon:"align-center-horizontal",readonlyOk:!1,onSelect(){i.mark("align center horizontal"),i.alignShapes("center-horizontal",i.selectedIds)}},{id:"align-right",label:"action.align-right",kbd:"?D",icon:"align-right",readonlyOk:!1,onSelect(){i.mark("align right"),i.alignShapes("right",i.selectedIds)}},{id:"align-center-vertical",label:"action.align-center-vertical",contextMenuLabel:"action.align-center-vertical.short",kbd:"?V",icon:"align-center-vertical",readonlyOk:!1,onSelect(){i.mark("align center vertical"),i.alignShapes("center-vertical",i.selectedIds)}},{id:"align-top",label:"action.align-top",icon:"align-top",kbd:"?W",readonlyOk:!1,onSelect(){i.mark("align top"),i.alignShapes("top",i.selectedIds)}},{id:"align-bottom",label:"action.align-bottom",icon:"align-bottom",kbd:"?S",readonlyOk:!1,onSelect(){i.mark("align bottom"),i.alignShapes("bottom",i.selectedIds)}},{id:"distribute-horizontal",label:"action.distribute-horizontal",contextMenuLabel:"action.distribute-horizontal.short",icon:"distribute-horizontal",readonlyOk:!1,onSelect(){i.mark("distribute horizontal"),i.distributeShapes("horizontal",i.selectedIds)}},{id:"distribute-vertical",label:"action.distribute-vertical",contextMenuLabel:"action.distribute-vertical.short",icon:"distribute-vertical",readonlyOk:!1,onSelect(){i.mark("distribute vertical"),i.distributeShapes("vertical",i.selectedIds)}},{id:"stretch-horizontal",label:"action.stretch-horizontal",contextMenuLabel:"action.stretch-horizontal.short",icon:"stretch-horizontal",readonlyOk:!1,onSelect(){i.mark("stretch horizontal"),i.stretchShapes("horizontal",i.selectedIds)}},{id:"stretch-vertical",label:"action.stretch-vertical",contextMenuLabel:"action.stretch-vertical.short",icon:"stretch-vertical",readonlyOk:!1,onSelect(){i.mark("stretch vertical"),i.stretchShapes("vertical",i.selectedIds)}},{id:"flip-horizontal",label:"action.flip-horizontal",contextMenuLabel:"action.flip-horizontal.short",kbd:"!h",readonlyOk:!1,onSelect(){i.mark("flip horizontal"),i.flipShapes("horizontal",i.selectedIds)}},{id:"flip-vertical",label:"action.flip-vertical",contextMenuLabel:"action.flip-vertical.short",kbd:"!v",readonlyOk:!1,onSelect(){i.mark("flip vertical"),i.flipShapes("vertical",i.selectedIds)}},{id:"pack",label:"action.pack",icon:"pack",readonlyOk:!1,onSelect(){i.mark("pack"),i.packShapes(i.selectedIds)}},{id:"stack-vertical",label:"action.stack-vertical",contextMenuLabel:"action.stack-vertical.short",icon:"stack-vertical",readonlyOk:!1,onSelect(){i.mark("stack-vertical"),i.stackShapes("vertical",i.selectedIds)}},{id:"stack-horizontal",label:"action.stack-horizontal",contextMenuLabel:"action.stack-horizontal.short",icon:"stack-horizontal",readonlyOk:!1,onSelect(){i.mark("stack-horizontal"),i.stackShapes("horizontal",i.selectedIds)}},{id:"bring-to-front",label:"action.bring-to-front",kbd:"]",icon:"bring-to-front",readonlyOk:!1,onSelect(){i.mark("bring to front"),i.bringToFront()}},{id:"bring-forward",label:"action.bring-forward",icon:"bring-forward",kbd:"?]",readonlyOk:!1,onSelect(){i.mark("bring forward"),i.bringForward()}},{id:"send-backward",label:"action.send-backward",icon:"send-backward",kbd:"?[",readonlyOk:!1,onSelect(){i.mark("send backward"),i.sendBackward()}},{id:"send-to-back",label:"action.send-to-back",icon:"send-to-back",kbd:"[",readonlyOk:!1,onSelect(){i.mark("send to back"),i.sendToBack()}},{id:"cut",label:"action.cut",kbd:"$x",readonlyOk:!1,onSelect(){i.mark("cut"),d()}},{id:"copy",label:"action.copy",kbd:"$c",readonlyOk:!0,onSelect(){u()}},{id:"paste",label:"action.paste",kbd:"$v",readonlyOk:!1,onSelect(){}},{id:"select-all",label:"action.select-all",kbd:"$a",readonlyOk:!0,onSelect(){"select"!==i.currentToolId&&(i.cancel(),i.setSelectedTool("select")),i.mark("select all kbd"),i.selectAll()}},{id:"select-none",label:"action.select-none",readonlyOk:!0,onSelect(){i.mark("select none"),i.selectNone()}},{id:"delete",label:"action.delete",kbd:"⌫",icon:"trash",readonlyOk:!1,onSelect(){"select"===i.currentToolId&&(i.mark("delete"),i.deleteShapes())}},{id:"rotate-cw",label:"action.rotate-cw",icon:"rotate-cw",readonlyOk:!1,onSelect(){if(0===i.selectedIds.length)return;i.mark("rotate-cw");const e=i.selectionRotation%(or.gc/2),t=(0,or.C2)(e,0)||(0,or.C2)(e,or.gc/2);i.rotateShapesBy(i.selectedIds,or.gc/2-(t?0:e))}},{id:"rotate-ccw",label:"action.rotate-ccw",icon:"rotate-ccw",readonlyOk:!1,onSelect(){if(0===i.selectedIds.length)return;i.mark("rotate-ccw");const e=i.selectionRotation%(or.gc/2),t=(0,or.C2)(e,0);i.rotateShapesBy(i.selectedIds,t?-or.gc/2:-e)}},{id:"zoom-in",label:"action.zoom-in",kbd:"$=",readonlyOk:!0,onSelect(){i.zoomIn(i.viewportScreenCenter,{duration:n.KDN})}},{id:"zoom-out",label:"action.zoom-out",kbd:"$-",readonlyOk:!0,onSelect(){i.zoomOut(i.viewportScreenCenter,{duration:n.KDN})}},{id:"zoom-to-100",label:"action.zoom-to-100",icon:"reset-zoom",kbd:"!0",readonlyOk:!0,onSelect(){i.resetZoom(i.viewportScreenCenter,{duration:n.KDN})}},{id:"zoom-to-fit",label:"action.zoom-to-fit",kbd:"!1",readonlyOk:!0,onSelect(){i.zoomToFit({duration:n.KDN})}},{id:"zoom-to-selection",label:"action.zoom-to-selection",kbd:"!2",readonlyOk:!0,onSelect(){i.zoomToSelection({duration:n.KDN})}},{id:"toggle-snap-mode",label:"action.toggle-snap-mode",menuLabel:"action.toggle-snap-mode.menu",readonlyOk:!1,onSelect(){i.updateUserDocumentSettings({isSnapMode:!i.userDocumentSettings.isSnapMode},!0)},checkbox:!0},{id:"toggle-dark-mode",label:"action.toggle-dark-mode",menuLabel:"action.toggle-dark-mode.menu",kbd:"$/",readonlyOk:!0,onSelect(){i.updateUserDocumentSettings({isDarkMode:!i.userDocumentSettings.isDarkMode},!0)},checkbox:!0},{id:"toggle-transparent",label:"action.toggle-transparent",menuLabel:"action.toggle-transparent.menu",contextMenuLabel:"action.toggle-transparent.context-menu",readonlyOk:!0,onSelect(){i.updateInstanceState({exportBackground:!i.instanceState.exportBackground},!0)},checkbox:!0},{id:"toggle-tool-lock",label:"action.toggle-tool-lock",menuLabel:"action.toggle-tool-lock.menu",readonlyOk:!1,kbd:"q",onSelect(){i.updateInstanceState({isToolLocked:!i.instanceState.isToolLocked},!0)},checkbox:!0},{id:"toggle-focus-mode",label:"action.toggle-focus-mode",menuLabel:"action.toggle-focus-mode.menu",readonlyOk:!0,kbd:"$.",checkbox:!0,onSelect(){requestAnimationFrame((()=>{i.batch((()=>{r(),a(),i.updateInstanceState({isFocusMode:!i.instanceState.isFocusMode},!0)}))}))}},{id:"toggle-grid",label:"action.toggle-grid",menuLabel:"action.toggle-grid.menu",readonlyOk:!0,kbd:"$'",onSelect(){i.updateUserDocumentSettings({isGridMode:!i.userDocumentSettings.isGridMode},!0)},checkbox:!0},{id:"toggle-debug-mode",label:"action.toggle-debug-mode",menuLabel:"action.toggle-debug-mode.menu",readonlyOk:!0,onSelect(){i.updateInstanceState({isDebugMode:!i.instanceState.isDebugMode},!0)},checkbox:!0},{id:"print",label:"action.print",kbd:"$p",readonlyOk:!0,onSelect(){c()}},{id:"nudge-left",kbd:"left,shift+left",label:"action.nudge-left",readonlyOk:!1,onSelect(){i.mark("nudge left"),i.nudgeShapes(i.selectedIds,"left",i.inputs.shiftKey)}},{id:"nudge-up",kbd:"up,shift+up",label:"action.nudge-up",readonlyOk:!1,onSelect(){i.mark("nudge up"),i.nudgeShapes(i.selectedIds,"up",i.inputs.shiftKey)}},{id:"nudge-right",kbd:"right,shift+right",label:"action.nudge-right",readonlyOk:!1,onSelect(){i.mark("nudge right"),i.nudgeShapes(i.selectedIds,"right",i.inputs.shiftKey)}},{id:"nudge-down",kbd:"down,shift+down",label:"action.nudge-down",readonlyOk:!1,onSelect(){i.mark("nudge down"),i.nudgeShapes(i.selectedIds,"down",i.inputs.shiftKey)}},{id:"exit-pen-mode",label:"action.exit-pen-mode",icon:"cross-2",readonlyOk:!0,onSelect(){i.setPenMode(!1)}},{id:"back-to-content",label:"action.back-to-content",icon:"arrow-left",readonlyOk:!0,onSelect(){const e=i.selectedPageBounds??i.allShapesCommonBounds;e&&i.zoomToBounds(e.minX,e.minY,e.width,e.height,Math.min(1,i.camera.z),{duration:220})}}]);return e?e(i,t,void 0):t}),[e,i,o,l,p,h,d,u,r,a,c]);return(0,T.jsx)(sc.Provider,{value:g,children:t})}function rc(){const e=E.useContext(sc);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}const ac=[0,380,420,460,580,640,840,1023],lc=E.createContext(0);function cc({children:e}){const t=(0,n.qDZ)(),i=(0,et.Hg)("breakpoint",(()=>{const{width:e}=t.viewportScreenBounds,i=ac;for(let t=0;t<i.length-1;t++)if(e>i[t]&&e<=i[t+1])return t;return i.length}),[t]);return(0,T.jsx)(lc.Provider,{value:i,children:e})}function dc(){let e=(0,E.useContext)(lc);const t=new URL(window.location.href).searchParams.get("layout");return"desktop"===t?e=7:"mobile"===t&&(e=1),e}function uc(){const e=(0,n.qDZ)();return(0,et.Hg)("hasLinkShapeSelected",(()=>{const{selectedShapes:t}=e;return 1===t.length&&"url"in t[0].props&&"embed"!==t[0].type}),[e])}const hc=E.createContext({}),pc=(0,et.j)((function({overrides:e,children:t}){const i=(0,n.qDZ)(),s=rc(),o=i.selectedIds.length,r=o>0,a=o>1,l=o>2,c=er(),d=tr(),u=ir(),h=uc(),p=dc(),g=1===i.camera.z,I=(0,E.useMemo)((()=>{const t=[qo(s["align-left"],{disabled:!a}),qo(s["align-center-horizontal"],{disabled:!a}),qo(s["align-right"],{disabled:!a}),qo(s["stretch-horizontal"],{disabled:!a}),qo(s["align-top"],{disabled:!a}),qo(s["align-center-vertical"],{disabled:!a}),qo(s["align-bottom"],{disabled:!a}),qo(s["stretch-vertical"],{disabled:!a}),qo(s["distribute-horizontal"],{disabled:!l}),qo(s["distribute-vertical"],{disabled:!l}),qo(s["stack-horizontal"],{disabled:!c}),qo(s["stack-vertical"],{disabled:!c}),qo(s["send-to-back"],{disabled:!r}),qo(s["send-backward"],{disabled:!r}),qo(s["bring-forward"],{disabled:!r}),qo(s["bring-to-front"],{disabled:!r}),p<5?qo(s["zoom-to-100"],{disabled:!!g}):qo(s["rotate-ccw"],{disabled:!r}),qo(s["rotate-cw"],{disabled:!r}),qo(s["edit-link"],{disabled:!h}),d?qo(s.group,{disabled:!a}):u?qo(s.ungroup):qo(s.group,{disabled:!a})];return e?e(i,t,{actions:s,oneSelected:r,twoSelected:a,threeSelected:l}):t}),[i,g,d,e,s,r,a,l,c,u,h,p]);return(0,T.jsx)(hc.Provider,{value:I,children:t})}));function gc(){const e=(0,n.qDZ)();return(0,et.Hg)("useCanRedo",(()=>e.canRedo),[e])}function Ic(){const e=(0,n.qDZ)();return(0,et.Hg)("useCanUndo",(()=>e.canUndo),[e])}function mc(){const e=(0,n.qDZ)();return(0,et.Hg)("showAutoSizeToggle",(()=>{const{selectedShapes:t}=e;return 1===t.length&&"text"===t[0].type&&!1===t[0].props.autoSize}),[e])}const yc=E.createContext({}),bc="undefined"!=typeof window&&"navigator"in window&&Boolean(navigator.clipboard)&&Boolean(navigator.clipboard.read),fc=(0,et.j)((function({overrides:e,children:t}){const i=(0,n.qDZ)(),s=rc(),o=mc(),r=function(){const e=(0,n.qDZ)();return(0,et.Hg)("onlyFlippableShape",(()=>{const{selectedShapes:t}=e;return 1===t.length&&t.every((e=>"group"===e.type||(0,n.uZW)(e)))}),[e])}(),a=i.selectedIds.length,l=a>0,c=(0,et.Hg)("oneEmbedSelected",(()=>1===i.selectedIds.length&&i.selectedIds.some((e=>{const t=i.getShapeById(e);return t&&n.xmU.is(t)&&t.props.url}))),[]),d=(0,et.Hg)("oneEmbeddableBookmarkSelected",(()=>1===i.selectedIds.length&&i.selectedIds.some((e=>{const t=i.getShapeById(e);return t&&n.Yzh.is(t)&&(0,n.kGR)(t.props.url)}))),[]),u=a>1,h=a>2,p=er(),g=(0,et.Hg)("atLeastOneShapeOnPage",(()=>i.shapeIds.size>0),[]),I=(0,et.Hg)("isTransparentBg",(()=>i.instanceState.exportBackground),[]),m=tr(),y=ir(),b=Boolean(window.navigator.clipboard?.write),f=uc(),C=(0,E.useMemo)((()=>{let t=_o([Uo("selection",c&&qo(s["open-embed-link"]),c&&qo(s["convert-to-bookmark"]),d&&qo(s["convert-to-embed"]),o&&qo(s["toggle-auto-size"]),f&&qo(s["edit-link"]),l&&qo(s.duplicate),m&&qo(s.group),y&&qo(s.ungroup)),Uo("modify",(u||r)&&Ko("arrange","context-menu.arrange",u&&Uo("align",qo(s["align-left"]),qo(s["align-center-horizontal"]),qo(s["align-right"]),qo(s["align-top"]),qo(s["align-center-vertical"]),qo(s["align-bottom"])),h&&Uo("distribute",qo(s["distribute-horizontal"]),qo(s["distribute-vertical"])),u&&Uo("stretch",qo(s["stretch-horizontal"]),qo(s["stretch-vertical"])),r&&Uo("flip",qo(s["flip-horizontal"]),qo(s["flip-vertical"])),u&&Uo("order",qo(s.pack,{disabled:!u}),p&&qo(s["stack-vertical"]),p&&qo(s["stack-horizontal"]))),l&&Ko("reorder","context-menu.reorder",Uo("reorder",qo(s["bring-to-front"]),qo(s["bring-forward"]),qo(s["send-backward"]),qo(s["send-to-back"]))),l&&Qo("MOVE_TO_PAGE_MENU",{readonlyOk:!1})),Uo("clipboard-group",l&&qo(s.cut),l&&qo(s.copy),bc&&Qo("MENU_PASTE",{readonlyOk:!1})),g&&Uo("conversions",Ko("copy-as","context-menu.copy-as",Uo("copy-as-group",qo(s["copy-as-svg"]),b&&qo(s["copy-as-png"]),qo(s["copy-as-json"])),Uo("export-bg",qo(s["toggle-transparent"],{checked:!I}))),Ko("export-as","context-menu.export-as",Uo("export-as-group",qo(s["export-as-svg"]),qo(s["export-as-png"]),qo(s["export-as-json"])),Uo("export-bg,",qo(s["toggle-transparent"],{checked:!I})))),g&&Uo("set-selection-group",qo(s["select-all"]),l&&qo(s["select-none"])),l&&Uo("delete-group",qo(s.delete))]);return e&&(t=e(i,t,{actions:s,oneSelected:l,twoSelected:u,threeSelected:h,showAutoSizeToggle:o,showUngroup:y,onlyFlippableShapeSelected:r})),t}),[i,e,s,l,u,h,o,r,g,p,m,y,b,f,c,d,I]);return(0,T.jsx)(yc.Provider,{value:C,children:t})}));function Cc(){const e=E.useContext(yc);if(!e)throw new Error("useContextMenuSchema must be used inside of a ContextMenuSchemaProvider.");return e}const wc=()=>{const e=Ul(),t=_c(),i=function(){const e=E.useContext(id);if(!e)throw new Error("Shortcuts must be used inside of a ShortcutsProvider.");return e}();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(Jr,{className:"tlui-shortcuts-dialog__header",children:[(0,T.jsx)(Hr,{children:e("shortcuts-dialog.title")}),(0,T.jsx)(Xr,{})]}),(0,T.jsx)(Vr,{className:"tlui-shortcuts-dialog__body",children:i.map((function i(n){if(t&&!n.readonlyOk)return null;switch(n.type){case"group":return(0,T.jsxs)("div",{className:"tlui-shortcuts-dialog__group",children:[(0,T.jsx)("h2",{className:"tlui-shortcuts-dialog__group__title",children:e(n.id)}),(0,T.jsx)("div",{className:"tlui-shortcuts-dialog__group__content",children:n.children.filter((e=>"item"===e.type&&e.actionItem.kbd)).map(i)})]},n.id);case"item":{const{id:t,label:i,shortcutsLabel:s,kbd:o}=n.actionItem;return(0,T.jsxs)("div",{className:"tlui-shortcuts-dialog__key-pair",children:[(0,T.jsx)("div",{className:"tlui-shortcuts-dialog__key-pair__key",children:e(s??i)}),(0,T.jsx)("div",{className:"tlui-shortcuts-dialog__key-pair__value",children:(0,T.jsx)(Fr,{children:o})})]},t)}}}))}),(0,T.jsx)("div",{className:"tlui-dialog__scrim"})]})},Mc=E.createContext({}),Ac=(0,et.j)((function({overrides:e,children:t}){const i=(0,n.qDZ)(),o=rc(),r=i.selectedIds.length,a=r>0,l=r>1,c=r>2,{languages:d,currentLanguage:u}=Fl(),{addDialog:h}=ic(),p=(0,E.useMemo)((()=>{const t=(0,s.oA)([Uo("top",Qo("LANGUAGE_MENU",{readonlyOk:!0}),qo({id:"keyboard-shortcuts",label:"help-menu.keyboard-shortcuts",readonlyOk:!0,onSelect(){h({component:wc})}}))]);return e?e(i,t,{actions:o,currentLanguage:u,languages:d,oneSelected:a,twoSelected:l,threeSelected:c}):t}),[i,e,d,o,a,l,c,u,h]);return(0,T.jsx)(Mc.Provider,{value:p,children:t})}));var xc="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function Sc(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on".concat(t),(function(){i(window.event)}))}function vc(e,t){for(var i=t.slice(0,t.length-1),n=0;n<i.length;n++)i[n]=e[i[n].toLowerCase()];return i}function Lc(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),i=t.lastIndexOf("");i>=0;)t[i-1]+=",",t.splice(i,1),i=t.lastIndexOf("");return t}for(var jc={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":xc?173:189,"=":xc?61:187,";":xc?59:186,"'":222,"[":219,"]":221,"\\":220},Nc={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Dc={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Zc={16:!1,18:!1,17:!1,91:!1},Ec={},kc=1;kc<20;kc++)jc["f".concat(kc)]=111+kc;var Tc=[],zc=!1,Wc="all",Yc=[],Pc=function(e){return jc[e.toLowerCase()]||Nc[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function Gc(e){Wc=e||"all"}function Oc(){return Wc||"all"}var Rc=function(e){var t=e.key,i=e.scope,n=e.method,s=e.splitKey,o=void 0===s?"+":s;Lc(t).forEach((function(e){var t=e.split(o),s=t.length,r=t[s-1],a="*"===r?"*":Pc(r);if(Ec[a]){i||(i=Oc());var l=s>1?vc(Nc,t):[];Ec[a]=Ec[a].filter((function(e){return!((!n||e.method===n)&&e.scope===i&&function(e,t){for(var i=e.length>=t.length?e:t,n=e.length>=t.length?t:e,s=!0,o=0;o<i.length;o++)-1===n.indexOf(i[o])&&(s=!1);return s}(e.mods,l))}))}}))};function Fc(e,t,i,n){var s;if(t.element===n&&(t.scope===i||"all"===t.scope)){for(var o in s=t.mods.length>0,Zc)Object.prototype.hasOwnProperty.call(Zc,o)&&(!Zc[o]&&t.mods.indexOf(+o)>-1||Zc[o]&&-1===t.mods.indexOf(+o))&&(s=!1);(0!==t.mods.length||Zc[16]||Zc[18]||Zc[17]||Zc[91])&&!s&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function Bc(e,t){var i=Ec["*"],n=e.keyCode||e.which||e.charCode;if(Jc.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===Tc.indexOf(n)&&229!==n&&Tc.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var i=Dc[t];e[t]&&-1===Tc.indexOf(i)?Tc.push(i):!e[t]&&Tc.indexOf(i)>-1?Tc.splice(Tc.indexOf(i),1):"metaKey"===t&&e[t]&&3===Tc.length&&(e.ctrlKey||e.shiftKey||e.altKey||(Tc=Tc.slice(Tc.indexOf(i))))})),n in Zc){for(var s in Zc[n]=!0,Nc)Nc[s]===n&&(Jc[s]=!0);if(!i)return}for(var o in Zc)Object.prototype.hasOwnProperty.call(Zc,o)&&(Zc[o]=e[Dc[o]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===Tc.indexOf(17)&&Tc.push(17),-1===Tc.indexOf(18)&&Tc.push(18),Zc[17]=!0,Zc[18]=!0);var r=Oc();if(i)for(var a=0;a<i.length;a++)i[a].scope===r&&("keydown"===e.type&&i[a].keydown||"keyup"===e.type&&i[a].keyup)&&Fc(e,i[a],r,t);if(n in Ec)for(var l=0;l<Ec[n].length;l++)if(("keydown"===e.type&&Ec[n][l].keydown||"keyup"===e.type&&Ec[n][l].keyup)&&Ec[n][l].key){for(var c=Ec[n][l],d=c.splitKey,u=c.key.split(d),h=[],p=0;p<u.length;p++)h.push(Pc(u[p]));h.sort().join("")===Tc.sort().join("")&&Fc(e,c,r,t)}}}function Jc(e,t,i){Tc=[];var n=Lc(e),s=[],o="all",r=document,a=0,l=!1,c=!0,d="+",u=!1;for(void 0===i&&"function"==typeof t&&(i=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(r=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(c=t.keydown),void 0!==t.capture&&(u=t.capture),"string"==typeof t.splitKey&&(d=t.splitKey)),"string"==typeof t&&(o=t);a<n.length;a++)s=[],(e=n[a].split(d)).length>1&&(s=vc(Nc,e)),(e="*"===(e=e[e.length-1])?"*":Pc(e))in Ec||(Ec[e]=[]),Ec[e].push({keyup:l,keydown:c,scope:o,mods:s,shortcut:n[a],method:i,key:n[a],splitKey:d,element:r});void 0!==r&&!function(e){return Yc.indexOf(e)>-1}(r)&&window&&(Yc.push(r),Sc(r,"keydown",(function(e){Bc(e,r)}),u),zc||(zc=!0,Sc(window,"focus",(function(){Tc=[]}),u)),Sc(r,"keyup",(function(e){Bc(e,r),function(e){var t=e.keyCode||e.which||e.charCode,i=Tc.indexOf(t);if(i>=0&&Tc.splice(i,1),e.key&&"meta"===e.key.toLowerCase()&&Tc.splice(0,Tc.length),93!==t&&224!==t||(t=91),t in Zc)for(var n in Zc[t]=!1,Nc)Nc[n]===t&&(Jc[n]=!1)}(e)}),u))}var Hc={getPressedKeyString:function(){return Tc.map((function(e){return function(e){return Object.keys(jc).find((function(t){return jc[t]===e}))}(e)||function(e){return Object.keys(Nc).find((function(t){return Nc[t]===e}))}(e)||String.fromCharCode(e)}))},setScope:Gc,getScope:Oc,deleteScope:function(e,t){var i,n;for(var s in e||(e=Oc()),Ec)if(Object.prototype.hasOwnProperty.call(Ec,s))for(i=Ec[s],n=0;n<i.length;)i[n].scope===e?i.splice(n,1):n++;Oc()===e&&Gc(t||"all")},getPressedKeyCodes:function(){return Tc.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=Pc(e)),-1!==Tc.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,i=t.tagName,n=!0;return!t.isContentEditable&&("INPUT"!==i&&"TEXTAREA"!==i&&"SELECT"!==i||t.readOnly)||(n=!1),n},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(Ec).forEach((function(i){Ec[i].filter((function(i){return i.scope===t&&i.shortcut===e})).forEach((function(e){e&&e.method&&e.method()}))}))},unbind:function(e){if(void 0===e)Object.keys(Ec).forEach((function(e){return delete Ec[e]}));else if(Array.isArray(e))e.forEach((function(e){e.key&&Rc(e)}));else if("object"==typeof e)e.key&&Rc(e);else if("string"==typeof e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var s=i[0],o=i[1];"function"==typeof s&&(o=s,s=""),Rc({key:e,scope:s,method:o,splitKey:"+"})}},keyMap:jc,modifier:Nc,modifierMap:Dc};for(var Xc in Hc)Object.prototype.hasOwnProperty.call(Hc,Xc)&&(Jc[Xc]=Hc[Xc]);if("undefined"!=typeof window){var Vc=window.hotkeys;Jc.noConflict=function(e){return e&&window.hotkeys===Jc&&(window.hotkeys=Vc),Jc},window.hotkeys=Jc}function _c(){const e=(0,n.qDZ)();return(0,et.Hg)("isReadOnlyMode",(()=>e.isReadOnly),[e])}var Uc=i(91044);const Kc=(0,et.j)((function({onClose:e}){const t=(0,n.qDZ)(),i=Ul(),s=Hl(),[o,r]=(0,E.useState)(null),[a,l]=(0,E.useState)(""),[c,d]=(0,E.useState)(null),[u,h]=(0,E.useState)(!1),p=(0,E.useRef)(-1);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(Jr,{children:[(0,T.jsx)(Hr,{children:o?`${i("embed-dialog.title")} — ${o.title}`:i("embed-dialog.title")}),(0,T.jsx)(Xr,{})]}),o?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Vr,{className:"tlui-embed-dialog__enter",children:(0,T.jsxs)("div",{className:"tlui-embed-dialog",children:[(0,T.jsx)(za,{className:"tlui-embed-dialog__input",label:"embed-dialog.url",placeholder:"http://example.com",autofocus:!0,onValueChange:e=>{l(e);const t=(0,n.kGR)(e);d(t&&t.definition.type===o.type?t:null),h(!1),clearTimeout(p.current),p.current=setTimeout((()=>h(!t)),320)}}),""===a?(0,T.jsxs)("div",{className:"tlui-embed-dialog__instruction",children:[(0,T.jsx)("span",{children:i("embed-dialog.instruction")})," ",o.instructionLink&&(0,T.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:o.instructionLink,className:"tlui-embed-dialog__instruction__link",children:["Learn more.",(0,T.jsx)(Yr,{icon:"external-link",small:!0})]})]}):(0,T.jsx)("div",{className:"tlui-embed-dialog__warning",children:u?i("embed-dialog.invalid-url"):" "})]})}),(0,T.jsxs)(_r,{className:"tlui-dialog__footer__actions",children:[(0,T.jsx)(Br,{onClick:()=>{r(null),d(null),l("")},label:"embed-dialog.back"}),(0,T.jsx)("div",{className:"tlui-spacer"}),(0,T.jsx)(Br,{label:"embed-dialog.cancel",onClick:e}),(0,T.jsx)(Br,{type:"primary",disabled:!c,label:"embed-dialog.create",onClick:()=>{c&&((0,n.NW0)(t,a,t.viewportPageCenter,{width:c.definition.width,height:c.definition.height,doesResize:c.definition.doesResize}),e())}})]})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Vr,{className:"tlui-embed-dialog__list",children:Uc.Lu.map((e=>(0,T.jsxs)("button",{className:"tlui-embed-dialog__item",onClick:()=>r(e),children:[(0,T.jsx)("div",{className:"tlui-embed-dialog__item__image",children:(0,T.jsx)("div",{className:"tlui-embed-dialog__item__image__img",style:{backgroundImage:`url(${s.embedIcons[e.type]})`}})}),(0,T.jsx)("div",{className:"tlui-embed-dialog__item__title",children:e.title})]},e.type)))}),(0,T.jsx)("div",{className:"tlui-dialog__scrim"})]})]})})),Qc=E.createContext({});function qc({overrides:e,children:t}){const i=(0,n.qDZ)(),{addDialog:s}=ic(),o=nc(),r=E.useMemo((()=>{const t=function(e){return Object.fromEntries(e.map((e=>[e.id,e])))}([{id:"select",label:"tool.select",icon:"tool-pointer",kbd:"v",readonlyOk:!0,onSelect(){i.setSelectedTool("select")}},{id:"hand",label:"tool.hand",icon:"tool-hand",kbd:"h",readonlyOk:!0,onSelect(){i.setSelectedTool("hand")}},{id:"eraser",label:"tool.eraser",icon:"tool-eraser",kbd:"e",readonlyOk:!0,onSelect(){i.setSelectedTool("eraser")}},{id:"draw",label:"tool.draw",readonlyOk:!0,icon:"tool-pencil",kbd:"d,b,x",onSelect(){i.setSelectedTool("draw")}},...[...n.o4I].map((e=>({id:e,label:`tool.${e}`,readonlyOk:!0,meta:{geo:e},kbd:"rectangle"===e?"r":"ellipse"===e?"o":void 0,icon:"geo-"+e,onSelect(){i.batch((()=>{i.updateInstanceState({propsForNextShape:{...i.instanceState.propsForNextShape,geo:e}},!0),i.setSelectedTool("geo")}))}}))),{id:"arrow",label:"tool.arrow",readonlyOk:!0,icon:"tool-arrow",kbd:"a",onSelect(){i.setSelectedTool("arrow")}},{id:"line",label:"tool.line",readonlyOk:!0,icon:"tool-line",kbd:"l",onSelect(){i.setSelectedTool("line")}},{id:"frame",label:"tool.frame",readonlyOk:!0,icon:"tool-frame",kbd:"f",onSelect(){i.setSelectedTool("frame")}},{id:"text",label:"tool.text",readonlyOk:!0,icon:"tool-text",kbd:"t",onSelect(){i.setSelectedTool("text")}},{id:"asset",label:"tool.asset",readonlyOk:!0,icon:"tool-media",kbd:"$u",onSelect(){o()}},{id:"note",label:"tool.note",readonlyOk:!0,icon:"tool-note",kbd:"n",onSelect(){i.setSelectedTool("note")}},{id:"embed",label:"tool.embed",readonlyOk:!0,icon:"tool-embed",onSelect(){s({component:Kc})}}]);return e?e(i,t,{insertMedia:o}):t}),[i,e,o,s]);return(0,T.jsx)(Qc.Provider,{value:r,children:t})}function $c(){const e=E.useContext(Qc);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}const ed=["copy","cut","paste","asset"];function td(e){let t="";const i=e.split("");return t=1===i.length?i[0]:"!"===i[0]?`shift+${i[1]}`:"?"===i[0]?`alt+${i[1]}`:"$"===i[0]?"!"===i[1]?`cmd+shift+${i[2]},ctrl+shift+${i[2]}`:"?"===i[1]?`cmd+⌥+${i[2]},ctrl+alt+${i[2]}`:`cmd+${i[1]},ctrl+${i[1]}`:e,t}const id=E.createContext({}),nd=(0,et.j)((function({overrides:e,children:t}){const i=(0,n.qDZ)(),o=$c(),r=rc(),a=(0,E.useMemo)((()=>{const t=(0,s.oA)([Uo("shortcuts-dialog.tools",qo(r["toggle-tool-lock"]),qo(o.select),qo(o.draw),qo(o.eraser),qo(o.hand),qo(o.rectangle),qo(o.ellipse),qo(o.arrow),qo(o.line),qo(o.text),qo(o.frame),qo(o.note)),Uo("shortcuts-dialog.file",qo(r["insert-media"]),qo(r.print)),Uo("shortcuts-dialog.preferences",qo(r["toggle-dark-mode"]),qo(r["toggle-focus-mode"]),qo(r["toggle-grid"])),Uo("shortcuts-dialog.edit",qo(r.undo),qo(r.redo),qo(r.cut),qo(r.copy),qo(r.paste),qo(r["select-all"]),qo(r.delete),qo(r.duplicate),qo(r["export-as-svg"]),qo(r["export-as-png"])),Uo("shortcuts-dialog.view",qo(r["zoom-in"]),qo(r["zoom-out"]),qo(r["zoom-to-100"]),qo(r["zoom-to-fit"]),qo(r["zoom-to-selection"])),Uo("shortcuts-dialog.transform",qo(r["bring-to-front"]),qo(r["bring-forward"]),qo(r["send-backward"]),qo(r["send-to-back"]),qo(r.group),qo(r.ungroup),qo(r["flip-horizontal"]),qo(r["flip-vertical"]),qo(r["align-top"]),qo(r["align-center-vertical"]),qo(r["align-bottom"]),qo(r["align-left"]),qo(r["align-center-horizontal"]),qo(r["align-right"]))]);return e?e(i,t,{tools:o,actions:r}):t}),[i,e,r,o]);return(0,T.jsx)(id.Provider,{value:a,children:t})}));function sd(e,t){const i=(0,n.qDZ)(),s=(0,E.useRef)(!1),o=(0,E.useCallback)((n=>{s.current=n,n?(i.complete(),i.openMenus.add(e)):(i.openMenus.delete(e),i.openMenus.forEach((t=>{t.startsWith(e)&&i.openMenus.delete(t)}))),t?.(n)}),[i,e,t]);return(0,E.useEffect)((()=>(s.current&&i.openMenus.add(e),()=>{s.current&&(i.openMenus.delete(e),i.openMenus.forEach((t=>{t.startsWith(e)&&i.openMenus.delete(t)})),s.current=!1)})),[i,e]),o}const od=E.createContext({});function rd({overrides:e,children:t}){const i=(0,n.qDZ)(),o=rc(),r=dc()<5,a=(0,et.Hg)("isDarkMode",(()=>i.userDocumentSettings.isDarkMode),[i]),l=(0,et.Hg)("isGridMode",(()=>i.userDocumentSettings.isGridMode),[i]),c=(0,et.Hg)("isSnapMode",(()=>i.userDocumentSettings.isSnapMode),[i]),d=(0,et.Hg)("isToolLock",(()=>i.instanceState.isToolLocked),[i]),u=(0,et.Hg)("isFocusMode",(()=>i.instanceState.isFocusMode),[i]),h=(0,et.Hg)("isDebugMode",(()=>i.instanceState.isDebugMode),[i]),p=(0,et.Hg)("exportBackground",(()=>i.instanceState.exportBackground),[i]),g=(0,et.Hg)("emptyPage",(()=>0===i.shapeIds.size),[i]),I=(0,et.Hg)("selectedCount",(()=>i.selectedIds.length),[i]),m=0===I,y=I>0,b=I>1,f=I>2,C=Boolean(window.navigator.clipboard?.write),w=uc(),M=mc(),A=tr(),x=ir(),S=Ic(),v=gc(),L=(0,et.Hg)("isZoomedTo100",(()=>1===i.camera.z),[i]),j=(0,E.useMemo)((()=>{const t=(0,s.oA)([Uo("menu",Ko("file","menu.file",Uo("print",qo(o.print,{disabled:g}))),Ko("edit","menu.edit",Uo("undo-actions",qo(o.undo,{disabled:!S}),qo(o.redo,{disabled:!v})),Uo("clipboard-actions",qo(o.cut,{disabled:m}),qo(o.copy,{disabled:m}),{id:"MENU_PASTE",type:"custom",disabled:!nr,readonlyOk:!1}),Uo("conversions",Ko("copy-as","menu.copy-as",Uo("copy-as-group",qo(o["copy-as-svg"],{disabled:g}),qo(o["copy-as-png"],{disabled:g||!C}),qo(o["copy-as-json"],{disabled:g})),Uo("export-bg",qo(o["toggle-transparent"],{checked:!p}))),Ko("export-as","menu.export-as",Uo("export-as-group",qo(o["export-as-svg"],{disabled:g}),qo(o["export-as-png"],{disabled:g}),qo(o["export-as-json"],{disabled:g})),Uo("export-bg",qo(o["toggle-transparent"],{checked:!p})))),Uo("set-selection-group",qo(o["select-all"],{disabled:g}),qo(o["select-none"],{disabled:!y})),Uo("selection",M&&qo(o["toggle-auto-size"]),w&&qo(o["edit-link"]),qo(o.duplicate,{disabled:!y}),A&&qo(o.group),x&&qo(o.ungroup)),Uo("delete-group",qo(o.delete,{disabled:!y}))),Ko("view","menu.view",Uo("view-actions",qo(o["zoom-in"]),qo(o["zoom-out"]),qo(o["zoom-to-100"],{disabled:L}),qo(o["zoom-to-fit"],{disabled:g}),qo(o["zoom-to-selection"],{disabled:g||!y}))),qo(o["insert-media"])),Uo("preferences",Ko("preferences","menu.preferences",Uo("preferences-actions",qo(o["toggle-snap-mode"],{checked:c}),qo(o["toggle-tool-lock"],{checked:d}),qo(o["toggle-grid"],{checked:l}),qo(o["toggle-dark-mode"],{checked:a}),qo(o["toggle-focus-mode"],{checked:u}),qo(o["toggle-debug-mode"],{checked:h}))),r&&Qo("LANGUAGE_MENU",{readonlyOk:!0}))]);return e?e(i,t,{actions:o,noneSelected:m,oneSelected:y,twoSelected:b,threeSelected:f}):t}),[i,e,o,y,b,f,g,r,A,x,w,C,M,m,S,v,a,l,c,d,u,p,h,L]);return(0,T.jsx)(od.Provider,{value:j,children:t})}function ad(e){return{id:e.id,type:"item",readonlyOk:e.readonlyOk,toolItem:e}}const ld=E.createContext([]);function cd({overrides:e,children:t}){const i=(0,n.qDZ)(),s=$c(),o=E.useMemo((()=>{const t=[ad(s.select),ad(s.hand),ad(s.draw),ad(s.eraser),ad(s.arrow),ad(s.text),ad(s.note),ad(s.asset),ad(s.rectangle),ad(s.ellipse),ad(s.diamond),ad(s.triangle),ad(s.trapezoid),ad(s.rhombus),ad(s.pentagon),ad(s.hexagon),ad(s.octagon),ad(s.star),ad(s.oval),ad(s["x-box"]),ad(s["arrow-right"]),ad(s["arrow-left"]),ad(s["arrow-up"]),ad(s["arrow-down"]),ad(s.line),ad(s.frame),ad(s.embed)];return e?e(i,t,{tools:s}):t}),[i,e,s]);return(0,T.jsx)(ld.Provider,{value:o,children:t})}const dd=(0,et.j)((function(){const e=(0,n.qDZ)(),t=(0,n.uK4)(),i=e.pages,s=e.currentPageId,o=Ul();return(0,T.jsxs)(Ho,{children:[(0,T.jsx)(Xo,{dir:"ltr",asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",label:"context-menu.move-to-page","data-wd":"menu-item.move-to-page",icon:"chevron-right"})}),(0,T.jsx)(Oo,{container:t,dir:"ltr",children:(0,T.jsxs)(Vo,{className:"tlui-menu",sideOffset:-4,collisionPadding:4,children:[(0,T.jsx)(Fo,{dir:"ltr",className:"tlui-menu__group","data-wd":"menu-item.pages",children:i.map((t=>(0,T.jsx)(Bo,{disabled:s===t.id,onSelect:()=>{e.mark("move_shapes_to_page"),e.moveShapesToPage(e.selectedIds,t.id)},asChild:!0,children:(0,T.jsx)(Br,{title:t.name,className:"tlui-menu__button tlui-context-menu__move-to-page__name",children:(0,T.jsx)("span",{children:t.name})})},t.id)))},"pages"),(0,T.jsx)(Fo,{dir:"ltr",className:"tlui-menu__group","data-wd":"menu-item.new-page",children:(0,T.jsx)(Bo,{onSelect:()=>{e.mark("move_shapes_to_page");const t=n.rlI.createId(),i=e.selectedIds,s=e.currentPageId;e.batch((()=>{e.createPage("Page 1",t),e.setCurrentPageId(s),e.moveShapesToPage(i,t)}))},asChild:!0,children:(0,T.jsx)(Br,{title:o("context.pages.new-page"),className:"tlui-menu__button tlui-context-menu__move-to-page__name",children:o("context.pages.new-page")})},"new-page")},"new-page")]})})]})})),ud=function({children:e}){const t=(0,n.qDZ)(),i=Cc(),s=sd("context menu"),o=_c(),r=0===i.length||o&&i.every((e=>!e.readonlyOk)),a=!(0,et.Hg)("isSelectToolActive",(()=>"select"===t.currentToolId),[t])||r;return(0,T.jsxs)(Po,{dir:"ltr",onOpenChange:s,children:[(0,T.jsx)(Go,{onContextMenu:a?n.PFJ:void 0,dir:"ltr",disabled:a,children:e}),(0,T.jsx)(hd,{})]})};function hd(){const e=(0,n.qDZ)(),t=Ul(),i=Cc(),s=sd("context menu sub"),o=_c(),{paste:r}=kl(),a=dc(),l=(0,n.uK4)(),[c,d]=E.useState(!1);function u(e,i,h,p){if(o&&!i.readonlyOk)return null;switch(i.type){case"custom":switch(i.id){case"MENU_PASTE":return(0,T.jsx)(Bo,{children:(0,T.jsx)(Br,{className:"tlui-menu__button","data-wd":`menu-item.${i.id}`,kbd:"$v",label:"action.paste",disabled:i.disabled,onClick:()=>{(!e.isSafari||e.isSafari&&e.isIos)&&navigator.clipboard.read().then((t=>{r(t,e.inputs.currentPagePoint)}))},onMouseDown:()=>{e.isSafari&&!e.isIos&&navigator.clipboard.read().then((t=>{r(t,e.inputs.currentPagePoint)}))}})},i.id);case"MOVE_TO_PAGE_MENU":return(0,T.jsx)(dd,{},i.id)}break;case"group":return(0,T.jsx)(Fo,{dir:"ltr",className:$e("tlui-menu__group",{"tlui-menu__group__small":"submenu"===h?.type}),"data-wd":`menu-item.${i.id}`,children:i.children.map((t=>u(e,t,i,p+1)))},i.id);case"submenu":return(0,T.jsxs)(Ho,{onOpenChange:s,children:[(0,T.jsx)(Xo,{dir:"ltr",disabled:i.disabled,asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",label:i.label,"data-wd":`menu-item.${i.id}`,icon:"chevron-right"})}),(0,T.jsx)(Oo,{container:l,dir:"ltr",children:(0,T.jsx)(Vo,{className:"tlui-menu",sideOffset:-4,collisionPadding:4,children:i.children.map((t=>u(e,t,i,p+1)))})})]},i.id);case"item":{if(o&&!i.readonlyOk)return null;const{id:e,checkbox:s,contextMenuLabel:r,label:l,onSelect:u,kbd:h,icon:g}=i.actionItem,I=r??l,m=I?t(I):void 0;return s?(0,T.jsxs)(Jo,{className:"tlui-button tlui-menu__button tlui-menu__checkbox-item",dir:"ltr",disabled:i.disabled,onSelect:e=>{u(),(0,n.PFJ)(e)},title:m||void 0,checked:i.checked,children:[(0,T.jsx)("div",{className:"tlui-menu__checkbox-item__check",style:{transformOrigin:"75% center",transform:`scale(${i.checked?1:.5})`,opacity:i.checked?1:.5},children:(0,T.jsx)(Yr,{small:!0,icon:i.checked?"check":"checkbox-empty"})}),m&&(0,T.jsx)("span",{children:m}),h&&(0,T.jsx)(Fr,{children:h})]},e):(0,T.jsx)(Bo,{dir:"ltr",asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button","data-wd":`menu-item.${e}`,kbd:h,label:I,disabled:i.disabled,iconLeft:a<3&&p>2?g:void 0,onClick:()=>{c?d(!1):u()}})},e)}}}return(0,T.jsx)(Oo,{dir:"ltr",container:l,children:(0,T.jsx)(Ro,{className:"tlui-menu scrollable",alignOffset:-4,collisionPadding:4,onContextMenu:n.PFJ,children:i.map((t=>u(e,t,null,0)))})})}let pd=0;const gd=E.memo((function({renderDebugMenuItems:e}){return(0,T.jsxs)("div",{className:"tlui-debug-panel",children:[(0,T.jsx)(Id,{}),(0,T.jsx)(md,{}),(0,T.jsxs)(xa,{id:"debug",children:[(0,T.jsx)(Sa,{children:(0,T.jsx)(Br,{icon:"dots-horizontal"})}),(0,T.jsx)(va,{side:"top",align:"end",alignOffset:0,children:(0,T.jsx)(yd,{renderDebugMenuItems:e})})]})]})})),Id=(0,et.j)((function(){const e=(0,n.qDZ)();return(0,T.jsx)("div",{className:"tlui-debug-panel__current-state",children:e.root.path.value})})),md=(0,et.j)((function(){const e=(0,n.qDZ)();return(0,T.jsxs)("div",{children:[e.renderingShapes.length," Shapes"]})}));function yd({renderDebugMenuItems:e}){const t=(0,n.qDZ)(),{addToast:i}=Yl(),{addDialog:s}=ic(),[o,r]=E.useState(!1);return(0,T.jsxs)(Da,{children:[(()=>{if(o)throw Error("oh no!")})(),(0,T.jsx)(Za,{onClick:()=>{r(!0)},children:(0,T.jsx)("span",{children:"Throw Error"})}),(0,T.jsx)(Za,{onClick:()=>{i({id:(0,n.ELf)(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!"})},children:(0,T.jsx)("span",{children:"Show Toast"})}),(0,T.jsx)(Za,{onClick:()=>{s({component:({onClose:e})=>(0,T.jsx)(bd,{onCancel:()=>{e()},onContinue:()=>{e()}}),onClose:()=>{}})},children:"Show Dialog"}),(0,T.jsx)(Za,{onClick:()=>{t.updateUserDocumentSettings({isReadOnly:!t.isReadOnly})},children:(0,T.jsx)("span",{children:"Toggle Read Only"})}),(0,T.jsx)(Za,{onClick:()=>{n.hR1.peopleMenu.set(!n.hR1.peopleMenu.value)},children:(0,T.jsx)("span",{children:"Toggle People Menu"})}),(0,T.jsx)(Za,{label:"debug-menu.hard-reset",onClick:()=>{window.__tldraw__hardReset()}}),(0,T.jsx)(Za,{label:"debug-menu.create-shapes",onClick:()=>function(e,t){const i=Array(t),n=Math.floor(Math.sqrt(t));for(let s=0;s<t;s++)pd++,i[s]={id:e.createShapeId("box"+pd),type:"geo",x:s%n*132,y:132*Math.floor(s/n)};e.batch((()=>{e.createShapes(i).setSelectedIds(i.map((e=>e.id)))}))}(t,100)}),(0,T.jsx)(Za,{onClick:()=>{function e({children:t}){let i=0;if(!t.length)return 0;for(const n of[...t])i++,i+=e(n);return i}const{selectedShapes:i}=t,n=0===i.length?t.renderingShapes:i,s=n.map((e=>document.getElementById(e.id).parentElement));let o=s.length;for(const t of s)o+=e(t);window.alert(`Shapes ${n.length}, DOM nodes:${o}`)},children:(0,T.jsx)("span",{children:"Count Shapes and Nodes"})}),e?.()]})}function bd({onCancel:e,onContinue:t}){const[i,n]=E.useState(!1);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(Jr,{children:[(0,T.jsx)(Hr,{children:"Hello"}),(0,T.jsx)(Xr,{})]}),(0,T.jsx)(Vr,{style:{maxWidth:350},children:"Hello Hello Hello"}),(0,T.jsxs)(_r,{className:"tlui-dialog__footer__actions",children:[(0,T.jsx)(Br,{onClick:()=>n(!i),iconLeft:i?"checkbox-checked":"checkbox-empty",style:{marginRight:"auto"},children:"Don't show again"}),(0,T.jsx)(Br,{onClick:e,children:"Cancel"}),(0,T.jsx)(Br,{type:"primary",onClick:async()=>{t()},children:"Continue"})]})]})}(0,et.j)((function(){const e=(0,n.qDZ)(),t=E.useRef(null),i=e.camera,s=e.shapesArray;if(t.current){const n=t.current,o=n.getContext("2d");o.resetTransform(),o.clearRect(0,0,n.width,n.height);const r=new Path2D;o.translate(i.x,i.y);for(const t of s){const i=e.getPageBounds(t);r.rect(i.minX,i.minY,i.width,i.height)}o.fillStyle="#cccccc",o.fill(r);for(const t of s){o.save();e.getPageCorners(t).forEach((e=>fd(o,e.x,e.y,"red"))),o.restore()}}return(0,T.jsx)("canvas",{ref:t,width:e.viewportScreenBounds.width,height:e.viewportScreenBounds.height,style:{width:"100%",height:"100%"}})}));function fd(e,t,i,n="#000"){e.save(),e.beginPath(),e.ellipse(t,i,4,4,0,0,2*Math.PI),e.fillStyle=n,e.fill(),e.restore()}function Cd(){const e=(0,n.qDZ)(),{languages:t,currentLanguage:i}=Fl(),s=(0,E.useCallback)((t=>{e.updateUser({locale:t})}),[e]);return(0,T.jsxs)(La,{id:"help menu language",children:[(0,T.jsx)(ja,{label:"menu.language","data-direction":"left"}),(0,T.jsx)(Na,{sideOffset:-4,children:(0,T.jsx)(Da,{children:t.map((({locale:e,label:t})=>(0,T.jsx)(ka,{title:e,checked:e===i,onSelect:()=>s(e),children:(0,T.jsx)("span",{children:t})},e)))})})]})}const wd=E.memo((function(){const e=(0,n.uK4)(),t=Ul(),i=sd("help menu");return(0,T.jsx)("div",{className:"tlui-help-menu",children:(0,T.jsxs)(pa,{dir:"ltr",onOpenChange:i,modal:!1,children:[(0,T.jsx)(ga,{className:"tlui-button tlui-help-menu__button",dir:"ltr",title:t("help-menu.title"),children:(0,T.jsx)(Yr,{icon:"question-mark"})}),(0,T.jsx)(Ia,{container:e,dir:"ltr",children:(0,T.jsx)(ma,{className:"tlui-menu",side:"top",sideOffset:8,align:"end",alignOffset:0,collisionPadding:4,children:(0,T.jsx)(Md,{})})})]})})}));function Md(){const e=function(){const e=E.useContext(Mc);if(!e)throw new Error("useHelpMenuSchema must be used inside of a helpMenuSchemaProvider.");return e}(),t=_c();return(0,T.jsx)(T.Fragment,{children:e.map((function e(i){if(t&&!i.readonlyOk)return null;switch(i.type){case"custom":if("LANGUAGE_MENU"===i.id)return(0,T.jsx)(Cd,{},"item");break;case"group":return(0,T.jsx)(Da,{size:"small",children:i.children.map(e)},i.id);case"submenu":return(0,T.jsxs)(La,{id:`help menu ${i.id}`,children:[(0,T.jsx)(ja,{label:i.label}),(0,T.jsx)(Na,{children:i.children.map(e)})]},i.id);case"item":{const{id:e,kbd:t,label:n,onSelect:s,icon:o}=i.actionItem;return(0,T.jsx)(Za,{kbd:t,label:n,onClick:s,iconLeft:o},e)}}}))})}class Ad{constructor(e,t){this.app=e,this.dpr=t}colors={shapeFill:"rgba(144, 144, 144, .1)",selectFill:"#2f80ed",viewportFill:"rgba(144, 144, 144, .1)"};id=(0,n.ELf)();cvs=null;pageBounds=[];collaborators=[];canvasScreenBounds=new or.No;canvasPageBounds=new or.No;contentPageBounds=new or.No;contentScreenBounds=new or.No;originPagePoint=new or.GF;originPageCenter=new or.GF;isInViewport=!1;debug=!1;setDpr(e){this.dpr=+e.toFixed(2)}updateContentScreenBounds=()=>{const{contentScreenBounds:e,contentPageBounds:t,canvasScreenBounds:i}=this;let{x:n,y:s,w:o,h:r}=e;if(t.w>t.h){const e=i.w/(t.w/t.h);e>i.h?(n=(i.w-i.w*(i.h/e))/2,s=0,o=i.w*(i.h/e),r=i.h):(n=0,s=(i.h-e)/2,o=i.w,r=e)}else if(t.w<t.h){const e=i.h/(t.h/t.w);n=(i.w-e)/2,s=0,o=e,r=i.h}else n=i.h/2,s=0,o=i.h,r=i.h;e.set(n,s,o,r)};updateCanvasPageBounds=()=>{const{canvasPageBounds:e,canvasScreenBounds:t,contentPageBounds:i,contentScreenBounds:n}=this;e.set(0,0,i.width/(n.width/t.width),i.height/(n.height/t.height)),e.center=i.center};getScreenPoint=(e,t)=>{const{canvasScreenBounds:i}=this;return{x:(e-i.minX)*this.dpr,y:(t-i.minY)*this.dpr}};getPagePoint=(e,t)=>{const{contentPageBounds:i,contentScreenBounds:n,canvasPageBounds:s}=this,{x:o,y:r}=this.getScreenPoint(e,t);return{x:s.minX+o*i.width/n.width,y:s.minY+r*i.height/n.height,z:1}};minimapScreenPointToPagePoint=(e,t,i=!1,n=!1)=>{const{app:s}=this,{viewportPageBounds:o}=s;let{x:r,y:a}=this.getPagePoint(e,t);if(n){const e=this.app.allShapesCommonBounds,t=o,i=(e?.minX??0)-t.width/2,n=(e?.maxX??0)+t.width/2,s=(e?.minY??0)-t.height/2,l=(e?.maxY??0)+t.height/2,c=Math.max(0,i+t.width-r),d=Math.max(0,-(n-t.width-r)),u=Math.max(0,s+t.height-a),h=Math.max(0,-(l-t.height-a)),p=Math.max(0,c-d),g=Math.max(0,d-c),I=Math.max(0,u-h),m=Math.max(0,h-u);p&&p>g?r+=p/2:g&&(r-=g/2),I&&I>m?a+=I/2:m&&(a-=m/2),r=(0,or.uZ)(r,i,n),a=(0,or.uZ)(a,s,l)}if(i){const{originPagePoint:e}=this;Math.abs(r-e.x)>Math.abs(a-e.y)?a=e.y:r=e.x}return{x:r,y:a}};render=()=>{const{cvs:e,pageBounds:t}=this;this.updateCanvasPageBounds();const{app:i,canvasScreenBounds:n,canvasPageBounds:s,contentPageBounds:o,contentScreenBounds:r}=this,{width:a,height:l}=n,{viewportPageBounds:c,selectedIds:d}=i;if(!e||!t)return;const u=e.getContext("2d");if(!u)throw new Error("Minimap (shapes): Could not get context");u.resetTransform(),u.globalAlpha=1,u.clearRect(0,0,a,l);const h=r.width/o.width,p=r.height/o.height;u.translate((a-r.width)/2,(l-r.height)/2),u.scale(h,p),u.translate(-o.minX,-o.minY);const g=8/h,I=8/h,m=1/h,y=1/h,b=g/4,f=I/4,C=new Path2D,w=new Path2D,{shapeFill:M,selectFill:A,viewportFill:x}=this.colors;let S;for(let D=0,Z=t.length;D<Z;D++)S=t[D],Ad.roundedRect(d.includes(S.id)?w:C,S.minX,S.minY,S.width,S.height,(0,or.uZ)(g,m,S.width/b),(0,or.uZ)(I,y,S.height/f));if(u.fillStyle=M,u.fill(C),u.fillStyle=A,u.fill(w),this.debug){const e=or.No.Common(t),{minX:i,minY:n,width:s,height:o}=e;u.strokeStyle="green",u.lineWidth=2/h,u.strokeRect(i+1/h,n+1/p,s-2/h,o-2/p)}{const{brush:e}=i;if(e){const{x:t,y:i,w:n,h:s}=e;u.beginPath(),Ad.sharpRect(u,t,i,n,s),u.closePath(),u.fillStyle=x,u.fill()}}{const{minX:e,minY:t,width:i,height:n}=c;u.beginPath();const s=12/h,o=12/h;Ad.roundedRect(u,e,t,i,n,Math.min(i/4,s),Math.min(n/4,o)),u.closePath(),u.fillStyle=x,u.fill(),this.debug&&(u.strokeStyle="orange",u.strokeRect(e+1/h,t+1/p,i-2/h,n-2/p))}const v=2.5/h,L=2.5/p,{currentPageId:j}=i;let N;for(let D=0;D<this.collaborators.length;D++){N=this.collaborators[D];const e=N.lastUsedInstanceId?i.store.get(N.lastUsedInstanceId):null;e?.currentPageId===j&&(u.beginPath(),u.ellipse((0,or.uZ)(N.cursor.x,s.minX+v,s.maxX-v),(0,or.uZ)(N.cursor.y,s.minY+L,s.maxY-L),5/h,5/p,0,0,or.yo),u.fillStyle=N.color,u.fill())}if(this.debug){u.lineWidth=2/h;{const{minX:e,minY:t,width:i,height:n}=o;u.strokeStyle="red",u.strokeRect(e+1/h,t+1/p,i-2/h,n-2/p)}{const{minX:e,minY:t,width:i,height:n}=s;u.strokeStyle="blue",u.strokeRect(e+1/h,t+1/p,i-2/h,n-2/p)}}};static roundedRect(e,t,i,n,s,o,r){o<1&&r<1?e.rect(t,i,n,s):(e.moveTo(t+o,i),e.lineTo(t+n-o,i),e.quadraticCurveTo(t+n,i,t+n,i+r),e.lineTo(t+n,i+s-r),e.quadraticCurveTo(t+n,i+s,t+n-o,i+s),e.lineTo(t+o,i+s),e.quadraticCurveTo(t,i+s,t,i+s-r),e.lineTo(t,i+r),e.quadraticCurveTo(t,i,t+o,i))}static sharpRect(e,t,i,n,s,o,r){e.rect(t,i,n,s)}}const xd=(0,et.j)((function({shapeFill:e,selectFill:t,viewportFill:i}){const s=(0,n.qDZ)(),o=E.useRef(null),r=(0,n.uK4)(),a=E.useRef(!1),l=E.useMemo((()=>new Ad(s,s.devicePixelRatio)),[s]),c=s.userDocumentSettings.isDarkMode;E.useEffect((()=>{const n=requestAnimationFrame((()=>{const n=getComputedStyle(r);l.colors={shapeFill:n.getPropertyValue(e).trim(),selectFill:n.getPropertyValue(t).trim(),viewportFill:n.getPropertyValue(i).trim()},l.render()}));return()=>{cancelAnimationFrame(n)}}),[r,t,e,i,l,c]);const d=E.useCallback((e=>{if(!s.shapeIds.size)return;const{x:t,y:i}=l.minimapScreenPointToPagePoint(e.clientX,e.clientY,!1,!1),o=l.minimapScreenPointToPagePoint(e.clientX,e.clientY,!1,!0);l.originPagePoint.setTo(o),l.originPageCenter.setTo(s.viewportPageBounds.center),s.centerOnPoint(t,i,{duration:n.KDN})}),[s,l]),u=E.useCallback((e=>{if(e.currentTarget.setPointerCapture(e.pointerId),!s.shapeIds.size)return;a.current=!0,l.isInViewport=!1;const{x:t,y:i}=l.minimapScreenPointToPagePoint(e.clientX,e.clientY,!1,!1),o=l.minimapScreenPointToPagePoint(e.clientX,e.clientY,!1,!0),r=s.viewportPageBounds;l.originPagePoint.setTo(o),l.originPageCenter.setTo(r.center),l.isInViewport=r.containsPoint(o),l.isInViewport||s.centerOnPoint(t,i,{duration:n.KDN})}),[s,l]),h=E.useCallback((e=>{if(a.current){const{x:t,y:i}=l.minimapScreenPointToPagePoint(e.clientX,e.clientY,e.shiftKey,!0);if(l.isInViewport){const e=or.GF.Sub({x:t,y:i},l.originPagePoint),n=or.GF.Add(l.originPageCenter,e);return void s.centerOnPoint(n.x,n.y)}s.centerOnPoint(t,i)}const t=l.getPagePoint(e.clientX,e.clientY),i=s.pageToScreen(t.x,t.y),n={type:"pointer",target:"canvas",name:"pointer_move",...Sd(e),point:i,isPen:s.isPenMode};s.dispatch(n)}),[s,l]),p=E.useCallback((e=>{a.current=!1}),[]),g=E.useCallback((e=>{const t=(0,n.fNR)(e);s.dispatch({type:"wheel",name:"wheel",delta:t,shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey})}),[s]);(0,n.BKU)("update dpr",(()=>{const{devicePixelRatio:e}=s;l.setDpr(e);const t=o.current,i=t.getBoundingClientRect(),n=i.width*e,r=i.height*e;t.width=n,t.height=r,l.canvasScreenBounds.set(i.x,i.y,n,r),l.cvs=o.current}),[s,l]);const I=(()=>{const e=(0,n.qDZ)(),t=(0,et.KO)("time",Date.now());return E.useEffect((()=>{const e=setInterval((()=>t.set(Date.now())),5e3);return()=>clearInterval(e)}),[t]),E.useMemo((()=>e.store.query.records("user_presence",(()=>({lastActivityTimestamp:{gt:t.value-1e4},userId:{neq:e.userId}})))),[e,t])})();return(0,n.BKU)("minimap render when pagebounds or collaborators changes",(()=>{const{devicePixelRatio:e,viewportPageBounds:t,allShapesCommonBounds:i}=s;l.contentPageBounds=i?or.No.Expand(i,t):t,l.updateContentScreenBounds();const n=[];s.shapeIds.forEach((e=>{let t=s.getPageBoundsById(e);const i=s.getPageMaskById(e);if(i){const e=(0,or.tY)(i,t.corners);if(!e)return;t=or.No.FromPoints(e)}t&&(t.id=e,n.push(t))})),l.pageBounds=n,l.collaborators=I.value,l.render()}),[s,l]),(0,T.jsx)("div",{className:"tlui-minimap",children:(0,T.jsx)("canvas",{ref:o,className:"tlui-minimap__canvas",onDoubleClick:d,onPointerMove:h,onPointerDown:u,onPointerUp:p,onWheel:g})})}));function Sd(e){return e.isKilled=!0,{point:{x:e.clientX,y:e.clientY,z:e.pressure},shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey,pointerId:e.pointerId,button:e.button,isPen:"pen"===e.pointerType}}const vd=(0,et.j)((function(){const e=(0,n.qDZ)(),t=Ul(),i=dc(),s=e.zoomLevel,o=e.shapeIds.size>0,r=e.selectedIds.length>0,a=1===e.camera.z,l=E.useCallback((()=>{e.resetZoom(e.viewportScreenCenter,{duration:n.KDN})}),[e]);return(0,T.jsxs)(xa,{id:"zoom",children:[(0,T.jsx)(Sa,{children:(0,T.jsx)(Br,{title:`${t("navigation-zone.zoom")}`,"data-wd":"minimap.zoom-menu",className:i<5?"tlui-zoom-menu__button":"tlui-zoom-menu__button__pct",onDoubleClick:l,icon:i<4?"zoom-in":void 0,children:i<4?null:(0,T.jsxs)("span",{style:{flexGrow:0,textAlign:"center"},children:[Math.floor(100*s),"%"]})})}),(0,T.jsx)(va,{side:"top",align:"start",alignOffset:0,children:(0,T.jsxs)(Da,{children:[(0,T.jsx)(Ld,{action:"zoom-in","data-wd":"minimap.zoom-menu.zoom-in",noClose:!0}),(0,T.jsx)(Ld,{action:"zoom-out","data-wd":"minimap.zoom-menu.zoom-out",noClose:!0}),(0,T.jsx)(Ld,{action:"zoom-to-100","data-wd":"minimap.zoom-menu.zoom-to-100",noClose:!0,disabled:a}),(0,T.jsx)(Ld,{action:"zoom-to-fit",disabled:!o,"data-wd":"minimap.zoom-menu.zoom-to-fit",noClose:!0}),(0,T.jsx)(Ld,{action:"zoom-to-selection",disabled:!r,"data-wd":"minimap.zoom-menu.zoom-to-selection",noClose:!0})]})})]})}));function Ld(e){const{action:t,disabled:i=!1,noClose:n=!1}=e,s=rc();return(0,T.jsx)(Za,{label:s[t].label,kbd:s[t].kbd,"data-wd":e["data-wd"],onClick:s[t].onSelect,noClose:n,disabled:i})}const jd=(0,E.memo)((function(){const e=rc(),t=Ul(),i=dc(),[n,s]=function(e,t){const[i,n]=E.useState(t);E.useLayoutEffect((()=>{const t=localStorage.getItem(e);if(t)try{n(JSON.parse(t))}catch(Ct){console.error(`Could not restore value ${e} from local storage.`)}}),[e]);const s=E.useCallback((t=>{n((i=>{const n="function"==typeof t?t(i):t;return localStorage.setItem(e,JSON.stringify(n)),n}))}),[e]);return[i,s]}("minimap",!0),o=(0,E.useCallback)((()=>{s((e=>!e))}),[s]);return i<4?null:(0,T.jsxs)("div",{className:"tlui-navigation-zone",children:[(0,T.jsx)("div",{className:"tlui-navigation-zone__controls",children:i<6?(0,T.jsx)(vd,{}):n?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(vd,{}),(0,T.jsx)(Br,{title:t("navigation-zone.toggle-minimap"),className:"tlui-navigation-zone__toggle","data-wd":"minimap.toggle",onClick:o,icon:n?"chevrons-ne":"chevrons-sw"})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Br,{icon:"minus","data-wd":"minimap.zoom-out",title:`${t(e["zoom-out"].label)} ${Rr(e["zoom-out"].kbd)}`,onClick:e["zoom-out"].onSelect}),(0,T.jsx)(vd,{}),(0,T.jsx)(Br,{icon:"plus","data-wd":"minimap.zoom-in",title:`${t(e["zoom-in"].label)} ${Rr(e["zoom-in"].kbd)}`,onClick:e["zoom-in"].onSelect}),(0,T.jsx)(Br,{title:t("navigation-zone.toggle-minimap"),className:"tlui-navigation-zone__toggle",onClick:o,icon:n?"chevrons-ne":"chevrons-sw"})]})}),i>=6&&!n&&(0,T.jsx)(xd,{viewportFill:"--color-muted-1",selectFill:"--color-selected",shapeFill:"--color-text-3"})]})})),Nd=E.memo((function({"data-wd":e,label:t,labelA:i,labelB:n,itemsA:s,itemsB:o,styleTypeA:r,styleTypeB:a,valueA:l,valueB:c,onValueChange:d}){const u=Ul(),h=E.useMemo((()=>s.find((e=>e.id===l))?.icon??"mixed"),[s,l]),p=E.useMemo((()=>o.find((e=>e.id===c))?.icon??"mixed"),[o,c]);if(void 0===l&&void 0===c)return null;const g=`${e}.start`,I=`${e}.end`;return(0,T.jsxs)("div",{className:"tlui-style-panel__double-select-picker",children:[(0,T.jsx)("div",{title:u(t),className:"tlui-style-panel__double-select-picker-label",children:u(t)}),(0,T.jsxs)(xa,{id:`style panel ${r}`,children:[(0,T.jsx)(ga,{asChild:!0,children:(0,T.jsx)(Br,{"data-wd":g,title:u(i)+" — "+u(null===l?"style-panel.mixed":`${r}-style.${l}`),icon:h,invertIcon:!0,smallIcon:!0})}),(0,T.jsx)(va,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:(0,T.jsx)("div",{className:$e("tlui-button-grid",{"tlui-button-grid__two":s.length<4,"tlui-button-grid__four":s.length>=4}),children:s.map((e=>(0,T.jsx)(Za,{className:"tlui-button-grid__button",title:u(i)+" — "+u(`${r}-style.${e.id}`),"data-wd":`${g}.${e.id}`,icon:e.icon,onClick:()=>d(e,!1),invertIcon:!0},e.id)))})})]}),(0,T.jsxs)(xa,{id:`style panel ${a}`,children:[(0,T.jsx)(ga,{asChild:!0,children:(0,T.jsx)(Br,{"data-wd":I,title:u(n)+" — "+u(null===c?"style-panel.mixed":`${a}-style.${c}`),icon:p,smallIcon:!0})}),(0,T.jsx)(va,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:(0,T.jsx)("div",{className:$e("tlui-button-grid",{"tlui-button-grid__two":s.length<4,"tlui-button-grid__four":s.length>=4}),children:o.map((e=>(0,T.jsx)(Za,{className:"tlui-button-grid__button",title:u(n)+" — "+u(`${a}-style.${e.id}`),"data-wd":`${I}.${e.id}`,icon:e.icon,onClick:()=>d(e,!1)},e.id)))})})]})]})})),Dd=E.memo((function({id:e,items:t,styleType:i,label:n,value:s,onValueChange:o,"data-wd":r}){const a=Ul(),l=E.useMemo((()=>t.find((e=>e.id===s))?.icon),[t,s]);return(0,T.jsxs)(xa,{id:`style panel ${e}`,children:[(0,T.jsx)(ga,{asChild:!0,children:(0,T.jsx)(Br,{"data-wd":r,title:a(null===s?"style-panel.mixed":`${i}-style.${s}`),label:n,icon:l??"mixed"})}),(0,T.jsx)(va,{side:"left",align:"center",alignOffset:0,children:(0,T.jsx)("div",{className:$e("tlui-button-grid",{"tlui-button-grid__two":t.length<4,"tlui-button-grid__four":t.length>=4}),children:t.map((e=>(0,T.jsx)(Za,{className:"tlui-button-grid__button","data-wd":`${r}.${e.id}`,title:a(`${i}-style.${e.id}`),icon:e.icon,onClick:()=>o(e,!1)},e.id)))})})]})})),Zd=(0,et.j)((function({isMobile:e}){const t=(0,n.qDZ)(),i=t.props,s=(0,E.useCallback)((()=>{e||(t.isChangingStyle=!1)}),[t,e]);if(!i)return null;const{geo:o,arrowheadEnd:r,arrowheadStart:a,spline:l,font:c}=i,d=void 0===o,u=void 0===r&&void 0===a,h=void 0===l,p=void 0===c;return(0,T.jsxs)("div",{className:"tlui-style-panel","data-ismobile":e,onPointerLeave:s,children:[(0,T.jsx)(Td,{props:i}),!p&&(0,T.jsx)(zd,{props:i}),!(d&&u&&h)&&(0,T.jsxs)("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[(0,T.jsx)(Wd,{props:i}),(0,T.jsx)(Pd,{props:i}),(0,T.jsx)(Yd,{props:i})]})]})})),{styles:Ed}=n.gVA;function kd(){const e=(0,n.qDZ)();return E.useCallback(((t,i)=>{e.batch((()=>{e.setProp(t.type,t.id,!1,i),e.isChangingStyle=!0}))}),[e])}function Td({props:e}){const t=(0,n.qDZ)(),i=Ul(),s=kd(),o=E.useCallback(((e,i)=>{const n=Ed.opacity[e];t.setProp(n.type,n.id,i),t.isChangingStyle=!0}),[t]),{color:r,fill:a,dash:l,size:c,opacity:d}=e;if(void 0===r&&void 0===a&&void 0===l&&void 0===c&&void 0===d)return null;const u=a||l||c,h=Ed.opacity.findIndex((e=>e.id===d));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"tlui-style-panel__section__common","aria-label":"style panel styles",children:[void 0===r?null:(0,T.jsx)(Ta,{title:i("style-panel.color"),styleType:"color","data-wd":"style.color",items:Ed.color,value:r,onValueChange:s}),void 0===d?null:(0,T.jsx)(pl,{"data-wd":"style.opacity",value:h>=0?h:Ed.opacity.length-1,label:d?`opacity-style.${d}`:"style-panel.mixed",onValueChange:o,steps:Ed.opacity.length-1,title:i("style-panel.opacity")})]}),u&&(0,T.jsxs)("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[void 0===a?null:(0,T.jsx)(Ta,{title:i("style-panel.fill"),styleType:"fill","data-wd":"style.fill",items:Ed.fill,value:a,onValueChange:s}),void 0===l?null:(0,T.jsx)(Ta,{title:i("style-panel.dash"),styleType:"dash","data-wd":"style.dash",items:Ed.dash,value:l,onValueChange:s}),void 0===c?null:(0,T.jsx)(Ta,{title:i("style-panel.size"),styleType:"size","data-wd":"style.size",items:Ed.size,value:c,onValueChange:s})]})]})}function zd({props:e}){const t=Ul(),i=kd(),{font:n,align:s}=e;return void 0===n&&void 0===s?null:(0,T.jsxs)("div",{className:"tlui-style-panel__section","aria-label":"style panel text",children:[void 0===n?null:(0,T.jsx)(Ta,{title:t("style-panel.font"),styleType:"font","data-wd":"font",items:Ed.font,value:n,onValueChange:i}),void 0===s?null:(0,T.jsx)(Ta,{title:t("style-panel.align"),styleType:"align","data-wd":"align",items:Ed.align,value:s,onValueChange:i})]})}function Wd({props:e}){const t=kd(),{geo:i}=e;return void 0===i?null:(0,T.jsx)(Dd,{id:"geo",label:"style-panel.geo",styleType:"geo","data-wd":"style-panel.geo",items:Ed.geo,value:i,onValueChange:t})}function Yd({props:e}){const t=kd(),{spline:i}=e;return void 0===i?null:(0,T.jsx)(Dd,{id:"spline",label:"style-panel.spline",styleType:"spline","data-wd":"style.spline",items:Ed.spline,value:i,onValueChange:t})}function Pd({props:e}){const t=kd(),{arrowheadEnd:i,arrowheadStart:n}=e;return void 0===i&&void 0===n?null:(0,T.jsx)(Nd,{label:"style-panel.arrowheads",styleTypeA:"arrowheadStart","data-wd":"style.arrowheads",itemsA:Ed.arrowheadStart,valueA:n,styleTypeB:"arrowheadEnd",itemsB:Ed.arrowheadEnd,valueB:i,onValueChange:t,labelA:"style-panel.arrowhead-start",labelB:"style-panel.arrowhead-end"})}function Gd(){const e=(0,n.qDZ)(),t=rc()["back-to-content"],[i,s]=(0,E.useState)(!1);return(0,E.useEffect)((()=>{let t=!1;const i=setInterval((()=>{const{renderingShapes:i}=e,n=i.filter((e=>e.isInViewport)),o=0===n.length&&e.shapesArray.length>0;t!==o&&(s(o),t=o)}),1e3);return()=>{clearInterval(i)}}),[e]),i?(0,T.jsx)(Br,{iconLeft:t.icon,label:t.label,onClick:()=>{t.onSelect(),s(!1)}}):null}const Od=({id:e,component:t,onClose:i})=>{const{removeDialog:s}=ic(),o=(0,n.uK4)(),r=(0,E.useCallback)((t=>{if(!t){if(i)try{i()}catch(Hu){console.warn(Hu)}s(e)}}),[e,i,s]);return(0,T.jsx)(Er,{onOpenChange:r,defaultOpen:!0,children:(0,T.jsx)(kr,{container:o,children:(0,T.jsx)(Tr,{dir:"ltr",className:"tlui-dialog__overlay",children:(0,T.jsx)(zr,{dir:"ltr",className:"tlui-dialog__content",children:(0,T.jsx)(t,{onClose:()=>r(!1)})})})})})};const Rd=E.memo((function(){const{dialogs:e}=ic();return(0,T.jsx)(T.Fragment,{children:e.map((e=>(0,T.jsx)(Od,{...e},e.id)))})})),Fd=(0,et.j)((function(){const e=(0,n.qDZ)().isPenMode,t=rc();if(!e)return null;const i=t["exit-pen-mode"];return(0,T.jsx)(Br,{label:i.label,iconLeft:i.icon,onClick:i.onSelect})})),Bd="Popover",[Jd,Hd]=O(Bd,[Di]),Xd=Di(),[Vd,_d]=Jd(Bd),Ud=e=>{const{__scopePopover:t,children:i,open:n,defaultOpen:s,onOpenChange:o,modal:r=!1}=e,a=Xd(t),l=(0,E.useRef)(null),[c,d]=(0,E.useState)(!1),[u=!1,h]=he({prop:n,defaultProp:s,onChange:o});return(0,E.createElement)(Vi,a,(0,E.createElement)(Vd,{scope:t,contentId:bt(),triggerRef:l,open:u,onOpenChange:h,onOpenToggle:(0,E.useCallback)((()=>h((e=>!e))),[h]),hasCustomAnchor:c,onCustomAnchorAdd:(0,E.useCallback)((()=>d(!0)),[]),onCustomAnchorRemove:(0,E.useCallback)((()=>d(!1)),[]),modal:r},i))},Kd="PopoverTrigger",Qd=(0,E.forwardRef)(((e,t)=>{const{__scopePopover:i,...n}=e,s=_d(Kd,i),o=Xd(i),r=G(t,s.triggerRef),a=(0,E.createElement)(_.button,(0,z.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":au(s.open)},n,{ref:r,onClick:Y(e.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?a:(0,E.createElement)(_i,(0,z.Z)({asChild:!0},o),a)})),qd="PopoverPortal",[$d,eu]=Jd(qd,{forceMount:void 0}),tu=e=>{const{__scopePopover:t,forceMount:i,children:n,container:s}=e,o=_d(qd,t);return(0,E.createElement)($d,{scope:t,forceMount:i},(0,E.createElement)(de,{present:i||o.open},(0,E.createElement)(le,{asChild:!0,container:s},n)))},iu="PopoverContent",nu=(0,E.forwardRef)(((e,t)=>{const i=eu(iu,e.__scopePopover),{forceMount:n=i.forceMount,...s}=e,o=_d(iu,e.__scopePopover);return(0,E.createElement)(de,{present:n||o.open},o.modal?(0,E.createElement)(su,(0,z.Z)({},s,{ref:t})):(0,E.createElement)(ou,(0,z.Z)({},s,{ref:t})))})),su=(0,E.forwardRef)(((e,t)=>{const i=_d(iu,e.__scopePopover),n=(0,E.useRef)(null),s=G(t,n),o=(0,E.useRef)(!1);return(0,E.useEffect)((()=>{const e=n.current;if(e)return Mn(e)}),[]),(0,E.createElement)(os,{as:F,allowPinchZoom:!0},(0,E.createElement)(ru,(0,z.Z)({},e,{ref:s,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),o.current||null===(t=i.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:Y(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,i=0===t.button&&!0===t.ctrlKey,n=2===t.button||i;o.current=n}),{checkForDefaultPrevented:!1}),onFocusOutside:Y(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})))})),ou=(0,E.forwardRef)(((e,t)=>{const i=_d(iu,e.__scopePopover),n=(0,E.useRef)(!1);return(0,E.createElement)(ru,(0,z.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,o;(null===(s=e.onCloseAutoFocus)||void 0===s||s.call(e,t),t.defaultPrevented)||(n.current||null===(o=i.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());n.current=!1},onInteractOutside:t=>{var s,o;null===(s=e.onInteractOutside)||void 0===s||s.call(e,t),t.defaultPrevented||(n.current=!0);const r=t.target;(null===(o=i.triggerRef.current)||void 0===o?void 0:o.contains(r))&&t.preventDefault()}}))})),ru=(0,E.forwardRef)(((e,t)=>{const{__scopePopover:i,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:r,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=e,h=_d(iu,i),p=Xd(i);return st(),(0,E.createElement)(ct,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o},(0,E.createElement)(ie,{asChild:!0,disableOutsidePointerEvents:r,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1)},(0,E.createElement)(Ui,(0,z.Z)({"data-state":au(h.open),role:"dialog",id:h.contentId},p,u,{ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}));function au(e){return e?"open":"closed"}const lu=Ud,cu=Qd,du=tu,uu=nu,hu=({id:e,open:t,children:i,onOpenChange:n})=>{const s=sd(e,n);return(0,T.jsx)(lu,{onOpenChange:s,open:t,children:(0,T.jsx)("div",{className:"tlui-popover",children:i})})},pu=({children:e,disabled:t,"data-wd":i})=>(0,T.jsx)(cu,{"data-wd":i,disabled:t,asChild:!0,dir:"ltr",children:e}),gu=({side:e,children:t,align:i="center",sideOffset:s=8,alignOffset:o=0})=>{const r=(0,n.uK4)();return(0,T.jsx)(du,{dir:"ltr",container:r,children:(0,T.jsx)(uu,{className:"tlui-popover__content",side:e,sideOffset:s,align:i,alignOffset:o,dir:"ltr",children:t})})},Iu=(0,E.memo)((function(){const e=Ul(),t=(0,n.uK4)(),i=function(){const e=E.useContext(hc);if(!e)throw new Error("useActionsMenuSchema must be used inside of a ActionsMenuSchemaProvider.");return e}(),s=_c();return(0,T.jsxs)(hu,{id:"actions menu",children:[(0,T.jsx)(pu,{children:(0,T.jsx)(Br,{className:"tlui-menu__trigger","data-wd":"main.action-menu",icon:"dots-vertical",title:e("actions-menu.title"),smallIcon:!0})}),(0,T.jsx)(du,{dir:"ltr",container:t,children:(0,T.jsx)(uu,{className:"tlui-popover__content",side:"bottom",dir:"ltr",sideOffset:6,children:(0,T.jsx)("div",{className:"tlui-actions-menu tlui-button-grid__four",children:i.map((function(t){if(s&&!t.readonlyOk)return null;if("item"===t.type){const{id:i,icon:n,label:s,kbd:o,onSelect:r}=t.actionItem;return(0,T.jsx)(Br,{className:"tlui-button-grid__button","data-wd":`menu-item.${t.id}`,icon:n,title:s?o?`${e(s)} ${Rr(o)}`:`${e(s)}`:o?`${Rr(o)}`:"",onClick:r,disabled:t.disabled},i)}}))})})})]})})),mu=(0,et.j)((function(){const e=(0,n.qDZ)(),t=rc(),i=Ul(),s=t.duplicate,o=e.selectedIds.length<=0;return(0,T.jsx)(Br,{icon:s.icon,onClick:s.onSelect,disabled:o,title:`${i(s.label)} ${Rr(s.kbd)}`,smallIcon:!0})})),yu=E.memo((function(){const e=Ul();return(0,T.jsxs)(xa,{id:"main menu",children:[(0,T.jsx)(Sa,{children:(0,T.jsx)(Br,{className:"tlui-menu__trigger","data-wd":"main.menu",title:e("menu.title"),icon:"menu"})}),(0,T.jsx)(va,{alignOffset:0,sideOffset:6,children:(0,T.jsx)(bu,{})})]})}));function bu(){const e=(0,n.qDZ)(),t=Ul(),i=function(){const e=E.useContext(od);if(!e)throw new Error("useMenuSchema must be used inside of a MenuSchemaProvider.");return e}(),s=dc(),o=_c(),{paste:r}=kl();function a(e,i,l,c){switch(i.type){case"custom":return o&&!i.readonlyOk?null:"LANGUAGE_MENU"===i.id?(0,T.jsx)(Cd,{},"item"):"MENU_PASTE"===i.id?(0,T.jsx)(Za,{"data-wd":`menu-item.${i.id}`,kbd:"$v",label:"action.paste",disabled:i.disabled,onMouseDown:()=>{e.isSafari&&navigator.clipboard?.read&&navigator.clipboard.read().then((e=>{r(e)}))},onClick:()=>{e.isSafari||navigator.clipboard?.read&&navigator.clipboard.read().then((e=>{r(e)}))},onPointerUp:n.PFJ},i.id):null;case"group":return o&&!i.readonlyOk?null:(0,T.jsx)(Da,{size:c<=1?"medium":s<3||"submenu"===l?.type&&c>2?"tiny":"medium",children:i.children.map((t=>a(e,t,i,c+1)))},i.id);case"submenu":return o&&!i.readonlyOk?null:(0,T.jsxs)(La,{id:`main menu ${l?l.id+" ":""}${i.id}`,children:[(0,T.jsx)(ja,{label:i.label,"data-wd":`menu-item.${i.id}`}),(0,T.jsx)(Na,{sideOffset:-4,alignOffset:-1,children:i.children.map((t=>a(e,t,i,c+1)))})]},i.id);case"item":{if(o&&!i.readonlyOk)return null;const{id:e,checkbox:n,menuLabel:s,label:r,onSelect:a,kbd:l}=i.actionItem,c=s??r,d=c?t(c):void 0;return n?(0,T.jsxs)(Ea,{onSelect:a,title:d||"",checked:i.checked,disabled:i.disabled,children:[d&&(0,T.jsx)("span",{children:d}),l&&(0,T.jsx)(Fr,{children:l})]},e):(0,T.jsx)(Za,{"data-wd":`menu-item.${i.id}`,kbd:l,label:c,onClick:a,disabled:i.disabled},e)}}}return(0,T.jsx)(T.Fragment,{children:i.map((t=>a(e,t,null,0)))})}const fu=function({name:e,id:t,isCurrentPage:i}){const s=(0,n.qDZ)(),o=(0,E.useRef)(null),r=(0,E.useCallback)((e=>{s.renamePage(t,e||"New Page",!0)}),[s,t]),a=(0,E.useCallback)((e=>{s.mark("rename page"),s.renamePage(t,e||"New Page",!1)}),[s,t]);return(0,T.jsx)(za,{className:"tlui-page-menu__item__input",ref:e=>o.current=e,defaultValue:e,onValueChange:r,onComplete:a,onCancel:a,shouldManuallyMaintainScrollPositionWhenFocused:!0,autofocus:i,autoselect:!0})},Cu=(e,t,i,s)=>{let o;const r=e.pages,a=i>s?r[s-1]:r[s],l=i>s?r[s]:r[s+1];o=a&&!l?(0,n._LC)(a.index):!a&&l?(0,n.Xgj)(r[0].index):(0,n.eIg)(a.index,l.index),o!==r[i].index&&(e.mark("moving page"),e.updatePage({id:t,index:o}))},wu=(0,et.j)((function({index:e,listSize:t,item:i,onRename:s}){const o=(0,n.qDZ)(),r=Ul(),a=o.pages,l=(0,E.useCallback)((()=>{o.mark("creating page");const e=n.rlI.createId();o.duplicatePage(i.id,e)}),[o,i]),c=(0,E.useCallback)((()=>{Cu(o,i.id,e,e-1)}),[o,i,e]),d=(0,E.useCallback)((()=>{Cu(o,i.id,e,e+1)}),[o,i,e]),u=(0,E.useCallback)((()=>{o.mark("deleting page"),o.deletePage(i.id)}),[o,i]);return(0,T.jsxs)(xa,{id:"page item submenu",children:[(0,T.jsx)(Sa,{children:(0,T.jsx)(Br,{title:r("page-menu.submenu.title"),icon:"dots-vertical"})}),(0,T.jsxs)(va,{alignOffset:0,children:[(0,T.jsxs)(Da,{children:[s&&(0,T.jsx)(ba,{dir:"ltr",onSelect:s,asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",label:"page-menu.submenu.rename"})}),(0,T.jsx)(ba,{dir:"ltr",onSelect:l,disabled:a.length>=n.Etb,asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",label:"page-menu.submenu.duplicate-page"})}),e>0&&(0,T.jsx)(ba,{dir:"ltr",onSelect:c,asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",label:"page-menu.submenu.move-up"})}),e<t-1&&(0,T.jsx)(ba,{dir:"ltr",onSelect:d,asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",label:"page-menu.submenu.move-down"})})]}),t>1&&(0,T.jsx)(Da,{children:(0,T.jsx)(ba,{dir:"ltr",onSelect:u,asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-menu__button",label:"page-menu.submenu.delete"})})})]})]})})),Mu=(0,et.j)((function(){const e=(0,n.qDZ)(),t=Ul(),i=dc(),s=i<5?36:40,o=(0,E.useRef)(null),{pages:r,currentPage:a}=e,l=e.isReadOnly,c=e.pages.length>=n.Etb,[d,u]=(0,E.useState)(!1),h=(0,E.useCallback)((()=>{l||u((e=>!e))}),[l]),[p,g]=(0,E.useState)(!1),I=(0,E.useCallback)((e=>{g(e),u(!1)}),[]),m=(0,E.useRef)({isPointing:!1,status:"idle",pointing:null,startY:0,startIndex:0,dragIndex:0}),[y,b]=(0,E.useState)(Object.fromEntries(r.map(((e,t)=>[e.id,{y:t*s,offsetY:0,isSelected:!1}]))));(0,E.useLayoutEffect)((()=>{b(Object.fromEntries(r.map(((e,t)=>[e.id,{y:t*s,offsetY:0,isSelected:!1}]))))}),[s,r]),(0,E.useEffect)((()=>{p&&requestAnimationFrame((()=>{const e=document.querySelector(`[data-wd="page-menu-item-${a.id}"]`);if(e){const t=o.current;if(!t)return;const i=e.offsetTop;i<t.scrollTop&&t.scrollTo({top:i});const n=i+s;n>t.scrollTop+t.offsetHeight&&t.scrollTo({top:n-t.offsetHeight})}}))}),[s,a,p]);const f=(0,E.useCallback)((e=>{const{clientY:t,currentTarget:i}=e,{dataset:{id:n,index:o}}=i;if(!n||!o)return;const a=m.current;e.currentTarget.setPointerCapture(e.pointerId),a.status="pointing",a.pointing={id:n,index:+o};const l=y[n].y;a.startY=t,a.startIndex=Math.max(0,Math.min(Math.round(l/s),r.length-1))}),[s,r.length,y]),C=(0,E.useCallback)((e=>{const t=m.current;if("pointing"===t.status){const{clientY:i}=e,n=i-t.startY;Math.abs(n)>5&&(t.status="dragging")}if("dragging"===t.status){const{clientY:i}=e,n=i-t.startY,o=y[t.pointing.id],{startIndex:a,pointing:l}=t,c=o.y+n,d=Math.max(0,Math.min(Math.round(c/s),r.length-1)),u={...y};if(u[l.id]={y:o.y,offsetY:n,isSelected:!0},d!==t.dragIndex){t.dragIndex=d;for(let e=0;e<r.length;e++){const i=r[e];if(i.id===t.pointing.id)continue;let{y:n}=u[i.id];d===a?n=e*s:d<a?n=d<=e&&e<a?(e+1)*s:e*s:d>a&&(n=d>=e&&e>a?(e-1)*s:e*s),n!==u[i.id].y&&(u[i.id]={y:n,offsetY:0,isSelected:!0})}}b(u)}}),[s,r,y]),w=(0,E.useCallback)((t=>{const i=m.current;if("dragging"===i.status){const{id:t,index:n}=i.pointing;Cu(e,t,n,i.dragIndex)}t.currentTarget.releasePointerCapture(t.pointerId),i.status="idle"}),[e]),M=(0,E.useCallback)((e=>{const t=m.current;"Escape"===e.key&&("dragging"===t.status&&b(Object.fromEntries(r.map(((e,t)=>[e.id,{y:t*s,offsetY:0,isSelected:!1}])))),t.status="idle")}),[s,r]),A=(0,E.useCallback)((()=>{if(l)return;e.mark("creating page");const i=Uc.rl.createId();e.createPage(t("page-menu.new-page-initial-name"),i),u(!0)}),[e,t,l]);return(0,T.jsxs)(hu,{id:"page menu",onOpenChange:I,open:p,children:[(0,T.jsx)(pu,{children:(0,T.jsx)(Br,{className:"tlui-page-menu__trigger tlui-menu__trigger","data-wd":"main.page-menu",icon:"chevron-down",title:a.name,children:(0,T.jsx)("div",{className:"tlui-page-menu__name",children:a.name})})}),(0,T.jsx)(gu,{side:"bottom",align:"start",sideOffset:6,children:(0,T.jsxs)("div",{className:"tlui-page-menu__wrapper",children:[(0,T.jsxs)("div",{className:"tlui-page-menu__header",children:[(0,T.jsx)("div",{className:"tlui-page-menu__header__title",children:t("page-menu.title")}),!l&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Br,{"data-wd":"page-menu.edit",title:t(d?"page-menu.edit-done":"page-menu.edit-start"),icon:d?"check":"edit",onClick:h}),(0,T.jsx)(Br,{"data-wd":"page-menu.create",icon:"plus",title:t(c?"page-menu.max-page-count-reached":"page-menu.create-new-page"),disabled:c,onClick:A})]})]}),(0,T.jsx)("div",{className:"tlui-page-menu__list tlui-menu__group",style:{height:s*r.length+4},ref:o,children:r.map(((t,n)=>{const o=y[t.id]??{position:40*n,offsetY:0};return d?(0,T.jsxs)("div",{"data-wd":`page-menu-item-${t.id}`,className:"tlui-page_menu__item__sortable",style:{zIndex:t.id===a.id?888:n,transform:`translate(0px, ${o.y+o.offsetY}px)`},children:[(0,T.jsx)(Br,{tabIndex:-1,className:"tlui-page_menu__item__sortable__handle",icon:"drag-handle-dots",onPointerDown:f,onPointerUp:w,onPointerMove:C,onKeyDown:M,"data-id":t.id,"data-index":n}),i<5&&e.isCoarsePointer?(0,T.jsx)(Br,{className:"tlui-page-menu__item__button",onClick:()=>{const i=window.prompt("Rename page",t.name);i&&i!==t.name&&e.renamePage(t.id,i)},onDoubleClick:h,isChecked:t.id===a.id,children:(0,T.jsx)("span",{children:t.name})}):(0,T.jsx)("div",{id:`page-menu-item-${t.id}`,"data-wd":`page-menu-item-${t.id}`,className:"tlui-page_menu__item__sortable__title",style:{height:s},children:(0,T.jsx)(fu,{id:t.id,name:t.name,isCurrentPage:t.id===a.id})}),!l&&(0,T.jsx)("div",{className:"tlui-page_menu__item__submenu","data-isediting":d,children:(0,T.jsx)(wu,{index:n,item:t,listSize:r.length})})]},t.id+"_editing"):(0,T.jsxs)("div",{"data-wd":`page-menu-item-${t.id}`,className:"tlui-page-menu__item",children:[(0,T.jsxs)(Br,{className:"tlui-page-menu__item__button tlui-page-menu__item__button__checkbox",onClick:()=>e.setCurrentPageId(t.id),onDoubleClick:h,isChecked:t.id===a.id,children:[(0,T.jsx)("div",{className:"tlui-page-menu__item__button__check",children:t.id===a.id&&(0,T.jsx)(Yr,{icon:"check"})}),(0,T.jsx)("span",{children:t.name})]}),!l&&(0,T.jsx)("div",{className:"tlui-page_menu__item__submenu",children:(0,T.jsx)(wu,{index:n,item:t,listSize:r.length,onRename:()=>{if(e.isIos){const i=window.prompt("Rename page",t.name);i&&i!==t.name&&e.renamePage(t.id,i)}else u(!0),e.setCurrentPageId(t.id)}})})]},t.id)}))})]})})]})})),Au=(0,E.memo)((function(){const e=Ul(),t=gc(),i=rc().redo;return(0,T.jsx)(Br,{"data-wd":"main.redo",icon:i.icon,title:`${e(i.label)} ${Rr(i.kbd)}`,disabled:!t,onClick:i.onSelect,smallIcon:!0})})),xu=(0,et.j)((function(){const e=(0,n.qDZ)(),t=rc(),i=Ul(),s=t.delete;if(_c())return null;const o=e.selectedIds.length<=0;return(0,T.jsx)(Br,{icon:s.icon,onClick:s.onSelect,disabled:o,title:`${i(s.label)} ${Rr(s.kbd)}`,smallIcon:!0})})),Su=(0,E.memo)((function(){const e=Ul(),t=Ic(),i=rc().undo;return(0,T.jsx)(Br,{"data-wd":"main.undo",icon:i.icon,title:`${e(i.label)} ${Rr(i.kbd)}`,disabled:!t,onClick:i.onSelect,smallIcon:!0})})),vu=(0,et.j)((function(){const e=dc(),t=_c();return(0,T.jsx)("div",{className:"tlui-menu-zone",children:(0,T.jsxs)("div",{className:"tlui-menu-zone__controls",children:[(0,T.jsx)(yu,{}),(0,T.jsx)("div",{className:"tlui-menu-zone__divider"}),(0,T.jsx)(Mu,{}),e>=5&&!t&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"tlui-menu-zone__divider"}),(0,T.jsx)(Su,{}),(0,T.jsx)(Au,{}),(0,T.jsx)(xu,{}),(0,T.jsx)(mu,{}),(0,T.jsx)(Iu,{})]})]})})}));function Lu({toast:e}){const{removeToast:t}=Yl(),i=Ul(),n=e.actions&&e.actions.length>0;return(0,T.jsxs)(_e,{onOpenChange:i=>{i||t(e.id)},className:"tlui-toast__container",duration:e.keepOpen?1/0:5e3,children:[e.icon&&(0,T.jsx)("div",{className:"tlui-toast__icon",children:(0,T.jsx)(Yr,{icon:e.icon})}),(0,T.jsxs)("div",{className:"tlui-toast__main",children:[(0,T.jsxs)("div",{className:"tlui-toast__content",children:[(0,T.jsx)(Ue,{className:"tlui-toast__title",children:e.title}),(0,T.jsx)(Ke,{className:"tlui-toast__description",children:e.description})]}),e.actions&&(0,T.jsxs)("div",{className:"tlui-toast__actions",children:[e.actions.map(((e,t)=>(0,T.jsx)(Qe,{altText:e.label,asChild:!0,onClick:e.onClick,children:(0,T.jsx)(Br,{className:"warn"===e.type?"tlui-button__warning":"tlui-button__primary",children:e.label})},t))),n&&(0,T.jsx)(qe,{asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-toast__close",style:{marginLeft:"auto"},children:e.closeLabel??i("toast.close")})})]})]}),!n&&(0,T.jsx)(qe,{asChild:!0,children:(0,T.jsx)(Br,{className:"tlui-toast__close",children:e.closeLabel??i("toast.close")})})]})}const ju=E.memo((function(){const{toasts:e}=Yl();return(0,T.jsx)(T.Fragment,{children:e.map((e=>(0,T.jsx)(Lu,{toast:e},e.id)))})}));function Nu(){const{toasts:e}=Yl(),[t,i]=E.useState(!1);return E.useEffect((()=>{let t=!1;return e.length?i(!0):setTimeout((()=>{t||i(!1)}),1e3),()=>{t=!0}}),[e.length,i]),t?(0,T.jsx)(Le,{className:"tlui-toast__viewport"}):null}function Du(){const e=(0,n.qDZ)(),t=(0,et.Hg)("current color",(()=>{const{props:t}=e;return t?t.color?e.getCssColor(t.color):null:"var(--color-muted-1)"}),[e]),i=(0,et.Hg)("isHandOrEraserToolActive",(()=>"hand"===e.currentToolId||"eraser"===e.currentToolId),[e]),s=(0,E.useCallback)((t=>{t||(e.isChangingStyle=!1)}),[e]);return(0,T.jsxs)(hu,{id:"style menu",onOpenChange:s,children:[(0,T.jsx)(pu,{disabled:i,children:(0,T.jsx)(Br,{className:"tlui-toolbar__tools__button tlui-toolbar__styles__button tlui-popover__trigger","data-wd":"mobile.styles",style:{color:t??"var(--color-text)"},children:(0,T.jsx)(Yr,{icon:t?"blob":"mixed"})})}),(0,T.jsx)(gu,{side:"top",align:"end",children:(0,T.jsx)(Zd,{isMobile:!0})})]})}const Zu=(0,et.j)((function({activeToolId:e}){const t=(0,n.qDZ)(),i=dc(),s=Ul(),{instanceState:{isToolLocked:o}}=t;return!("select"===e||"hand"===e||"draw"===e||"eraser"===e||"text"===e)?(0,T.jsx)(Br,{title:s("action.toggle-tool-lock"),className:$e("tlui-toolbar__lock-button",{"tlui-toolbar__lock-button__mobile":i<5}),icon:t.instanceState.isToolLocked?"lock":"unlock",onClick:()=>t.updateInstanceState({isToolLocked:!o}),smallIcon:!0}):null})),Eu=(0,et.j)((function(){const e=(0,n.qDZ)(),t=Ul(),i=dc(),s=E.useRef(void 0),o=e.isReadOnly,r=function(){const e=E.useContext(ld);if(!e)throw new Error("useToolbarSchema must be used within a ToolbarSchemaProvider");return e}(),a=e.currentToolId,l=e.props?e.props.geo:void 0,c=e=>e.label?`${t(e.label)} ${e.kbd?Rr(e.kbd):""}`:"",d=r.find((e=>sr(e.toolItem,a,l))),{itemsInPanel:u,itemsInDropdown:h,dropdownFirstItem:p}=E.useMemo((()=>{const e=[],t=[];let n;const o=Math.min(8,5+i);for(let i=4;i<r.length;i++){const s=r[i];i<o?e.push(s):(s===d&&(n=s),t.push(s))}return n||(s.current||(s.current=t[0]),n=s.current,t.includes(n)||(n=t[0])),s.current=n,t.length<=2&&(e.push(...t),t.length=0),{itemsInPanel:e,itemsInDropdown:t,dropdownFirstItem:n}}),[r,d,i]);return(0,T.jsx)("div",{className:"tlui-toolbar",children:(0,T.jsxs)("div",{className:"tlui-toolbar__inner",children:[(0,T.jsxs)("div",{className:"tlui-toolbar__left",children:[!o&&(0,T.jsxs)("div",{className:"tlui-toolbar__extras",children:[i<5&&(0,T.jsxs)("div",{className:"tlui-toolbar__extras__controls",children:[(0,T.jsx)(Su,{}),(0,T.jsx)(Au,{}),(0,T.jsx)(xu,{}),(0,T.jsx)(mu,{}),(0,T.jsx)(Iu,{})]}),(0,T.jsx)(Zu,{activeToolId:a})]}),(0,T.jsxs)("div",{className:$e("tlui-toolbar__tools",{"tlui-toolbar__tools__mobile":i<5}),children:[r.slice(0,2).map((({toolItem:e})=>(0,T.jsx)(Tu,{item:e,title:c(e),isSelected:sr(e,a,l)},e.id))),!o&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"tlui-toolbar__divider"}),r.slice(2,4).map((({toolItem:e})=>(0,T.jsx)(Tu,{item:e,title:c(e),isSelected:sr(e,a,l)},e.id))),(0,T.jsx)("div",{className:"tlui-toolbar__divider"}),u.map((({toolItem:e})=>(0,T.jsx)(Tu,{item:e,title:c(e),isSelected:sr(e,a,l)},e.id))),h.length?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Tu,{item:p.toolItem,title:c(p.toolItem),isSelected:sr(p.toolItem,a,l)},p.toolItem.id),(0,T.jsxs)(xa,{id:"toolbar overflow",modal:!1,children:[(0,T.jsx)(Sa,{children:(0,T.jsx)(Br,{className:"tlui-toolbar__tools__button tlui-toolbar__overflow",icon:"chevron-up","data-wd":"tools.more"})}),(0,T.jsx)(va,{side:"top",align:"center",children:(0,T.jsx)(ku,{toolbarItems:h})})]})]}):null]})]})]}),i<5&&!o&&(0,T.jsx)("div",{className:"tlui-toolbar__tools",children:(0,T.jsx)(Du,{})})]})})})),ku=(0,et.j)((function({toolbarItems:e}){const t=Ul();return(0,T.jsx)("div",{className:"tlui-button-grid__four tlui-button-grid__reverse",children:e.map((({toolItem:{id:e,meta:i,kbd:n,label:s,onSelect:o,icon:r}})=>(0,T.jsx)(Za,{className:"tlui-button-grid__button","data-wd":`tools.${e}`,"data-tool":e,"data-geo":i?.geo??"","aria-label":s,onClick:o,title:s?`${t(s)} ${n?Rr(n):""}`:"",icon:r},e)))})}));function Tu({item:e,title:t,isSelected:i}){return(0,T.jsx)(Br,{className:"tlui-toolbar__tools__button","data-wd":`tools.${e.id}`,"data-tool":e.id,"data-geo":e.meta?.geo??"","aria-label":e.label,title:t,icon:e.icon,"data-state":i?"selected":void 0,onClick:e.onSelect,onTouchStart:t=>{(0,n.PFJ)(t),e.onSelect()}},e.id)}const zu=["align-bottom","align-center-horizontal","align-center-vertical","align-left","align-right","align-top","arrow-left","arrowhead-arrow","arrowhead-bar","arrowhead-diamond","arrowhead-dot","arrowhead-none","arrowhead-square","arrowhead-triangle-inverted","arrowhead-triangle","aspect-ratio","avatar","blob","bring-forward","bring-to-front","check","checkbox-checked","checkbox-empty","chevron-down","chevron-left","chevron-right","chevron-up","chevrons-ne","chevrons-sw","clipboard-copy","code","collab","color","comment","cross-2","cross","dash-dashed","dash-dotted","dash-draw","dash-solid","discord","distribute-horizontal","distribute-vertical","dot","dots-horizontal","dots-vertical","drag-handle-dots","duplicate","edit","external-link","file","fill-none","fill-pattern","fill-semi","fill-solid","font-draw","font-mono","font-sans","font-serif","geo-arrow-down","geo-arrow-left","geo-arrow-right","geo-arrow-up","geo-diamond","geo-ellipse","geo-hexagon","geo-octagon","geo-oval","geo-pentagon","geo-rectangle","geo-rhombus-2","geo-rhombus","geo-star","geo-trapezoid","geo-triangle","geo-x-box","github","group","hidden","image","info-circle","link","lock-small","lock","menu","minus","mixed","pack","page","plus","question-mark-circle","question-mark","redo","reset-zoom","rotate-ccw","rotate-cw","ruler","search","send-backward","send-to-back","settings-horizontal","settings-vertical-1","settings-vertical","share-1","share-2","size-extra-large","size-large","size-medium","size-small","spline-cubic","spline-line","stack-horizontal","stack-vertical","stretch-horizontal","stretch-vertical","text-align-center","text-align-justify","text-align-left","text-align-right","tool-arrow","tool-embed","tool-eraser","tool-frame","tool-hand","tool-highlighter","tool-line","tool-media","tool-note","tool-pencil","tool-pointer","tool-text","trash","triangle-down","triangle-up","twitter","undo","ungroup","unlock-small","unlock","visible","warning-triangle","zoom-in","zoom-out"];const Wu={...n.Ers,icons:Object.fromEntries(zu.map((e=>[e,`/icons/icon/${e}.svg`]))),translations:Object.fromEntries(Gl.map((e=>[e.locale,`/translations/${e.locale}.json`]))),embedIcons:Object.fromEntries(n.Lu5.map((e=>[e.type,`/embed-icons/${e.type}.png`])))};function Yu(e){return(0,E.useMemo)((()=>e),e)}function Pu(e){const t=Yu(null==e?[]:Array.isArray(e)?e:[e]);return(0,E.useMemo)((()=>{const e={};for(const i of t)if(i.translations)for(const[t,n]of(0,s.EP)(i.translations)){let i=e[t];i||(i=e[t]={}),Object.assign(i,n)}return e}),[t])}function Gu(e){const t=function(){const{addToast:e,removeToast:t,clearToasts:i}=Yl(),{addDialog:n,clearDialogs:s,removeDialog:o,updateDialog:r}=ic(),a=dc()<5,l=Ul();return(0,E.useMemo)((()=>({addToast:e,removeToast:t,clearToasts:i,addDialog:n,clearDialogs:s,removeDialog:o,updateDialog:r,msg:l,isMobile:a})),[n,e,s,i,l,o,t,r,a])}(),i=Yu(null==e?[]:Array.isArray(e)?e:[e]);return(0,E.useMemo)((()=>function(e,t){const i={};for(const n of e)if(n.translations)for(const[e,t]of(0,s.EP)(n.translations)){let n=i[e];n||(n=i[e]={}),Object.assign(n,t)}return{actionsMenu:(i,n,s)=>{for(const o of e)o.actionsMenu&&(n=o.actionsMenu(i,n,{...t,...s}));return n},actions:(i,n)=>{for(const s of e)s.actions&&(n=s.actions(i,n,t));return n},contextMenu:(i,n,s)=>{for(const o of e)o.contextMenu&&(n=o.contextMenu(i,n,{...t,...s}));return n},helpMenu:(i,n,s)=>{for(const o of e)o.helpMenu&&(n=o.helpMenu(i,n,{...t,...s}));return n},menu:(i,n,s)=>{for(const o of e)o.menu&&(n=o.menu(i,n,{...t,...s}));return n},toolbar:(i,n,s)=>{for(const o of e)o.toolbar&&(n=o.toolbar(i,n,{...t,...s}));return n},keyboardShortcutsMenu:(i,n,s)=>{for(const o of e)o.keyboardShortcutsMenu&&(n=o.keyboardShortcutsMenu(i,n,{...t,...s}));return n},tools:(i,n,s)=>{for(const o of e)o.tools&&(n=o.tools(i,n,{...t,...s}));return n},translations:i}}(i,t)),[i,t])}function Ou({overrides:e,assetUrls:t,children:i}){return(0,T.jsx)(Jl,{assetUrls:t??Wu,children:(0,T.jsx)(_l,{overrides:Pu(e),children:(0,T.jsx)(Wl,{children:(0,T.jsx)(tc,{children:(0,T.jsx)(cc,{children:(0,T.jsx)(Ru,{overrides:e,children:i})})})})})})}function Ru({overrides:e,children:t}){const i=Gu(e);return(0,T.jsx)(oc,{overrides:i.actions,children:(0,T.jsx)(qc,{overrides:i.tools,children:(0,T.jsx)(cd,{overrides:i.toolbar,children:(0,T.jsx)(pc,{overrides:i.actionsMenu,children:(0,T.jsx)(nd,{overrides:i.keyboardShortcutsMenu,children:(0,T.jsx)(fc,{overrides:i.contextMenu,children:(0,T.jsx)(Ac,{overrides:i.helpMenu,children:(0,T.jsx)(rd,{overrides:i.menu,children:t})})})})})})})})}const Fu=E.memo((function({shareZone:e,renderDebugMenuItems:t,children:i,...n}){return(0,T.jsx)(Ou,{...n,children:(0,T.jsx)(Bu,{shareZone:e,renderDebugMenuItems:t,children:i})})})),Bu=E.memo((function({children:e,...t}){return function(){const[e,t]=(0,E.useState)(!1),i=Hl();return(0,E.useEffect)((()=>{let e=!1;return async function(){await Promise.allSettled(zu.map((e=>{const t=new Image;return t.src=i.icons[e],t.decode()}))),e||t(!0)}(),()=>{e=!0}}),[e,i]),e}()?(0,T.jsxs)(T.Fragment,{children:[e,(0,T.jsx)(Ju,{...t})]}):(0,T.jsx)(n.a_T,{children:"Loading assets..."})})),Ju=E.memo((function({shareZone:e,renderDebugMenuItems:t}){const i=(0,n.qDZ)(),s=Ul(),o=dc(),r=(0,et.Hg)("isReadOnlyMode",(()=>i.isReadOnly),[]),a=(0,et.Hg)("isFocusMode",(()=>i.instanceState.isFocusMode),[]),l=(0,et.Hg)("isDebugMode",(()=>i.instanceState.isDebugMode),[]);!function(){const e=(0,n.qDZ)(),t=bl(),i=_c(),s=rc(),o=$c();(0,E.useEffect)((()=>{if(!t)return;const r=e.getContainer(),a=(t,i)=>{Jc(t,{element:r,scope:e.instanceId},i)},l=()=>e.isMenuOpen||null!==e.editingId||e.crashingError;for(const e of Object.values(s))e.kbd&&(i&&!e.readonlyOk||ed.includes(e.id)||a(td(e.kbd),(t=>{l()||((0,n.PFJ)(t),e.onSelect())})));for(const e of Object.values(o))e.kbd&&(ed.includes(e.id)||a(td(e.kbd),(t=>{l()||((0,n.PFJ)(t),e.onSelect())})));return a("g",(()=>{l()||e.setSelectedTool("geo")})),a("backspace,del",(()=>{l()||s.delete.onSelect()})),a("=",(()=>{l()||s["zoom-in"].onSelect()})),a("-",(()=>{l()||s["zoom-out"].onSelect()})),Jc.setScope(e.instanceId),()=>{Jc.deleteScope(e.instanceId)}}),[s,o,i,e,t])}(),Tl(),function(){const e=(0,n.qDZ)(),{addToast:t}=Yl();(0,E.useEffect)((()=>{function i({name:e,count:i}){t({title:"Maximum Shapes Reached",description:`You've reached the maximum number of shapes allowed on ${e} (${i}). Please delete some shapes or move to a different page to continue.`})}function n({name:i,fromId:n}){t({title:"Changed Page",description:`Moved to ${i}.`,actions:[{label:"Go Back",type:"primary",onClick:()=>{e.mark("change-page"),e.setCurrentPageId(n)}}]})}return e.addListener("max-shapes",i),e.addListener("moved-to-page",n),()=>{e.removeListener("max-shapes",i),e.removeListener("moved-to-page",n)}}),[e,t])}();const{"toggle-focus-mode":c}=rc();return(0,T.jsx)(Me,{children:(0,T.jsx)("main",{"data-wd":"desktop-ui",className:$e("tlui-layout",{"tlui-layout__mobile":o<5}),children:a?(0,T.jsx)("div",{className:"tlui-layout__top",children:(0,T.jsx)(Br,{className:"tlui-focus-button",title:`${s("focus-mode.toggle-focus-mode")}`,icon:"dot",onClick:c.onSelect})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"tlui-layout__top",children:[(0,T.jsx)(vu,{}),(0,T.jsx)("div",{className:"tlui-spacer"}),(0,T.jsx)("div",{className:"tlui-share-zone",draggable:!1,children:e})]}),(0,T.jsxs)("div",{className:"tlui-layout__middle","data-wd":"active-area","data-tldraw-area":"active-drawing",children:[(0,T.jsxs)("div",{className:"tlui-helper-buttons",children:[(0,T.jsx)(Fd,{}),(0,T.jsx)(Gd,{})]}),o>=5&&!r&&(0,T.jsx)("div",{className:"tlui-style-panel__wrapper",children:(0,T.jsx)(Zd,{})})]}),(0,T.jsxs)("div",{className:"tlui-layout__bottom",children:[(0,T.jsxs)("div",{className:"tlui-layout__bottom__main",children:[(0,T.jsx)(jd,{}),(0,T.jsx)(Eu,{}),o>=4&&(0,T.jsx)(wd,{})]}),l&&(0,T.jsx)(gd,{renderDebugMenuItems:t??null})]}),(0,T.jsx)(ju,{}),(0,T.jsx)(Rd,{}),(0,T.jsx)(Nu,{})]})})})}))},91044:(e,t,i)=>{"use strict";i.d(t,{fP:()=>Qe,Lu:()=>kt,F7:()=>it,iH:()=>G,G4:()=>J,g3:()=>B,Kj:()=>le,ww:()=>he,rl:()=>me,bK:()=>we,lu:()=>Le,An:()=>Ze,o4:()=>g,A8:()=>r,Vm:()=>ft,Tp:()=>mt,h9:()=>At,QK:()=>Ct,L8:()=>dt,F1:()=>ct,_l:()=>jt,Hs:()=>St,BF:()=>Wt,GV:()=>Dt,hK:()=>We,gR:()=>Gt,Kf:()=>Yt,P3:()=>Jt,OE:()=>Ot,c4:()=>Vt,He:()=>Ht,y5:()=>qt,vw:()=>Ut,VV:()=>at,YT:()=>lt,FH:()=>ti,Vh:()=>$t,C_:()=>oi,UE:()=>ii,VO:()=>ze,ml:()=>rt,el:()=>pt,pL:()=>li,TT:()=>ri,SW:()=>Nt,lY:()=>hi,Sx:()=>ci});var n=i(82941),s=i(65097),o=i(57492);const r=new Set(["color","labelColor","dash","fill","size","opacity","font","align","icon","geo","arrowheadStart","arrowheadEnd","spline"]),a=new Set(["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red"]),l=new Set(["draw","solid","dashed","dotted"]),c=new Set(["none","semi","solid","pattern"]),d=new Set(["s","m","l","xl"]),u=new Set(["0.1","0.25","0.5","0.75","1"]),h=new Set(["draw","sans","serif","mono"]),p=new Set(["start","middle","end","justify"]),g=new Set(["rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box"]),I=new Set(["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"]),m=new Set(["cubic","line"]),y=new Set(["activity","airplay","alert-circle","alert-octagon","alert-triangle","align-center","align-justify","align-left","align-right","anchor","aperture","archive","arrow-down-circle","arrow-down-left","arrow-down-right","arrow-down","arrow-left-circle","arrow-left","arrow-right-circle","arrow-right","arrow-up-circle","arrow-up-left","arrow-up-right","arrow-up","at-sign","award","bar-chart-2","bar-chart","battery-charging","battery","bell-off","bell","bluetooth","bold","book-open","book","bookmark","geo","briefcase","calendar","camera-off","camera","cast","check-circle","check-square","check","chevron-down","chevron-left","chevron-right","chevron-up","chevrons-down","chevrons-left","chevrons-right","chevrons-up","chrome","circle","clipboard","clock","cloud-drizzle","cloud-lightning","cloud-off","cloud-rain","cloud-snow","cloud","codepen","codesandbox","coffee","columns","command","compass","copy","corner-down-left","corner-down-right","corner-left-down","corner-left-up","corner-right-down","corner-right-up","corner-up-left","corner-up-right","cpu","credit-card","crop","crosshair","database","delete","disc","divide-circle","divide-square","divide","dollar-sign","download-cloud","download","dribbble","droplet","edit-2","edit-3","edit","external-link","eye-off","eye","facebook","fast-forward","feather","figma","file-minus","file-plus","file-text","file","film","filter","flag","folder-minus","folder-plus","folder","framer","frown","gift","git-branch","git-commit","git-merge","git-pull-request","github","gitlab","globe","grid","hard-drive","hash","headphones","heart","help-circle","hexagon","home","image","inbox","info","instagram","italic","key","layers","layout","life-buoy","link-2","link","linkedin","list","loader","lock","log-in","log-out","mail","map-pin","map","maximize-2","maximize","meh","menu","message-circle","message-square","mic-off","mic","minimize-2","minimize","minus-circle","minus-square","minus","monitor","moon","more-horizontal","more-vertical","mouse-pointer","move","music","navigation-2","navigation","octagon","package","paperclip","pause-circle","pause","pen-tool","percent","phone-call","phone-forwarded","phone-incoming","phone-missed","phone-off","phone-outgoing","phone","pie-chart","play-circle","play","plus-circle","plus-square","plus","pocket","power","printer","radio","refresh-ccw","refresh-cw","repeat","rewind","rotate-ccw","rotate-cw","rss","save","scissors","search","send","server","settings","share-2","share","shield-off","shield","shopping-bag","shopping-cart","shuffle","sidebar","skip-back","skip-forward","slack","slash","sliders","smartphone","smile","speaker","square","star","stop-circle","sun","sunrise","sunset","table","tablet","tag","target","terminal","thermometer","thumbs-down","thumbs-up","toggle-left","toggle-right","tool","trash-2","trash","trello","trending-down","trending-up","triangle","truck","tv","twitch","twitter","type","umbrella","underline","unlock","upload-cloud","upload","user-check","user-minus","user-plus","user-x","user","users","video-off","video","voicemail","volume-1","volume-2","volume-x","volume","watch","wifi-off","wifi","wind","x-circle","x-octagon","x-square","x","youtube","zap-off","zap","zoom-in","zoom-out"]);function b(e){return o.T.string.refine((t=>{if(!t.startsWith(`${e}:`))throw new Error(`${e} ID must start with "${e}:"`);return t}))}const f=b("user"),C=b("asset"),w=b("page"),M=b("shape"),A=b("instance"),x=o.T.string.refine((e=>{if(!e.startsWith("page:")&&!e.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return e})),S=o.T.setEnum(a),v=o.T.setEnum(l),L=o.T.setEnum(c),j=o.T.setEnum(g),N=o.T.setEnum(d),D=o.T.setEnum(h),Z=o.T.setEnum(p),E=o.T.setEnum(I),k=o.T.setEnum(u),T=o.T.setEnum(y),z=o.T.setEnum(m),W=o.T.model("camera",o.T.object({typeName:o.T.literal("camera"),id:b("camera"),x:o.T.number,y:o.T.number,z:o.T.number})),Y=0,P=(0,s.zn)({firstVersion:Y,currentVersion:Y,migrators:{}}),G=(0,s.ju)("camera",{migrations:P,validator:W}).withDefaultProperties((()=>({x:0,y:0,z:1}))),O=o.T.model("document",o.T.object({typeName:o.T.literal("document"),id:o.T.literal("document:document"),gridSize:o.T.number})),R=0,F=(0,s.zn)({firstVersion:R,currentVersion:R,migrators:{}}),B=(0,s.ju)("document",{migrations:F,validator:O}).withDefaultProperties((()=>({gridSize:10}))),J=B.createCustomId("document"),H=new Set(["accent","white","black","selection-stroke","selection-fill","muted-1"]),X=o.T.setEnum(H),V=new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate"]),_=o.T.setEnum(V),U=o.T.object({color:X,type:_,rotation:o.T.number}),K=new Set(["starting","paused","active","stopping"]),Q=o.T.object({points:o.T.arrayOf(o.T.point),size:o.T.positiveNumber,color:X,opacity:o.T.number,state:o.T.setEnum(K)}),q=new Set(["vertex","virtual","create"]),$=o.T.object({id:o.T.string,type:o.T.setEnum(q),canBind:o.T.boolean.optional(),index:o.T.string,x:o.T.number,y:o.T.number}),ee=o.T.model("instance",o.T.object({typeName:o.T.literal("instance"),id:b("instance"),userId:f,currentPageId:w,brush:o.T.boxModel.nullable(),propsForNextShape:o.T.object({color:S,labelColor:S,dash:v,fill:L,size:N,opacity:k,font:D,align:Z,icon:T,geo:j,arrowheadStart:E,arrowheadEnd:E,spline:z}),cursor:U,scribble:Q.nullable(),isFocusMode:o.T.boolean,isDebugMode:o.T.boolean,isToolLocked:o.T.boolean,exportBackground:o.T.boolean,screenBounds:o.T.boxModel})),te=0,ie=1,ne=2,se=3,oe=4,re=5,ae=(0,s.zn)({firstVersion:te,currentVersion:re,migrators:{[ie]:{up:e=>({...e,exportBackground:!0}),down:({exportBackground:e,...t})=>t},[ne]:{up:({dialog:e,...t})=>t,down:e=>({...e,dialog:null})},[se]:{up:e=>({...e,isToolLocked:!1}),down:({isToolLocked:e,...t})=>t},[oe]:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:Object.fromEntries(Object.entries(e).filter((([e])=>r.has(e))))}),down:e=>e},[re]:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:{...e,labelColor:"black"}}),down:e=>{const{labelColor:t,...i}=e.propsForNextShape;return{...e,propsForNextShape:{...i}}}}}}),le=(0,s.ju)("instance",{migrations:ae,validator:ee}).withDefaultProperties((()=>({propsForNextShape:{opacity:"1",color:"black",labelColor:"black",dash:"draw",fill:"none",size:"m",icon:"file",font:"draw",align:"middle",geo:"rectangle",arrowheadStart:"none",arrowheadEnd:"arrow",spline:"line"},brush:null,scribble:null,cursor:{type:"default",color:"black",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720}}))),ce=o.T.model("instance_page_state",o.T.object({typeName:o.T.literal("instance_page_state"),id:b("instance_page_state"),instanceId:A,pageId:w,cameraId:b("camera"),selectedIds:o.T.arrayOf(M),hintingIds:o.T.arrayOf(M),erasingIds:o.T.arrayOf(M),hoveredId:M.nullable(),editingId:M.nullable(),focusLayerId:M.nullable()})),de=0,ue=(0,s.zn)({currentVersion:de,firstVersion:de,migrators:{}}),he=(0,s.ju)("instance_page_state",{migrations:ue,validator:ce}).withDefaultProperties((()=>({editingId:null,selectedIds:[],hoveredId:null,erasingIds:[],hintingIds:[],focusLayerId:null}))),pe=o.T.model("page",o.T.object({typeName:o.T.literal("page"),id:w,name:o.T.string,index:o.T.string})),ge=0,Ie=(0,s.zn)({firstVersion:ge,currentVersion:ge,migrators:{}}),me=(0,s.ju)("page",{migrations:Ie,validator:pe}),ye=[{locale:"ar",label:"عربي"},{locale:"ca",label:"Català"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Español"},{locale:"fa",label:"فارسی"},{locale:"fi",label:"Suomi"},{locale:"fr",label:"Français"},{locale:"gl",label:"Galego"},{locale:"he",label:"עברית"},{locale:"it",label:"Italiano"},{locale:"ja",label:"日本語"},{locale:"ko-kr",label:"한국어"},{locale:"ku",label:"کوردی"},{locale:"hi-in",label:"हिन्दी"},{locale:"hu",label:"Magyar"},{locale:"my",label:"မြန်မာစာ"},{locale:"ne",label:"नेपाली"},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Português - Brasil"},{locale:"pt-pt",label:"Português - Europeu"},{locale:"ro",label:"Română"},{locale:"ru",label:"Russian"},{locale:"sv",label:"Svenska"},{locale:"te",label:"తెలుగు"},{locale:"th",label:"ภาษาไทย"},{locale:"tr",label:"Türkçe"},{locale:"uk",label:"Ukrainian"},{locale:"vi",label:"Tiếng Việt"},{locale:"zh-cn",label:"Chinese - Simplified"},{locale:"zh-tw",label:"繁體中文 (台灣)"}],be=o.T.model("user",o.T.object({typeName:o.T.literal("user"),id:f,name:o.T.string,locale:o.T.string})),fe=0,Ce=(0,s.zn)({currentVersion:fe,firstVersion:fe,migrators:{}}),we=(0,s.ju)("user",{migrations:Ce,validator:be}).withDefaultProperties((()=>{let e;if("undefined"!=typeof window&&window.navigator){const t=ye.map((({locale:e})=>e));e=window.navigator.languages.find((e=>t.indexOf(e)>-1))}return{name:"New User",locale:e??"en"}})),Me=o.T.model("user_document",o.T.object({typeName:o.T.literal("user_document"),id:b("user_document"),userId:f,isReadOnly:o.T.boolean,isPenMode:o.T.boolean,isGridMode:o.T.boolean,isDarkMode:o.T.boolean,isMobileMode:o.T.boolean,isSnapMode:o.T.boolean,lastUpdatedPageId:w.nullable(),lastUsedTabId:A.nullable()})),Ae=0,xe=1,Se=2,ve=(0,s.zn)({firstVersion:Ae,currentVersion:Se,migrators:{[xe]:{up:e=>({...e,isSnapMode:!1}),down:({isSnapMode:e,...t})=>t},[Se]:{up:e=>({...e,isMobileMode:e.isMobileMode??!1}),down:({isMobileMode:e,...t})=>t}}}),Le=(0,s.ju)("user_document",{migrations:ve,validator:Me}).withDefaultProperties((()=>({isReadOnly:!1,isPenMode:!1,isGridMode:!1,isDarkMode:!1,isMobileMode:!1,isSnapMode:!1,lastUpdatedPageId:null,lastUsedTabId:null}))),je=o.T.model("user_presence",o.T.object({typeName:o.T.literal("user_presence"),id:b("user_presence"),userId:f,lastUsedInstanceId:A.nullable(),lastActivityTimestamp:o.T.number,cursor:o.T.point,color:o.T.string})),Ne=0,De=(0,s.zn)({currentVersion:Ne,firstVersion:Ne,migrators:{}}),Ze=(0,s.ju)("user_presence",{migrations:De,validator:je}).withDefaultProperties((()=>({lastUsedInstanceId:null,lastActivityTimestamp:0,cursor:{x:0,y:0},color:"#000000"})));function Ee(e,t){return e.index<t.index?-1:e.index>t.index?1:0}const ke=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"];function Te(e){"asset"===e.typeName&&("src"in e&&(e.src="<redacted>"),"src"in e.props&&(e.props.src="<redacted>"))}const ze=({error:e,phase:t,record:i,recordBefore:s})=>{const o="initialize"===t;throw(0,n.lw)(e,{tags:{origin:"store.validateRecord",storePhase:t,isExistingValidationIssue:o},extras:{recordBefore:s?Te((0,n.v4)(s)):void 0,recordAfter:Te((0,n.v4)(i))}}),e};function We(e){const{userId:t,instanceId:i}=e.props;if(!e.has(J))return e.put([B.create({id:J})]),We(e);const n=e.allRecords(),s=n.filter(Le.isInstance).find((e=>e.userId===t));if(!s)return e.put([Le.create({userId:t})]),We(e);const o=n.filter(me.isInstance).sort(Ee);if(0===o.length)return e.put([me.create({name:"Page 1",index:"a1"})]),We(e);const r=n.filter(le.isInstance).find((e=>e.id===i));if(!r){const n=s.lastUsedTabId?e.get(s.lastUsedTabId)?.propsForNextShape:void 0,r=s?.lastUpdatedPageId??o[0].id;return e.put([le.create({id:i,userId:t,currentPageId:r,propsForNextShape:n,exportBackground:!0})]),We(e)}let a=r.currentPageId;if(!o.find((e=>e.id===a)))return a=o[0].id,e.put([{...r,currentPageId:a}]),We(e);if(!n.find((e=>e.id===t)))return e.put([we.create({id:t})]),We(e);const l=n.filter(Ze.isInstance).filter((e=>e.userId===t));if(0===l.length)return e.put([Ze.create({userId:t,color:ke[Math.floor(Math.random()*ke.length)]})]),We(e);l.length>1&&e.remove(l.slice(1).map((e=>e.id)));for(const c of o){const t=n.filter(he.isInstance).filter((e=>e.pageId===c.id&&e.instanceId===i));if(t.length>1)e.remove(t.slice(1).map((e=>e.id)));else if(0===t.length){const t=G.create({});return e.put([t,he.create({pageId:c.id,instanceId:i,cameraId:t.id})]),We(e)}e.put([{...t[0],erasingIds:[],hoveredId:null,editingId:null}]);if(!e.get(t[0].cameraId))return e.put([G.create({id:t[0].cameraId})]),We(e)}}function Ye(e,t){return o.T.object({id:C,typeName:o.T.literal("asset"),type:o.T.literal(e),props:t})}const Pe=Ye("bookmark",o.T.object({title:o.T.string,description:o.T.string,image:o.T.string,src:o.T.string.nullable()})),Ge=0,Oe=(0,s.zn)({firstVersion:Ge,currentVersion:Ge,migrators:{}}),Re=Ye("image",o.T.object({w:o.T.number,h:o.T.number,name:o.T.string,isAnimated:o.T.boolean,mimeType:o.T.string.nullable(),src:o.T.string.nullable()})),Fe=0,Be=1,Je=2,He=(0,s.zn)({firstVersion:Fe,currentVersion:Je,migrators:{[Be]:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...i}=e.props;return{...e,props:i}}},[Je]:{up:e=>{const{width:t,height:i,...n}=e.props;return{...e,props:{w:t,h:i,...n}}},down:e=>{const{w:t,h:i,...n}=e.props;return{...e,props:{width:t,height:i,...n}}}}}}),Xe=Ye("video",o.T.object({w:o.T.number,h:o.T.number,name:o.T.string,isAnimated:o.T.boolean,mimeType:o.T.string.nullable(),src:o.T.string.nullable()})),Ve=0,_e=1,Ue=2,Ke=(0,s.zn)({firstVersion:Ve,currentVersion:Ue,migrators:{[_e]:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...i}=e.props;return{...e,props:i}}},[Ue]:{up:e=>{const{width:t,height:i,...n}=e.props;return{...e,props:{w:t,h:i,...n}}},down:e=>{const{w:t,h:i,...n}=e.props;return{...e,props:{width:t,height:i,...n}}}}}});function Qe(e){const t=Object.values(e);for(let i=0;i<t.length;i++){if(!t[i])continue;const{record:n}=qe(t[i]);n?e[t[i].id]=n:delete e[t[i].id]}return e}function qe(e){const t=[];let i=JSON.parse(JSON.stringify(e));switch(i.typeName){case"user_presence":i.cursor||(t.push("no cursor"),i.cursor={x:0,y:0}),void 0!==i.cursor.x&&null!==i.cursor.x||(t.push("no cursor x"),i.cursor.x=0),void 0!==i.cursor.y&&null!==i.cursor.y||(t.push("no cursor y"),i.cursor.y=0);break;case"asset":switch(i.type){case"image":case"video":i.props||(t.push("no props in asset"),i.props={w:100,h:100,name:"old_asset",isAnimated:!1,mimeType:null,src:null}),i.props.mimeType||(t.push("no mimeType in asset props"),i.props.mimeType="image/png"),i.props.src||(t.push("no src in asset props"),i.props.src=""),null==i.props.isAnimated&&(t.push("no isAnimated in asset props"),i.props.isAnimated=!1),void 0===i.props.name&&(i.props.name="asset"),"width"in i&&(t.push("width in asset"),i.props.w=i.width,delete i.width),"width"in i.props&&"number"==typeof i.props.width&&i.props.width&&(t.push("no w in asset props"),i.props.w=i.props.width,delete i.props.width),"height"in i&&(t.push("height in asset"),i.props.h=i.height,delete i.height),"height"in i.props&&"number"==typeof i.props.height&&i.props.height&&(t.push("no h in asset props"),i.props.h=i.props.height,delete i.props.height),i.props.w||(t.push("no w in asset props"),i.props.w=100),i.props.h||(t.push("no h in asset props"),i.props.h=100),"src"in i&&(t.push("src in asset"),i.props.src=i.src,delete i.src),"name"in i&&(t.push("name in asset"),delete i.name);break;case"bookmark":i.props||(t.push("no asset props"),i.props={title:"",description:"",image:"",src:"url"in i&&"string"==typeof i.url?i.url:""}),i.props.title||(t.push("no title in bookmark asset props"),i.props.title=""),i.props.description||(t.push("no description in bookmark asset props"),i.props.description=""),i.props.image||(t.push("no image in bookmark asset props"),i.props.image=""),"src"in i&&(t.push("leftover src in bookmark asset"),delete i.src),"width"in i&&(t.push("leftover width in bookmark asset"),delete i.width),"height"in i&&(t.push("leftover height in bookmark asset"),delete i.height),"name"in i&&(t.push("leftover name in bookmark asset"),delete i.name),"meta"in i&&delete i.meta}break;case"camera":void 0!==i.x&&null!==i.x||(t.push("no x in camera"),i.x=0),void 0!==i.y&&null!==i.y||(t.push("no y in camera"),i.y=0);break;case"instance":"props"in i&&(t.push("leftover props in instance"),delete i.props),void 0===i.isToolLocked&&(t.push("no isToolLocked in instance"),i.isToolLocked=!1),void 0===i.propsForNextShape&&(t.push("no props in instance"),i.propsForNextShape={opacity:"1",color:"black",dash:"draw",fill:"none",size:"m",icon:"file",font:"draw",align:"middle",geo:"rectangle",arrowheadStart:"none",arrowheadEnd:"arrow",spline:"line"}),"url"in i.propsForNextShape&&(t.push("leftover url in instance.propsForNextShape"),delete i.propsForNextShape.url),"lang"in i.propsForNextShape&&(t.push("leftover lang in instance.propsForNextShape"),delete i.propsForNextShape.lang),void 0===i.exportBackground&&(t.push(`no export background in ${i.typeName}`),i.exportBackground=!1),void 0===i.brush&&(t.push(`no brush in ${i.typeName}`),i.brush=null),void 0===i.scribble&&(t.push(`no scribble in ${i.typeName}`),i.scribble=null),void 0!==i.dialog&&(t.push(`no dialog in ${i.typeName}`),delete i.dialog),void 0===i.screenBounds&&(t.push(`no screen bounds in ${i.typeName}`),i.screenBounds={x:0,y:0,w:1080,h:720});break;case"user":i.name||(t.push("no name in user"),i.name="User"),i.locale||(t.push("no locale in user"),i.locale="en"),"cursor"in i&&(t.push("leftover cursor in user"),delete i.cursor),"color"in i&&(t.push("leftover color in user"),delete i.color),"brush"in i&&(t.push("leftover brush in user"),delete i.brush),"selectedIds"in i&&(t.push("leftover selectedIds in user"),delete i.selectedIds),"scribble"in i&&(t.push("leftover scribble in user"),delete i.scribble),"currentPageId"in i&&(t.push("leftover currentPageId in user"),delete i.currentPageId);break;case"user_document":void 0===i.isMobileMode&&(t.push("no ismobilemode in user document"),i.isMobileMode=!1),void 0===i.isSnapMode&&(t.push("no issnapmode in user document"),i.isSnapMode=!1);break;case"shape":if("url"in i&&delete i.url,void 0!==i.x&&null!==i.x||(t.push(`some bug in ${i.typeName} ${i.type}`),i.x=0),void 0!==i.y&&null!==i.y||(t.push(`some bug in ${i.typeName} ${i.type}`),i.y=0),"image"===i.type&&(void 0===i.props.playing&&(t.push(`some bug in ${i.typeName} ${i.type}`),i.props.playing=!1),"loaded"in i.props&&delete i.props.loaded),"arrow"===i.type&&("binding"===i.props.start.type?(void 0!==i.props.start.normalizedAnchor.x&&null!==i.props.start.normalizedAnchor.x||(t.push(`some bug in ${i.typeName} ${i.type}`),i.props.start.normalizedAnchor.x=0),void 0!==i.props.start.normalizedAnchor.y&&null!==i.props.start.normalizedAnchor.y||(t.push(`some bug in ${i.typeName} ${i.type}`),i.props.start.normalizedAnchor.y=0)):(void 0!==i.props.start.x&&null!==i.props.start.x||(t.push(`some bug in ${i.typeName} ${i.type}`),i.props.start.x=0),void 0!==i.props.start.y&&null!==i.props.start.y||(t.push(`some bug in ${i.typeName} ${i.type}`),i.props.start.y=0),"boundShapeId"in i.props.start&&(t.push("leftover bound shape id in arrow"),delete i.props.start.boundShapeId),"normalizedAnchor"in i.props.start&&(t.push("leftover normalize anchor in arrow"),delete i.props.start.normalizedAnchor),"isExact"in i.props.start&&(t.push("leftover isExact in arrow"),delete i.props.start.isExact)),"binding"===i.props.end.type?(void 0!==i.props.end.normalizedAnchor.x&&null!==i.props.end.normalizedAnchor.x||(t.push(`some bug in ${i.typeName}  ${i.type}`),i.props.end.normalizedAnchor.x=0),void 0!==i.props.end.normalizedAnchor.y&&null!==i.props.end.normalizedAnchor.y||(t.push(`some bug in ${i.typeName} ${i.type}`),i.props.end.normalizedAnchor.y=0)):(void 0!==i.props.end.x&&null!==i.props.end.x||(t.push("no x in arrow end"),i.props.end.x=0),void 0!==i.props.end.y&&null!==i.props.end.y||(t.push("no y in arrow end"),i.props.end.y=0),"boundShapeId"in i.props.end&&(t.push("leftover bound shape id in arrow"),delete i.props.end.boundShapeId),"normalizedAnchor"in i.props.end&&(t.push("leftover normalize anchor in arrow"),delete i.props.end.normalizedAnchor),"isExact"in i.props.end&&(t.push("leftover isExact in arrow"),delete i.props.end.isExact))),"note"!==i.type&&"video"!==i.type&&"image"!==i.type&&"geo"!==i.type&&"bookmark"!==i.type||void 0===i.props.url&&(t.push(`missing url prop in ${i.type} shape`),i.props.url=""),"bookmark"===i.type&&(void 0===i.props.assetId&&(t.push(`some bug in ${i.typeName}  ${i.type}`),i.props.assetId=null),"src"in i&&(t.push("leftover src in bookmark"),delete i.src)),"geo"===i.type&&("width"in i.props&&(t.push("leftover width in geo"),delete i.props.width),"height"in i.props&&(t.push("leftover height in geo"),delete i.props.height)),"draw"===i.type){void 0===i.props.segments&&(t.push(`some bug in ${i.typeName}  ${i.type}`),i.props.segments=[{points:[{x:0,y:0,z:.5},{x:1,y:1,z:.5}],type:"free"}]);for(const e of i.props.segments)for(const n of e.points)void 0!==n.x&&null!==n.y||(t.push(`some bug in ${i.typeName}`),n.x=0),void 0!==n.y&&null!==n.y||(t.push(`some bug in ${i.typeName}`),n.y=0);"points"in i.props&&delete i.props.points}"bookmark"===i.type&&"loaded"in i.props&&(t.push("leftover loaded in bookmark"),delete i.props.loaded),"draw"===i.type&&"points"in i.props&&void 0===i.props.segments&&(i.props.segments=[{type:"free",points:i.props.points}]),"image"===i.type&&(i.props.w<1&&(i.props.w=1,t.push(`zero w image in ${i.typeName}`)),i.props.h<1&&(i.props.h=1,t.push(`zero h image in ${i.typeName}`))),"embed"===i.type&&"loaded"in i.props&&(t.push("leftover loaded in embed"),delete i.props.loaded);break;case void 0:i=null}return{record:i,issues:t}}const $e=o.T.model("asset",o.T.union("type",{image:Re,video:Xe,bookmark:Pe})),et=0,tt=(0,s.zn)({firstVersion:et,currentVersion:et,migrators:{},subTypeKey:"type",subTypeMigrations:{image:He,video:Ke,bookmark:Oe}}),it=(0,s.ju)("asset",{migrations:tt,validator:$e});let nt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"");const st=0,ot=1,rt=(0,s.zn)({currentVersion:ot,firstVersion:st,migrators:{[ot]:{up:e=>({...e,isLocked:!1}),down:e=>{const{isLocked:t,...i}=e;return{...i}}}}});function at(e){return!!e&&"shape"===e.typeName}function lt(e){return!!e&&e.startsWith("shape:")}function ct(){return`shape:${nt()}`}function dt(e){return`shape:${e}`}const ut=0,ht=1,pt=(0,s.zn)({firstVersion:ut,currentVersion:ht,migrators:{[ht]:{up:e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>"shape"!==t.typeName||"icon"!==t.type&&"code"!==t.type))),down:e=>e}}});function gt(e,t){return o.T.object({id:M,typeName:o.T.literal("shape"),x:o.T.number,y:o.T.number,rotation:o.T.number,index:o.T.string,parentId:x,type:o.T.literal(e),isLocked:o.T.boolean,props:t})}const It=o.T.union("type",{binding:o.T.object({type:o.T.literal("binding"),boundShapeId:M,normalizedAnchor:o.T.point,isExact:o.T.boolean}),point:o.T.object({type:o.T.literal("point"),x:o.T.number,y:o.T.number})}),mt=gt("arrow",o.T.object({labelColor:S,color:S,fill:L,dash:v,size:N,opacity:k,arrowheadStart:E,arrowheadEnd:E,font:D,start:It,end:It,bend:o.T.number,text:o.T.string})),yt=0,bt=1,ft=(0,s.zn)({currentVersion:bt,firstVersion:yt,migrators:{[bt]:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...i}=e.props;return{...e,props:i}}}}}),Ct=gt("bookmark",o.T.object({opacity:k,w:o.T.nonZeroNumber,h:o.T.nonZeroNumber,assetId:C.nullable(),url:o.T.string})),wt=0,Mt=1,At=(0,s.zn)({firstVersion:wt,currentVersion:Mt,migrators:{[Mt]:{up:e=>void 0===e.props.assetId?{...e,props:{...e.props,assetId:null}}:e,down:e=>{if(null===e.props.assetId){const{assetId:t,...i}=e.props;return{...e,props:i}}return e}}}}),xt=new Set(["free","straight"]),St=gt("draw",o.T.object({color:S,fill:L,dash:v,size:N,opacity:k,segments:o.T.arrayOf(o.T.object({type:o.T.setEnum(xt),points:o.T.arrayOf(o.T.point)})),isComplete:o.T.boolean,isClosed:o.T.boolean,isPen:o.T.boolean})),vt=0,Lt=1,jt=(0,s.zn)({firstVersion:vt,currentVersion:Lt,migrators:{[Lt]:{up:e=>{const{points:t}=e.props.segments[0];if(0===t.length)return{...e,props:{...e.props,isPen:!1}};let i=!(0===t[0].z||.5===t[0].z);return t[1]&&(i=i&&!(0===t[1].z||.5===t[1].z)),{...e,props:{...e.props,isPen:i}}},down:e=>{const{isPen:t,...i}=e.props;return{...e,props:{...i}}}}}}),Nt={"allow-downloads-without-user-activation":!1,"allow-downloads":!1,"allow-modals":!1,"allow-orientation-lock":!1,"allow-pointer-lock":!1,"allow-popups":!0,"allow-popups-to-escape-sandbox":!1,"allow-presentation":!1,"allow-storage-access-by-user-activation":!1,"allow-top-navigation":!1,"allow-top-navigation-by-user-activation":!1,"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0},Dt=gt("embed",o.T.object({opacity:k,w:o.T.nonZeroNumber,h:o.T.nonZeroNumber,url:o.T.string,tmpOldUrl:o.T.string.optional(),doesResize:o.T.boolean,overridePermissions:o.T.dict(o.T.setEnum(new Set(Object.keys(Nt))),o.T.boolean.optional()).optional()})),Zt=/(^\/r\/[^/]+\/?$)/,Et=e=>{try{return new URL(e)}catch(t){return}},kt=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","lite.tldraw.com","www.tldraw.com"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(Zt))return e},fromEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(Zt))return e}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Et(e),i=t&&t.pathname.match(/\/s\/([^/]+)\/?/);if(i)return`https://codesandbox.io/embed/${i[1]}`},fromEmbedUrl:e=>{const t=Et(e),i=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(i)return`https://codesandbox.io/s/${i[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,toEmbedUrl:e=>{const t=e.match(/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/);if(t){const[e,i,n]=t;return`https://codepen.io/${i}/embed/${n}`}},fromEmbedUrl:e=>{const t=e.match(/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/);if(t){const[e,i,n]=t;return`https://codepen.io/${i}/pen/${n}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,toEmbedUrl:e=>{const t=e.match(/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/);if(t){const[e,i]=t;return`https://scratch.mit.edu/projects/embed/${i}`}},fromEmbedUrl:e=>{const t=e.match(/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/);if(t){const[e,i]=t;return`https://scratch.mit.edu/projects/${i}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,overridePermissions:{"allow-presentation":!0},isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=Et(e);if(!t)return;const i=t.hostname.replace(/^www./,"");if("youtu.be"===i){return`https://www.youtube.com/embed/${t.pathname.split("/").filter(Boolean)[0]}`}if(("youtube.com"===i||"m.youtube.com"===i)&&t.pathname.match(/^\/watch/)){return`https://www.youtube.com/embed/${t.searchParams.get("v")}`}},fromEmbedUrl:e=>{const t=Et(e);if(!t)return;if("youtube.com"===t.hostname.replace(/^www./,"")){const e=t.pathname.match(/^\/embed\/([^/]+)\/?/);if(e)return`https://www.youtube.com/watch?v=${e[1]}`}}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{if(e.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!e.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${e}`},fromEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/^\/embed\/?$/)){const e=t.searchParams.get("url");if(e)return e}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{if(e.includes("/maps/")){const t=e.match(/@(.*),(.*),(.*)z/);let i;if(t){const[,n,s,o]=t;i=`https://${new URL(e).host.replace("www.","")}/maps/embed/v1/view?key=${process.env.NEXT_PUBLIC_GC_API_KEY}&center=${n},${s}&zoom=${o}`}else i="";return i}},fromEmbedUrl:e=>{const t=Et(e);if(!t)return;if(t.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&t.searchParams.has("center")&&t.searchParams.get("zoom")){const e=t.searchParams.get("zoom"),[i,n]=t.searchParams.get("center").split(",");return`https://www.google.com/maps/@${i},${n},${e}z`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",toEmbedUrl:e=>{const t=Et(e),i=t?.searchParams.get("cid");if(t?.pathname.match(/\/calendar\/u\/0/)&&i){t.pathname="/calendar/embed";const e=Array.from(t.searchParams.keys());for(const i of e)t.searchParams.delete(i);return t.searchParams.set("src",i),t.href}},fromEmbedUrl:e=>{const t=Et(e),i=t?.searchParams.get("src");if(t?.pathname.match(/\/calendar\/embed/)&&i){t.pathname="/calendar/u/0";const e=Array.from(t.searchParams.keys());for(const i of e)t.searchParams.delete(i);return t.searchParams.set("cid",i),t.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,toEmbedUrl:e=>{const t=Et(e);if(t?.pathname.match(/^\/presentation/)&&t?.pathname.match(/\/pub\/?$/)){t.pathname=t.pathname.replace(/\/pub$/,"/embed");const e=Array.from(t.searchParams.keys());for(const i of e)t.searchParams.delete(i);return t.href}},fromEmbedUrl:e=>{const t=Et(e);if(t?.pathname.match(/^\/presentation/)&&t?.pathname.match(/\/embed\/?$/)){t.pathname=t.pathname.replace(/\/embed$/,"/pub");const e=Array.from(t.searchParams.keys());for(const i of e)t.searchParams.delete(i);return t.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/))return e},fromEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/))return e}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${e}?embed=true`},fromEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/)&&t.searchParams.has("embed"))return t.searchParams.delete("embed"),t.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/^\/map\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/^\/embed\/map\//))return t.pathname=t.pathname.replace(/^\/embed/,""),t.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,toEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/^\/(artist|album)\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/^\/embed\/(artist|album)\//))return t.origin+t.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=Et(e);if(t&&"vimeo.com"===t.hostname&&t.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+t.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:e=>{const t=Et(e);if(t&&"player.vimeo.com"===t.hostname){const e=t.pathname.match(/^\/video\/([^/]+)\/?$/);if(e)return"https://vimeo.com/"+e[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=Et(e);if(t&&t.hash.match(/#room=/))return e},fromEmbedUrl:e=>{const t=Et(e);if(t&&t.hash.match(/#room=/))return e}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:e=>{const t=Et(e);if(t&&t.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}/embed${t.pathname}?cell=*`;if(t&&t.pathname.match(/^\/d\/([^/]+)\/?$/)){const e=t.pathname.replace(/^\/d/,"");return`${t.origin}/embed${e}?cell=*`}},fromEmbedUrl:e=>{const t=Et(e);return t&&t.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/)?`${t.origin}${t.pathname.replace("/embed","")}#cell-*`:t&&t.pathname.match(/^\/embed\/([^/]+)\/?$/)?`${t.origin}${t.pathname.replace("/embed","/d")}#cell-*`:void 0}}],Tt=0,zt=1,Wt=(0,s.zn)({currentVersion:zt,firstVersion:Tt,migrators:{[zt]:{up:e=>{const t=e.props.url,i=new URL(t).host.replace("www.","");let n;for(const o of kt)if(o.hostnames.includes(i))try{n=o.fromEmbedUrl(t)}catch(s){console.warn(s)}return{...e,props:{...e.props,tmpOldUrl:e.props.url,url:n??""}}},down:e=>{let t=e.props.tmpOldUrl;if(!t||""===t){const i=e.props.url,n=new URL(i).host.replace("www.","");for(const e of kt)if(e.hostnames.includes(n))try{t=e.toEmbedUrl(i)}catch(s){console.warn(s)}}const{tmpOldUrl:i,...n}=e.props;return{...e,props:{...n,url:t??""}}}}}}),Yt=gt("frame",o.T.object({opacity:k,w:o.T.nonZeroNumber,h:o.T.nonZeroNumber,name:o.T.string})),Pt=0,Gt=(0,s.zn)({currentVersion:Pt,firstVersion:Pt,migrators:{}}),Ot=gt("geo",o.T.object({geo:j,labelColor:S,color:S,fill:L,dash:v,size:N,opacity:k,font:D,align:Z,url:o.T.string,w:o.T.nonZeroNumber,h:o.T.nonZeroNumber,growY:o.T.positiveNumber,text:o.T.string})),Rt=0,Ft=1,Bt=2,Jt=(0,s.zn)({firstVersion:Rt,currentVersion:Bt,migrators:{[Ft]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...i}=e.props;return{...e,props:i}}},[Bt]:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...i}=e.props;return{...e,props:i}}}}}),Ht=gt("group",o.T.object({opacity:k})),Xt=0,Vt=(0,s.zn)({currentVersion:Xt,firstVersion:Xt,migrators:{}}),_t=(gt("icon",o.T.object({size:N,icon:T,dash:v,color:S,opacity:k,scale:o.T.number})),0),Ut=((0,s.zn)({currentVersion:_t,firstVersion:_t,migrators:{}}),gt("image",o.T.object({opacity:k,w:o.T.nonZeroNumber,h:o.T.nonZeroNumber,playing:o.T.boolean,url:o.T.string,assetId:C.nullable()}))),Kt=0,Qt=1,qt=(0,s.zn)({firstVersion:Kt,currentVersion:Qt,migrators:{[Qt]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...i}=e.props;return{...e,props:i}}}}}),$t=gt("line",o.T.object({color:S,dash:v,size:N,opacity:k,spline:z,handles:o.T.dict(o.T.string,$)})),ei=0,ti=(0,s.zn)({currentVersion:ei,firstVersion:ei,migrators:{}}),ii=gt("note",o.T.object({color:S,size:N,font:D,align:Z,opacity:k,growY:o.T.positiveNumber,url:o.T.string,text:o.T.string})),ni=0,si=1,oi=(0,s.zn)({firstVersion:ni,currentVersion:si,migrators:{[si]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...i}=e.props;return{...e,props:i}}}}}),ri=gt("text",o.T.object({color:S,size:N,font:D,align:Z,opacity:k,w:o.T.nonZeroNumber,text:o.T.string,scale:o.T.nonZeroNumber,autoSize:o.T.boolean})),ai=0,li=(0,s.zn)({firstVersion:ai,currentVersion:ai,migrators:{}}),ci=gt("video",o.T.object({opacity:k,w:o.T.nonZeroNumber,h:o.T.nonZeroNumber,time:o.T.number,playing:o.T.boolean,url:o.T.string,assetId:C.nullable()})),di=0,ui=1,hi=(0,s.zn)({firstVersion:di,currentVersion:ui,migrators:{[ui]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...i}=e.props;return{...e,props:i}}}}})},65097:(e,t,i)=>{"use strict";i.d(t,{mW:()=>n,yh:()=>g,sS:()=>C,$F:()=>w,ju:()=>r,zn:()=>y,ZV:()=>c,bs:()=>I});class n{constructor(e){this.previousValue=e}nextValue;diff;get(){const e=this.diff?.removed?.size??0,t=this.diff?.added?.size??0;if(0!==e||0!==t)return{value:this.nextValue,diff:this.diff}}_add(e,t){this.nextValue??=new Set(this.previousValue),this.nextValue.add(e),this.diff??={},t?this.diff.removed?.delete(e):(this.diff.added??=new Set,this.diff.added.add(e))}add(e){const t=this.previousValue.has(e);if(t){const i=this.diff?.removed?.has(e);if(!i)return;return this._add(e,t)}const i=this.nextValue?.has(e);i||this._add(e,t)}_remove(e,t){this.nextValue??=new Set(this.previousValue),this.nextValue.delete(e),this.diff??={},t?(this.diff.removed??=new Set,this.diff.removed.add(e)):this.diff.added?.delete(e)}remove(e){const t=this.previousValue.has(e);if(!t){const i=this.diff?.added?.has(e);if(!i)return;return this._remove(e,t)}const i=this.diff?.removed?.has(e);i||this._remove(e,t)}}var s=i(82941);class o{constructor(e,t){this.typeName=e,this.createDefaultProperties=t.createDefaultProperties,this.migrations=t.migrations,this.validator=t.validator??{validate:e=>e}}createDefaultProperties;migrations;validator;create(e){const t={...this.createDefaultProperties(),id:this.createId()};for(const[i,n]of Object.entries(e))void 0!==n&&(t[i]=n);return t.typeName=this.typeName,t}clone(e){return{...(0,s.v4)(e),id:this.createId()}}createId(){return this.typeName+":"+((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))()}createCustomId(e){return this.typeName+":"+e}isInstance=e=>e?.typeName===this.typeName;isId(e){if(!e)return!1;for(let t=0;t<this.typeName.length;t++)if(e[t]!==this.typeName[t])return!1;return":"===e[this.typeName.length]}withDefaultProperties(e){return new o(this.typeName,{createDefaultProperties:e,migrations:this.migrations,validator:this.validator})}validate(e){return this.validator.validate(e)}}function r(e,t){return new o(e,{createDefaultProperties:()=>({}),migrations:t.migrations??{currentVersion:0,firstVersion:0,migrators:{}},validator:t.validator})}var a=i(99241);class l{items=new WeakMap;get(e,t){return this.items.has(e)||this.items.set(e,t(e)),this.items.get(e)}}function c(e){return e}var d=i(72307);function u(e,t){for(const[i,n]of Object.entries(e)){const e=n,s=t[i];if("eq"in e&&s!==e.eq)return!1;if("neq"in e&&s===e.neq)return!1;if("gt"in e&&("number"!=typeof s||s<=e.gt))return!1}return!0}function h(e,t,i){const n=Object.fromEntries(Object.keys(i).map((e=>[e,new Set])));for(const[s,o]of Object.entries(i))if("eq"in o){const i=e.index(t,s).value.get(o.eq);if(i)for(const e of i)n[s].add(e)}else if("neq"in o){const i=e.index(t,s);for(const[e,t]of i.value)if(e!==o.neq)for(const i of t)n[s].add(i)}else if("gt"in o){const i=e.index(t,s);for(const[e,t]of i.value)if(e>o.gt)for(const i of t)n[s].add(i)}return function(e){if(0===e.length)return new Set;const t=e[0],i=e.slice(1),n=new Set;for(const s of t)i.every((e=>e.has(s)))&&n.add(s);return n}(Object.values(n))}class p{constructor(e,t){this.atoms=e,this.history=t}indexCache=new Map;historyCache=new Map;filterHistory(e){if(this.historyCache.has(e))return this.historyCache.get(e);const t=(0,a.Fl)("filterHistory:"+e,((t,i)=>{if((0,a.e1)(t))return this.history.value;const n=this.history.getDiffSince(i);if(n===a.SB)return this.history.value;const s={added:{},removed:{},updated:{}};let o=0,r=0,l=0;for(const a of n){for(const t of Object.values(a.added))if(t.typeName===e)if(s.removed[t.id]){const e=s.removed[t.id];delete s.removed[t.id],r--,e!==t&&(s.updated[t.id]=[e,t],l++)}else s.added[t.id]=t,o++;for(const[t,i]of Object.values(a.updated))i.typeName===e&&(s.added[i.id]?s.added[i.id]=i:s.updated[i.id]?s.updated[i.id]=[s.updated[i.id][0],i]:(s.updated[i.id]=[t,i],l++));for(const t of Object.values(a.removed))t.typeName===e&&(s.added[t.id]?(delete s.added[t.id],o--):s.updated[t.id]?(s.removed[t.id]=s.updated[t.id][0],delete s.updated[t.id],l--,r++):(s.removed[t.id]=t,r++))}return o||r||l?(0,a.qo)(this.history.value,s):t}),{historyLength:100});return this.historyCache.set(e,t),t}index(e,t){const i=e+":"+t;if(this.indexCache.has(i))return this.indexCache.get(i);const n=this.__uncached_createIndex(e,t);return this.indexCache.set(i,n),n}__uncached_createIndex(e,t){const i=this.filterHistory(e),s=()=>{i.value;const n=new Map;for(const i of Object.values(this.atoms.value)){const s=i.value;if(s.typeName===e){const e=s[t];n.has(e)||n.set(e,new Set),n.get(e).add(s.id)}}return n};return(0,a.Fl)("index:"+e+":"+t,((o,r)=>{if((0,a.e1)(o))return s();const l=i.getDiffSince(r);if(l===a.SB)return s();const c=new Map,d=(e,t)=>{let i=c.get(e);i||(i=new n(o.get(e)??new Set)),i.add(t),c.set(e,i)},u=(e,t)=>{let i=c.get(e);i||(i=new n(o.get(e)??new Set)),i.remove(t),c.set(e,i)};for(const i of l){for(const n of Object.values(i.added))if(n.typeName===e){d(n[t],n.id)}for(const[n,s]of Object.values(i.updated))if(s.typeName===e){const e=n[t],i=s[t];e!==i&&(u(e,s.id),d(i,s.id))}for(const n of Object.values(i.removed))if(n.typeName===e){u(n[t],n.id)}}let h,p;for(const[e,t]of c){const i=t.get();i&&(h||(h=new Map(o)),p||(p=new Map),0===i.value.size?h.delete(e):h.set(e,i.value),p.set(e,i.diff))}return h&&p?(0,a.qo)(h,p):o}),{historyLength:100})}record(e,t=(()=>({})),i="record:"+e+(t?":"+t.toString():"")){const n=this.ids(e,t,i);return(0,a.Fl)(i,(()=>{for(const e of n.value)return this.atoms.value[e]?.value}))}records(e,t=(()=>({})),i="records:"+e+(t?":"+t.toString():"")){const n=this.ids(e,t,"ids:"+i);return(0,a.Fl)(i,(()=>[...n.value].map((e=>{const t=this.atoms.value[e];if(!t)throw new Error("no atom found for record id: "+e);return t.value}))))}ids(e,t=(()=>({})),i="ids:"+e+(t?":"+t.toString():"")){const s=this.filterHistory(e),o=()=>{s.value;const i=t();return 0===Object.keys(i).length?new Set(Object.values(this.atoms.value).flatMap((t=>{const i=t.value;return i.typeName===e?i.id:[]}))):h(this,e,i)},r=e=>{const t=o(),i=function(e,t){const i={};for(const n of t)e.has(n)||(i.added??=new Set,i.added.add(n));for(const n of e)t.has(n)||(i.removed??=new Set,i.removed.add(n));return i.added||i.removed?i:void 0}(e,t);return i?(0,a.qo)(t,i):e},l=(0,a.Fl)("ids_query:"+i,t,{isEqual:d});return(0,a.Fl)("query:"+i,((t,i)=>{const c=l.value;if((0,a.e1)(t))return o();if(i<l.lastChangedEpoch)return r(t);const d=s.getDiffSince(i);if(d===a.SB)return r(t);const h=new n(t);for(const n of d){for(const t of Object.values(n.added))t.typeName===e&&u(c,t)&&h.add(t.id);for(const[t,i]of Object.values(n.updated))i.typeName===e&&(u(c,i)?h.add(i.id):h.remove(i.id));for(const t of Object.values(n.removed))t.typeName===e&&h.remove(t.id)}const p=h.get();return p?(0,a.qo)(p.value,p.diff):t}),{historyLength:50})}exec(e,t){const i=h(this,e,t);if(0===i.size)return a.LZ;const n=this.atoms.value;return[...i].map((e=>n[e].value))}}class g{atoms=(0,a.cn)("store_atoms",{});history=(0,a.cn)("history",0,{historyLength:1e3});query=new p(this.atoms,this.history);listeners=new Set;historyAccumulator=new m;historyReactor;schema;props;constructor(e){const{initialData:t,schema:i}=e;this.schema=i,this.props=e.props,t&&this.atoms.set(Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(0,a.cn)("atom:"+e,this.schema.validateRecord(this,t,"initialize",null))])))),this.historyReactor=(0,a.zH)("Store.historyReactor",(()=>{this.history.value,this._flushHistory()}),{scheduleEffect:e=>requestAnimationFrame(e)})}_flushHistory(){if(this.historyAccumulator.hasChanges()){const e=this.historyAccumulator.flush();for(const{changes:t,source:i}of e)this.listeners.forEach((e=>e({changes:t,source:i})))}}updateHistory(e){this.historyAccumulator.add({changes:e,source:this.isMergingRemoteChanges?"remote":"user"}),0===this.listeners.size&&this.historyAccumulator.clear(),this.history.set(this.history.value+1,e)}validate(e){this.allRecords().forEach((t=>this.schema.validateRecord(this,t,e,null)))}onAfterCreate;onAfterChange;onBeforeDelete;onAfterDelete;_runCallbacks=!0;put=(e,t)=>{(0,a.ay)((()=>{const i={},n={},s=this.atoms.__unsafe__getWithoutCapture();let o,r=null,l=!1;for(let u=0,h=e.length;u<h;u++){o=e[u];const c=(r??s)[o.id];if(c){const e=c.__unsafe__getWithoutCapture();o=this.schema.validateRecord(this,o,t??"updateRecord",e),c.set(o);const n=c.__unsafe__getWithoutCapture();e!==n&&(l=!0,i[o.id]=[e,n])}else l=!0,o=this.schema.validateRecord(this,o,t??"createRecord",null),n[o.id]=o,r||(r={...s}),r[o.id]=(0,a.cn)("atom:"+o.id,o)}if(r&&this.atoms.set(r),!l)return;this.updateHistory({added:n,updated:i,removed:{}});const{onAfterCreate:c,onAfterChange:d}=this;c&&this._runCallbacks&&Object.values(n).forEach((e=>{c(e)})),d&&this._runCallbacks&&Object.values(i).forEach((([e,t])=>{d(e,t)}))}))};remove=e=>{(0,a.ay)((()=>{if(this.onBeforeDelete&&this._runCallbacks)for(const i of e){const e=this.atoms.__unsafe__getWithoutCapture()[i];e&&this.onBeforeDelete(e.value)}let t;if(this.atoms.update((i=>{let n;for(const s of e)s in i&&(n||(n={...i}),t||(t={}),delete n[s],t[s]=i[s].value);return n??i})),t&&(this.updateHistory({added:{},updated:{},removed:t}),this.onAfterDelete&&this._runCallbacks))for(let i=0,n=e.length;i<n;i++)this.onAfterDelete(t[e[i]])}))};get=e=>this.atoms.value[e]?.value;unsafeGetWithoutCapture=e=>this.atoms.value[e]?.__unsafe__getWithoutCapture();serialize=e=>{const t={};for(const[i,n]of Object.entries(this.atoms.value)){const s=n.value;("function"!=typeof e||e(s))&&(t[i]=s)}return t};deserialize=e=>{(0,a.ay)((()=>{this.clear(),this.put(Object.values(e))}))};allRecords=()=>Object.values(this.atoms.value).map((e=>e.value));clear=()=>{this.remove(Object.keys(this.atoms.value))};update=(e,t)=>{const i=this.atoms.value[e];i?this.put([t(i.__unsafe__getWithoutCapture())]):console.error(`Record ${e} not found. This is probably an error`)};has=e=>!!this.atoms.value[e];listen=e=>(this._flushHistory(),this.listeners.add(e),this.historyReactor.scheduler.isActivelyListening||this.historyReactor.start(),()=>{this.listeners.delete(e),0===this.listeners.size&&this.historyReactor.stop()});isMergingRemoteChanges=!1;mergeRemoteChanges=e=>{if(this.isMergingRemoteChanges)return e();try{this.isMergingRemoteChanges=!0,(0,a.ay)(e)}finally{this.isMergingRemoteChanges=!1}};extractingChanges(e){const t=[],i=this.historyAccumulator.intercepting((e=>t.push(e.changes)));try{return(0,a.ay)(e),I(t)}finally{i()}}applyDiff(e,t=!0){const i=this._runCallbacks;try{this._runCallbacks=t,(0,a.ay)((()=>{const t=Object.values(e.added).concat(Object.values(e.updated).map((([e,t])=>t))),i=Object.keys(e.removed);t.length&&this.put(t),i.length&&this.remove(i)}))}finally{this._runCallbacks=i}}createComputedCache=(e,t)=>{const i=new l;return{get:n=>{const s=this.atoms.value[n];if(s)return i.get(s,(()=>(0,a.Fl)(e+":"+n,(()=>t(s.value))))).value}}};createSelectedComputedCache=(e,t,i)=>{const n=new l;return{get:s=>{const o=this.atoms.value[s];if(!o)return;const r=(0,a.Fl)(e+":"+s+":selector",(()=>t(o.value)));return n.get(o,(()=>(0,a.Fl)(e+":"+s,(()=>i(r.value))))).value}}};ensureStoreIsUsable(){this.schema.ensureStoreIsUsable(this)}_isPossiblyCorrupted=!1;markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}}function I(e){const t={added:{},removed:{},updated:{}};for(const i of e){for(const[e,n]of Object.entries(i.added))if(t.removed[e]){const i=t.removed[e];delete t.removed[e],i!==n&&(t.updated[e]=[i,n])}else t.added[e]=n;for(const[e,[n,s]]of Object.entries(i.updated))t.added[e]?(t.added[e]=s,delete t.updated[e],delete t.removed[e]):t.updated[e]?(t.updated[e][1]=s,delete t.removed[e]):(t.updated[e]=i.updated[e],delete t.removed[e]);for(const[e,n]of Object.entries(i.removed))t.added[e]?delete t.added[e]:t.updated[e]?(t.removed[e]=t.updated[e][0],delete t.updated[e]):t.removed[e]=n}return t}class m{_history=[];_inteceptors=new Set;intercepting(e){return this._inteceptors.add(e),()=>{this._inteceptors.delete(e)}}add(e){this._history.push(e);for(const t of this._inteceptors)t(e)}flush(){const e=function(e){const t=[];let i,n=e[0];for(let s=1,o=e.length;s<o;s++)i=e[s],n.source!==i.source?(t.push(n),n=i):n={source:n.source,changes:I([n.changes,i.changes])};return t.push(n),t}(this._history);return this._history=[],e}clear(){this._history=[]}hasChanges(){return this._history.length>0}ensureStoreIsUsable(e={}){}}function y({firstVersion:e,currentVersion:t,migrators:i,subTypeKey:n,subTypeMigrations:s}){return{currentVersion:t,firstVersion:e,migrators:i,subTypeKey:n,subTypeMigrations:s}}var b=(e=>(e.IncompatibleSubtype="incompatible-subtype",e.UnknownType="unknown-type",e.TargetVersionTooNew="target-version-too-new",e.TargetVersionTooOld="target-version-too-old",e.MigrationError="migration-error",e.UnrecognizedSubtype="unrecognized-subtype",e))(b||{});function f({record:e,migrations:t,fromVersion:i,toVersion:n}){let s=i;if(!function(e){return"object"==typeof e&&null!==e&&"id"in e&&"typeName"in e}(e))throw new Error("[migrateRecord] object is not a record");const{typeName:o,id:r,...a}=e;let l=a;for(;s<n;){const e=s+1,i=t.migrators[e];if(!i)return{type:"error",reason:"target-version-too-new"};l=i.up(l),s=e}for(;s>n;){const e=s-1,i=t.migrators[s];if(!i)return{type:"error",reason:"target-version-too-old"};l=i.down(l),s=e}return{type:"success",value:{...l,id:r,typeName:o}}}class C{constructor(e,t){this.types=e,this.options=t}static create(e,t){return new C(e,t??{})}get currentStoreVersion(){return this.options.snapshotMigrations?.currentVersion??0}validateRecord(e,t,i,n){try{const e=(0,s.eg)(this.types,t.typeName);if(!e)throw new Error(`Missing definition for record type ${t.typeName}`);return e.validate(t)}catch(o){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:e,record:t,phase:i,recordBefore:n,error:o});throw o}}migratePersistedRecord(e,t,i="up"){const n=(0,s.eg)(this.types,e.typeName),o=t.recordVersions[e.typeName];if(!o||!n)return{type:"error",reason:b.UnknownType};const r=n.migrations.currentVersion,a=o.version;if(r!==a){const t=f("up"===i?{record:e,migrations:n.migrations,fromVersion:a,toVersion:r}:{record:e,migrations:n.migrations,fromVersion:r,toVersion:a});if("error"===t.type)return t;e=t.value}if(!n.migrations.subTypeKey)return{type:"success",value:e};const l=n.migrations.subTypeMigrations?.[e[n.migrations.subTypeKey]],c="subTypeVersions"in o?o.subTypeVersions[e[n.migrations.subTypeKey]]:null;if(void 0===l)return{type:"error",reason:b.UnrecognizedSubtype};if(null==c)return{type:"error",reason:b.IncompatibleSubtype};const d=f("up"===i?{record:e,migrations:l,fromVersion:c,toVersion:l.currentVersion}:{record:e,migrations:l,fromVersion:l.currentVersion,toVersion:c});return"error"===d.type?d:{type:"success",value:d.value}}migrateStoreSnapshot(e,t){const i=this.options.snapshotMigrations;if(!i)return{type:"success",value:e};const n=i.currentVersion,s=t.storeVersion??0;if(n<s)return{type:"error",reason:b.TargetVersionTooOld};if(n>s){const t=function({value:e,migrations:t,fromVersion:i,toVersion:n}){let s=i;for(;s<n;){const i=s+1,n=t.migrators[i];if(!n)return{type:"error",reason:"target-version-too-new"};e=n.up(e),s=i}for(;s>n;){const i=s-1,n=t.migrators[s];if(!n)return{type:"error",reason:"target-version-too-old"};e=n.down(e),s=i}return{type:"success",value:e}}({value:e,migrations:i,fromVersion:s,toVersion:n});if("error"===t.type)return t;e=t.value}const o=[];for(const r of Object.values(e)){const e=this.migratePersistedRecord(r,t);if("error"===e.type)return e;e.value&&e.value!==r&&o.push(e.value)}if(o.length){e={...e};for(const t of o)e[t.id]=t}return{type:"success",value:e}}ensureStoreIsUsable(e){this.options.ensureStoreIsUsable?.(e)}serialize(){return{schemaVersion:1,storeVersion:this.options.snapshotMigrations?.currentVersion??0,recordVersions:Object.fromEntries((0,s.UM)(this.types).map((e=>[e.typeName,e.migrations.subTypeKey&&e.migrations.subTypeMigrations?{version:e.migrations.currentVersion,subTypeKey:e.migrations.subTypeKey,subTypeVersions:e.migrations.subTypeMigrations?Object.fromEntries(Object.entries(e.migrations.subTypeMigrations).map((([e,t])=>[e,t.currentVersion]))):void 0}:{version:e.migrations.currentVersion}])))}}serializeEarliestVersion(){return{schemaVersion:1,storeVersion:this.options.snapshotMigrations?.firstVersion??0,recordVersions:Object.fromEntries((0,s.UM)(this.types).map((e=>[e.typeName,e.migrations.subTypeKey&&e.migrations.subTypeMigrations?{version:e.migrations.firstVersion,subTypeKey:e.migrations.subTypeKey,subTypeVersions:e.migrations.subTypeMigrations?Object.fromEntries(Object.entries(e.migrations.subTypeMigrations).map((([e,t])=>[e,t.firstVersion]))):void 0}:{version:e.migrations.firstVersion}])))}}}const w=(e,t)=>{if(e.schemaVersion>t.schemaVersion)return 1;if(e.schemaVersion<t.schemaVersion)return-1;if(e.storeVersion>t.storeVersion)return 1;if(e.storeVersion<t.storeVersion)return-1;for(const i of Object.keys(e.recordVersions)){const n=e.recordVersions[i],s=t.recordVersions[i];if(n.version>s.version)return 1;if(n.version<s.version)return-1;if("subTypeVersions"in n&&!("subTypeVersions"in s))return 1;if(!("subTypeVersions"in n)&&"subTypeVersions"in s)return-1;if("subTypeVersions"in n&&"subTypeVersions"in s)for(const e of Object.keys(n.subTypeVersions)){const t=n.subTypeVersions[e],i=s.subTypeVersions[e];if(t>i)return 1;if(t<i)return-1}}return 0}},57492:(e,t,i)=>{"use strict";i.d(t,{T:()=>n});var n={};i.r(n),i.d(n,{ArrayOfValidator:()=>c,DictValidator:()=>h,ObjectValidator:()=>d,UnionValidator:()=>u,ValidationError:()=>o,Validator:()=>l,any:()=>I,array:()=>v,arrayOf:()=>L,bigint:()=>x,boolean:()=>A,boxModel:()=>z,dict:()=>D,integer:()=>C,literal:()=>S,model:()=>E,nonZeroInteger:()=>M,nonZeroNumber:()=>f,number:()=>y,object:()=>N,point:()=>T,positiveInteger:()=>w,positiveNumber:()=>b,setEnum:()=>k,string:()=>m,union:()=>Z,unknown:()=>g,unknownObject:()=>j});var s=i(82941);class o extends Error{constructor(e,t=[]){const i=function(e){if(!e.length)return null;let t="";for(const i of e)"number"==typeof i?t+=`.${i}`:i.startsWith("(")?t.endsWith(")")?t=`${t.slice(0,-1)}, ${i.slice(1)}`:t+=i:t+=`.${i}`;return t.startsWith(".")?t.slice(1):t}(t),n=e.split("\n").map(((e,t)=>0===t?e:`  ${e}`)).join("\n");super(t?`At ${i}: ${n}`:n),this.rawMessage=e,this.path=t}name="ValidationError"}function r(e,t){try{return t()}catch(i){if(i instanceof o)throw new o(i.rawMessage,[e,...i.path]);throw new o(i.toString(),[e])}}function a(e){if(null===e)return"null";if(Array.isArray(e))return"an array";const t=typeof e;switch(t){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${t}`;case"object":return`an ${t}`;case"undefined":return"undefined";default:(0,s.iP)(t)}}class l{constructor(e){this.validationFn=e}validate(e){return this.validationFn(e)}nullable(){return new l((e=>null===e?null:this.validate(e)))}optional(){return new l((e=>{if(void 0!==e)return this.validate(e)}))}refine(e){return new l((t=>e(this.validate(t))))}check(e,t){return"string"==typeof e?this.refine((i=>(r(`(check ${e})`,(()=>t(i))),i))):this.refine((t=>(e(t),t)))}}class c extends l{constructor(e){super((t=>{const i=v.validate(t);for(let n=0;n<i.length;n++)r(n,(()=>e.validate(i[n])));return i})),this.itemValidator=e}nonEmpty(){return this.check((e=>{if(0===e.length)throw new o("Expected a non-empty array")}))}lengthGreaterThan1(){return this.check((e=>{if(e.length<=1)throw new o("Expected an array with length greater than 1")}))}}class d extends l{constructor(e,t=!1){super((i=>{if("object"!=typeof i||null===i)throw new o(`Expected object, got ${a(i)}`);for(const[t,n]of Object.entries(e))r(t,(()=>{n.validate((0,s.eg)(i,t))}));if(!t)for(const t of Object.keys(i))if(!(0,s.nr)(e,t))throw new o("Unexpected property",[t]);return i})),this.config=e,this.shouldAllowUnknownProperties=t}allowUnknownProperties(){return new d(this.config,!0)}extend(e){return new d({...this.config,...e})}}class u extends l{constructor(e,t,i){super((i=>{if("object"!=typeof i||null===i)throw new o(`Expected an object, got ${a(i)}`,[]);const n=(0,s.eg)(i,e);if("string"!=typeof n)throw new o(`Expected a string for key "${e}", got ${a(n)}`);const l=(0,s.nr)(t,n)?t[n]:void 0;return void 0===l?this.unknownValueValidation(i,n):r(`(${e} = ${n})`,(()=>l.validate(i)))})),this.key=e,this.config=t,this.unknownValueValidation=i}validateUnknownVariants(e){return new u(this.key,this.config,e)}}class h extends l{constructor(e,t){super((i=>{if("object"!=typeof i||null===i)throw new o(`Expected object, got ${a(i)}`);for(const[n,s]of Object.entries(i))r(n,(()=>{e.validate(n),t.validate(s)}));return i})),this.keyValidator=e,this.valueValidator=t}}function p(e){return new l((t=>{if(typeof t!==e)throw new o(`Expected ${e}, got ${a(t)}`);return t}))}const g=new l((e=>e)),I=new l((e=>e)),m=p("string"),y=p("number").check((e=>{if(Number.isNaN(e))throw new o("Expected a number, got NaN");if(!Number.isFinite(e))throw new o(`Expected a finite number, got ${e}`)})),b=y.check((e=>{if(e<0)throw new o(`Expected a positive number, got ${e}`)})),f=y.check((e=>{if(e<=0)throw new o(`Expected a non-zero positive number, got ${e}`)})),C=y.check((e=>{if(!Number.isInteger(e))throw new o(`Expected an integer, got ${e}`)})),w=C.check((e=>{if(e<0)throw new o(`Expected a positive integer, got ${e}`)})),M=C.check((e=>{if(e<=0)throw new o(`Expected a non-zero positive integer, got ${e}`)})),A=p("boolean"),x=p("bigint");function S(e){return new l((t=>{if(t!==e)throw new o(`Expected ${e}, got ${JSON.stringify(t)}`);return e}))}const v=new l((e=>{if(!Array.isArray(e))throw new o(`Expected an array, got ${a(e)}`);return e}));function L(e){return new c(e)}const j=new l((e=>{if("object"!=typeof e||null===e)throw new o(`Expected object, got ${a(e)}`);return e}));function N(e){return new d(e)}function D(e,t){return new h(e,t)}function Z(e,t){return new u(e,t,((i,n)=>{throw new o(`Expected one of ${Object.keys(t).map((e=>JSON.stringify(e))).join(" or ")}, got ${JSON.stringify(n)}`,[e])}))}function E(e,t){return new l((i=>r(i&&"object"==typeof i&&"id"in i&&"string"==typeof i.id?`${e}(id = ${i.id})`:e,(()=>t.validate(i)))))}function k(e){return new l((t=>{if(!e.has(t)){const i=Array.from(e,(e=>JSON.stringify(e))).join(" or ");throw new o(`Expected ${i}, got ${t}`)}return t}))}const T=N({x:y,y,z:y.optional()}),z=N({x:y,y,w:y,h:y})},82941:(e,t,i)=>{"use strict";function n(e,t){const i=[];e:for(const n of e){for(const e of i)if(t?t(n,e):n===e)continue e;i.push(n)}return i}function s(e){return e.filter((e=>null!=e))}function o(e){return e[e.length-1]}function r(e,t){let i,n=1/0;for(const s of e){const e=t(s);e<n&&(i=s,n=e)}return i}function a(e,t){const i=[],n=[];for(const s of e)t(s)?i.push(s):n.push(s);return[i,n]}function l(e){const t=(...i)=>{try{return e(...i)}catch(n){throw n instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(n,t),n}};return t}i.d(t,{lw:()=>g,hu:()=>d,kP:()=>u,oA:()=>s,Ds:()=>h,D8:()=>n,p$:()=>C,iP:()=>c,jK:()=>I,eg:()=>f,nr:()=>b,GT:()=>A,cF:()=>x,Z$:()=>o,F:()=>r,vm:()=>y,EP:()=>M,UM:()=>w,uK:()=>a,Vk:()=>m,v4:()=>S});function c(e,t){const i=t&&e&&"object"==typeof e&&t in e?e[t]:e;throw new Error(`Unknown switch case ${i}`)}const d=l(((e,t)=>{if(!e)throw new Error(t||"Assertion Error")})),u=l(((e,t)=>{if(null==e)throw new Error(t??"value must be defined");return e}));function h(e,t){let i;const n=(...n)=>(i||(i={},i.promise=new Promise(((e,t)=>{i.resolve=e,i.reject=t}))),clearTimeout(i.timeout),i.latestArgs=n,i.timeout=setTimeout((()=>{const t=i;i=void 0;try{t.resolve(e(...t.latestArgs))}catch(n){t.reject(n)}}),t),i.promise);return n.cancel=()=>{i&&clearTimeout(i.timeout)},n}const p=new WeakMap;function g(e,t){if("object"!=typeof e||null===e)return;let i=p.get(e);i||(i={tags:{},extras:{}},p.set(e,i)),t.tags&&(i.tags={...i.tags,...t.tags}),t.extras&&(i.extras={...i.extras,...t.extras})}function I(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t+""}function m(e=""){let t=0,i=0,n=0,s=0;function o(){const e=t^t<<11;return t=i,i=n,n=s,s^=(s>>>19^e^e>>>8)>>>0,s/4294967296*2}for(let r=0;r<e.length+64;r++)t^=0|e.charCodeAt(r),o();return o}function y(e,t,i,n=!1){const[s,o]=t,[r,a]=i,l=r+(e-s)/(o-s)*(a-r);return n?r<a?Math.max(Math.min(l,a),r):Math.max(Math.min(l,r),a):l}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){if(b(e,t))return e[t]}function C(e){if(!e)return e;if(Array.isArray(e)){const t=[],i=e.length;for(let n=0;n<i;n++)t.push(C(e[n]));return t}if("object"==typeof e){const t=Object.keys(e),i=t.length,n={};for(let s=0;s<i;s++){const i=t[s];n[i]=C(e[i])}return n}return e}function w(e){return Object.values(e)}function M(e){return Object.entries(e)}function A(e){return null!==e}function x(e){return null!=e}const S="undefined"!=typeof window&&window.structuredClone?window.structuredClone:e=>e?JSON.parse(JSON.stringify(e)):e},86256:(e,t,i)=>{"use strict";i.d(t,{j:()=>d,KO:()=>u,uC:()=>o,Hg:()=>h});var n=i(67294),s=i(99241);function o(e,t){const i=n.useRef(t);i.current=t;const[o,r,a]=n.useMemo((()=>{let t=null;const n=new s.R0(`useStateTracking(${e})`,(()=>i.current?.()),{scheduleEffect(){t?.()}});return[n,e=>(t=e,()=>{t=null}),()=>n.scheduleCount]}),[e]);return n.useSyncExternalStore(r,a,a),n.useEffect((()=>(o.attach(),o.maybeScheduleEffect(),()=>{o.detach()})),[o]),o.execute()}var r={apply:(e,t,i)=>o(e.displayName??e.name??"tracked(???)",(()=>e.apply(t,i)))},a=Symbol.for("react.lazy"),l=Symbol.for("react.memo"),c=Symbol.for("react.forward_ref");function d(e){let t=null;const i=e.$$typeof;if(i===l&&(t=(e=e.type).compare),i===c)return(0,n.memo)((0,n.forwardRef)(new Proxy(e.render,r)));if(i===a){let t;return(0,n.memo)((0,n.lazy)((()=>{if(!t){const{_init:i,_payload:n}=e,s=i(n);t=d(s)}return Promise.resolve({default:t})})))}return(0,n.memo)(new Proxy(e,r),t)}function u(e,t,i){return(0,n.useMemo)((()=>{const n="function"==typeof t?t():t;return(0,s.cn)(`useAtom(${e})`,n,i)}),[])}function h(){const e=arguments,t=3===e.length?e[2]:[e[0]],i=3===e.length?e[0]:`useValue(${e[0].name})`,o=(0,n.useRef)(!0);o.current=!0;const r=(0,n.useMemo)((()=>1===e.length?e[0]:(0,s.Fl)(i,(()=>{if(o.current)return e[1]();try{return e[1]()}catch{return{}}}))),t);try{const{subscribe:e,getSnapshot:t}=(0,n.useMemo)((()=>({subscribe:e=>(0,s.Ym)(`useValue(${i})`,(()=>{r.value,e()})),getSnapshot:()=>r.value})),[r]);return(0,n.useSyncExternalStore)(e,t,t)}finally{o.current=!1}}Symbol.for("react.memo"),Symbol.for("react.forward_ref"),Symbol.for("react.lazy")},99241:(e,t,i)=>{"use strict";i.d(t,{LZ:()=>d,R0:()=>R,SB:()=>C,cn:()=>Z,Fl:()=>O,e1:()=>T,Ym:()=>F,zH:()=>B,ay:()=>N,qo:()=>W});var n={};i.r(n),i.d(n,{EMPTY_ARRAY:()=>d,EffectScheduler:()=>R,RESET_VALUE:()=>C,atom:()=>Z,computed:()=>O,getComputedInstance:()=>G,isAtom:()=>E,isSignal:()=>J,isUninitialized:()=>T,react:()=>F,reactor:()=>B,transact:()=>N,transaction:()=>j,unsafe__withoutCapture:()=>I,whyAmIRunning:()=>f,withDiff:()=>W});var s=class{arraySize=0;array=Array(8);set=null;get isEmpty(){if(this.array)return 0===this.arraySize;if(this.set)return 0===this.set.size;throw new Error("no set or array")}add(e){if(this.array){return-1===this.array.indexOf(e)&&(this.arraySize<8?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0))}if(this.set)return!this.set.has(e)&&(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const t=this.array.indexOf(e);return-1!==t&&(this.array[t]=void 0,this.arraySize--,t!==this.arraySize&&(this.array[t]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return!!this.set.has(e)&&(this.set.delete(e),!0);throw new Error("no set or array")}visit(e){if(this.array)for(let t=0;t<this.arraySize;t++){const i=this.array[t];void 0!==i&&e(i)}else{if(!this.set)throw new Error("no set or array");this.set.forEach(e)}}};function o(e){return e&&"object"==typeof e&&"parents"in e}function r(e){for(let t=0,i=e.parents.length;t<i;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}var a=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&o(e))for(let i=0,n=e.parents.length;i<n;i++)a(e.parents[i],e)},l=(e,t)=>{if(e.children.add(t)&&o(e))for(let i=0,n=e.parents.length;i<n;i++)l(e.parents[i],e)};function c(e,t){return e===t||Object.is(e,t)||Boolean(e&&t&&"function"==typeof e.equals&&e.equals(t))}var d=Object.freeze([]),u=Symbol.for("__signia__"),h=globalThis;h[u]?console.error('Multiple versions of signia detected. This will cause unexpected behavior. Please add "resolutions" (yarn/pnpm) or "overrides" (npm) in your package.json to ensure only one version of signia is loaded.'):h[u]=!0;var p=class{constructor(e,t){this.below=e,this.child=t}offset=0;numNewParents=0;maybeRemoved},g=null;function I(e){const t=g;g=null;try{return e()}finally{g=t}}function m(e){g=new p(g,e)}function y(){const e=g;g=e.below;if(e.numNewParents>0||e.offset!==e.child.parents.length){for(let t=e.offset;t<e.child.parents.length;t++){const i=e.child.parents[t];e.child.parents.indexOf(i)>=e.offset&&a(i,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,g?.maybeRemoved)for(let t=0;t<g.maybeRemoved.length;t++){const i=g.maybeRemoved[t];-1===e.child.parents.indexOf(i)&&a(i,e.child)}}}function b(e){if(g){const t=g.child.parents.indexOf(e);if(t<0&&(g.numNewParents++,g.child.isActivelyListening&&l(e,g.child)),t<0||t>=g.offset){if(t!==g.offset&&t>0){const e=g.child.parents[g.offset];g.maybeRemoved?-1===g.maybeRemoved.indexOf(e)&&g.maybeRemoved.push(e):g.maybeRemoved=[e]}g.child.parents[g.offset]=e,g.child.parentEpochs[g.offset]=e.lastChangedEpoch,g.offset++}}}function f(){const e=g?.child;if(!e)throw new Error("whyAmIRunning() called outside of a reactive context");const t=[];for(let i=0;i<e.parents.length;i++){const n=e.parents[i];n.lastChangedEpoch>e.parentEpochs[i]&&t.push(n)}if(0===t.length)console.log(e.name,"is running but none of the parents changed");else{console.log(e.name,"is running because:");for(const e of t)console.log("\t",e.name,"changed =>",e.__unsafe__getWithoutCapture())}}var C=Symbol("RESET_VALUE"),w=class{constructor(e){this.capacity=e,this.buffer=new Array(e)}index=0;buffer;pushEntry(e,t,i){void 0!==i&&(i!==C?(this.buffer[this.index]=[e,t,i],this.index=(this.index+1)%this.capacity):this.clear())}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:t,capacity:i,buffer:n}=this;for(let s=0;s<i;s++){const o=(t-1+i-s)%i,r=n[o];if(!r)return C;const[a,l]=r;if(0===s&&e>=l)return[];if(a<=e&&e<l){const e=s+1,t=new Array(e);for(let s=0;s<e;s++)t[s]=n[(o+s)%i][2];return t}}return C}},M=-1,A=0,x=!1;var S=class{constructor(e){this.parent=e}initialAtomValues=new Map;get isRoot(){return null===this.parent}commit(){if(this.isRoot){const e=this.initialAtomValues;this.initialAtomValues=new Map,v(e.keys())}else this.initialAtomValues.forEach(((e,t)=>{this.parent.initialAtomValues.has(t)||this.parent.initialAtomValues.set(t,e)}))}abort(){A++,this.initialAtomValues.forEach(((e,t)=>{t.set(e),t.historyBuffer?.clear()})),this.commit()}};function v(e){if(x)throw new Error("cannot change atoms during reaction cycle");try{x=!0;const t=new Set,i=e=>{e.lastTraversedEpoch!==A&&(e.lastTraversedEpoch=A,"maybeScheduleEffect"in e?t.add(e):e.children.visit(i))};for(const n of e)n.children.visit(i);for(const e of t)e.maybeScheduleEffect()}finally{x=!1}}var L=null;function j(e){const t=new S(L);L=t;try{let i=!1;const n=e((()=>i=!0));return i?t.abort():t.commit(),n}catch(i){throw t.abort(),i}finally{L=L.parent}}function N(e){return L?e():j(e)}var D=class{constructor(e,t,i){this.name=e,this.current=t,this.isEqual=i?.isEqual??null,i&&(i.historyLength&&(this.historyBuffer=new w(i.historyLength)),this.computeDiff=i.computeDiff)}isEqual;computeDiff;lastChangedEpoch=A;children=new s;historyBuffer;__unsafe__getWithoutCapture(){return this.current}get value(){return b(this),this.current}set(e,t){if(this.isEqual?.(this.current,e)??c(this.current,e))return this.current;A++,this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,A,t??this.computeDiff?.(this.current,e,this.lastChangedEpoch,A)??C),this.lastChangedEpoch=A;const i=this.current;return this.current=e,function(e,t){L?L.initialAtomValues.has(e)||L.initialAtomValues.set(e,t):v([e])}(this,i),e}update(e){return this.set(e(this.current))}getDiffSince(e){return b(this),e>=this.lastChangedEpoch?d:this.historyBuffer?.getChangesSince(e)??C}};function Z(e,t,i){return new D(e,t,i)}function E(e){return e instanceof D}var k=Symbol("UNINITIALIZED"),T=e=>e===k,z=class{constructor(e,t){this.value=e,this.diff=t}};function W(e,t){return new z(e,t)}var Y=class{constructor(e,t,i){this.name=e,this.derive=t,i?.historyLength&&(this.historyBuffer=new w(i.historyLength)),this.computeDiff=i?.computeDiff,this.isEqual=i?.isEqual??c}lastChangedEpoch=M;lastTraversedEpoch=M;lastCheckedEpoch=M;parents=[];parentEpochs=[];children=new s;get isActivelyListening(){return!this.children.isEmpty}historyBuffer;state=k;computeDiff;isEqual;__unsafe__getWithoutCapture(){const e=this.lastChangedEpoch===M;if(!(e||this.lastCheckedEpoch!==A&&r(this)))return this.lastCheckedEpoch=A,this.state;try{m(this);const t=this.derive(this.state,this.lastCheckedEpoch),i=t instanceof z?t.value:t;if(this.state===k||!this.isEqual(i,this.state)){if(this.historyBuffer&&!e){const e=t instanceof z?t.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,A,e??this.computeDiff?.(this.state,i,this.lastCheckedEpoch,A)??C)}this.lastChangedEpoch=A,this.state=i}return this.lastCheckedEpoch=A,this.state}finally{y()}}get value(){const e=this.__unsafe__getWithoutCapture();return b(this),e}getDiffSince(e){return this.value,e>=this.lastChangedEpoch?d:this.historyBuffer?.getChangesSince(e)??C}};function P(e={},t,i,n){const s=n.get,o=Symbol.for("__signia__computed__"+i);return n.get=function(){let t=this[o];return t||(t=new Y(i,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:t})),t.value},n}function G(e,t){const i=Symbol.for("__signia__computed__"+t.toString());let n=e[i];return n||(e[t],n=e[i]),n}function O(){if(1===arguments.length){const e=arguments[0];return(t,i,n)=>P(e,0,i,n)}return"string"==typeof arguments[0]?new Y(arguments[0],arguments[1],arguments[2]):P(void 0,0,arguments[1],arguments[2])}var R=class{constructor(e,t,i){this.name=e,this.runEffect=t,this._scheduleEffect=i?.scheduleEffect}_isActivelyListening=!1;get isActivelyListening(){return this._isActivelyListening}lastTraversedEpoch=M;lastReactedEpoch=M;_scheduleCount=0;get scheduleCount(){return this._scheduleCount}parentEpochs=[];parents=[];_scheduleEffect;maybeScheduleEffect(){this._isActivelyListening&&this.lastReactedEpoch!==A&&(!this.parents.length||r(this)?this.scheduleEffect():this.lastReactedEpoch=A)}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}maybeExecute=()=>{this._isActivelyListening&&this.execute()};attach(){this._isActivelyListening=!0;for(let e=0,t=this.parents.length;e<t;e++)l(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,t=this.parents.length;e<t;e++)a(this.parents[e],this)}execute(){try{m(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=A,e}finally{y()}}};function F(e,t,i){const n=new R(e,t,i);return n.attach(),n.scheduleEffect(),()=>{n.detach()}}function B(e,t,i){const n=new R(e,t,i);return{scheduler:n,start:e=>{const t=e?.force??!1;n.attach(),t?n.scheduleEffect():n.maybeScheduleEffect()},stop:()=>{n.detach()}}}function J(e){return e instanceof D||e instanceof Y}}}]);