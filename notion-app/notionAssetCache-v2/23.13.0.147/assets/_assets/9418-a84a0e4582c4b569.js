"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9418],{94166:(e,t,o)=>{o.d(t,{Z:()=>c});o(67294);var n=o(480),r=o(24405),i=o(5257),l=o(56666),a=o(52275),s=o(25130),d=o(85893);const c=function(e){const{icon:t,iconStyle:o,title:c,caption:u,right:p,rightStyle:g,isRed:h,isGray:m,isOrange:x,isPadded:C,onClick:f,onMouseDown:v,onMouseEnter:y,onMouseLeave:b,disabled:S,showChevron:F,chevronStyle:j,rotateChevron:w,showDragHandle:M,focused:T,textWrapperStyle:Z,shouldWrapCaption:k,desktopIconStyle:A}=e,R=(0,n.O7)(),{isMobile:V}=R.device,P=(0,r.yK)((e=>({style:{color:m?e.mediumTextColor:x?"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]:e.regularTextColor,fill:m?e.mediumIconColor:x?"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]:e.regularIconColor,opacity:S?.4:void 0},leftIconStyle:{width:24,height:C?24:V?18:16,marginRight:-2,...t===l.o&&{height:3},...o},rightStyle:{display:"flex",alignItems:"center",color:S?e.regularTextColor:e.lightTextColor,fill:S?e.regularIconColor:e.lightIconColor,flexShrink:0,...g},rightIconStyle:{width:12,fill:e.lightIconColor,marginLeft:6,transition:"transform 200ms ease-in-out",...j},rightIconRotatedStyle:{transform:"rotate(90deg)"}})),[m,x,S,o,C,V,t,j,g]),[I,B]=(0,s.o$)(),D=(0,s.nq)(B);return(0,d.jsx)(a.Z,{ref:I,icon:null==t?void 0:t(P.leftIconStyle),focused:T||!1,disabled:S,title:c,caption:u,shouldWrapCaption:k,desktopTitleStyle:{flexGrow:1,flexShrink:1},showDragHandle:M,buttonStyle:P.style,rightStyle:P.rightStyle,isRedOnHover:h,ignoreLocalHoverState:!!S||void 0,right:(0,d.jsxs)(d.Fragment,{children:[p,!S&&F&&(0,i.o)({...P.rightIconStyle,...w&&P.rightIconRotatedStyle})]}),onClick:f,onMouseDown:v,onMouseEnter:y,onMouseLeave:b,textWrapperStyle:Z,desktopIconStyle:A,disallowTabbing:!D})}},86650:(e,t,o)=>{o.d(t,{R1:()=>K,ep:()=>q,ZP:()=>z});var n=o(67294),r=o(480),i=o(86628),l=o(24405),a=o(49085),s=o(76205),d=o(45238),c=o(85893);const u=(0,d.IU)("copyPadded",{viewBox:"0 0 24 24",svg:(0,c.jsx)("path",{d:"M4.89062 18.5107C4.89062 19.9873 5.64941 20.7529 7.1123 20.7529H13.5107C14.9736 20.7529 15.7256 19.9805 15.7256 18.5107V17.2461H16.8877C18.3506 17.2461 19.1094 16.4805 19.1094 15.0039V9.58984C19.1094 8.69434 18.9248 8.12012 18.3848 7.56641L14.9736 4.09375C14.4609 3.56738 13.8525 3.36914 13.0664 3.36914H10.4893C9.0332 3.36914 8.26758 4.13477 8.26758 5.61133V6.86914H7.1123C5.64941 6.86914 4.89062 7.6416 4.89062 9.11133V18.5107ZM15.042 11.3262L11.3369 7.55957C10.8105 7.02637 10.3662 6.88281 9.60742 6.87598V5.68652C9.60742 5.05762 9.94238 4.70898 10.6055 4.70898H13.4629V7.97656C13.4629 8.82422 13.9141 9.26172 14.7549 9.26172H17.7695V14.9219C17.7695 15.5576 17.4414 15.9062 16.7715 15.9062H15.7256V13.2539C15.7256 12.3311 15.6162 11.9072 15.042 11.3262ZM14.584 7.80566V5.2627L17.4209 8.14062H14.9189C14.6865 8.14062 14.584 8.04492 14.584 7.80566ZM6.23047 18.4287V9.19336C6.23047 8.56445 6.55859 8.20898 7.22168 8.20898H9.32031V11.9551C9.32031 12.9326 9.80566 13.4111 10.7764 13.4111H14.3857V18.4287C14.3857 19.0645 14.0576 19.4131 13.3945 19.4131H7.22168C6.55859 19.4131 6.23047 19.0645 6.23047 18.4287ZM10.9062 12.2285C10.626 12.2285 10.5029 12.1055 10.5029 11.8252V8.46875L14.2012 12.2285H10.9062Z"})});var p=o(56666),g=o(21197),h=o(38715),m=o(55863),x=o(9291),C=o(53965),f=o(1898),v=o(37810),y=o(8406),b=o(34993),S=o(5149),F=o(13447),j=o(23063),w=o(52275),M=o(31945),T=o(73063),Z=o(78140),k=o(28992),A=o(32163),R=o(89728),V=o(53437),P=o(72495),I=o(26388),B=o(95691),D=o(97004),_=o(60709),L=o(98742),O=o(61766),H=o(94166);let K=function(e){return e[e.FilterBar=0]="FilterBar",e[e.SettingsFilters=1]="SettingsFilters",e[e.SettingsSort=2]="SettingsSort",e}({});const W=a.default.createClass(!1);function q(){return(0,c.jsx)(x.FormattedMessage,{id:"database.filterValue.mergeIntoAdvancedFilter.tooltip",defaultMessage:"Use an advanced filter to group filter rules and use AND/OR conditions."})}const z=function(e){let{collectionContextStore:t,context:o,showHoverActionsStore:a,moreActionsButtonPopupStore:s}=e;const d=(0,l.Fg)(),C=(0,r.O7)(),b=(0,x.useIntl)(),S=(0,r.Fy)(),F=(0,i.qz)(s,O.Z),w=(0,i.qz)(void 0,W),Z=(0,i.VK)((()=>{const e=t.localStateDiffStore.state;return o===K.SettingsFilters?(e.filters.moved.length>0?1:0)+e.filters.added.length+e.filters.removed.length+e.filters.updated.length:0}),[t,o]),A=(0,n.useCallback)((()=>function(e,t,o){y.wd({environment:e,collectionContextStore:t,action:"click_save_control_more_options_button"}),o.setState(!0)}(C,t,w)),[C,t,w]),P=(0,i.VK)((()=>t.permissionScopes.state),[t]),D=(0,i.VK)((()=>t.isFullScreen.state||!a||a.state),[t,a]),_=(0,i.VK)((()=>w.state),[w]),L=(0,i.VK)((()=>J(t,o)),[t,o]);if(o===K.FilterBar)return S.isPhone?P.canConfigureBlock?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(R.Z,{isOrange:!0,hovered:!0,style:{flexGrow:1,justifyContent:"center",height:32,marginRight:8,fontWeight:v.Z.fontWeight.semibold},onClick:()=>Q(C,t,o),children:(0,c.jsx)(E,{})}),(0,c.jsx)(M.ZP,{popupType:S.isMobile?V.kQ.SlideUp:V.kQ.Popup,render:e=>(0,c.jsx)(te,{parent:e,collectionContextStore:t,context:o}),originGap:4,onClick:()=>ee(C,t),buttonPopupStore:F,renderOrigin:e=>(0,c.jsx)(T.Z,{style:{width:32,height:32},iconStyle:{width:16},hovered:!0,icon:p.o,...e})})]}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(R.Z,{style:{flexGrow:1,justifyContent:"center",height:32,marginRight:8,fontWeight:v.Z.fontWeight.semibold},hovered:!0,isGray:!0,onClick:()=>Y(C,t,o),children:(0,c.jsx)(N,{})})}):(0,c.jsx)(j.Z,{isVisible:D,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:()=>(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(R.Z,{isGray:!0,onClick:()=>Y(C,t,o),style:{lineHeight:1.1,fontSize:S.isMobile?16:14},children:(0,c.jsx)(N,{})}),P.canConfigureBlock&&(0,c.jsx)(M.ZP,{popupType:C.device.isMobile?V.kQ.SlideUp:V.kQ.Popup,render:e=>(0,c.jsx)(te,{parent:e,collectionContextStore:t,context:o}),originGap:4,onClick:()=>ee(C,t),buttonPopupStore:F,renderOrigin:e=>(0,c.jsx)(B.Z,{title:(0,c.jsx)(E,{}),color:"orange",onClick:()=>Q(C,t,o),dropdownEvents:e,style:{marginLeft:6,marginRight:S.isMobile?8:void 0,fontSize:S.isMobile?16:14,...S.isMobile?{height:30}:null}})})]})});if(o===K.SettingsFilters||o===K.SettingsSort){const e=o===K.SettingsFilters;return(0,c.jsxs)(c.Fragment,{children:[_&&P.canConfigureBlock&&(S.isMobile?(0,c.jsx)(k.Z,{style:{fontSize:12,color:d.mediumTextColor},title:(0,c.jsx)(oe,{context:o,changeCount:Z})}):(0,c.jsx)("div",{style:{fontSize:12,color:d.mediumTextColor,paddingLeft:14,paddingRight:14,paddingTop:8,paddingBottom:8,maxWidth:220},children:(0,c.jsx)(oe,{context:o,changeCount:Z})})),P.canConfigureBlock&&(0,c.jsx)(H.Z,{icon:h.N,isOrange:!0,title:(0,c.jsx)(E,{}),onClick:()=>Q(C,t,o)}),(0,c.jsx)(H.Z,{icon:m.s,isGray:!0,title:e?(0,c.jsx)(x.FormattedMessage,{defaultMessage:"Reset filters",id:"database.viewSettings.filterAndSortSaveControl.resetFilters"}):(0,c.jsx)(x.FormattedMessage,{defaultMessage:"Reset sorts",id:"database.viewSettings.filterAndSortSaveControl.resetSorts"}),onClick:()=>Y(C,t,o)}),P.canConfigureBlock&&!_&&(0,c.jsx)(H.Z,{icon:p.o,isGray:!0,title:(0,c.jsx)(x.FormattedMessage,{defaultMessage:"More options",id:"database.viewSettings.filterAndSortSaveControl.more"}),onClick:A}),P.canConfigureBlock&&_&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(H.Z,{icon:u,isPadded:!0,isGray:!0,title:(0,c.jsx)(G,{}),onClick:()=>{X(C,t,b)}}),L&&(0,c.jsx)(I.ZP,{placement:I.ug.Left,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>(0,c.jsx)("div",{children:(0,c.jsx)(q,{})}),render:e=>(0,c.jsx)(H.Z,{icon:g.Q,isGray:!0,title:(0,c.jsx)(U,{}),onClick:()=>{$(C,t,o)},...e})})]})]})}(0,f.t1)(o)};function G(){return(0,c.jsx)(x.FormattedMessage,{defaultMessage:"Save as new view",id:"database.filterBar.changesControl.saveAsNewView.title"})}function U(){return(0,c.jsx)(x.FormattedMessage,{defaultMessage:"Merge into advanced filter",id:"database.filterBar.changesControl.mergeIntoAdvancedFilter.title"})}function N(){return(0,c.jsx)(x.FormattedMessage,{defaultMessage:"Reset",id:"database.filterBar.changesControl.reset.title"})}function E(){return(0,c.jsx)(x.FormattedMessage,{defaultMessage:"Save for everyone",id:"database.filterBar.changesControl.saveForEveryone.title"})}function J(e,t){const o=e.currentPropertyFiltersStore.state;return(t===K.FilterBar||t===K.SettingsFilters)&&Boolean(o.find((e=>(0,s.aN)(e.filter))))}function Q(e,t,o){const n=t.collectionViewStore();n&&(y.wd({environment:e,collectionContextStore:t,action:"click_save_control_save_in_current_view"}),F.createAndCommit({userAction:"CollectionSettingsSaveControl.handleSaveInCurrentViewClick",environment:e,perform:r=>{b.Ys({environment:e,type:o===K.FilterBar?b.mO.All:o===K.SettingsFilters?b.mO.Filters:b.mO.Sorts,collectionContextStore:t,targetCollectionView:n,transaction:r})}}),b.RD({environment:e,seen:!0}))}function X(e,t,o,n){y.wd({environment:e,collectionContextStore:t,action:"click_save_control_save_as_new_view"}),F.createAndCommit({userAction:"CollectionSettingsSaveControl.handleSaveAsNewViewClick",environment:e,perform:n=>{b.k7({environment:e,collectionContextStore:t,transaction:n,intl:o})}}),null==n||n.close()}function $(e,t,o,n){const r=(0,D.Pi)(t),i=t.currentPropertyFiltersStore.state.filter((e=>(0,D.mu)(e.id)));b.iU({environment:e,collectionContextStore:t,temporaryState:{...t.temporaryState.state,propertyFilters:{value:i},combinatorFilter:{value:r}}});const l=o===K.FilterBar?t.filterBarCombinatorFilterSettingsStore:t.filterOptionsCombinatorFilterSettingsStore;S.wl({collectionSettingsStore:l,item:{type:"filter"}}),y.wd({environment:e,collectionContextStore:t,action:"merge_filter_into_combinator"}),null==n||n.close()}function Y(e,t,o,n){y.wd({environment:e,collectionContextStore:t,action:"click_save_control_reset"});const r=t.temporaryState.state,i=o===K.SettingsFilters?{...r,propertyFilters:void 0,combinatorFilter:void 0}:o===K.SettingsSort?{...r,sorts:void 0}:void 0;b._x({environment:e,collectionContextStore:t,temporaryState:i}),b.RD({environment:e,seen:!0}),null==n||n.close()}function ee(e,t){y.wd({environment:e,collectionContextStore:t,action:"click_save_control_more_options_popup"}),b.RD({environment:e,seen:!0})}function te(e){let{parent:t,collectionContextStore:o,context:n}=e;const l=(0,x.useIntl)(),a=(0,r.O7)(),{device:s}=a,d=(0,r.MO)();let u;u=s.isMobile?{menuType:_.og.ActionSheet}:{menuType:_.og.Popup,width:250};const p=(0,i.VK)((()=>J(o,n)),[o,n]),g=C.oA([d&&{key:"reset",render:e=>(0,c.jsx)(w.Z,{...e,disabled:!1,title:(0,c.jsx)(N,{})}),action:()=>{Y(a,o,n,t)}},{key:"newView",render:e=>(0,c.jsx)(w.Z,{...e,disabled:!1,title:(0,c.jsx)(G,{})}),action:()=>{X(a,o,l,t)}},p&&{key:"merge",render:e=>(0,c.jsx)(I.ZP,{placement:I.ug.Left,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>(0,c.jsx)("div",{children:(0,c.jsx)(q,{})}),render:t=>(0,c.jsx)(w.Z,{...(0,L.Z)(e,t),disabled:!1,title:(0,c.jsx)(U,{})})}),action:()=>{$(a,o,n,t)}}]);return(0,c.jsx)(Z.Z,{...u,children:(0,c.jsx)(A.Z,{type:A.i.Vertical,sections:[{key:0,render:e=>(0,c.jsx)(P.Z,{enableActionSheetTitle:!0,...e}),items:g}],initialFocus:0})})}function oe(e){let{context:t,changeCount:o}=e;return t===K.SettingsFilters?(0,c.jsx)(x.FormattedMessage,{defaultMessage:"{count, plural, one {{count} filter changed from what other people see} other {{count} filters changed from what other people see}}",id:"database.viewSettings.filterAndSortSaveControl.filter.caption",values:{count:o}}):(0,c.jsx)(x.FormattedMessage,{defaultMessage:"Sort has been changed from what other people see",id:"database.viewSettings.filterAndSortSaveControl.sort.caption"})}},2005:(e,t,o)=>{o.d(t,{Tp:()=>h,cn:()=>c,fg:()=>p,l0:()=>u,oq:()=>g});o(67294);var n=o(480),r=o(36488),i=o(78140),l=o(28992),a=o(40721),s=o(60709),d=o(85893);const c=8,u=8,p=32,g={height:p+c-2,paddingTop:c-2};function h(e){let{title:t,helpButton:o,onCancel:l,desktopMinWidth:c,desktopMaxWidth:u,desktopWidth:p,children:g}=e;const{device:h}=(0,n.O7)();return(0,d.jsx)(r.Z,{capture:!0,allowEsc:!0,allowUndo:!0,render:e=>{let n;return n=h.isMobile?{menuType:s.og.Modal,title:t,right:(0,d.jsx)(a.DoneMenuText,{}),onClickRight:l,...e}:{menuType:s.og.Popup,...c&&{minWidth:c},...u&&{maxWidth:u},...p&&{width:p},...e},(0,d.jsx)(i.Z,{...n,header:t&&(0,d.jsx)(m,{title:t,helpButton:o}),children:g})}})}function m(e){let{title:t,helpButton:o}=e;return(0,n.O7)().device.isMobile?null:(0,d.jsx)(l.Z,{style:g,title:t,right:o})}h.displayName="CollectionViewMenu"},13401:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(67294),r=o(24405),i=o(47453),l=o(31701),a=o(31339),s=o(52275),d=o(85893);const c=n.forwardRef(((e,t)=>{const o=(0,r.yK)((t=>({base:{color:e.isBlue?l.ZP.blue:t.mediumTextColor}})),[e.isBlue]),{color:n}=o.base;return(0,d.jsx)(s.Z,{ref:t,...e,title:(0,d.jsx)("div",{style:{color:n,fill:n},children:e.title}),icon:(0,d.jsx)(a.Z,{icon:i.R,styles:{fill:n}})})}))},56416:(e,t,o)=>{o.d(t,{Qv:()=>Ve,ZP:()=>De,I4:()=>_e});o(30541),o(57658);var n=o(67294),r=o(480),i=o(86628),l=o(24405),a=o(49085),s=o(66897),d=o(76205),c=o(99036),u=o(80951),p=o(84619),g=o(40506),h=o(53877),m=o(58573),x=o(42875),C=o(42853),f=o(56666),v=o(21197),y=o(37612),b=o(96367),S=o(21202),F=o(77420),j=o(13493),w=o(19889),M=o(4308),T=o(9291),Z=o(53965),k=o(1898),A=o(37810),R=o(86650),V=o(23586),P=o(28020),I=o(97004),B=o(17335),D=o(65183),_=o(26991),L=o(60709),O=o(98742),H=o(5691),K=o(29376),W=o(77907),q=o(51),z=o(80444),G=o(61766),U=o(29798),N=o(6258),E=o(42696),J=o(29369),Q=o(70203),X=o(8406),$=o(66890),Y=o(98165),ee=o(68834),te=o(52275),oe=o(60458),ne=o(68785),re=o(78140),ie=o(32163),le=o(43765),ae=o(40721),se=o(72495),de=o(85567),ce=o(47082),ue=o(85893);function pe(e){const{filter:t,parentStore:o,updateValue:a,onClose:s,desktopTopActions:c,mobileMenuTitle:u,mobileMoreActions:g}=e,h=(0,r.O7)(),x=(0,$.Y$)(),[C,f]=(0,n.useState)([]),[v,y]=(0,n.useState)(!1),b=(0,n.useMemo)((()=>(0,d.vR)(t)?(0,d.u0)(t):[]),[t]),S=(0,r.Fy)(),F=(0,i.VK)((()=>Z.oA(b.map((e=>{if(e.value)return N.NW.createChildStore(o,{table:"collection",id:e.value})})))),[b,o]),j=(0,i.VK)((()=>F.map((e=>(0,ue.jsx)(de.Z,{format:S.isMobile?p.lo.Large:p.lo.Small,value:(0,ue.jsx)(ee.Z,{collectionStore:e}),onClickRemove:()=>{const t=b.find((t=>t.value===e.id));if(t){const e=Z.zu(b,t);a(e)}},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showFullValueTooltip:!0},e.id)))),[F,b,S.isMobile,a]),[w,M]=(0,n.useState)(""),k=(0,T.useIntl)(),A=(0,i.VK)((()=>{var e;return null===(e=z.default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]),R=(0,i.VK)((()=>x.collectionStoresStore.state??[]),[x]),V=(0,i.VK)((()=>v?R:x.collectionStoreResultsInViewOrder()),[v,x,R]),P=(0,i.VK)((()=>(0,m.ZP)(w,R,(e=>Q.QaF(e.getName()??[])))),[w,R]),I=(0,i.VK)((()=>R.filter((e=>!C.some((t=>t.id===e.id))))),[R,C]),B=(0,i.qz)(void 0,U.Z);(0,n.useEffect)((()=>{f((()=>""===w?Z.mN([...V,...F,...C],"id"):P))}),[w,v,V,P,F]);const D=(0,l.yK)((e=>({checkboxIcon:{fill:e.regularIconColor}})),[]),_=(0,n.useCallback)(((e,t)=>{const o=Boolean(t.find((t=>"exact"===t.type&&t.value===e.id))),n=()=>{const o=Z.ln(t,[{type:"exact",value:e.id}],(e=>e.value));a(o)};return{key:e.id,render:t=>(0,ue.jsx)(te.Z,{...t,icon:(0,ue.jsx)(oe.Z,{checked:o,size:14,onClick:n,style:D.checkboxIcon}),title:(0,ue.jsx)(ee.Z,{collectionStore:e}),isTokenTitle:!0}),action:n}}),[D.checkboxIcon,a]),O=(0,n.useCallback)((()=>({key:"hidden-items-button",render:e=>(0,ue.jsx)(te.Z,{...e,icon:(0,E.t)({width:13,height:13}),title:(0,ue.jsx)(T.FormattedMessage,{id:"collectionFilterValueMenu.locationFilterValueMenu.hiddenLocationsDescription",defaultMessage:"{numHiddenOptions, plural, one {{numHiddenOptions} other source} other {{numHiddenOptions} other sources}}",values:{numHiddenOptions:I.length}})}),action:()=>{y(!0),X.wd({environment:h,collectionContextStore:x,action:"expand_property_filter",original_view_type:void 0,property_type:"location"})}})),[I.length,x,h]),H=(0,i.VK)((()=>{const e=[],t={},n=[];for(const o of C){const e=Y.VP(o);e?A&&e.isMemberOrGuest(A)&&(t[e.id]=[...t[e.id]??[],o]):n.push(o)}for(const[r,i]of Object.entries(t)){const t=N.zX.createChildStore(o,{table:J.e0,id:r});e.push({key:r,items:i.map((e=>_(e,b))),render:e=>(0,ue.jsx)(se.Z,{topBorder:!0,...e,title:(0,ue.jsx)(ue.Fragment,{children:t.getName()??""})})})}return n.length>0&&e.push({key:"private",items:n.map((e=>_(e,b))),render:e=>(0,ue.jsx)(se.Z,{topBorder:!0,...e,title:(0,ue.jsx)(T.FormattedMessage,{id:"collectionFilterValueMenu.privateLocationSection",defaultMessage:"Private"})})}),I.length>0&&!v&&e.push({key:"hidden",items:[O()],render:e=>(0,ue.jsx)(se.Z,{topBorder:!0,...e})}),e}),[I.length,v,C,A,o,_,b,O]),K=(0,ue.jsx)(ce.Z,{focus:!S.isMobile||void 0,focusAfterAnimation:!0,format:ce.U.FilterValue,tokens:j,placeholder:k.formatMessage({defaultMessage:"Search for one or more sources",id:"database.filterValue.locationType.searchPlaceholder"}),onRemoveLastToken:()=>{const e=b.slice(0,b.length-1);a(e)},onClearButtonClick:()=>{a([]),null==s||s()},value:w,onChange:e=>{M(e.target.value)},dontShowBorderBottom:S.isAndroid,showClearButton:!0,style:{maxHeight:"20vh",overflowY:"auto"}}),W=(0,ue.jsxs)(se.Z,{desktopStyle:{paddingBottom:0},children:[!S.isMobile&&c,K]});let q;return q=S.isMobile?{menuType:L.og.Modal,title:u,left:g,right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:s,header:W}:{menuType:L.og.Popup,maxHeight:d.ot,width:260,header:W,disableHeaderBorder:!0},(0,ue.jsx)(re.Z,{...q,children:(0,d.vR)(t)&&(0,ue.jsxs)(ue.Fragment,{children:[!x&&(0,ue.jsx)(se.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 0px"},children:(0,ue.jsx)(ne.Z,{})}),x&&(0,ue.jsxs)(ue.Fragment,{children:[0===R.length||""!==w&&0===C.length?(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(le.Z,{title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})}):null,R.length>0&&(0,ue.jsx)(ie.Z,{type:ie.i.Vertical,initialFocus:0,sections:H,store:B,onAccept:()=>{M("")}})]})]})})}var ge=o(11299),he=o(64921),me=o(31945),xe=o(73063),Ce=o(68894),fe=o(3386),ve=o(53437),ye=o(11470),be=o(14871),Se=o(26388),Fe=o(92864),je=o(64369),we=o(66653),Me=o(41209),Te=o(93289),Ze=o(83264),ke=o(78948),Ae=o(25845),Re=o(22084);let Ve=function(e){return e[e.AdvancedFilter=0]="AdvancedFilter",e[e.PropertyFilter=1]="PropertyFilter",e}({});const Pe=(0,T.defineMessages)({startingMessage:{defaultMessage:"Select or type a date...",id:"search.dateMenu.dateMessage"},chevronDownAriaLabel:{id:"filterDateMenu.chevronDownAriaLabel.ariaLabel",defaultMessage:"Dropdown to select a date relative to today"}}),Ie=a.default.createClass("");function Be(){const{device:e}=(0,r.O7)();return(0,C.i)({width:10,height:10,...e.isMobile&&{marginTop:2}})}const De=function(e){let{schema:t,propertyFilter:o,parentStore:n,onClose:r,onChange:l,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:d,context:c,collectionViewId:u,collectionContextStore:p,allowRelativePersonFilter:g,allowRelativeDateFilter:h}=e;const m=(0,i.qz)(void 0,G.Z),x=(0,i.qz)(void 0,G.Z),C=(0,i.qz)(void 0,U.Z),f=(0,i.qz)(void 0,Ie);return(0,ue.jsx)(fe.Z,{debugName:"CollectionFilterValueMenu2",capture:!0,onEsc:e=>function(e,t){null==t||t()}(0,r),children:(0,ue.jsx)(mt,{propertyFilter:o,schema:t,parentStore:n,onChange:l,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:d,context:c,onClose:r,collectionViewId:u,collectionContextStore:p,allowRelativePersonFilter:g,allowRelativeDateFilter:h,queryStore:f,menuListStore:C,dateFilterPopupStore:x,dateRangeFilterPopupStore:m})})};function _e(e){const{query:t,propertySchema:o,selectedValues:n,updateValue:r,isMobile:i,styles:l}=e,a=o.options||[];return(t?(0,m.ZP)(t,a,(e=>e.value)):a).map((e=>{const t=Boolean(n.find((t=>t.value===e.value))),o={key:e.value,render:o=>(0,ue.jsx)(te.Z,{icon:(0,ue.jsx)(oe.Z,{onClick:o.onClick,checked:t,size:14,style:l.checkboxIcon}),title:(0,ue.jsx)(Re.a,{format:i?p.lo.Large:p.lo.Medium,isSingle:!0,value:e.value,color:e.color,showRemoveButton:!1}),isTokenTitle:!0,...o}),action:()=>{const o=t?n.filter((t=>{let{value:o}=t;return o!==e.value})):[...n,{type:"exact",value:e.value}];r(o)}};return o}))}function Le(e){return Array.isArray(e)?0===e.length?{type:"exact",value:void 0}:1===e.length?e[0]:e:e}function Oe(e,t){return Boolean(e.find((e=>Z.Xy(e,t))))}function He(){return(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"Me",id:"database.filterValue.personType.firstPersonPropertyValue.title"})}function Ke(e,t,o){const{filter:n}=o;(0,d.a_)(n)?null==t||t({...n,subfilter:{...n.subfilter,value:Le(e)}}):null==t||t({...n,value:Le(e)})}function We(e,t,o){const{filter:n}=o;(0,d.a_)(n)?null==t||t({...n,subfilter:e}):null==t||t(e)}function qe(e,t,o,n,r){return()=>{Ke(e?t.filter((e=>!Z.Xy(e,o))):[...t,o],r,n)}}function ze(e){let{filter:t,onChange:o,propertyFilter:n,onClose:r}=e;return(0,d.yI)(t.value)?null:(0,ue.jsx)(se.Z,{topBorder:!0,children:(0,ue.jsx)(te.Z,{focused:!1,title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"Clear",id:"database.filterValue.clear.message"}),onClick:()=>{Ke({type:"exact",value:void 0},o,n),null==r||r()}})})}function Ge(e){let{filter:t}=e;const o=(0,l.Fg)();return(0,ue.jsx)("span",{style:{color:o.lightTextColor},children:(0,B.WC)(t.operator).toLocaleLowerCase()})}function Ue(e){let{propertySchema:t,propertyFilter:o,onChange:n}=e;const i=(0,l.Fg)(),a=(0,r.O7)(),{device:s}=a,c=o.filter;if(!(0,d.vR)(c)||!(0,d.gE)(c))return(0,ue.jsx)(ue.Fragment,{children:t.name});const u={width:190,items:d.T,selectedItem:(0,d.TX)(c),getKey:e=>e,onSelect:e=>{We({...c,use_end:(0,d.UG)(e)},n,o)},renderItem:e=>(0,ue.jsx)(Se.ZP,{renderTooltip:()=>(0,B._T)(e.value),render:t=>(0,ue.jsx)(te.Z,{title:(0,B.IF)(e.value),...(0,O.Z)(e,t)}),placement:Se.ug.Right,textWrap:!0,style:{width:"260px"}}),renderOrigin:e=>(0,ue.jsx)(he.Z,{...e,style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:4,flexShrink:0},children:(0,ue.jsxs)("div",{style:{display:"flex",alignItems:"center",...!s.isMobile&&{color:i.mediumTextColor,fill:i.lightIconColor,fontWeight:500,fontSize:12}},children:[(0,ue.jsx)("span",{style:{marginRight:4},children:(0,B.IF)((0,d.TX)(c))}),(0,ue.jsx)(Be,{})]})})};return(0,ue.jsx)(be.Z,{...u,mobileActionSheet:!0})}function Ne(e){let{propertyFilter:t,onChange:o}=e;const n=(0,T.useIntl)(),i=(0,l.Fg)(),a=(0,r.O7)(),{filter:s}=t,{device:c}=a;if(!(0,d.a_)(s))return null;const u={width:190,items:d.Rf,getKey:e=>e,selectedItem:s.operator,onSelect:e=>{null==o||o({...s,operator:e})},renderItem:e=>(0,ue.jsx)(te.Z,{title:(0,B.SW)(e.value,n),...e}),renderOrigin:e=>(0,ue.jsx)(he.Z,{...e,style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:4,flexShrink:0},children:(0,ue.jsxs)("div",{style:{display:"flex",alignItems:"center",...!c.isMobile&&{color:i.lightTextColor,fontSize:12}},children:[(0,ue.jsx)("span",{style:{marginRight:4},children:(0,B.SW)(s.operator,n).toLocaleLowerCase()}),(0,ue.jsx)(Be,{})]})})};return(0,ue.jsx)(be.Z,{...u,mobileActionSheet:!0})}function Ee(e){let{propertyFilter:t,schema:o,parentStore:n,onChange:i}=e;const a=(0,l.Fg)(),s=(0,r.O7)(),{property:c}=t,{device:u}=s,p=o[c],g=(0,d.a_)(t.filter)?t.filter.subfilter:t.filter;if((0,d.a_)(g))return null;const h=(0,d.fI)({schema:o,property:c,getRecordModel:n.getRecordModel});let m=(0,d.xm)(h);p&&(0,D.Dt)(p)&&(m=m.filter((e=>!(0,d._N)(e))));const x={width:190,items:m,selectedItem:g.operator,getKey:e=>e,onSelect:e=>{We((0,B.li)(h,g,e,"propertyFilter"),i,t)},renderItem:e=>(0,ue.jsx)(te.Z,{title:(0,B.WC)(e.value),...e}),renderOrigin:e=>(0,ue.jsx)(he.Z,{...e,style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:4,flexShrink:0},children:(0,ue.jsxs)("div",{style:{display:"flex",alignItems:"center",...!u.isMobile&&{color:a.mediumTextColor,fill:a.lightIconColor,fontWeight:500,fontSize:12}},children:[(0,ue.jsx)("span",{style:{marginRight:4},children:(0,B.WC)(g.operator).toLocaleLowerCase()}),(0,ue.jsx)(Be,{})]})})};return(0,ue.jsx)(be.Z,{...x,mobileActionSheet:!0})}function Je(e){let{parent:t,allowAddingToCombinatorFilter:o,onDelete:n,onAddToCombinatorFilter:i}=e;const l=(0,r.O7)(),{device:a}=l;let s;s=a.isMobile?{menuType:L.og.ActionSheet}:{menuType:L.og.Popup,maxHeight:d.ot};const c=Z.oA([{key:"delete",render:e=>(0,ue.jsx)(te.Z,{...e,title:(0,ue.jsx)(T.FormattedMessage,{id:"database.filterValue.deleteFilter.title",defaultMessage:"Delete filter"}),icon:(0,y.y)({width:14}),isRedOnHover:!0}),action:()=>{t.close(),null==n||n()}},o&&{key:"merge",render:e=>(0,ue.jsx)(Se.ZP,{placement:Se.ug.Right,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>(0,ue.jsx)("div",{children:(0,ue.jsx)(R.ep,{})}),render:t=>(0,ue.jsx)(te.Z,{...(0,O.Z)(e,t),title:(0,ue.jsx)(T.FormattedMessage,{id:"database.filterValue.mergeIntoAdvancedFilter.title",defaultMessage:"Add to advanced filter"}),icon:(0,v.Q)({width:14})})}),action:()=>{t.close(),null==i||i()}}]);return(0,ue.jsx)(re.Z,{...s,children:(0,ue.jsx)(ie.Z,{type:ie.i.Vertical,sections:[{key:"actions",render:e=>(0,ue.jsx)(se.Z,{disableMobilePadding:!0,...e}),items:c}],initialFocus:void 0})})}function Qe(e){let{propertySchema:t,propertyFilter:o,onChange:n}=e;return(0,d.c3)(t)?(0,ue.jsx)(Ue,{propertyFilter:o,onChange:n,propertySchema:t}):(0,ue.jsx)(ue.Fragment,{children:t.name})}function Xe(e){let{allowAddingToCombinatorFilter:t,onDelete:o,onAddToCombinatorFilter:n}=e;const i=(0,r.O7)(),{device:l}=i;return(0,ue.jsx)(me.ZP,{popupType:i.device.isMobile?ve.kQ.SlideUp:ve.kQ.Popup,render:e=>(0,ue.jsx)(Je,{parent:e,allowAddingToCombinatorFilter:t,onDelete:o,onAddToCombinatorFilter:n}),renderOrigin:e=>(0,ue.jsx)(xe.Z,{icon:f.o,style:{...!l.isMobile&&{height:20,width:20,marginRight:8,marginTop:-2}},...e}),style:{width:240},originGap:2,placementToOrigin:me.pO.Right,alignmentToOrigin:me.vR.Start})}function $e(e){let{propertyFilter:t,onChange:o,schema:n,parentStore:r,allowAddingToCombinatorFilter:i,onDelete:a,onAddToCombinatorFilter:s,context:c}=e;const u=(0,l.Fg)();if(c!==Ve.PropertyFilter)return null;const{property:p}=t,g=n[p];return g?(0,ue.jsxs)("div",{style:{display:"flex",color:u.lightTextColor,fontSize:12,marginBottom:6},children:[(0,ue.jsx)("span",{style:{flexShrink:1,marginLeft:8,...A.Z.textOverflowStyle},children:(0,ue.jsx)(Qe,{propertyFilter:t,onChange:o,propertySchema:g})}),(0,d.a_)(t.filter)&&(0,ue.jsx)(Ne,{propertyFilter:t,onChange:o}),(0,ue.jsx)(Ee,{propertyFilter:t,schema:n,parentStore:r,onChange:o}),(0,ue.jsx)("div",{style:{flexGrow:1}}),(0,ue.jsx)(Xe,{allowAddingToCombinatorFilter:i,onDelete:a,onAddToCombinatorFilter:s})]}):null}function Ye(e){let{propertyFilter:t,schema:o,context:n,onChange:r,parentStore:i}=e;const{property:l}=t,a=o[l];return a?n===Ve.PropertyFilter?(0,ue.jsxs)("div",{style:{display:"flex"},children:[(0,ue.jsx)("span",{style:{fontWeight:A.Z.fontWeight.medium,flexShrink:1,marginLeft:8,maxWidth:150,...A.Z.textOverflowStyle},children:(0,ue.jsx)(Qe,{propertyFilter:t,onChange:r,propertySchema:a})}),(0,d.a_)(t.filter)&&(0,ue.jsx)(Ne,{propertyFilter:t,onChange:r}),(0,ue.jsx)(Ee,{propertyFilter:t,schema:o,parentStore:i,onChange:r})]}):(0,ue.jsx)(ue.Fragment,{children:a.name}):null}function et(e){let{context:t,allowAddingToCombinatorFilter:o,onDelete:n,onAddToCombinatorFilter:r}=e;return t!==Ve.PropertyFilter?null:(0,ue.jsx)(Xe,{allowAddingToCombinatorFilter:o,onDelete:n,onAddToCombinatorFilter:r})}function tt(e){let{filter:t,onChange:o,propertyFilter:n,schema:i,parentStore:l,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:c,context:u,onClose:p}=e;const g=(0,r.O7)(),h=(0,T.useIntl)(),{device:m}=g,x=(0,ue.jsx)(se.Z,{isInput:!0,disableDesktopPadding:!0,children:(0,ue.jsx)(Ce.ZP,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,d.vR)(t)&&t.value.value?t.value.value:"",onChange:e=>{Ke({type:"exact",value:e.target.value},o,n)},onClearButtonClick:()=>{Ke({type:"exact",value:void 0},o,n)},placeholder:h.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.textType.searchPlaceholder"}),showClearButton:!0,textWrapperStyle:{marginLeft:8,marginRight:8}})}),C=(0,ue.jsxs)(se.Z,{disableMobileBorders:!0,disableMobilePadding:!0,children:[!m.isMobile&&(0,ue.jsx)($e,{propertyFilter:n,onChange:o,schema:i,parentStore:l,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:c,context:u}),(0,d.vR)(t)&&x]});let f;return f=m.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:n,schema:i,context:u,onChange:o,parentStore:l}),left:(0,ue.jsx)(et,{context:u,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:c}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:p,header:C}:{menuType:L.og.Popup,maxHeight:d.ot,width:220,header:C},(0,ue.jsx)(re.Z,{...f})}function ot(e){let{filter:t,onChange:o,propertyFilter:n,schema:i,parentStore:l,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:c,context:u,onClose:p}=e;const g=(0,r.O7)(),h=(0,T.useIntl)(),{device:m}=g,x=(0,ue.jsx)(se.Z,{isInput:!0,disableDesktopPadding:!0,children:(0,ue.jsx)(Ce.ZP,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,d.vR)(t)&&"number"==typeof t.value.value?t.value.value.toString():"",inputLeft:(0,ue.jsx)(Ge,{filter:t}),onChange:e=>{Ke({type:"exact",value:(0,H.m)(e.target.value,h)},o,n)},onClearButtonClick:()=>{Ke({type:"exact",value:void 0},o,n)},placeholder:h.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.numberType.searchPlaceholder"}),showClearButton:!0,textWrapperStyle:{marginLeft:8,marginRight:8}})}),C=(0,ue.jsxs)(se.Z,{disableMobileBorders:!0,disableMobilePadding:!0,children:[!m.isMobile&&(0,ue.jsx)($e,{propertyFilter:n,onChange:o,schema:i,parentStore:l,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:c,context:u}),(0,d.vR)(t)&&x]});let f;return f=m.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:n,schema:i,context:u,onChange:o,parentStore:l}),left:(0,ue.jsx)(et,{context:u,allowAddingToCombinatorFilter:a,onDelete:s,onAddToCombinatorFilter:c}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:p,header:C}:{menuType:L.og.Popup,maxHeight:d.ot,width:220,header:C},(0,ue.jsx)(re.Z,{...f})}function nt(e,t,o){t.setState(e),o.setState({focus:{section:0,indexLocal:0,indexGlobal:0}})}function rt(e){let{filter:t,schema:o,propertyFilter:n,parentStore:a,onChange:s,onClose:g,allowAddingToCombinatorFilter:h,onDelete:m,onAddToCombinatorFilter:x,context:C,queryStore:f,menuListStore:v}=e;const y=(0,T.useIntl)(),b=(0,l.Fg)(),S=(0,r.O7)(),{device:F}=S,j=(0,i.VK)((()=>f.state),[f]),w=(0,i.VK)((()=>(0,I.tJ)(o,n,a)),[o,n,a]);if(!w||!(0,c.cu)(w))return null;const M=w.options||[],k=(0,d.vR)(t)?(0,d.dx)(t)?(0,d.mg)(t):(0,d.qC)(t):[],A=_e({query:j,propertySchema:w,selectedValues:k,updateValue:e=>{Ke(e,s,n)},isMobile:F.isMobile,styles:{checkboxIcon:{fill:b.regularIconColor,pointerEvents:"none"}}}),R=k.map((e=>{if(void 0===e.value)return null;const t=(0,u.i7)(M,e.value);return t?(0,ue.jsx)(Re.a,{format:F.isMobile?p.lo.Large:p.lo.Small,isSingle:!1,value:t.value,color:t.color,showRemoveButton:!0,onClickRemove:()=>{Ke(Z.zu(k,e),s,n)}},t.id):null})),V=(0,ue.jsx)(ce.Z,{focus:!F.isMobile||void 0,focusAfterAnimation:!0,format:ce.U.FilterValue,tokens:R,placeholder:y.formatMessage({defaultMessage:"Select one or more options…",id:"database.filterValue.selectType.searchPlaceholder"}),onRemoveLastToken:()=>{Ke(k.slice(0,k.length-1),s,n)},onClearButtonClick:()=>{Ke([],s,n),null==g||g()},value:j,onChange:e=>{nt(e.target.value,f,v)},dontShowBorderBottom:F.isAndroid,showClearButton:!0}),P=(0,ue.jsxs)(se.Z,{desktopStyle:{paddingBottom:0},children:[!F.isMobile&&(0,ue.jsx)($e,{propertyFilter:n,onChange:s,schema:o,parentStore:a,allowAddingToCombinatorFilter:h,onDelete:m,onAddToCombinatorFilter:x,context:C}),(0,d.vR)(t)&&V]});let B;return B=F.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:n,schema:o,context:C,onChange:s,parentStore:a}),left:(0,ue.jsx)(et,{context:C,allowAddingToCombinatorFilter:h,onDelete:m,onAddToCombinatorFilter:x}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:g,header:P}:{menuType:L.og.Popup,maxHeight:d.ot,width:260,header:P,disableHeaderBorder:!0,tokenInputHeader:!0},(0,ue.jsx)(re.Z,{...B,children:(0,d.vR)(t)&&(0,ue.jsxs)(ue.Fragment,{children:[0===A.length&&(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(le.Z,{title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})}),A.length>0&&(0,ue.jsx)(ie.Z,{type:ie.i.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,ue.jsx)(se.Z,{...e}),items:A}],store:v,onAccept:()=>{nt("",f,v)}})]})})}function it(e){let{filter:t,error:o,results:n,schema:l,propertyFilter:a,parentStore:c,onChange:u,allowRelativePersonFilter:g,onClose:h,allowAddingToCombinatorFilter:m,onDelete:x,onAddToCombinatorFilter:C,context:f,queryStore:v,menuListStore:y}=e;const b=(0,r.O7)(),S=(0,T.useIntl)(),{device:j}=b,M=(0,i.VK)((()=>v.state),[v]),k=(0,i.VK)((()=>(0,I.tJ)(l,a,c)),[l,a,c]);if(!k)return null;const A=(0,d.vR)(t)?(0,d.R8)(t):[],R=Z.oA(A.map(((e,t)=>{if("exact"===e.type&&e.value){const t=(0,s.Hl)({pointer:e.value,getRecordValue:c.getRecordValue});return(0,ue.jsx)(Fe.ZP,{actor:t,format:j.isMobile?Fe.ZP.Format.Large:Fe.ZP.Format.Small,showRemoveButton:!0,onClickRemove:()=>{Ke(Z.zu(A,e),u,a)},shouldShrink:!0,isSingle:!1},e.value.id)}if("relative"===e.type&&"me"===e.value&&g)return(0,ue.jsx)(de.Z,{format:j.isMobile?p.lo.Large:p.lo.Small,value:(0,ue.jsx)(He,{}),onClickRemove:()=>{Ke(Z.zu(A,e),u,a)},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showFullValueTooltip:!0},t)}))),V=(0,ue.jsx)(ce.Z,{focus:!j.isMobile||void 0,focusAfterAnimation:!0,format:ce.U.FilterValue,tokens:R,placeholder:S.formatMessage({defaultMessage:"Search for one or more people…",id:"database.filterValue.personType.searchPlaceholder"}),onRemoveLastToken:()=>{Ke(A.slice(0,A.length-1),u,a)},onClearButtonClick:()=>{Ke([],u,a),null==h||h()},value:M,onChange:e=>{nt(e.target.value,v,y)},dontShowBorderBottom:j.isAndroid,showClearButton:!0,style:{maxHeight:"20vh",overflowY:"auto"}}),P=(0,ue.jsxs)(se.Z,{desktopStyle:{paddingBottom:0},children:[!j.isMobile&&(0,ue.jsx)($e,{propertyFilter:a,onChange:u,schema:l,parentStore:c,allowAddingToCombinatorFilter:m,onDelete:x,onAddToCombinatorFilter:C,context:f}),(0,d.vR)(t)&&V]});let B;B=j.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:a,schema:l,context:f,onChange:u,parentStore:c}),left:(0,ue.jsx)(et,{context:f,allowAddingToCombinatorFilter:m,onDelete:x,onAddToCombinatorFilter:C}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:h,header:P}:{menuType:L.og.Popup,maxHeight:d.ot,width:260,header:P,disableHeaderBorder:!0};const D=Z.oA((n&&n.users||[]).map((e=>function(e,t,o,n,r){const{device:i}=n,l=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>(0,ue.jsx)(te.Z,{...t,title:(0,ue.jsx)(Fe.vw,{isSingle:!0,shouldShrink:!0,format:i.isMobile?Fe.vw.Format.Large:Fe.vw.Format.Medium,userValue:e,showRemoveButton:!1}),isTokenTitle:!0,checkState:l}),action:()=>{Ke(l?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:w.KJ,id:e.id}}],r,o)}}}(e,A,a,b,u)))),_=["created_by","last_edited_by"].includes(k.type)?Z.oA((n&&n.bots||[]).map((e=>function(e,t,o,n,r){const{device:i}=n,l=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>(0,ue.jsx)(te.Z,{...t,title:(0,ue.jsx)(Fe.Jn,{isSingle:!0,shouldShrink:!0,format:i.isMobile?Fe.Jn.Format.Large:Fe.Jn.Format.Medium,botValue:e,showRemoveButton:!1}),isTokenTitle:!0,checkState:l}),action:()=>{Ke(l?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:F.cZ,id:e.id}}],r,o)}}}(e,A,a,b,u)))):[];if(g&&n&&(!M||"me".includes(M))){const e=Boolean(A.find((e=>"relative"===e.type&&"me"===e.value)));D.unshift({key:"me",render:t=>(0,ue.jsx)(te.Z,{...t,title:(0,ue.jsx)(He,{}),checkState:e,style:j.isMobile?void 0:{fontSize:14}}),action:()=>{Ke(e?A.filter((e=>{let{value:t}=e;return"me"!==t})):[...A,{type:"relative",value:"me"}],u,a)}})}const O=[];return D.length>0&&O.push({key:"user property",render:e=>(0,ue.jsx)(se.Z,{...e}),items:D}),_.length>0&&O.push({key:"bot property",render:e=>(0,ue.jsx)(se.Z,{...e,title:"Pick a bot"}),items:_}),(0,ue.jsx)(re.Z,{...B,children:(0,d.vR)(t)&&(0,ue.jsxs)(ue.Fragment,{children:[o&&(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(le.Z,{title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.filterValue.personType.searchPersonPropertyMenuItem.errorMessage"})})}),0===O.length&&n&&!o&&(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(le.Z,{title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.personType.noResults.message"})})}),!n&&!o&&(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(ke.Z,{})}),O.length>0&&(0,ue.jsx)(ie.Z,{type:ie.i.Vertical,initialFocus:0,sections:O,store:y,onAccept:()=>{nt("",v,y)}})]})})}function lt(e){var t;let{filter:o,context:n,propertyFilter:i,schema:l,onChange:a,parentStore:s,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p,onClose:g,menuListStore:h}=e;const m=(0,r.O7)(),{device:x}=m;let C;C=x.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:i,schema:l,context:n,onChange:a,parentStore:s}),left:(0,ue.jsx)(et,{context:n,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:g}:{menuType:L.og.Popup,maxHeight:d.ot,width:220,footer:(0,ue.jsx)(ze,{onChange:a,propertyFilter:i,onClose:g,filter:o})};const f=null===(t=o.value)||void 0===t?void 0:t.value;return(0,ue.jsxs)(re.Z,{...C,children:[n===Ve.PropertyFilter&&(0,ue.jsx)(se.Z,{children:!x.isMobile&&(0,ue.jsx)($e,{propertyFilter:i,onChange:a,schema:l,parentStore:s,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p,context:n})}),(0,ue.jsx)(ie.Z,{type:ie.i.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,ue.jsx)(se.Z,{style:n===Ve.PropertyFilter?{paddingTop:0}:void 0,...e}),items:[{key:"unchecked",render:e=>(0,ue.jsx)(te.Z,{...e,title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"Unchecked",id:"database.filterValue.checkboxType.unchecked.title"}),isTokenTitle:!0,checkState:!1===f}),action:()=>{Ke({type:"exact",value:!1},a,i)}},{key:"checked",render:e=>(0,ue.jsx)(te.Z,{...e,title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"Checked",id:"database.filterValue.checkboxType.checked.title"}),isTokenTitle:!0,checkState:!0===f}),action:()=>{Ke({type:"exact",value:!0},a,i)}}]}],store:h,onAccept:g}),x.isMobile&&(0,ue.jsx)(ze,{onChange:a,propertyFilter:i,onClose:g,filter:o})]})}function at(e){let{filter:t,error:o,results:l,schema:a,propertyFilter:s,parentStore:u,onChange:g,onClose:h,allowAddingToCombinatorFilter:m,onDelete:x,onAddToCombinatorFilter:C,context:f,collectionViewId:v,queryStore:y,menuListStore:F}=e;const w=(0,r.O7)(),M=(0,T.useIntl)(),{device:A}=w,R=(0,i.VK)((()=>y.state),[y]),V=(0,i.VK)((()=>(0,I.tJ)(a,s,u)),[a,s,u]),P=(0,i.VK)((()=>function(e,t){if(!e)return;const o=N.Xr.createChildStore(t,{table:j.np,id:e}).getParentBlockStore();return o?o.getNearestAncestorTemplateStore():void 0}(v,u)),[v,u]),B=(0,i.VK)((()=>null==P?void 0:P.getAssociatedCollectionId()),[P]),D=(0,n.useMemo)((()=>(0,d.vR)(t)?(0,d.YO)(t):[]),[t]),O=(0,i.VK)((()=>{const e=(0,I.tJ)(a,s,u);return e&&(0,c.p_)(e)?{appConfigUri:(0,K.ke)(e,u),schema:(0,K.uJ)(e,w)}:{}}),[a,s,u,w]),H=(0,i.VK)((()=>function(e,t,o,n,r){const{appConfigUri:i,schema:l}=n;if(!l)return[];if(!i||!(0,_.Sh)(l,i))return[];const a=(0,b.Zv)(l,i),s=b.qB[i];return Z.oA(a.map((n=>{if(!e||n.includes(e)){const e={type:"relative",value:{type:"builtin",variable:n}},i=Oe(t,e);return{key:n,render:e=>(0,ue.jsx)(te.Z,{...e,title:(0,ue.jsx)(T.FormattedMessage,{...s[n].messageDescriptor}),checkState:i}),action:qe(i,t,e,o,r)}}})))}(R,D,s,O,g)),[R,D,s,O,g]);if(!V||!(0,c.p_)(V))return null;const W=(0,c.F0)(V);if(!W)return null;const q=Z.oA(D.map(((e,t)=>{if(!e.value)return null;const o={format:A.isMobile?p.lo.Large:p.lo.Small,shouldWrap:!1,showRemoveButton:!0,isSingle:!1,shouldShrink:!0,onClickRemove:()=>{Ke(Z.zu(D,e),g,s)}},n=e.type;if("exact"===n)return(0,ue.jsx)(Ae.Z,{blockId:e.value,parentStore:u,...o},e.value);if("relative"===n){var r;const{appConfigUri:n}=O;return n?(0,ue.jsx)(de.Z,{value:(0,ue.jsx)(T.FormattedMessage,{...null===(r=b.qB[n])||void 0===r||null===(r=r[e.value.variable])||void 0===r?void 0:r.messageDescriptor}),backgroundColor:"transparent",showFullValueTooltip:!0,...o},t):null}(0,k.t1)(n)}))),z=(0,ue.jsx)(ce.Z,{focus:!A.isMobile||void 0,focusAfterAnimation:!0,format:ce.U.FilterValue,tokens:q,placeholder:M.formatMessage({defaultMessage:"Search for one or more pages…",id:"database.filterValue.relationType.searchPlaceholder"}),onRemoveLastToken:()=>{Ke(D.slice(0,D.length-1),g,s)},onClearButtonClick:()=>{Ke([],g,s),null==h||h()},value:R,onChange:e=>{nt(e.target.value,y,F)},dontShowBorderBottom:A.isAndroid,style:{maxHeight:"20vh",overflowY:"auto"},showClearButton:!0}),G=(0,ue.jsxs)(se.Z,{desktopStyle:{paddingBottom:0},children:[!A.isMobile&&(0,ue.jsx)($e,{propertyFilter:s,onChange:g,schema:a,parentStore:u,allowAddingToCombinatorFilter:m,onDelete:x,onAddToCombinatorFilter:C,context:f}),(0,d.vR)(t)&&z]});let U;U=A.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:s,schema:a,context:f,onChange:g,parentStore:u}),left:(0,ue.jsx)(et,{context:f,allowAddingToCombinatorFilter:m,onDelete:x,onAddToCombinatorFilter:C}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:h,header:G}:{menuType:L.og.Popup,maxHeight:d.ot,width:260,header:G,disableHeaderBorder:!0},l&&!R&&P&&W&&B===W&&(l=Z.jj([P.id,...l]));let E=[];if(l){const e=function(e,t,o,n,r){return e.map((e=>{const i={type:"exact",value:e},l=Oe(t,i),a=N.G.createChildStore(o,{table:S.iU,id:e});return{key:e,action:qe(l,t,i,n,r),render:e=>(0,ue.jsx)(ye.Z,{store:a,checkState:l,hidePath:!0,...e})}}))}(l,D,u,s,g);E=((0,d.a_)(s.filter)?[]:H).concat(e)}return(0,ue.jsx)(re.Z,{...U,children:(0,d.vR)(t)&&(0,ue.jsxs)(ue.Fragment,{children:[o&&(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(le.Z,{title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.filterValue.relationType.searchRelationPropertyMenuItem.errorMessage"})})}),0===E.length&&l&&!o&&(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(le.Z,{title:(0,ue.jsx)(T.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.relationType.noResults.message"})})}),!l&&!o&&(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(ke.Z,{})}),E.length>0&&(0,ue.jsx)(ie.Z,{type:ie.i.Vertical,initialFocus:0,sections:[{key:"results",render:e=>(0,ue.jsx)(se.Z,{...e}),items:E}],store:F,onAccept:()=>{nt("",y,F)}})]})})}function st(e){let{filter:t,schema:o,propertyFilter:n,parentStore:r,onChange:l,allowRelativeDateFilter:a,dateRangeFilterPopupStore:s}=e;const c=(0,i.VK)((()=>(0,I.tJ)(o,n,r)),[o,n,r]);if(!c)return null;let u;if((0,d.TQ)(t)&&"exact"===t.value.type&&t.value.value){const e=t.value.value;u={starting:e.start_date?{type:"date",start_date:e.start_date}:void 0,ending:e.end_date?{type:"date",start_date:e.end_date}:void 0}}else u=(0,d.TQ)(t)&&"relative"===t.value.type?t.value:{starting:void 0,ending:void 0};const p={disableMenuWrap:!0,title:c.name,value:u,onUpdate:e=>{var t,o;if(e.error)return null;const r={...u,...e.value},i=null===(t=r.starting)||void 0===t?void 0:t.start_date,a=null===(o=r.ending)||void 0===o?void 0:o.start_date;We({operator:"date_is_within",value:{type:"exact",value:i||a?{type:"daterange",start_date:i,end_date:a}:void 0}},l,n)},allowRelativeRangeFilter:a,relativeRangePopupStore:s,onUpdateRelativeFilter:e=>{We({...t,value:e},l,n)}};return(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(Ze.Z,{...p})})})}function dt(e){let{filter:t,events:o,onChange:n,propertyFilter:i,allowRelativeDateFilter:a,dateFilterPopupStore:s}=e;const d=(0,l.Fg)(),c=(0,r.O7)(),u=(0,T.useIntl)();return(0,ue.jsx)(we.Z,{...o,placeholder:u.formatMessage(Pe.startingMessage),focused:"exact"===t.value.type,value:t.value,onUpdate:e=>{var o;if(e.error)return null;const r=null===(o=e.value)||void 0===o?void 0:o.start_date;We({...t,value:{type:"exact",value:r?{type:"date",start_date:r}:void 0}},n,i)},inputRight:a&&(0,ue.jsx)(xe.Z,{icon:C.i,iconStyle:{width:12,height:12},ariaLabel:u.formatMessage(Pe.chevronDownAriaLabel),style:{...!c.device.isMobile&&{height:20,width:20},color:d.mediumIconColor},onClick:()=>{s.setState({open:!0})}}),hideClearButton:"relative"===t.value.type||void 0,isRightLastElementOfInput:!0})}function ct(e){let{filter:t,context:o,onChange:n,propertyFilter:i,schema:a,parentStore:s,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p,onClose:g,menuListStore:h}=e;const m=(0,l.Fg)(),x=(0,r.O7)(),{device:C}=x,f=(0,d.vR)(t)?(0,d.fl)(t):[],v=f.map((e=>{let{value:t}=e;return t})),y=M.zz.map((e=>{const t=v.includes(e);return{key:e,render:o=>(0,ue.jsx)(te.Z,{icon:(0,ue.jsx)(oe.Z,{checked:t,size:14,style:{fill:m.regularIconColor,pointerEvents:"none"}}),title:(0,B.cq)({type:"exact",value:e}),...o}),action:()=>{if(t)Ke(f.filter((t=>{let{value:o}=t;return o!==e})),n,i);else{const t={type:"exact",value:e};Ke([...f,t],n,i)}}}}));let b;return b=C.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:i,schema:a,context:o,onChange:n,parentStore:s}),left:(0,ue.jsx)(et,{context:o,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:g}:{menuType:L.og.Popup,maxHeight:d.ot,width:220,footer:(0,ue.jsx)(ze,{onChange:n,propertyFilter:i,onClose:g,filter:t})},(0,ue.jsxs)(re.Z,{...b,children:[o===Ve.PropertyFilter&&(0,ue.jsx)(se.Z,{children:!C.isMobile&&(0,ue.jsx)($e,{propertyFilter:i,onChange:n,schema:a,parentStore:s,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p,context:o})}),(0,ue.jsx)(ie.Z,{type:ie.i.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,ue.jsx)(se.Z,{...e}),items:y}],store:h})]})}function ut(e){let{filter:t,parentStore:o,schema:n,propertyFilter:l,onChange:a,allowRelativePersonFilter:s,onClose:d,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p,context:g,queryStore:h,menuListStore:m}=e;const x=(0,r.O7)(),C=(0,i.VK)((()=>h.state),[h]);return(0,ue.jsx)(V.Z,{request:C,performRequest:e=>async function(e,t,o){const n=await W.deps.searchActions.loader();let{users:r,bots:i}=await n.searchSpaceActors({environment:o,query:e,membersOnly:!1});return r=r.slice(0,20),i=i.slice(0,20),await Promise.all([...r.map((async e=>{let{id:o}=e;const n=(0,N.Kv)(t,{table:w.KJ,id:o});await n.load()})),...i.map((async e=>{const o=(0,N.Kv)(t,{table:F.cZ,id:e.id,spaceId:e.space_id});await o.load()}))]),{users:r,bots:i}}(e,o,x),render:(e,r)=>(0,ue.jsx)(it,{schema:n,propertyFilter:l,parentStore:o,onChange:a,allowRelativePersonFilter:s,onClose:d,allowAddingToCombinatorFilter:c,onDelete:u,onAddToCombinatorFilter:p,context:g,queryStore:h,menuListStore:m,filter:t,error:e,results:r})})}function pt(e){let{filter:t,schema:o,propertyFilter:n,parentStore:l,onChange:a,onClose:s,allowAddingToCombinatorFilter:d,onDelete:u,onAddToCombinatorFilter:p,context:g,collectionViewId:h,queryStore:m,menuListStore:x}=e;const C=(0,r.O7)(),f=(0,i.VK)((()=>m.state),[m]),{currentSpaceStore:v}=(0,i.VK)((()=>z.default.state),[]),{publicPageData:y}=(0,i.VK)((()=>q.Z.state),[]),b=(0,i.VK)((()=>(0,I.tJ)(o,n,l)),[o,n,l]),F=(null==v?void 0:v.id)||(null==y?void 0:y.spaceId);if(!b||!(0,c.p_)(b)||!F)return null;const j=(0,c.F0)(b);return j?(0,ue.jsx)(V.Z,{request:{query:f,spaceId:F,collectionId:j},performRequest:e=>async function(e,t,o){const{query:n,spaceId:r,collectionId:i}=e;if(!r||!i)return[];const l=await W.deps.searchActions.loader(),{results:a}=await l.searchPagesInCollection({environment:o,query:n,collectionId:i,limit:20,spaceId:r,excludeTemplates:!0,source:"relation_menu",includePublicPagesWithoutExplicitAccess:!0,boostRecentlyViewedPages:!1});return 0===a.length?[]:(await Promise.all(a.map((async e=>{const o=(0,N.Kv)(t,{table:S.iU,id:e});await o.load()}))),a)}(e,l,C),render:(e,r)=>(0,ue.jsx)(at,{schema:o,propertyFilter:n,parentStore:l,onChange:a,onClose:s,allowAddingToCombinatorFilter:d,onDelete:u,onAddToCombinatorFilter:p,context:g,collectionViewId:h,queryStore:m,menuListStore:x,filter:t,error:e,results:r})}):null}function gt(e){let{filter:t,onChange:o,propertyFilter:n,allowRelativeDateFilter:r,dateFilterPopupStore:l}=e;const a=(0,i.VK)((()=>P.AK.state),[]);if(!(0,d.vR)(t))return null;const s="exact"===t.value.type?t.value.value:(0,h.Id)(t.value);return s&&!(0,g.J_)(s)?null:(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(se.Z,{children:(0,ue.jsx)(Me.Z,{type:"date",filterValue:t.value,onUpdate:e=>{We({...t,value:e},o,n)},renderOrigin:e=>(0,ue.jsx)(dt,{onChange:o,propertyFilter:n,allowRelativeDateFilter:r,dateFilterPopupStore:l,filter:t,events:e}),disabled:"exact"===t.value.type&&r,buttonPopupStore:l})}),(0,ue.jsxs)(se.Z,{style:{padding:"0px 14px 14px 14px"},children:[(0,ue.jsx)(Te.Z,{firstDayOfWeek:a,selectValue:void 0!==s,value:s?h.OQ.notionDateToLuxon(s).toMillis():Date.now(),onChange:e=>{Ke({type:"exact",value:(0,h.hT)(e,(0,x.r)())},o,n)}}),"relative"===t.value.type&&(0,ue.jsx)(je.Z,{isSmall:!0,style:{marginLeft:4,marginTop:4},children:(0,ue.jsx)(T.FormattedMessage,{id:"collectionFilterMenu.dateFilter.relativeDateFilter.description",defaultMessage:"Filter will update with the current date"})})]})]})}function ht(e){let{filter:t,context:o,propertyFilter:n,schema:i,onChange:l,parentStore:a,allowAddingToCombinatorFilter:s,onDelete:c,onAddToCombinatorFilter:u,onClose:p,allowRelativeDateFilter:g,dateFilterPopupStore:h,dateRangeFilterPopupStore:m}=e;const x=(0,r.O7)(),{device:C}=x;let f;return f=C.isMobile?{menuType:L.og.Modal,title:(0,ue.jsx)(Ye,{propertyFilter:n,schema:i,context:o,onChange:l,parentStore:a}),left:(0,ue.jsx)(et,{context:o,allowAddingToCombinatorFilter:s,onDelete:c,onAddToCombinatorFilter:u}),right:(0,ue.jsx)(ae.DoneMenuText,{}),onClickRight:p}:{menuType:L.og.Popup,maxHeight:d.ot},(0,ue.jsxs)(re.Z,{...f,children:[o===Ve.PropertyFilter&&!C.isMobile&&(0,ue.jsx)(se.Z,{desktopStyle:{paddingBottom:0},children:(0,ue.jsx)($e,{propertyFilter:n,onChange:l,schema:i,parentStore:a,allowAddingToCombinatorFilter:s,onDelete:c,onAddToCombinatorFilter:u,context:o})}),(0,d.vR)(t)?(0,d.TQ)(t)?(0,ue.jsx)(st,{schema:i,propertyFilter:n,parentStore:a,onChange:l,allowRelativeDateFilter:g,dateRangeFilterPopupStore:m,filter:t}):(0,ue.jsx)(gt,{onChange:l,propertyFilter:n,allowRelativeDateFilter:g,dateFilterPopupStore:h,filter:t}):void 0]})}function mt(e){let{propertyFilter:t,schema:o,parentStore:n,onChange:r,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s,onClose:c,collectionViewId:u,collectionContextStore:p,allowRelativePersonFilter:g,allowRelativeDateFilter:h,queryStore:m,menuListStore:x,dateFilterPopupStore:C,dateRangeFilterPopupStore:f}=e;const{property:v,filter:y}=t,b=(0,d.fI)({schema:o,property:v,getRecordModel:n.getRecordModel}),S=(0,d.a_)(y)?y.subfilter:y;if("text"===b)return(0,d.Ly)(S)?(0,ue.jsx)(tt,{onChange:r,propertyFilter:t,schema:o,parentStore:n,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s,onClose:c,filter:S}):null;if("relation"===b)return(0,d.e)(S)?(0,ue.jsx)(pt,{schema:o,propertyFilter:t,parentStore:n,onChange:r,onClose:c,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s,collectionViewId:u,queryStore:m,menuListStore:x,filter:S}):null;if("checkbox"===b)return(0,d.XA)(S)?(0,ue.jsx)(lt,{context:s,propertyFilter:t,schema:o,onChange:r,parentStore:n,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,onClose:c,menuListStore:x,filter:S}):null;if("select"===b||"multi_select"===b)return(0,d.dx)(S)||(0,d.NU)(S)?(0,ue.jsx)(rt,{schema:o,propertyFilter:t,parentStore:n,onChange:r,onClose:c,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s,queryStore:m,menuListStore:x,filter:S}):null;if("status"===b)return(0,d.r2)(S)?(0,ue.jsx)(ge.Z,{propertyFilter:t,schema:o,filter:S,parentStore:n,updateValue:e=>Ke(e,r,t),onClose:c,desktopTopActions:(0,ue.jsx)($e,{propertyFilter:t,onChange:r,schema:o,parentStore:n,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s}),mobileMenuTitle:(0,ue.jsx)(Ye,{propertyFilter:t,schema:o,context:s,onChange:r,parentStore:n}),mobileMoreActions:(0,ue.jsx)(et,{context:s,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a}),collectionContextStore:p}):null;if("person"===b)return(0,d.Gb)(S)?(0,ue.jsx)(ut,{parentStore:n,schema:o,propertyFilter:t,onChange:r,allowRelativePersonFilter:g,onClose:c,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s,queryStore:m,menuListStore:x,filter:S}):null;if("number"===b)return(0,d.h6)(S)?(0,ue.jsx)(ot,{onChange:r,propertyFilter:t,schema:o,parentStore:n,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s,onClose:c,filter:S}):null;if("date"===b)return(0,d.gE)(S)?(0,ue.jsx)(ht,{context:s,propertyFilter:t,schema:o,onChange:r,parentStore:n,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,onClose:c,allowRelativeDateFilter:h,dateFilterPopupStore:C,dateRangeFilterPopupStore:f,filter:S}):null;if("file"===b);else{if("location"===b)return(0,d.Mp)(S)?(0,ue.jsx)(pe,{filter:S,parentStore:n,updateValue:e=>Ke(e,r,t),onClose:c,desktopTopActions:(0,ue.jsx)($e,{propertyFilter:t,onChange:r,schema:o,parentStore:n,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,context:s}),mobileMenuTitle:(0,ue.jsx)(Ye,{propertyFilter:t,schema:o,context:s,onChange:r,parentStore:n}),mobileMoreActions:(0,ue.jsx)(et,{context:s,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a})}):null;if("verification"===b)return(0,d.Jw)(S)?(0,ue.jsx)(ct,{context:s,onChange:r,propertyFilter:t,schema:o,parentStore:n,allowAddingToCombinatorFilter:i,onDelete:l,onAddToCombinatorFilter:a,onClose:c,menuListStore:x,filter:S}):null;(0,k.t1)(b)}return null}},68834:(e,t,o)=>{o.d(t,{Z:()=>a});o(67294);var n=o(86628),r=o(31278),i=o(76798),l=o(85893);const a=function(e){const{collectionStore:t}=e,o=(0,n.VK)((()=>t.getIcon()),[t]);return(0,l.jsxs)("div",{style:{display:"flex",columnGap:4,alignItems:"center"},children:[(0,l.jsx)(r.Z,{disabled:!0,icon:o,isEmptyPage:!1,size:20}),(0,l.jsx)(i.Z,{store:t,style:{maxWidth:180}})]})}},31339:(e,t,o)=>{o.d(t,{Z:()=>i});o(67294);var n=o(480),r=o(85893);const i=function(e){const t=((0,n.O7)().device.isMobile,{width:16});return(0,r.jsx)("div",{style:t,children:e.icon(e.styles)})}},50959:(e,t,o)=>{o.d(t,{r_:()=>C,ZA:()=>m});o(67294);var n=o(24405),r=o(42613),i=o(16184),l=o(78807),a=o(45238),s=o(85893);const d=(0,a.IU)("statusInProgressGroup",{viewBox:"0 0 17 17",svg:(0,s.jsx)("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.07031 11.4531L11.5938 8.80469C11.9297 8.60938 11.9219 8.125 11.5938 7.92969L7.07031 5.27344C6.71875 5.07031 6.26562 5.24219 6.26562 5.63281V11.0938C6.26562 11.4766 6.69531 11.6719 7.07031 11.4531Z"})}),c=(0,a.IU)("statusTodoGroup",{viewBox:"0 0 17 17",svg:(0,s.jsx)("path",{d:"M8.52344 1.85156C8.97656 1.85156 9.34375 1.49219 9.34375 1.05469C9.34375 0.609375 8.97656 0.234375 8.52344 0.234375C8.08594 0.234375 7.72656 0.609375 7.72656 1.05469C7.72656 1.48438 8.09375 1.85156 8.52344 1.85156ZM10.7969 2.21875C11.2422 2.21875 11.6094 1.85156 11.6094 1.41406C11.6094 0.960938 11.2422 0.601562 10.7969 0.601562C10.3516 0.601562 9.99219 0.960938 9.99219 1.41406C9.99219 1.85156 10.3516 2.21875 10.7969 2.21875ZM6.27344 2.21875C6.71094 2.21875 7.07812 1.85156 7.07812 1.41406C7.07812 0.960938 6.71094 0.601562 6.27344 0.601562C5.82812 0.601562 5.46094 0.960938 5.46094 1.41406C5.46094 1.85156 5.82812 2.21875 6.27344 2.21875ZM12.8359 3.25781C13.2812 3.25781 13.6484 2.89844 13.6484 2.45312C13.6484 2.00781 13.2812 1.64062 12.8359 1.64062C12.3984 1.64062 12.0312 2.00781 12.0312 2.45312C12.0312 2.89062 12.3984 3.25781 12.8359 3.25781ZM4.23438 3.25781C4.67188 3.25781 5.03906 2.89062 5.03906 2.45312C5.03906 2.00781 4.67969 1.64062 4.23438 1.64062C3.78906 1.64062 3.42188 2.00781 3.42188 2.45312C3.42188 2.89844 3.78906 3.25781 4.23438 3.25781ZM14.4609 4.88281C14.9062 4.88281 15.2734 4.51562 15.2734 4.07812C15.2734 3.63281 14.9062 3.26562 14.4609 3.26562C14.0234 3.26562 13.6562 3.63281 13.6562 4.07812C13.6562 4.51562 14.0234 4.88281 14.4609 4.88281ZM2.625 4.88281C3.0625 4.88281 3.42969 4.51562 3.42969 4.07812C3.42969 3.63281 3.0625 3.26562 2.625 3.26562C2.17969 3.26562 1.8125 3.63281 1.8125 4.07812C1.8125 4.51562 2.17969 4.88281 2.625 4.88281ZM15.4922 6.90625C15.9375 6.90625 16.3047 6.54688 16.3047 6.10156C16.3047 5.65625 15.9375 5.28906 15.4922 5.28906C15.0547 5.28906 14.6875 5.65625 14.6875 6.10156C14.6875 6.53906 15.0547 6.90625 15.4922 6.90625ZM1.59375 6.90625C2.02344 6.90625 2.39062 6.53906 2.39062 6.10156C2.39062 5.65625 2.03125 5.28906 1.59375 5.28906C1.14062 5.28906 0.78125 5.65625 0.78125 6.10156C0.78125 6.54688 1.14062 6.90625 1.59375 6.90625ZM15.8828 9.17188C16.3281 9.17188 16.6953 8.80469 16.6953 8.35938C16.6953 7.92188 16.3281 7.55469 15.8828 7.55469C15.4453 7.55469 15.0781 7.92188 15.0781 8.35938C15.0781 8.80469 15.4453 9.17188 15.8828 9.17188ZM1.21094 9.17188C1.64844 9.17188 2.01562 8.80469 2.01562 8.35938C2.01562 7.92188 1.64844 7.55469 1.21094 7.55469C0.765625 7.55469 0.398438 7.92188 0.398438 8.35938C0.398438 8.80469 0.765625 9.17188 1.21094 9.17188ZM15.4922 11.4375C15.9375 11.4375 16.3047 11.0703 16.3047 10.625C16.3047 10.1797 15.9375 9.82031 15.4922 9.82031C15.0547 9.82031 14.6875 10.1875 14.6875 10.625C14.6875 11.0703 15.0547 11.4375 15.4922 11.4375ZM1.59375 11.4375C2.03125 11.4375 2.39062 11.0703 2.39062 10.625C2.39062 10.1875 2.02344 9.82031 1.59375 9.82031C1.14062 9.82031 0.78125 10.1797 0.78125 10.625C0.78125 11.0703 1.14062 11.4375 1.59375 11.4375ZM14.4609 13.4609C14.9062 13.4609 15.2734 13.0938 15.2734 12.6484C15.2734 12.2109 14.9062 11.8438 14.4609 11.8438C14.0234 11.8438 13.6562 12.2109 13.6562 12.6484C13.6562 13.0938 14.0234 13.4609 14.4609 13.4609ZM2.625 13.4609C3.0625 13.4609 3.42969 13.0938 3.42969 12.6484C3.42969 12.2109 3.0625 11.8438 2.625 11.8438C2.17969 11.8438 1.8125 12.2109 1.8125 12.6484C1.8125 13.0938 2.17969 13.4609 2.625 13.4609ZM12.8359 15.0859C13.2812 15.0859 13.6484 14.7188 13.6484 14.2734C13.6484 13.8281 13.2812 13.4688 12.8359 13.4688C12.3984 13.4688 12.0312 13.8359 12.0312 14.2734C12.0312 14.7188 12.3984 15.0859 12.8359 15.0859ZM4.23438 15.0859C4.67969 15.0859 5.03906 14.7188 5.03906 14.2734C5.03906 13.8359 4.67188 13.4688 4.23438 13.4688C3.78906 13.4688 3.42188 13.8281 3.42188 14.2734C3.42188 14.7188 3.78906 15.0859 4.23438 15.0859ZM10.7969 16.125C11.2422 16.125 11.6094 15.7656 11.6094 15.3125C11.6094 14.875 11.2422 14.5078 10.7969 14.5078C10.3516 14.5078 9.99219 14.875 9.99219 15.3125C9.99219 15.7656 10.3516 16.125 10.7969 16.125ZM6.27344 16.125C6.71094 16.125 7.07812 15.7656 7.07812 15.3125C7.07812 14.875 6.71094 14.5078 6.27344 14.5078C5.82812 14.5078 5.46094 14.875 5.46094 15.3125C5.46094 15.7656 5.82812 16.125 6.27344 16.125ZM8.52344 16.4922C8.97656 16.4922 9.34375 16.1172 9.34375 15.6719C9.34375 15.2344 8.97656 14.875 8.52344 14.875C8.09375 14.875 7.72656 15.2422 7.72656 15.6719C7.72656 16.1172 8.08594 16.4922 8.52344 16.4922Z"})});var u=o(9291),p=o(88268),g=o(32662),h=o(26388);const m={[r.G1]:(0,s.jsx)(u.FormattedMessage,{...r.ct.statusGroupNameTodo}),[r.Ho]:(0,s.jsx)(u.FormattedMessage,{...r.ct.statusGroupNameInProgress}),[r.RW]:(0,s.jsx)(u.FormattedMessage,{...r.ct.statusGroupNameComplete}),[r.Ap]:(0,s.jsx)(u.FormattedMessage,{...p.sY.current}),[r.JV]:(0,s.jsx)(u.FormattedMessage,{...p.sY.future})},x={[r.G1]:c,[r.Ho]:d,[r.RW]:l.l};function C(e){const{group:t,disableGroup:o,style:r,showIcon:l,showColor:a}=e,d=(0,n.Fg)(),u=x[t.name]??c,p=t.color??"gray";return(0,s.jsxs)("div",{style:{...r,display:"inline-flex",alignItems:"center"},children:[l&&u({display:"inline-block",width:16,height:16,fill:a?d.accentColors[p][400]:d.mediumIconColor}),(0,s.jsx)("span",{style:{paddingLeft:l?6:void 0,color:a?d.accentColors[p][500]:void 0},children:m[t.name]??t.name}),o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z,{size:4}),(0,s.jsx)(h.ZP,{placement:h.ug.Bottom,render:e=>(0,s.jsx)("div",{...e,children:(0,i.Q)({width:12})}),renderTooltip:e=>(0,s.jsx)("div",{...e,children:o.tooltipCaption}),disableTooltip:void 0===o.tooltipCaption})]}):null]})}},95691:(e,t,o)=>{o.d(t,{Z:()=>d});o(67294);var n=o(24405),r=o(42853),i=o(31701),l=o(37810),a=o(64921),s=o(85893);const d=function(e){const{style:t,color:o,title:d,onClick:c,icon:u,iconStyle:p,dropdownEvents:g,className:h,disabled:m,disableDropdown:x}=e,C=(0,n.yK)((e=>({wrap:{position:"relative",display:"inline-flex",flexShrink:0,borderRadius:4,overflow:"hidden",height:28},mainButton:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderTopLeftRadius:4,borderBottomLeftRadius:4,paddingLeft:8,paddingRight:8,fontWeight:l.Z.fontWeight.medium,..."blue"===o&&{background:i.ZP.blue,color:i.ZP.white},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[100]:e.accentColors.orange[50],color:"dark"===e.mode?e.accentColors.orange[600]:e.accentColors.orange[400]}},dropdownButton:{display:"flex",alignItems:"center",justifyContent:"center",width:24,alignSelf:"stretch",borderTopRightRadius:4,borderBottomRightRadius:4,..."blue"===o&&{background:i.ZP.blue,color:i.ZP.white,boxShadow:`inset 1px 0 0 ${e.darkDividerColor}`},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[100]:e.accentColors.orange[50],color:e.accentColors.orange[400],boxShadow:"dark"===e.mode?`${e.accentColors.orange[300]} 1px 0 0 inset`:`${e.accentColors.orange[200]} 1px 0 0 inset`}},dropdownButtonIcon:{width:10,marginTop:2,..."blue"===o&&{fill:i.ZP.white},..."orange"===o&&{fill:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]}},buttonHoveredStyle:{..."blue"===o&&{background:e.blueButtonHoveredBackground},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[200]:e.accentColors.orange[100]}},buttonPressedStyle:{..."blue"===o&&{background:e.blueButtonPressedBackground},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[300]:e.accentColors.orange[200]}},icon:{width:12,marginRight:6,..."blue"===o&&{fill:i.ZP.white},..."orange"===o&&{fill:e.accentColors.orange[400]},...p},border:{position:"absolute",pointerEvents:"none",borderRadius:4,top:0,left:0,right:0,bottom:0,..."blue"===o&&!m&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset, rgba(15, 15, 15, 0.1) 0px 1px 2px"},..."orange"===o&&!m&&{boxShadow:"dark"===e.mode?`${e.accentColors.orange[300]} 0px 0px 0px 1px inset`:`${e.accentColors.orange[200]} 0px 0px 0px 1px inset`}}})),[o,p,m]);return(0,s.jsxs)("div",{style:{...C.wrap,...t},className:h,children:[(0,s.jsxs)(a.Z,{style:C.mainButton,onClick:c,disabled:m,disabledFeedback:!0,hoveredStyle:C.buttonHoveredStyle,pressedStyle:C.buttonPressedStyle,children:[u&&u(C.icon),d]}),x||m?null:(0,s.jsx)(a.Z,{disabledFeedback:!0,style:C.dropdownButton,hoveredStyle:C.buttonHoveredStyle,pressedStyle:C.buttonPressedStyle,...g,children:(0,r.i)(C.dropdownButtonIcon)}),(0,s.jsx)("div",{style:C.border})]})}},22084:(e,t,o)=>{o.d(t,{F:()=>c,a:()=>d});o(67294);var n=o(24405),r=o(31701),i=o(37810),l=o(62896),a=o(85567),s=o(85893);function d(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:g,shouldShrink:h,hideTooltip:m,descriptionTooltip:x,tooltipPlacement:C,...f}=e,v=(0,n.Fg)(),y=(0,n.yK)((e=>({token:{...c&&i.Z.textOverflowStyle}})),[c]),{textColor:b,backgroundColor:S}=(0,r.KR)(v,o);return t?(0,s.jsx)(a.Z,{format:d,value:(0,s.jsx)(l.Z,{children:t}),onClickRemove:u,showRemoveButton:p,isSingle:g,color:b,backgroundColor:S,shouldShrink:h,tooltipPlacement:C,showFullValueTooltip:!m,tooltip:m?void 0:x,style:y.token,...f}):null}function c(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:g,shouldShrink:h,groupColor:m,tooltipPlacement:x,descriptionTooltip:C,hideTooltip:f,...v}=e,y=(0,n.Fg)(),b=(0,n.yK)((()=>({token:{...c&&i.Z.textOverflowStyle}})),[c]);if(!t)return null;const{textColor:S,backgroundColor:F}=(0,r.KR)(y,o??m??"gray"),j=o&&"default"!==o?o:m??"gray";return(0,s.jsx)(a.Z,{format:d,value:(0,s.jsx)(l.Z,{children:t}),onClickRemove:u,showRemoveButton:p,isSingle:g,color:S,backgroundColor:F,shouldShrink:h,showFullValueTooltip:!f,tooltip:f?void 0:C,style:b.token,isRound:!0,showColoredDot:j,tooltipPlacement:x,...v})}},11299:(e,t,o)=>{o.d(t,{S:()=>w,Z:()=>j});o(57658);var n=o(67294),r=o(480),i=o(86628),l=o(24405),a=o(76205),s=o(84619),d=o(3729),c=o(9291),u=o(53965),p=o(8406),g=o(97004),h=o(60709),m=o(50959),x=o(52275),C=o(60458),f=o(78140),v=o(32163),y=o(40721),b=o(72495),S=o(22084),F=o(85893);function j(e){const{propertyFilter:t,schema:o,filter:s,parentStore:m,updateValue:C,onClose:S,desktopTopActions:j,mobileMenuTitle:M,mobileMoreActions:T,collectionContextStore:Z}=e,k=(0,r.O7)(),A=(0,r.Fy)(),[R,V]=(0,n.useState)([]),[P,I]=(0,n.useState)(!1),B=(0,i.VK)((()=>(0,g.tJ)(o,t,m)),[o,t,m]),D=(0,l.yK)((e=>({checkboxIcon:{fill:e.regularIconColor}})),[]),_=(0,i.VK)((()=>(0,a.vR)(s)?(0,a.wB)(s):[]),[s]),L=(0,i.VK)((()=>{if(!B||"status"!==B.type)return[];const e=B.options??[],t=null==Z?void 0:Z.collectionStoreResultsInViewOrder();return!P&&t?e.filter((e=>t.some((t=>{var o;return null===(o=e.collectionIds)||void 0===o?void 0:o.includes(t.id)})))):e}),[B,P,Z]),O=(0,i.VK)((()=>{if(!B||"status"!==B.type)return[];const e=[],t=B.groups??[],o=B.options??[];for(const n of t){const t=(0,g.IX)({group:n,options:o,filterValues:_});if("partial"!==t.groupCheckState)continue;const r=o.filter((e=>{var t;return null===(t=n.optionIds)||void 0===t?void 0:t.includes(e.id)})).filter((e=>t.optionCheckedInfo.get(e.id)));e.push(...r)}return e}),[B,_]),H=(0,i.VK)((()=>{if(!B||"status"!==B.type)return[];const e=B.options??[];return R?e.filter((e=>!R.some((t=>t.id===e.id)))):[]}),[B,R]);(0,n.useEffect)((()=>{V((()=>u.mN([...L,...R,...O],"id")))}),[L]);const K=(0,i.VK)((()=>B&&"status"===B.type?w({propertySchema:B,statusFilterValues:_,updateValue:C,isMobile:A.isMobile,styles:{checkboxIcon:D.checkboxIcon},visibleOptions:R,shouldShowHiddenSources:P,setShouldShowHiddenSources:I}):[]),[A.isMobile,B,D.checkboxIcon,C,R,P,I,_]);if(!B||"status"!==B.type)return null;const W=(0,F.jsx)(b.Z,{desktopStyle:{paddingBottom:0},children:!A.isMobile&&j});let q;q=A.isMobile?{menuType:h.og.Modal,title:M,left:T,right:(0,F.jsx)(y.DoneMenuText,{}),onClickRight:S,header:W}:{menuType:h.og.Popup,maxHeight:a.ot,width:260,header:W,disableHeaderBorder:!0,tokenInputHeader:!0};const z=(0,F.jsx)(v.Z,{type:v.i.Vertical,initialFocus:0,sections:[{key:"groups",items:K,render:e=>(0,F.jsx)(b.Z,{...e,title:"",style:{paddingTop:0}})}]}),G=H&&H.length>0&&!P?(0,F.jsx)(b.Z,{topBorder:!0,children:(0,F.jsx)(x.Z,{icon:(0,d.T)({width:13,height:13}),title:(0,F.jsx)(c.FormattedMessage,{id:"collectionFilterValueMenu.statusFilterValueMenu.hiddenStatusOptionsDescription",defaultMessage:"{numHiddenOptions, plural, one {{numHiddenOptions} other status option} other {{numHiddenOptions} other status options}}",values:{numHiddenOptions:H.length}}),focused:!1,onClick:()=>{I(!0),Z&&p.wd({environment:k,collectionContextStore:Z,action:"expand_property_filter",original_view_type:void 0,property_type:"status"})}})}):null,U=(0,F.jsx)(b.Z,{topBorder:!0,children:(0,F.jsx)(x.Z,{title:(0,F.jsx)(c.FormattedMessage,{defaultMessage:"Clear selection",id:"database.filterValue.selectType.clearSelection.message"}),focused:!1,onClick:()=>{C([])}})});return(0,F.jsx)(f.Z,{...q,children:(0,a.vR)(s)&&(0,F.jsxs)(F.Fragment,{children:[z,G,U]})})}function w(e){const{propertySchema:t,statusFilterValues:o,updateValue:n,isMobile:r,styles:i,visibleOptions:l,shouldShowHiddenSources:a}=e,d=t.groups??[],c=t.options??[],u=[];for(const p of d){const e=()=>{const e=(0,g.CN)(d,c,o,{type:"is_group",value:p.name});e&&n(e)},t=(0,g.IX)({group:p,options:c,filterValues:o}),h=c.filter((e=>{var t;return(null===(t=p.optionIds)||void 0===t?void 0:t.includes(e.id))&&(a||(null==l?void 0:l.some((t=>t.id===e.id))))})),f=[];for(const l of h){const e=()=>{const e=(0,g.CN)(d,c,o,{type:"is_option",value:l.value});e&&n(e)};f.push({key:`option-${l.id}`,action:e,render:o=>(0,F.jsx)(x.Z,{...o,icon:(0,F.jsx)(C.Z,{checked:t.optionCheckedInfo.get(l.id)??!1,size:14,onClick:e,style:i.checkboxIcon}),title:(0,F.jsx)(S.F,{format:r?s.lo.Large:s.lo.Medium,isSingle:!0,value:l.value,color:l.color,showRemoveButton:!1,groupColor:p.color}),style:{paddingLeft:16}})})}u.push({key:`group-${p.id}`,action:e,render:o=>(0,F.jsx)(x.Z,{...o,icon:(0,F.jsx)(C.Z,{checked:t.groupCheckState,size:14,onClick:e,style:i.checkboxIcon}),title:(0,F.jsx)(m.r_,{style:{fontWeight:500,marginTop:2},group:p,showIcon:!0,showColor:!0}),textWrapperStyle:{marginLeft:3}})},...f)}return u}},92658:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(49085);class r extends n.default{getInitialState(){return{inputValue:"",focus:!1}}}const i=r},5691:(e,t,o)=>{o.d(t,{m:()=>i});var n=o(23512),r=o(77080);function i(e,t){return(0,n.p3)(e,r.default.checkGate("localized_parse_number")?t:void 0)}},21197:(e,t,o)=>{o.d(t,{Q:()=>i});o(67294);var n=o(45238),r=o(85893);const i=(0,n.IU)("filter",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M1.63574 5.17969H14.3643C14.7197 5.17969 15.0068 4.88574 15.0068 4.53027C15.0068 4.1748 14.7197 3.8877 14.3643 3.8877H1.63574C1.27344 3.8877 0.993164 4.1748 0.993164 4.53027C0.993164 4.88574 1.28027 5.17969 1.63574 5.17969ZM3.05078 8.71387H12.9766C13.332 8.71387 13.6191 8.41992 13.6191 8.06445C13.6191 7.70215 13.3389 7.41504 12.9766 7.41504H3.05078C2.68848 7.41504 2.4082 7.70898 2.4082 8.06445C2.4082 8.41309 2.69531 8.71387 3.05078 8.71387ZM4.43848 12.2412H11.5889C11.9512 12.2412 12.2314 11.9473 12.2314 11.5918C12.2314 11.2363 11.9512 10.9492 11.5889 10.9492H4.43848C4.07617 10.9492 3.7959 11.2363 3.7959 11.5918C3.7959 11.9473 4.07617 12.2412 4.43848 12.2412Z"})})},78807:(e,t,o)=>{o.d(t,{l:()=>i});o(67294);var n=o(45238),r=o(85893);const i=(0,n.IU)("statusCompleteGroup",{viewBox:"0 0 17 17",svg:(0,r.jsx)("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.71094 12.0781C8.00781 12.0781 8.27344 11.9219 8.44531 11.6562L11.8828 6.32031C11.9922 6.14844 12.0781 5.95312 12.0781 5.77344C12.0781 5.35156 11.7109 5.07031 11.3125 5.07031C11.0547 5.07031 10.8281 5.21094 10.6562 5.49219L7.6875 10.2578L6.29688 8.51562C6.10938 8.27344 5.91406 8.17969 5.67188 8.17969C5.25781 8.17969 4.92188 8.50781 4.92188 8.92969C4.92188 9.125 5 9.30469 5.14062 9.48438L6.94531 11.6641C7.16406 11.9375 7.40625 12.0781 7.71094 12.0781Z"})})}}]);