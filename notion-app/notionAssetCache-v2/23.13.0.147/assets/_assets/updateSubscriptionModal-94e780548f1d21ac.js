"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3301],{1063:(e,t,i)=>{i.d(t,{X:()=>c});i(67294);var n=i(480),a=i(24405),s=i(9291),r=i(86572),l=i(35057),o=i(42402),d=i(85893);function c(e){const t=(0,n.O7)(),i=(0,a.yK)((()=>({couponLink:{fontSize:12}})),[]);return(0,d.jsx)(o.Z,{href:"https://notionup.typeform.com/to/qYXezfBW",external:!0,style:i.couponLink,onClick:()=>{const i=(0,l.zt)();r.j(t,{name:"coupon_typeform_clicked",args:{tier:e.tier,currentTier:i}})},children:(0,d.jsx)("div",{children:(0,d.jsx)(s.FormattedMessage,{id:"startupCouponInlineLink.text",defaultMessage:"Are you a startup?"})})})}},48905:(e,t,i)=>{i.d(t,{U:()=>s});i(67294);var n=i(24405),a=i(85893);function s(e){const{size:t}=e,i=(0,n.Fg)();return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{width:"48",height:"48",rx:"8",fill:i.fill.purple}),(0,a.jsx)("path",{d:"M36.78 26.5198C38.38 26.9198 38.38 27.5798 36.78 27.9798L33.24 28.8598C31.64 29.2598 30 30.8998 29.6 32.4998L28.72 36.0398C28.32 37.6398 27.66 37.6398 27.26 36.0398L26.38 32.4998C25.98 30.8998 24.34 29.2598 22.74 28.8598L19.2 27.9798C17.6 27.5798 17.6 26.9198 19.2 26.5198L22.74 25.6398C24.34 25.2398 25.98 23.5998 26.38 21.9998L27.26 18.4598C27.66 16.8598 28.32 16.8598 28.72 18.4598L29.6 21.9998C30 23.5998 31.64 25.2398 33.24 25.6398L36.78 26.5198Z",fill:i.icon.purple}),(0,a.jsx)("path",{d:"M23.04 17.4001C23.56 17.6001 23.56 17.9201 23.04 18.1001L20.22 19.1801C19.7 19.3801 19.12 19.9601 18.94 20.4601L17.86 23.2801C17.66 23.8001 17.34 23.8001 17.16 23.2801L16.08 20.4601C15.88 19.9401 15.3 19.3601 14.8 19.1801L11.98 18.1001C11.46 17.9001 11.46 17.5801 11.98 17.4001L14.8 16.3201C15.32 16.1201 15.9 15.5401 16.08 15.0401L17.16 12.2201C17.36 11.7001 17.68 11.7001 17.86 12.2201L18.94 15.0401C19.14 15.5601 19.72 16.1401 20.22 16.3201L23.04 17.4001Z",fill:i.icon.purple})]})}},8044:(e,t,i)=>{i.d(t,{V:()=>k});var n=i(67294),a=i(480),s=i(24405),r=i(45238);const l=(0,r.CZ)("dollarSign",{default:{loader:()=>i.e(251).then(i.bind(i,35894)),size:20},small:{loader:()=>i.e(1578).then(i.bind(i,99765)),size:16},mini:{loader:()=>i.e(3743).then(i.bind(i,23743)),size:14},large:{loader:()=>i.e(383).then(i.bind(i,30383)),size:24}}),o=(0,r.CZ)("euroSign",{default:{loader:()=>i.e(9142).then(i.bind(i,49142)),size:20},small:{loader:()=>i.e(218).then(i.bind(i,30218)),size:16},mini:{loader:()=>i.e(3230).then(i.bind(i,43230)),size:14},large:{loader:()=>i.e(6662).then(i.bind(i,46662)),size:24}}),d=(0,r.CZ)("sterlingSign",{default:{loader:()=>i.e(8887).then(i.bind(i,68887)),size:20},small:{loader:()=>i.e(6902).then(i.bind(i,76902)),size:16},mini:{loader:()=>i.e(7504).then(i.bind(i,10334)),size:14},large:{loader:()=>i.e(242).then(i.bind(i,90242)),size:24}});var c=i(36591),u=i(84169),p=i(9291),g=i(86572),m=i(42853),h=i(81254),x=i(89728),y=i(85893);function f(e){const{active:t,iconGroup:i,label:n,onClick:a}=e,r=(0,s.yK)((e=>{const t={alignItems:"center",borderRadius:32,display:"inline-flex",flexShrink:0,gap:6,height:24,justifyContent:"center",padding:"0px 8px"};return{activeButton:{...t,background:"dark"===e.mode?"var(--tint-interactive-dark, rgba(35, 131, 226, 0.07))":"var(--tint-interactive, rgba(35, 131, 226, 0.07))",border:"dark"===e.mode?"1px solid var(--stroke-interactive-dark, #2383E2)":"1px solid var(--stroke-interactive, #2383E2)",color:"var(--core-interactive-blue-500, var(--core-interactive-blue-500, #2383E2))"},button:{...t,border:"dark"===e.mode?"1px solid var(--stroke-regular-dark, rgba(255, 255, 255, 0.13))":"1px solid var(--stroke-regular, #E3E2E0)",color:e.text.secondary},chevron:{width:12,height:12},chevronArea:{alignItems:"center",display:"flex",flexDirection:"column",gap:10,height:14,justifyContent:"center",paddingTop:.5,width:14},label:{alignItems:"center",display:"flex",fontSize:14,fontWeight:400,gap:2}}}),[]);return(0,y.jsxs)(x.Z,{onClick:a,style:t?r.activeButton:r.button,children:[i?(0,y.jsx)(h.x,{iconGroup:i,variantName:"small"}):null,(0,y.jsxs)("div",{style:r.label,children:[n,(0,y.jsx)("div",{style:r.chevronArea,children:(0,m.i)(r.chevron)})]})]})}var b=i(52275),v=i(31945),j=i(78140),S=i(32163),C=i(72495),M=i(60709),P=i(18514);function k(e){const{availableCurrencyCodes:t,from:i,onSelectCurrency:r,selectedCurrencyCode:l}=e,[o,d]=n.useState(!1),c=(0,a.O7)(),m=(0,n.useCallback)((()=>{d(!0),g.j(c,{name:"currency_select_opened",args:{available_currency_codes:t,active_currency_code:l,from:i}})}),[c,t,i,l,d]),h=(0,n.useCallback)((()=>{d(!1),g.j(c,{name:"currency_select_dismissed",args:{available_currency_codes:t,active_currency_code:l,from:i}})}),[c,t,i,l,d]),x=(0,n.useCallback)((e=>{g.j(c,{name:"currency_select_changed",args:{available_currency_codes:t,old_currency_code:l,new_currency_code:e,from:i}}),r(e)}),[c,t,i,l,r]),k=function(e){const{availableCurrencyCodes:t,selectedCurrencyCode:i,onSelectCurrency:a}=e;return(0,n.useMemo)((()=>({key:"section",render:e=>(0,y.jsx)(C.Z,{...e,title:(0,y.jsx)(p.FormattedMessage,{id:"currencySelect.currenciesSection.title",defaultMessage:"Select currency to display"})}),items:t.map((e=>({key:e,render:t=>(0,y.jsx)(I,{currencyCode:e,isSelected:e===i,menuListItemProps:t}),action:()=>{a(e)}})))})),[t,a,i])}({availableCurrencyCodes:t,selectedCurrencyCode:l,onSelectCurrency:x}),w=function(){const e=(0,s.yK)((e=>({helpIcon:{fill:e.icon.secondary,width:15},helpText:{color:e.text.secondary}})),[]);return(0,n.useMemo)((()=>({key:"helpSection",render:e=>(0,y.jsx)(C.Z,{...e,topBorder:!0}),items:[{key:"learnAboutFxRates",render:t=>(0,y.jsx)(b.Z,{...t,icon:(0,u.m)(e.helpIcon),style:e.helpText,title:(0,y.jsx)(p.FormattedMessage,{id:"currencySelect.helpSection.learnAboutFxRates",defaultMessage:"Learn about FX rates"})}),action:()=>{window.open((0,P.UY)("terms.currency.fxRates"))}}]})),[e])}(),F=(0,n.useMemo)((()=>[k,w]),[k,w]);return t.length<2?null:(0,y.jsx)(v.ZP,{alignmentToOrigin:v.vR.End,onClick:m,onClose:h,placementToOrigin:v.pO.Bottom,popupType:v.Z4.Popup,render:e=>(0,y.jsx)(j.Z,{menuType:M.og.Popup,width:200,children:(0,y.jsx)(S.Z,{initialFocus:void 0,onAccept:e.close,sections:F,type:S.i.Vertical})}),renderOrigin:e=>(0,y.jsx)(f,{active:o,iconGroup:T[l],label:l,onClick:e.onClick})})}function I(e){const{currencyCode:t,isSelected:i,menuListItemProps:n}=e,a=(0,s.yK)((()=>({buttonMenuItem:{alignItems:"center",alignSelf:"stretch",display:"flex",justifyContent:"space-between",padding:"4px 6px 4px 8px"},check:{width:12,height:12},left:{alignItems:"center",display:"flex",gap:8,marginLeft:0}})),[]),r=T[t];return(0,y.jsx)(b.Z,{...n,left:(0,y.jsxs)(y.Fragment,{children:[r?(0,y.jsx)(h.x,{iconGroup:r,variantName:"small",colorName:"secondary"}):null,t]}),leftStyle:a.left,right:i?(0,c.e)(a.check):void 0,style:a.buttonMenuItem})}const T={USD:l,EUR:o,GBP:d}},91493:(e,t,i)=>{i.d(t,{G:()=>l});i(67294);var n=i(9291),a=i(51133),s=i(27533),r=i(85893);function l(e){const t=(0,a.hr)(),{accountBalance:i}=e;return 0===i.amount?null:(0,r.jsxs)("div",{style:t.itemContainer,children:[(0,r.jsx)("div",{style:t.captionContainer,children:(0,r.jsx)("span",{style:t.name,children:(0,r.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.balance",defaultMessage:"Balance"})})}),(0,r.jsx)("span",{style:t.credit,children:(0,r.jsx)(s.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},59148:(e,t,i)=>{i.d(t,{T:()=>l});i(67294);var n=i(9291),a=i(51133),s=i(27533),r=i(85893);function l(e){const t=(0,a.hr)(),{discount:i,promo:l}=e;return(0,r.jsxs)("div",{style:t.itemContainer,children:[(0,r.jsx)("div",{style:t.captionContainer,children:(0,r.jsx)("span",{style:t.name,children:(0,r.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo",defaultMessage:"Coupon"})})}),l.duration_in_months?(0,r.jsx)("span",{style:t.caption,children:(0,r.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo.subtitle",defaultMessage:"Valid for {durationInMonths} months",values:{durationInMonths:l.duration_in_months}})}):void 0,(0,r.jsx)("span",{style:t.credit,children:(0,r.jsx)(s.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},42329:(e,t,i)=>{i.d(t,{r:()=>l});i(67294);var n=i(9291),a=i(51133),s=i(27533),r=i(85893);function l(e){const t=(0,a.hr)(),{subtotal:i}=e;return(0,r.jsxs)("div",{style:t.itemContainer,children:[(0,r.jsx)("div",{style:t.captionContainer,children:(0,r.jsx)("span",{style:t.name,children:(0,r.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.subTotal",defaultMessage:"Subtotal"})})}),(0,r.jsx)("span",{style:t.price,children:(0,r.jsx)(s.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},92041:(e,t,i)=>{i.d(t,{u:()=>d});i(67294);var n=i(9291),a=i(68785),s=i(51133),r=i(27533),l=i(85893);const o="—";function d(e){const t=(0,s.hr)(),{tax:i,calculatingTax:d}=e;return(0,l.jsxs)("div",{style:t.itemContainer,children:[(0,l.jsx)("div",{style:t.captionContainer,children:(0,l.jsx)("span",{style:t.name,children:(0,l.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.taxIfApplicable.title",defaultMessage:"Tax if applicable"})})}),(0,l.jsx)("span",{style:t.price,children:d?(0,l.jsx)(a.Z,{}):0===i.amount?o:(0,l.jsx)(r.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},52836:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ye});var n=i(67294),a=i(480),s=i(86628),r=i(24405),l=i(9291),o=i(1898),d=i(37810),c=i(61519),u=i(29497),p=i(7184),g=i(64891),m=i(91252),h=i(88893),x=i(25692),y=i(34310),f=(i(21703),i(86572)),b=i(18168),v=i(85893);function j(){return(0,r.yK)((e=>({discountText:{color:e.invoiceGreen,fontSize:14},icon:{width:16,height:16},mainTextSelected:{fontWeight:d.Z.fontWeight.medium,color:e.regularTextColor,fontSize:14},mainTextUnselected:{color:e.mediumTextColor,fontSize:14},priceText:{fontSize:12,color:e.mediumTextColor,marginTop:2},row:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"14px"},sectionHeader:{display:"flex",alignItems:"center",marginBottom:11,fontSize:11,fontWeight:d.Z.fontWeight.semibold,color:e.mediumTextColor}})),[])}function S(e){const{header:t,children:i}=e,n=j();return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{style:n.sectionHeader,children:t}),i]})}function C(e){const{isSelected:t,billingInterval:i}=e,n=j(),a=t?n.mainTextSelected:n.mainTextUnselected;let s;switch(i){case"month":s=(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.monthly",defaultMessage:"Monthly"});break;case"year":s=(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearly",defaultMessage:"Yearly"});break;default:throw new Error(`Unsupported billing interval: ${i}`)}return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:n.row,children:[(0,v.jsx)("div",{style:a,children:s}),"year"===i?(0,v.jsx)("div",{style:n.discountText,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearlyDiscount",defaultMessage:"{percent}% off",values:{percent:20}})}):null]})})}function M(e){const t=(0,a.O7)(),[i,r]=(0,s.VK)((()=>{const e=x.Z.state;return[e.temporaryBillingInterval,e.billingInterval]}),[]),o=(0,n.useMemo)((()=>[{key:"month",isDisabled:"month"===r,render:()=>(0,v.jsx)(C,{isSelected:"month"===i,billingInterval:"month"})},{key:"year",isDisabled:"year"===r,render:()=>(0,v.jsx)(C,{isSelected:"year"===i,billingInterval:"year"})}]),[r,i]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(S,{header:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.header",defaultMessage:"Billing period"}),children:(0,v.jsx)(b.Z,{items:o,value:i,onChange:e=>{f.b0(t,{billingInterval:e}),x.Z.update((t=>({...t,temporaryBillingInterval:e})))}})})})}var P=i(13991),k=i(7057),I=i(69651),T=i(77058),w=i(42853),F=i(16880),Z=i(3791),B=i(47307),W=i(64921),L=i(68785),U=i(1063),z=i(39343),_=i(22616),O=i(40670),D=i(70060),E=i(51133),V=i(95014),H=i(38866),A=i(33493),K=i(88280),R=i(56142),G=i(8044),X=i(58297);function $(){return(0,v.jsx)(l.FormattedMessage,{id:"subscriptionUpdateModal.confirmationButton",defaultMessage:"Confirm changes"})}function N(e){const{disabled:t,onClickUpgrade:i}=e,n=(0,r.yK)((e=>({button:{width:"100%",height:40,marginTop:20}})),[]);return(0,v.jsx)(X.Z,{disabled:t,style:n.button,onClick:i,children:(0,v.jsx)($,{})})}var Y=i(27533),q=i(91493),Q=i(59148),J=i(42329),ee=i(92041);function te(e){const{data:t,subscriptionTier:i,temporaryBillingInterval:n,calculatingTax:r,taxAmount:o,promo:d}=e,c=me(),u=(0,a.O7)(),p=(0,H.m)(K.subscriptionDataStoreInstance),m=(0,s.VK)((()=>{var e;return(0,D.px)(u)&&!(0,Z.de)(null===(e=K.subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)&&p}),[p,u])?"ai_fifty_percent":void 0,x=E.Zr(d),{availableCurrencyCodes:y,selectedCurrencyCode:f}=(0,s.VK)((()=>({availableCurrencyCodes:A.Z.availableCurrencyCodes,selectedCurrencyCode:A.Z.selectedCurrencyCode})),[]),b=E.Lp(e,t),j=(0,s.VK)((()=>b.map((e=>A.Z.getPrice(u,(t=>t.product===e&&t.billingInterval===n))))),[u,b,n]);if(j.some((e=>!e.isLoaded)))return(0,v.jsx)(L.Z,{});const S=j.map((e=>e.result)).filter(Boolean);if(!S||0===S.length)return null;const C=S[0].unitAmount.currencyValue,M=h.su(t),P=E.cv({prices:S,quantity:M,coupon:m}),k=E.VT({calculatingTax:r,taxAmount:o,currencyValue:C}),I=E.rF({prices:S,quantity:M,promo:x}),T=E.Et(t,C),w=P.plus(k).minus(I).minus(T),F=w.amount<0?w.withMultipliedAmount(0):w;return(0,v.jsxs)("div",{style:c.container,children:[(0,v.jsxs)("label",{style:c.header,children:[(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.header",defaultMessage:"Order summary"}),(0,v.jsx)(G.V,{availableCurrencyCodes:y,from:"update_modal",onSelectCurrency:_.yD,selectedCurrencyCode:f})]}),(0,v.jsx)(ie,{data:t}),(0,v.jsx)(re,{totalAmount:F}),(0,v.jsx)(le,{prices:S,data:t,subscriptionTier:i,totalAmount:F,coupon:m,subtotal:P,tax:k,calculatingTax:r,discount:I,promo:x,accountBalance:T}),(0,v.jsx)(N,{disabled:!1,onClickUpgrade:async()=>{const e=await(0,V.getStripe)();if(!e)throw B.showErrorMessage((0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.stripeNotLoaded",defaultMessage:"We could not reach our payment processor. Please reload the page or try again later."})),new Error("Stripe not loaded");await g.Mg(u,e,m)}}),(0,v.jsx)(R.E,{products:b})]})}function ie(e){const{storeState:t}=(0,s.VK)((()=>({storeState:x.Z.state})),[]);if(!t.open)return null;const{view:i,billingInterval:n,temporaryBillingInterval:a}=t;if((0,O.rO)(i,n,a))return(0,v.jsx)(ne,{view:i,billingInterval:n,temporaryBillingInterval:a});if((0,O.Z_)(i,n,a)){const t=(0,h.XX)(e.data);return t?(0,v.jsx)(se,{periodEnd:t.periodEnd}):null}return null}function ne(e){const{view:t,billingInterval:i,temporaryBillingInterval:n}=e,a=me();return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{style:a.topSection,children:[(0,v.jsx)("div",{style:a.checkmarkSection,children:(0,T.$)(a.checkmark)}),(0,v.jsx)("label",{style:a.subTitle,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.effectiveToday.header",defaultMessage:"Effective today"})})]}),(0,v.jsx)("div",{style:a.subTitleDescription,children:(0,v.jsx)(ae,{view:t,billingInterval:i,temporaryBillingInterval:n})})]})}function ae(e){const{view:t,billingInterval:i,temporaryBillingInterval:n}=e,a=(0,s.VK)((()=>K.subscriptionDataStoreInstance.state),[]),r=a&&h.XX(a);return(0,z.Fk)(r)&&i!==n&&"year"===n?(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.trialWillChangeToday.message",defaultMessage:"Updating to yearly will end your trial and upgrade you immediately."}):(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.planWillChangeToday.message",defaultMessage:"{planType, select, add_ons {Add-on} other {Plan}} will change today",values:{planType:t}})}function se(e){const t=me();return(0,v.jsxs)("div",{style:t.pendingChangesContainer,children:[(0,v.jsxs)("div",{style:t.topSection,children:[(0,v.jsx)("div",{style:t.checkmarkSection,children:(0,I.C)(t.calendar)}),(0,v.jsx)("label",{style:t.subTitle,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.pendingChange.header",defaultMessage:"Effective {periodEnd}",values:{periodEnd:(0,k.Yx)(e.periodEnd,"medium",P.SP)}})})]}),(0,v.jsx)("div",{style:t.subTitleDescription,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.planWillChangeAtTheEnd.message",defaultMessage:"Billing period will change at the end of your billing period."})})]})}function re(e){const{totalAmount:t}=e,i=me(),n=(0,a.O7)(),{storeState:r}=(0,s.VK)((()=>({storeState:x.Z.state})),[]);if(!r.open)return null;if("billing_interval"===r.view&&r.billingInterval===r.temporaryBillingInterval)return(0,v.jsxs)("div",{style:i.totalPriceContainer,children:[(0,v.jsx)("div",{style:i.totalPriceHeader,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateOrderSummary.total",defaultMessage:"Total"})}),(0,v.jsx)("div",{style:i.totalPrice,children:"-"})]});const o=r.isExpandedView,d="year"===r.billingInterval&&"month"===r.temporaryBillingInterval;return(0,v.jsx)(W.Z,{onClick:()=>o?g.OT(n):g.bX(n),style:i.totalPriceContainer,children:d?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:i.estimatedFuturePriceHeader,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateOrderSummary.estimatedFuturePrice",defaultMessage:"Estimated future price"})}),(0,v.jsxs)("div",{style:i.estimatedFuturePrice,children:[(0,v.jsx)(Y.W,{cost:t.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"}),(0,v.jsx)("div",{style:i.estimatedFuturePriceButton,children:o?(0,F.R)(i.estimatedFuturePriceIcon):(0,w.i)(i.estimatedFuturePriceIcon)})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:i.totalPriceHeader,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateOrderSummary.estimatedPrice",defaultMessage:"Estimated price"})}),(0,v.jsxs)("div",{style:i.totalPrice,children:[(0,v.jsx)(Y.W,{cost:t.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"}),(0,v.jsx)("div",{style:i.button,children:o?(0,F.R)(i.icon):(0,w.i)(i.icon)})]})]})})}function le(e){const{prices:t,data:i,subscriptionTier:n,totalAmount:a,subtotal:r,tax:l,calculatingTax:o,discount:d,promo:c,coupon:u,accountBalance:p}=e,g=me(),{storeState:m}=(0,s.VK)((()=>({storeState:x.Z.state})),[]);return m.open&&m.isExpandedView?(0,v.jsxs)("div",{style:g.container,children:[(0,v.jsx)(oe,{prices:t,data:i,coupon:u}),h.Fu(n)&&(0,v.jsx)(U.X,{tier:n}),(0,v.jsx)(pe,{subtotal:r,tax:l,calculatingTax:o,discount:d,promo:c,coupon:u,accountBalance:p}),(0,v.jsx)(ge,{totalAmount:a})]}):null}function oe(e){const{data:t,prices:i,coupon:n}=e;return(0,v.jsx)(v.Fragment,{children:i.map((e=>(0,v.jsx)(de,{price:e,data:t,coupon:n},e.externalId)))})}function de(e){const{price:t,data:i,coupon:n}=e,a=h.su(i),s=t.getCostPerBillingInterval({quantity:a,coupon:n}),l=(0,r.yK)((e=>({container:{display:"flex",justifyContent:"space-between"},item:{},title:{fontSize:14,marginBottom:4,lineHeight:1},subtitle:{color:e.mediumTextColor,fontSize:12},price:{fontSize:14}})),[]);return(0,v.jsxs)("div",{style:l.container,children:[(0,v.jsxs)("div",{style:l.item,children:[(0,v.jsx)("div",{style:l.title,children:(0,v.jsx)(ce,{price:t})}),(0,v.jsx)("div",{style:l.subtitle,children:(0,v.jsx)(ue,{price:t,data:i,coupon:n})})]}),(0,v.jsx)("div",{style:l.price,children:(0,v.jsx)(Y.W,{cost:s.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}function ce(e){const{price:t}=e;switch(t.product){case"free":case"student":return null;case"ai":return(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.ai.addOn",defaultMessage:"Notion AI"});case"personal":return(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.singlePlayerPlusPlan",defaultMessage:"Plus plan with a 1-member limit"});case"plus":return(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.plusPlan",defaultMessage:"Plus plan"});case"business":return(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.businessPlan",defaultMessage:"Business plan"});case"enterprise":return(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.enterprisePlan",defaultMessage:"Enterprise plan"});default:(0,o.t1)(t.product)}}function ue(e){const{price:t,data:i,coupon:n}=e,a=h.su(i),s=h.GD(t.billingInterval),r=t.getMonthlyUnitCost(n),d=(0,v.jsx)(Y.W,{cost:r.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"});switch(s){case"year":return(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.planSubtitle.billedYearly",defaultMessage:"{price} / member / month × {numberOfMembers, plural, one {# member} other {# members}}{br}Billed yearly",values:{br:(0,v.jsx)("br",{}),price:d,numberOfMembers:a}});case"month":return(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.planSubtitle.billedMonthly",defaultMessage:"{price} / member / month × {numberOfMembers, plural, one {# member} other {# members}}{br}Billed monthly",values:{br:(0,v.jsx)("br",{}),price:d,numberOfMembers:a}});default:(0,o.t1)(s)}}function pe(e){const{subtotal:t,tax:i,calculatingTax:n,discount:a,promo:s,coupon:r,accountBalance:l,style:o}=e;return(0,v.jsxs)("div",{style:o,children:[(0,v.jsx)(J.r,{subtotal:t}),(0,v.jsx)(ee.u,{tax:i,calculatingTax:n}),s&&!r?(0,v.jsx)(Q.T,{discount:a,promo:s}):void 0,(0,v.jsx)(q.G,{accountBalance:l})]})}function ge(e){const{totalAmount:t}=e,i=E.hr();return(0,v.jsxs)("div",{style:i.itemContainer,children:[(0,v.jsx)("div",{style:i.captionContainer,children:(0,v.jsx)("span",{style:i.totalName,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.orderSummary.totalForToday",defaultMessage:"Total for today"})})}),(0,v.jsx)("span",{style:i.totalPrice,children:(0,v.jsx)(Y.W,{cost:t.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}function me(){return(0,r.yK)((e=>({container:{display:"flex",flexDirection:"column",gap:16,width:"100%"},header:{alignItems:"center",color:e.regularTextColor,display:"flex",fontSize:16,fontWeight:d.Z.fontWeight.semibold,gap:8,marginBottom:11,lineHeight:"22px"},totalPriceContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",lineHeight:1,padding:4,borderRadius:4,margin:-4},totalPriceHeader:{fontSize:14,color:e.regularTextColor,fontWeight:d.Z.fontWeight.semibold},totalPrice:{fontSize:20,color:e.regularTextColor,fontWeight:d.Z.fontWeight.semibold,display:"flex",alignItems:"center"},estimatedFuturePriceHeader:{fontSize:14,color:e.regularTextColor},estimatedFuturePrice:{fontSize:14,color:e.regularTextColor,display:"flex",alignItems:"center"},estimatedFuturePriceIcon:{width:12,height:12},estimatedFuturePriceButton:{marginLeft:4},icon:{width:18,height:18},button:{marginLeft:6},subTitle:{fontSize:14,color:e.regularTextColor,fontWeight:d.Z.fontWeight.medium},subTitleDescription:{fontSize:14,color:e.mediumTextColor,fontWeight:d.Z.fontWeight.regular},couponLink:{fontSize:12},checkmark:{width:18,height:18,marginTop:2,color:e.blueColor},checkmarkSection:{paddingRight:6},calendar:{width:18,height:18,marginTop:2,color:e.regularTextColor},topSection:{display:"flex"},pendingChangesContainer:{width:260}})),[])}function he(e){const{data:t}=e,{isMobile:i}=(0,a.Fy)(),{storeState:n}=(0,s.VK)((()=>({storeState:x.Z.state})),[]);if(!t||!n.open)return null;const r="billing_interval"===n.view?n.temporaryBillingInterval:n.billingInterval;return r?(0,v.jsx)(u.CT,{showDismissButton:!0,main:(0,v.jsxs)(u.T1,{width:i?"fill":400,gap:24,children:[(0,v.jsx)(xe,{storeState:n}),(0,v.jsx)(m.p,{data:t})]}),sidebar:(0,v.jsx)(u.T6,{width:i?"fill":300,children:(0,v.jsx)(te,{data:t,promo:void 0,subscriptionTier:n.temporarySubscriptionTier??n.subscriptionTier,onlyShowAddOn:"add_ons"===n.view,taxAmount:n.taxAmount,calculatingTax:n.calculatingTax,temporaryBillingInterval:r,addOnFeature:n.addOnFeature})})}):null}function xe(e){const{storeState:t}=e,i=(0,r.yK)((e=>({primaryTextStyle:{fontWeight:d.Z.fontWeight.bold,fontSize:20,lineHeight:1.1},modal:{background:e.popoverBackground,borderRadius:12,width:750,maxHeight:760,display:"flex"},modalContent:{flex:1,maxWidth:"60%",backgroundColor:e.modalBackground,display:"flex",flexDirection:"column",position:"relative",borderRadius:"12px 0 0 12px"},modalContentBody:{padding:"36px 42px 0px 42px",display:"flex",flexDirection:"column",maxWidth:400},shorterModalContentBody:{padding:"24px 42px 0px 42px",display:"flex",flexDirection:"column",maxWidth:400},billingIntervalBody:{display:"flex",flexDirection:"column",rowGap:24},sidebar:{backgroundColor:e.sidebarSecondaryBackground},modalContentSidebar:{flex:1,borderLeft:`1px solid ${e.lightDividerColor}`,padding:20,display:"flex",flexDirection:"column"}})),[]);let n=null;const a=t.view;switch(a){case"add_ons":n=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)(y.Q,{subscriptionTier:t.subscriptionTier,addOnFeature:t.addOnFeature,onlyShowAddOn:!0})}),(0,v.jsx)(c.Z,{size:0})]});break;case"billing_interval":n=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:i.billingIntervalBody,children:(0,v.jsx)("div",{style:i.primaryTextStyle,children:(0,v.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpdateModal.billingInterval.title",defaultMessage:"Change billing period"})})}),(0,v.jsx)(M,{}),(0,v.jsx)(c.Z,{size:0})]});break;case"plans":if(!t.temporarySubscriptionTier)return null;n=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)(y.Q,{subscriptionTier:t.temporarySubscriptionTier,onlyShowAddOn:!1})}),(0,v.jsx)(c.Z,{size:0})]});break;case"default":n=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)(y.Q,{subscriptionTier:t.subscriptionTier,onlyShowAddOn:!1})}),(0,v.jsx)(c.Z,{size:0})]});break;default:(0,o.t1)(a)}return n}const ye=function(e){const{data:t}=e,i=(0,a.O7)(),n=(0,s.VK)((()=>x.Z.state),[]);return t&&n.open&&(0,h.GJ)(t)?(0,v.jsx)(p.c,{allowDismissByEscape:!1,isOpen:!0,onDismiss:()=>g.cM(i),children:(0,v.jsx)(he,{data:e.data})}):null}},18485:(e,t,i)=>{i.d(t,{LU:()=>c,T:()=>u});i(67294);var n=i(41892),a=i(70954),s=i(9291),r=i(48905),l=i(33941),o=i(85893);const d=(0,s.defineMessages)({unlimitedBlocksForIndividuals:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForIndividuals",defaultMessage:"Unlimited blocks for individuals"},unlimitedBlocksForTeams:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForTeams",defaultMessage:"Unlimited blocks for teams"},unlimitedFileUploads:{id:"SpaceSubscriptionPlans.includes.unlimitedFileUploads",defaultMessage:"Unlimited file uploads"},collaborativeWorkspace:{id:"SpaceSubscriptionPlans.includes.collaborativeWorkspaces",defaultMessage:"Collaborative workspace"},integrations:{id:"SpaceSubscriptionPlans.includes.integrations",defaultMessage:"Slack, GitHub, and more integrations"},pageHistory7Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.7",defaultMessage:"7 day page history"},pageHistory30Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.30",defaultMessage:"30 day page history"},pageHistory90Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.90",defaultMessage:"90 day page history"},pageHistoryUnlimited:{id:"SpaceSubscriptionPlans.includes.pageHistory.unlimited",defaultMessage:"Unlimited page history"},guests10:{id:"SpaceSubscriptionPlans.includes.guests.10",defaultMessage:"Invite up to 10 guests"},guests100:{id:"SpaceSubscriptionPlans.includes.guests.100",defaultMessage:"Invite up to 100 guests"},guests250:{id:"SpaceSubscriptionPlans.includes.guests.250",defaultMessage:"Invite up to 250 guests"},guestsCustom:{id:"SpaceSubscriptionPlans.includes.guests.custom",defaultMessage:"Custom guest limits"},aiCredits:{id:"SpaceSubscriptionPlans.includes.aiCredits",defaultMessage:"10 free AI credits"},samlSSO:{id:"SpaceSubscriptionPlans.includes.saml.sso",defaultMessage:"SAML SSO"},userProvisioning:{id:"SpaceSubscriptionPlans.includes.scim",defaultMessage:"User provisioning (SCIM)"},advancedSecurityControls:{id:"SpaceSubscriptionPlans.includes.advancedSecurityControls",defaultMessage:"Advanced security controls"},auditLog:{id:"SpaceSubscriptionPlans.includes.auditLog",defaultMessage:"Audit log"},privateTeamspaces:{id:"SpaceSubscriptionPlans.includes.privateTeamspaces",defaultMessage:"Private Teamspaces"},bulkPdfExport:{id:"SpaceSubscriptionPlans.includes.bulkPdfExport",defaultMessage:"Bulk PDF export"},customerSuccessManager:{id:"SpaceSubscriptionPlans.includes.customerSuccessManager",defaultMessage:"Customer success manager"}}),c={ai:{imageByMode:{light:n.Z.images.pricing.aiLogoPng,dark:n.Z.images.pricing.aiLogoPng},originalImage:{path:n.Z.images.pricing.aiLogoPng,width:100,height:100},planTitle:l.a.ai,highlights:[],highlightsWhenComparedWithPlanBelow:[]},free:{imageByMode:{dark:n.Z.images.pricing.dark.freePlanPng,light:n.Z.images.pricing.light.freePlanPng},originalImage:{path:n.Z.images.pricing.original.freePng,width:108,height:146},planTitle:l.a.freePlan,highlights:[d.unlimitedBlocksForIndividuals,d.collaborativeWorkspace,d.integrations,d.pageHistory7Days,d.guests10],highlightsWhenComparedWithPlanBelow:[]},personal:{imageByMode:{light:n.Z.images.pricing.light.plusPlanPng,dark:n.Z.images.pricing.dark.plusPlanPng},originalImage:{path:n.Z.images.pricing.original.plusPng,width:163,height:168},planTitle:l.a.plusPlan,highlights:[d.integrations,d.unlimitedFileUploads,d.pageHistory30Days,d.guests100],highlightsWhenComparedWithPlanBelow:[]},student:{imageByMode:{light:n.Z.images.pricing.light.freePlanPng,dark:n.Z.images.pricing.dark.freePlanPng},originalImage:{path:n.Z.images.pricing.original.freePng,width:108,height:146},planTitle:l.a.educationPlusPlan,highlights:[d.unlimitedBlocksForIndividuals,d.integrations,d.pageHistory30Days,d.guests100],highlightsWhenComparedWithPlanBelow:[]},plus:{imageByMode:{light:n.Z.images.pricing.light.plusPlanPng,dark:n.Z.images.pricing.dark.plusPlanPng},originalImage:{path:n.Z.images.pricing.original.plusPng,width:163,height:168},planTitle:l.a.plusPlan,highlights:[d.collaborativeWorkspace,d.integrations,d.unlimitedBlocksForTeams,d.unlimitedFileUploads,d.pageHistory30Days,d.guests100],highlightsWhenComparedWithPlanBelow:[]},business:{imageByMode:{light:n.Z.images.pricing.light.businessPlanPng,dark:n.Z.images.pricing.dark.businessPlanPng},originalImage:{path:n.Z.images.pricing.original.businessPng,width:122,height:146},planTitle:l.a.businessPlan,highlights:[d.samlSSO,d.privateTeamspaces,d.bulkPdfExport,d.pageHistory90Days,d.guests250],highlightsWhenComparedWithPlanBelow:[]},enterprise:{imageByMode:{light:n.Z.images.pricing.light.enterprisePlanPng,dark:n.Z.images.pricing.dark.enterprisePlanPng},originalImage:{path:n.Z.images.pricing.original.enterprisePng,width:197,height:206},planTitle:l.a.enterprisePlan,highlights:[d.samlSSO,d.privateTeamspaces,d.bulkPdfExport,d.pageHistoryUnlimited,d.guestsCustom,d.userProvisioning,d.advancedSecurityControls,d.auditLog,d.customerSuccessManager],highlightsWhenComparedWithPlanBelow:[]}};function u(e){var t;const{tier:i,mode:n,onlyShowAddOn:s}=e,l=null===(t=c[i])||void 0===t||null===(t=t.imageByMode)||void 0===t?void 0:t[n];return s?(0,o.jsx)(r.U,{size:45}):void 0!==l?(0,o.jsx)("img",{role:"presentation",src:l,style:{width:40}}):(0,a.C)({width:34,height:34,marginBottom:14})}},38866:(e,t,i)=>{i.d(t,{m:()=>l});var n=i(67294),a=i(480),s=i(54642),r=i(3751);function l(e){const t=(0,a.O7)(),[i,l]=(0,n.useState)(),o=(0,r.$)(e);return(0,n.useEffect)((()=>{!async function(){if(!o)return!1;const e=await s.getCustomerOffer(t,{customerId:o,offerType:"add_on_upgrade_flow"});if("failed"===e.type)return!1;l("ai_fifty_percent"===e.data.coupon)}()}),[t,o]),i}},3751:(e,t,i)=>{i.d(t,{$:()=>s});var n=i(86628),a=i(88893);function s(e){return(0,n.VK)((()=>a.KU(e.state)),[e])}},39343:(e,t,i)=>{i.d(t,{Fk:()=>l,U6:()=>d,nx:()=>o});var n=i(30120),a=i(13991),s=i(7057),r=i(95477);function l(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=n.ou.now().toSeconds()}function o(e){const t=function(e){if(!l(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=n.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,s.Yx)(t,"long",a.SP):void 0}function d(e){return e?r.default.trials[e.id].duration:r.default.trials.default.duration}},14581:(e,t,i)=>{i.d(t,{h:()=>n});const n=(0,i(45238).CZ)("exclamationMarkTriangle",{default:{loader:()=>i.e(5187).then(i.bind(i,15187)),size:20},small:{loader:()=>i.e(9250).then(i.bind(i,79250)),size:16},mini:{loader:()=>i.e(3173).then(i.bind(i,93173)),size:14},large:{loader:()=>i.e(3339).then(i.bind(i,43339)),size:24}})},77058:(e,t,i)=>{i.d(t,{$:()=>s});i(67294);var n=i(45238),a=i(85893);const s=(0,n.IU)("checkmark",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})},16880:(e,t,i)=>{i.d(t,{R:()=>s});i(67294);var n=i(45238),a=i(85893);const s=(0,n.IU)("chevronUpRounded",{viewBox:"0 0 15 9",svg:(0,a.jsx)("path",{d:"M1.258 6.5L7.203.422a.946.946 0 01.719-.32.99.99 0 01.726.32L14.586 6.5a.89.89 0 01.266.648c0 .524-.407.93-.922.93a.921.921 0 01-.672-.281L7.93 2.32 2.586 7.797a.926.926 0 01-.672.281.915.915 0 01-.922-.93c0-.25.094-.476.266-.648z"})})},70954:(e,t,i)=>{i.d(t,{C:()=>s});i(67294);var n=i(45238),a=i(85893);const s=(0,n.IU)("notionLogoStroked",{viewBox:"0 0 41 42",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"})]})})},18174:(e,t,i)=>{i.d(t,{$:()=>a,K:()=>s});var n=i(1898);const a=["free","plus","business","enterprise"];function s(e){switch(e){case"free":case"personal_free":case"team_free":return"free";case"student":case"personal":case"plus":case"business":case"enterprise":return e;default:(0,n.t1)(e)}}}}]);