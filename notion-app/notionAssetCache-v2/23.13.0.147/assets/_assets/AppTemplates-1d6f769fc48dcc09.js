"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7310],{54885:(e,t,i)=>{i.d(t,{X3:()=>s,XD:()=>l,XE:()=>n,d_:()=>a});var r=i(97978),o=i(77080);function n(e,t){r.j(e,"app_preset_selection_shown",t),o.default.logEvent("app_preset_selection_shown",t.app_uri,t)}function s(e,t){r.j(e,"onboarding_app_selection",t),o.default.logEvent("onboarding_app_selection",t.preset,t)}function a(e,t){r.j(e,"app_preset_selection",t),o.default.logEvent("app_preset_selection",t.preset_uri,t)}function l(e,t){r.j(e,"app_preset_accepted",t),o.default.logEvent("app_preset_accepted",t.preset_uri,t)}},39849:(e,t,i)=>{i.d(t,{N:()=>l,Z:()=>d});i(67294);var r=i(24405),o=i(31701),n=i(37810),s=i(85893);const a={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:n.Z.fontWeight.semibold,borderRadius:4,color:o.ZP.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let l=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});const d=function(e){let{count:t,color:i,style:o,numberStyle:n}=e;const d=(0,r.Fg)(),u=i===l.Red;return!t||t<=0?null:(0,s.jsx)("div",{style:{...a,...o,...t>99&&{width:void 0,padding:2},background:u?d.redBadgeBackground:d.lightIconColor},children:(0,s.jsx)(c,{count:t,numberStyle:n})})};function c(e){let{count:t,numberStyle:i}=e;return t?1===t?(0,s.jsx)("span",{style:{marginLeft:-.5,...i},children:"1"}):t>99?(0,s.jsx)("span",{style:{letterSpacing:-.5,...i},children:"99+"}):t>9?(0,s.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...i},children:t}):(0,s.jsx)("span",{style:{...i},children:t}):null}},17202:(e,t,i)=>{i.r(t),i.d(t,{getMobilePreviewTemplates:()=>p,getSuggestedTemplatesForSearch:()=>u});var r=i(84465),o=i(73314),n=i(8055),s=i(33929),a=i(27249),l=i(94660),d=i(77080),c=i(65435);function u(e){const{persona:t,environment:i}=e,r=s.default.getIntl();return(0,a.ay)(d.default,t).map((e=>{const t=(0,o.G)(e,r);return{name:t.name,icon:e.emoji||e.icon||void 0,onClick:()=>{(e=>{const t=(0,l.W4)({templateGalleryItem:e.rootId});n.c4({environment:i,url:t})})(t)}}}))}function p(e){return Object.entries((0,c.it)(e)).map((e=>{let[t,i]=e;return{category:t,sectionHeaderMessage:r._5[t],templates:i}}))}},1927:(e,t,i)=>{i.r(t),i.d(t,{AppInitializationOverlay:()=>R});var r=i(67294),o=i(13991),n=i(480),s=i(86628),a=i(24405),l=i(41612),d=i(95538),c=i(77058),u=i(21202),p=i(75246),g=i(29369),h=i(51454),f=i(9291),m=i(37810),v=i(54885),x=i(4617),b=i(13447),y=i(88833),S=i(86095),w=i(34517),C=i(74927),k=i(40663),j=i(28020),Y=i(24646),B=i(80444),I=i(82136),T=i(6258),V=i(64921),L=i(62896),M=i(28451),P=i(68785),Z=i(58297),_=i(31192),W=i(44332),E=i(85893);function R(e){var t;const{collectionViewBlockStore:i}=e,R=(0,n.O7)(),A=(0,a.yK)((e=>({overlay:{position:"absolute",top:0,left:0,overflow:"visible",height:"100vh",width:"100%",zIndex:h.mJ,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:e.sidebarBackground,borderLeft:`1px solid ${e.lightDividerColor}`},welcome:{maxWidth:375,minWidth:320,maxHeight:"100%",flex:1,display:"flex",flexDirection:"column",alignItems:"stretch",marginLeft:"10%",marginRight:"10%",padding:"64px 16px"},welcomeLogo:{height:48,width:48},welcomeTitle:{marginTop:24,color:e.regularTextColor,fontFamily:m.Z.getHeaderFontFamily({locale:o.SP}),fontWeight:m.Z.fontWeight.bold,fontSize:28,flex:0,display:"flex",flexDirection:"row",alignItems:"center"},welcomeSubtitle:{marginTop:6,fontSize:18,color:e.mediumTextColor,fontWeight:400,flex:0},presets:{marginTop:32,marginBottom:32,gap:12,display:"flex",flexDirection:"column"},presetSelected:{background:"dark"===e.mode?e.popoverBackground:e.buttonBackground,boxShadow:e.outlineBlueInputBoxShadow},presetSelectedCheckmark:{width:24,height:24,color:e.blueButtonBackground,opacity:0,transform:"scale(0.8)",transition:"all 0.2s ease"},presetSelectedCheckmarkShown:{opacity:1,transform:"scale(1)"},preset:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",padding:"16px 14px 16px 16px",background:"dark"===e.mode?e.accentColors.gray[200]:e.buttonBackground,borderRadius:7,boxShadow:e.elevatedButtonBoxShadow,cursor:"pointer",transition:"box-shadow 0.1s ease, background 0.1s ease"},scroller:{overflow:"auto",padding:4},presetHovered:{background:"dark"===e.mode?e.accentColors.gray[200]:e.accentColors.gray[30]},presetTextContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",flex:1},presetIcon:{flexShrink:0,marginTop:2,marginBottom:2,width:20,height:20,marginRight:12},presetTitle:{color:e.regularTextColor,fontWeight:m.Z.fontWeight.medium,fontSize:14,marginBottom:1},presetSubtitle:{color:e.mediumTextColor,fontWeight:m.Z.fontWeight.regular,fontSize:14},previewContainer:{flex:1,overflow:"auto",height:"70%",borderRadius:"8px 0 0 8px",border:e.lightDividerColor,boxShadow:e.largeLightBoxShadow,background:e.popoverBackground},previewImage:{width:"100%",height:"100%"},actionButton:{flex:0,zIndex:h.mJ+1},hamburgerButton:{position:"absolute",zIndex:h.mJ+1,margin:5}})),[]),[D,z]=r.useState(!1),F=(0,s.VK)((()=>B.default.state.currentSpaceViewStore),[]),H=(0,s.VK)((()=>{const e=i.getFormatStore().getKeyStore("app_config_uri").getValue();if(!e)return;return(0,k.Wo)((0,w.appConfigs)(),e)}),[i]),[U,O]=r.useState(void 0);r.useEffect((()=>{O(i.getFormatStore().getKeyStore("app_template_preset").getValue())}),[i,O]);const K=(0,s.VK)((()=>{var e;return(null==H||null===(e=H.presets)||void 0===e?void 0:e.filter((e=>"core"===e.type)))??[]}),[null==H?void 0:H.presets]),[G,N]=r.useState(U);r.useEffect((()=>{N(U)}),[U,N]),r.useEffect((()=>{H&&v.XE(R,{app_uri:H.uri})}),[H,R]);const X=r.useMemo((()=>null==H?void 0:H.presets.find((e=>e.uri===U))),[H,U]),$=r.useMemo((()=>{if(H&&X&&H.uri===l.Vr)return(0,C.L)(X)}),[H,X]),J=r.useMemo((()=>{if(!H)return;const t={};return H.presets.forEach((i=>{var r;const o=H.uri===l.Vr?(0,C.L)(i):null===(r=i.previews)||void 0===r?void 0:r.find((e=>"previewRootId"in e));o&&(t[i.uri]=T.G.createChildStore(e.collectionViewBlockStore,{id:o.previewRootId,table:u.iU,spaceId:o.spaceId}))})),t}),[H,e.collectionViewBlockStore]),q=(0,s.VK)((()=>{const e=(0,j.ui)(R);return{left:e,right:e,bottom:_.ZP.paddingBottom(R),coverHeight:_.ZP.defaultPageCoverHeight(R)}}),[R]),Q=(0,s.VK)((()=>{var e;const t=null==X||null===(e=X.previews)||void 0===e?void 0:e.find((e=>"url"in e&&!(0,d.xL)(e)));if(t&&"url"in t)return t.url}),[null==X?void 0:X.previews]),ee=(0,s.VK)((()=>R.device.isPhone),[R]),te=(0,s.VK)((()=>!!R.device.isMobileBrowser||!R.device.isMobileNative&&!(0,Y.in)(R)),[R]);return r.useEffect((()=>{"rendered"!==B.default.state.renderPhase&&B.default.setState({...B.default.state,renderPhase:"rendered"})}),[]),H?(0,E.jsxs)(M.P,{calloutId:"better_template_initialization",children:[te&&(0,E.jsx)("div",{style:A.hamburgerButton,children:(0,E.jsx)(W.Z,{})}),(0,E.jsxs)("div",{style:A.overlay,children:[(0,E.jsxs)("div",{style:A.welcome,children:[(0,E.jsxs)("div",{style:A.scroller,children:[(0,E.jsx)("div",{style:A.welcomeLogo,children:(0,E.jsx)("img",{src:H.logo,style:{height:"100%",width:"100%"}})}),(0,E.jsx)("div",{style:A.welcomeTitle,children:H.welcomeTitle??(0,E.jsx)(f.FormattedMessage,{id:"apps.AppInitializationOverlay.welcomeTitle.default",defaultMessage:"Welcome to {appName}",values:{appName:H.name}})}),(0,E.jsx)("div",{style:A.welcomeSubtitle,children:H.welcomeSubtitle??""}),(0,E.jsx)("div",{style:A.presets,children:K.map(((e,t)=>{var i;const r=null!==(i=e.icon)&&void 0!==i&&i.startsWith("/")?(0,E.jsx)("img",{src:e.icon,style:{height:"100%",width:"100%"}}):(0,E.jsx)(L.Z,{children:e.icon??""});return(0,E.jsxs)(V.Z,{style:{height:"auto",...A.preset,...U===e.uri?A.presetSelected:{}},disabled:D,hoveredStyle:A.presetHovered,onClick:()=>{O(e.uri),v.d_(R,{preset_uri:e.uri})},onMouseEnter:R.device.isMobile?void 0:()=>N(e.uri),onMouseLeave:R.device.isMobile?void 0:()=>N(U),children:[(0,E.jsx)("div",{style:A.presetIcon,children:r}),(0,E.jsxs)("div",{style:A.presetTextContainer,children:[(0,E.jsx)("div",{style:A.presetTitle,children:e.name}),(0,E.jsx)("div",{style:A.presetSubtitle,children:e.description})]}),(0,E.jsx)("div",{children:(0,c.$)({...A.presetSelectedCheckmark,...U===e.uri?A.presetSelectedCheckmarkShown:void 0})})]},t)}))})]}),(0,E.jsx)("div",{style:{padding:`0 4px ${R.device.isIOS?"32px":0} 4px`,alignSelf:"stretch"},children:(0,E.jsxs)(Z.Z,{style:{alignSelf:"stretch",height:36,width:"100%"},disabled:D,onClick:async()=>{if(U){if(z(!0),$){const{currentSpaceStore:t,currentSpaceViewStore:i}=B.default.state;t&&i&&await x.Lf({environment:R,item:$,isPrivate:!1,spaceStore:t,spaceViewStore:i,useMinimalTemplates:!1,initializeStore:e.collectionViewBlockStore})}else{const t=e.collectionViewBlockStore.getParentStore();!t||t.table!==p.bx&&t.table!==g.e0&&t.table!==u.iU||b.createAndCommit({userAction:"initializeApp",environment:R,perform:i=>{if(F){const r=y.initializeApp({environment:R,spaceViewStore:F,appUri:H.uri,presetUri:U,appParentStore:t,temporaryContainerBlockStore:e.collectionViewBlockStore,transaction:i,from:"app_onboarding"});y.markTasksDatabaseTemplateIfNeeded(r),S.createSprintPage({environment:R,spaceViewStore:F,appParentStore:t,transaction:i,blockStores:r,creationEntryPoint:{type:"preset",presetUri:U}})}}})}v.XD(R,{preset_uri:U})}},children:[(0,E.jsx)(f.FormattedMessage,{id:"apps.AppInitializationOverlay.startButton",defaultMessage:"Get started"}),D&&(0,E.jsx)(P.Z,{style:{marginLeft:5},isWhite:!0})]})})]}),!ee&&(0,E.jsx)("div",{style:A.previewContainer,children:J&&G&&J[G]?(0,E.jsxs)("div",{style:{width:"108%",minWidth:900,height:"auto",minHeight:"100%",position:"relative",paddingTop:$?0:"10%"},children:[(0,E.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:1,zIndex:999}}),(0,E.jsx)(_.ZP,{store:J[G],context:I.S.InAppTemplatePreview,titleStyle:{fontSize:28},paddingBottom:q.bottom,disabled:!0},null===(t=J[G])||void 0===t?void 0:t.id)]}):(0,E.jsx)("img",{src:Q,style:A.previewImage})})]})]}):null}},99134:(e,t,i)=>{i.r(t),i.d(t,{AppsSetup:()=>E});var r=i(67294),o=i(13991),n=i(480),s=i(86628),a=i(24405),l=i(66673),d=i(21202),c=i(9291),u=i(53965),p=i(37810),g=i(54885),h=i(88833),f=i(34517),m=i(74927),v=i(40663),x=i(28020),b=i(55081),y=i(75538),S=i(18245),w=i(80444),C=i(82136),k=i(6258),j=i(68785),Y=i(58297),B=i(31192),I=i(64275),T=i(75071),V=i(98519),L=i(64921),M=i(85893);function P(e){const{appTemplate:t,isSelected:i}=e,[o,n]=(0,r.useState)(!1),l=(0,s.VK)((()=>(0,v.iX)((0,f.appConfigs)(),t.uri)),[t.uri]),d=(0,a.yK)((e=>({container:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},appButton:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:62,height:62,backgroundColor:e.whiteButtonBackground,boxShadow:e.lightBoxShadow,borderRadius:12,background:"dark"===e.mode?e.accentColors.gray[200]:e.whiteButtonBackground},selectedWrapper:{boxShadow:e.outlineBlueInputBoxShadow,background:"dark"===e.mode?e.accentColors.gray[200]:e.buttonBackground},logo:{width:32,height:32},logoSelected:{filter:"invert(41%) sepia(77%) saturate(2017%) hue-rotate(191deg) brightness(93%) contrast(89%)"},badge:{width:26,height:26,display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:e.invoiceGreen,borderRadius:50,position:"absolute",top:-9,right:-9,border:`2px solid ${e.sidebarBackground}`,webkitBackdropFilter:"blur(12px)",opacity:1,transform:"scale(1)",transition:"opacity 0.2s ease, transform 0.2s ease, background-color 0.1s linear"},selectBadge:{backgroundColor:e.invoiceGreen},selectedBadge:{backgroundColor:e.blueButtonBackground},deselectBadge:{backgroundColor:e.redBadgeBackground},appName:{marginTop:8,fontSize:14,fontWeight:500,textAlign:"center"},buttonBadgeIcon:{width:16,height:16,fill:"white"}})),[]),c=(0,r.useCallback)((()=>{i?e.onDeSelect(t.uri):e.onSelect(t.uri),n(!1)}),[t.uri,i,e]);return(0,M.jsxs)("div",{style:d.container,onMouseEnter:()=>{n(!0),e.onHover()},onMouseLeave:()=>{n(!1),e.onUnhover()},children:[(0,M.jsx)(L.Z,{style:{...d.appButton,...i?d.selectedWrapper:{}},onClick:c,ignoreLocalHoverState:!0,children:(0,M.jsx)("img",{style:{...d.logo,...i?d.logoSelected:{}},src:l?l.logo:t.icon})}),(0,M.jsx)(L.Z,{style:{...d.badge,...i?o?d.deselectBadge:d.selectedBadge:o?d.selectBadge:{opacity:0,transform:"scale(0.4)"}},onClick:c,ignoreLocalHoverState:!0,children:i?o?(0,I.D)({width:16,height:16,fill:"white"}):(0,V.k)({width:15,height:15,fill:"white"}):(0,T.f)({width:16,height:16,fill:"white"})}),(0,M.jsx)("div",{style:d.appName,children:l?l.name:t.shortName})]})}const Z=u.oA(f.DEFAULT_PRESETS.map((e=>{var t;return null===(t=(0,v.iX)((0,f.appConfigs)(),e))||void 0===t?void 0:t.presets.find((t=>t.uri===e))})));function _(e){const t=(0,n.O7)(),i=(0,s.VK)((()=>{const e=(0,x.ui)(t);return{left:e,right:e,bottom:B.ZP.paddingBottom(t),coverHeight:B.ZP.defaultPageCoverHeight(t)}}),[t]),o=r.useMemo((()=>{const e={};return Z.forEach((i=>{var r;const o=i.uri.startsWith("notion://wiki")?(0,m.L)(i):null===(r=i.previews)||void 0===r?void 0:r.find((e=>"previewRootId"in e));o&&(e[i.uri]=new k.G(t,{id:o.previewRootId,table:d.iU,spaceId:o.spaceId}))})),e}),[t]),a=e.presetUri.startsWith("notion://wiki"),l=o[e.presetUri];return l?(0,M.jsxs)("div",{style:{minWidth:900,height:"100%",position:"relative",paddingTop:a?0:"10%"},children:[(0,M.jsx)(B.ZP,{store:l,context:C.S.InAppTemplatePreview,titleStyle:a?{fontSize:28}:void 0,paddingBottom:i.bottom,disabled:!0},l.id),(0,M.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:1,zIndex:999,cursor:"pointer"}})]}):null}function W(e){const t=(0,r.useCallback)(((e,t)=>(e%t+t)%t),[]),i=(0,l.Kt)(e.forceIndex,200,((e,t)=>e===t)),[o,n]=(0,r.useState)(0);(0,r.useEffect)((()=>{if(void 0===i)return;const r=t(-o,e.items.length),s=t(i-r,e.items.length);n((e=>e-s))}),[o,n,i,t,e.items.length]),(0,r.useEffect)((()=>{const t=setInterval((()=>{void 0===i&&n((e=>e-1))}),e.rotationDelayMs??2500);return()=>{clearInterval(t)}}),[n,i,e.rotationDelayMs]);const s=(0,a.yK)((e=>({item:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"white",borderRadius:"8px 0 0 8px",border:"1px solid rgba(0, 0, 0, 0.05)",boxShadow:"0px 16px 24px rgba(0, 0, 0, 0.06), 0px 2px 6px rgba(0, 0, 0, 0.04), 0px 0px 1px rgba(0, 0, 0, 0.04)",overflow:"hidden",transition:"transform 0.5s ease-in-out, opacity 0.5s ease-out"}})),[]),d=e.items.length,c=t(-o,d),p=e.items[t(c-1,d)].node,g=e.items[c].node,h=[...u.DZ(d,(e=>({key:`before${e}`,node:null}))),...e.items,...u.DZ(d,(e=>({key:`after${e}`,node:null})))],f=h.map(((i,r)=>{let{key:n}=i;const a=t(r+o,h.length),l=a>=d&&a<2*d,c=`translateX(${(a-d)*(e.offset??12)}px) translateY(${(a-d)*(e.offset??16-1.5*(a-d))}px)`,u=l?1-.15*(a-d):0;return(0,M.jsx)("div",{style:{...s.item,zIndex:h.length-a,transform:c,opacity:u},children:a===d?g:a===d-1?p:void 0},n)}));return(0,M.jsx)("div",{style:{position:"relative",...e.style},children:f})}function E(e){const[t]=(0,s.AF)(y.default),{currentUserRootStore:i,currentSpaceViewStore:l,currentSpaceStore:d,currentUserSettingsStore:f}=(0,s.VK)((()=>{const{currentUserRootStore:e,currentSpaceViewStore:t,currentSpaceStore:i,currentUserSettingsStore:r}=w.default.state;return{currentUserRootStore:e,currentSpaceViewStore:t,currentSpaceStore:i,currentUserSettingsStore:r}}),[]),m=(0,n.O7)(),[v,x]=(0,r.useState)(!1),[C,B]=(0,r.useState)(void 0),I=(0,a.yK)((e=>({container:{backgroundColor:e.sidebarBackground,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",borderLeft:`1px solid ${e.lightDividerColor}`},left:{maxWidth:375,minWidth:320,maxHeight:"100%",flex:1,display:"flex",flexDirection:"column",alignItems:"stretch",marginLeft:"10%",marginRight:"10%",padding:"42px 16px",overflowX:"visible",overflowY:"auto"},right:{flex:1,height:"70%",overflow:"visible"},header:{position:"relative",textAlign:"left",paddingBottom:42},title:{fontWeight:p.Z.fontWeight.semibold,fontSize:28,lineHeight:1.2,color:e.regularTextColor,fontFamily:p.Z.getHeaderFontFamily({locale:o.SP}),marginBottom:16,width:"90%"},subtitle:{fontSize:18,lineHeight:1.45,paddingTop:2,color:e.mediumTextColor,fontWeight:p.Z.fontWeight.regular},apps:{marginBottom:48,display:"inline-flex",flexWrap:"wrap",justifyContent:"space-between"},previewImage:{width:"100%",height:"100%"}})),[]),T=(0,s.VK)((()=>m.device.isPhone),[m]);if(!l||!i||!f)return null;if(!t.isOnboarding||"workspace_setup"!==t.stage)return null;const V=e=>{const i=u.jj([...t.selectedPresets,e]),r=u.MR(i,(e=>Z.findIndex((t=>t.uri===e))));y.default.setState({...t,selectedPresets:r}),g.X3(m,{action:"select",preset:e})},L=e=>{const i=t.selectedPresets.filter((t=>t!==e));y.default.setState({...t,selectedPresets:i}),g.X3(m,{action:"deselect",preset:e})},E=t.selectedPresets.length>0?t.selectedPresets:Z.map((e=>e.uri)),R=E.findIndex((e=>(null==C?void 0:C.uri)===e)),A=(0,M.jsx)(W,{style:{width:"100%",height:"100%"},items:E.map((e=>({key:e,node:(0,M.jsx)(_,{presetUri:e})}))),forceIndex:R>-1?R:void 0});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{style:I.container,children:[(0,M.jsx)("div",{style:I.left,children:(0,M.jsxs)("div",{style:{display:"flex",alignItems:"stretch",flexDirection:"column"},children:[(0,M.jsxs)("div",{style:I.header,children:[(0,M.jsx)("div",{style:I.title,children:(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.header.title",defaultMessage:"Get started with Notion"})}),(0,M.jsx)("div",{style:I.subtitle,children:(0,M.jsx)("div",{children:(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.header.description",defaultMessage:"Add templates to your workspace, and customize them in a few simple steps."})})})]}),(0,M.jsx)("div",{style:I.apps,children:Z.map(((e,i)=>(0,M.jsx)(P,{appTemplate:e,isSelected:t.selectedPresets.includes(e.uri),onSelect:V,onDeSelect:L,onHover:()=>B(e),onUnhover:()=>B(void 0)},i)))}),t.selectedPresets.length>0?(0,M.jsx)(Y.Z,{isLarge:!0,style:{height:40},onClick:async()=>{var e;if(!d||!l)return;x(!0);const i=S.default.mark("continue_with_apps"),r=null===(e=l.getTeamsStores()[0])||void 0===e?void 0:e.id,o=k.zX.createChildStore(d,{table:"team",id:r,spaceId:d.id}),n=l.getCreatedOnboardingTemplates()?[]:await h.installAppsInTeam({environment:m,presets:t.selectedPresets,spaceStore:d,spaceViewStore:l,teamStore:o});n.length>0&&(t.redirectData={type:"redirect_page",pageId:n[0].id,spaceId:d.id},y.default.setState(t)),await b.lp(m,t),S.default.measure(i,{environment:m,data:{appsSelected:t.selectedPresets}})},disabled:v,children:v?(0,M.jsx)(j.Z,{isWhite:!0}):(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.button.continueWithChosenApps",defaultMessage:"{num, plural, one {Continue with 1 template} other {Continue with {num} templates}}",values:{num:t.selectedPresets.length}})}):(0,M.jsx)(Y.Z,{isLarge:!0,style:{height:40},onClick:async()=>{x(!0),await b.lp(m,t)},disabled:v,children:v?(0,M.jsx)(j.Z,{isWhite:!0}):(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.button.continueWithoutChoosingApps",defaultMessage:"I'll add templates later"})})]})}),!T&&(0,M.jsx)("div",{style:I.right,children:A})]})})}},92955:(e,t,i)=>{i.d(t,{Z:()=>l});i(67294);var r=i(86628),o=i(1898),n=i(19034),s=i(39849),a=i(85893);function l(e){const{type:t,...i}=e,l=(0,r.VK)((()=>{switch(t){case"currentSpace":return n.Z.getUnreadCountForCurrentSpace().mentions;case"otherSpaces":return n.Z.getUnreadMentionsCountForOtherSpaces();case"allSpaces":return n.Z.getTotalUnreadMentionsCount();default:(0,o.t1)(t)}}),[t]);return(0,a.jsx)(s.Z,{count:l,...i})}},44332:(e,t,i)=>{i.d(t,{Z:()=>C});i(67294);var r=i(480),o=i(86628),n=i(24405),s=i(7525),a=i(63261),l=i(9291),d=i(43250),c=i(61931),u=i(74948),p=i(38676),g=i(80444),h=i(23063),f=i(64921),m=i(73063),v=i(58261),x=i(26388),b=i(39849),y=i(92955),S=i(54338),w=i(85893);function C(e){const t=(0,r.O7)(),i=(0,l.useIntl)(),C=(0,r.MO)(),k=(0,o.VK)((()=>{var e;return Boolean(null===(e=g.default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.hasCover())}),[]),j=(0,o.VK)((()=>p.sidebarOpenStore.state),[]),Y=(0,n.yK)((t=>({root:{flexShrink:0,width:48,height:48,margin:-12,padding:12,marginRight:-6},hamburgerButton:{position:"absolute",top:0,left:0,willChange:"opacity",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:4,...e.isFloatingButton?{...(0,c.Er)({theme:t,isPhone:C,buttonState:"base",hasCover:k}),width:28}:{}},sidebarButton:{position:"absolute",top:0,left:0,willChange:"opacity",...e.isFloatingButton?{...(0,c.Er)({theme:t,isPhone:C,buttonState:"base",hasCover:k}),width:28}:{}},svg:{width:16,height:16,fill:t.regularIconColor,...e.isFloatingButton?{width:12,height:12}:{}},chevron:{...e.isFloatingButton?{width:14,height:14}:{width:16,height:16}},keyboardShortcut:{color:t.mediumInvertedTextColor},mentionBadge:{position:"absolute",top:-1,right:-4,...e.isFloatingButton?{top:-4}:{}}})),[k,C,e.isFloatingButton]),B=i.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return(0,w.jsx)(S.o,{style:Y.root,children:(0,w.jsxs)("div",{style:{position:"relative"},children:[(0,w.jsx)(h.Z,{isVisible:!0,animationStyle:{opacity:j?0:1},render:()=>(0,w.jsxs)(f.Z,{style:Y.hamburgerButton,children:[(0,a._)(Y.svg),(0,w.jsx)(y.Z,{type:"allSpaces",color:b.N.Red,style:Y.mentionBadge})]})}),(0,w.jsx)(h.Z,{isVisible:!0,animationStyle:{opacity:j?1:0},render:()=>(0,w.jsx)(x.ZP,{renderTooltip:()=>(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{children:B}),(0,w.jsx)(v.Z,{style:Y.keyboardShortcut,name:"toggleSidebar"})]}),placement:x.ug.Right,alignment:x.v2.Start,delayThreshold:0,originGap:6,render:e=>(0,w.jsx)(m.Z,{ariaLabel:B,icon:s.t,style:Y.sidebarButton,hoveredStyle:Y.sidebarButton,iconStyle:Y.chevron,isDarkIconColor:!0,onClick:()=>u.setExpand({environment:t,isExpanded:!0,from:"topbar_sidebar_button"}),className:d.exn,...e})})})]})})}},54338:(e,t,i)=>{i.d(t,{o:()=>a});i(67294);var r=i(12534),o=i(74948),n=i(38676),s=i(85893);function a(e){let{children:t,style:i}=e;const a=e=>{(0,r.ZP)({event:e,context:r.Af.SidebarMouseMove,callback:()=>{const t=e.currentTarget.getBoundingClientRect();n.sidebarMousePeekXStore.setState(t.right),o.open({fromElectron:!1})}})};return(0,s.jsx)("div",{onMouseEnter:a,onMouseMove:a,style:i,children:t})}},36420:(e,t,i)=>{i.d(t,{n:()=>l,y:()=>a});i(21703);var r=i(67294),o=(i(77744),i(26249));let n,s;function a(e){n=n??new Map,s=s??function(e){let t=!1,i=[];return new ResizeObserver((r=>{i=i.concat(r),t||(t=!0,window.requestAnimationFrame((()=>{const r=new Set;[...i].reverse().filter((e=>{const t=r.has(e.target);return r.add(e.target),!t})).forEach((t=>{const i=e.get(t.target);null==i||i.forEach((e=>{const i=t.borderBoxSize[0];e({width:i.inlineSize,height:i.blockSize})}))})),i=[],t=!1})))}))}(n);const[t,i]=(0,r.useState)(void 0),a=(0,r.useCallback)((e=>{i((t=>(0,o.Z)(t,e)?t:e))}),[]);return(0,r.useLayoutEffect)((()=>{const t=e.current;if(!t)return;s.observe(t);const i=[...n.get(t)??[],a];return n.set(t,i),()=>{s.unobserve(t);const e=(n.get(t)??[]).filter((e=>e!==a));0===e.length?n.delete(t):n.set(t,e)}}),[a,e]),t}function l(e){const{children:t,onSizeChange:i}=e,o=(0,r.useRef)(null),n=a(o);(0,r.useEffect)((()=>{i&&n&&i(n)}),[n,i]);const s=r.Children.only(t);return r.cloneElement(s,{ref:o})}},27249:(e,t,i)=>{i.d(t,{CN:()=>d,H_:()=>a,ay:()=>l});var r=i(11002),o=i(84465),n=i(94952),s=i(73314);function a(e){let{persona:t,defaultToLife:i}=e;if(!t)return;if(t in o._5)return t;const r={customer_support:"support",designer:"design",educator:"student",entrepreneur:"hr",freelancer:"design",hr_recruiting:"hr",it:"eng",marketing_sales:"marketing",media:"marketing",operations:"hr",operations_hr:"hr",personal:"life",product_manager:"product",programmer:"eng",other:i?"life":void 0,unfilled:i?"life":void 0,undefined:i?"life":void 0,creative:"design",founderCeo:"hr",internalCommunication:"hr",productDesign:"design",projectProgramMgmt:"product",finance:void 0,itAdmin:"eng",knowledgeManagement:"hr"};return(null==r?void 0:r[t])??void 0}function l(e,t){const i=a({persona:t,defaultToLife:!0});return(i?null==c?void 0:c[i]:[]).filter((t=>(0,n.G)(t,e)))}function d(e,t,i){return function(e,t){const i=a({persona:e,defaultToLife:!1});return(i?null===o.J9||void 0===o.J9?void 0:o.J9[i]:[]).filter((e=>(0,n.G)(e,t)))}(e,t).map((e=>(0,s.G)(e,i)))}const c={...o.J9,design:[r.Y.designSprint,r.Y.designPortfolio],product:[r.Y.productSpec,r.Y.productWiki,r.Y.visionAndStrategy],marketing:[r.Y.blogEditorialCalendar,r.Y.socialMediaCalendar,r.Y.presentation],hr:[r.Y.companyHome,r.Y.employeeBenefits,r.Y.peopleDirectory],sales:[r.Y.salesWiki,r.Y.presentation,r.Y.oneOnOneNotes],support:[],life:[]}},65435:(e,t,i)=>{i.d(t,{D2:()=>y,Io:()=>m,JL:()=>x,cY:()=>g,it:()=>v,oO:()=>h,vY:()=>b});var r=i(84465),o=i(94952),n=i(73314),s=i(9291),a=i(1898),l=i(95477),d=i(33929),c=i(27249),u=i(77080),p=i(59307);const g=(0,s.defineMessages)({addToTeamspace:{id:"templateGalleryHelpers.addToTeamspace",defaultMessage:"Add to a teamspace"},addToPrivate:{id:"teamPickerButton.addToPrivate",defaultMessage:"Add to Private"}});function h(e){var t;const{data:i}=p.Z.state;if(i&&null!==(t=i.topCategories)&&void 0!==t&&t.length)return i.topCategories.find((t=>t.id===e))}const f=Object.keys(r.J9);function m(e){let{userPersona:t,subscriptionTier:i}=e;return[...f].sort(((e,r)=>function(e,t,i,r){const o=void 0!==r&&["free","personal_free","student","personal"].includes(r),n=(0,c.H_)({persona:i,defaultToLife:o});if("suggested"===e||"suggested"===t)return"suggested"===e?-1:1;if(n===e||n===t)return n===e?-1:1;if(("life"===e||"life"===t)&&o)return"life"===e?-1:1;if(("student"===e||"student"===t)&&function(e){let{persona:t,isPersonalishPlan:i}=e;const r=i?["other","unfilled","personal","undefined"]:["personal"];return r.includes(t??"undefined")}({persona:i,isPersonalishPlan:o}))return"student"===e?-1:1;return 0}(e,r,t,i)))}function v(e){let{userPersona:t,subscriptionTier:i}=e;const s=d.default.getIntl();return Object.fromEntries(m({userPersona:t,subscriptionTier:i}).map((e=>[e,[...r.J9[e].filter((e=>(0,o.G)(e,u.default))).map((e=>(0,n.G)(e,s)))]])).filter((e=>{let[t,i]=e;return(null==i?void 0:i.length)>0})))}function x(e){const t=(0,a.Yd)(e).map((e=>[e,!0]));return Object.fromEntries(t)}function b(e){var t;const{data:i}=p.Z.state;if(!i||null===(t=i.topCategories)||void 0===t||!t.length)return;const r=i.topCategories.find((t=>{var i;return null===(i=t.subcategories)||void 0===i?void 0:i.find((t=>{var i;return null===(i=t.templates)||void 0===i?void 0:i.find((t=>"pageTemplate"===t.type&&t.template.rootId===e||"preset"===t.type&&t.uri===e))}))}));return null==r?void 0:r.id}function y(e){return`${l.default.domainBaseUrl}/@${e}`}},59307:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(49085);class o extends r.default{getInitialState(){return{}}getTopTemplateCategories(){var e;const{data:t}=this.state;return t&&null!==(e=t.topCategories)&&void 0!==e&&e.length?Array.from(t.topCategories).filter((e=>{const t=e.subcategories||[];for(const r of t){var i;if(null!==(i=r.templates)&&void 0!==i&&i.length)return!0}return!1})):[]}}const n=new o},77058:(e,t,i)=>{i.d(t,{$:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.IU)("checkmark",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})},64275:(e,t,i)=>{i.d(t,{D:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},7525:(e,t,i)=>{i.d(t,{t:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.IU)("doubleChevronRight",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.25781 14.1211C2.47656 14.1211 2.66797 14.0391 2.81836 13.8887L8.14355 8.67969C8.32812 8.49512 8.41699 8.29688 8.41699 8.06445C8.41699 7.8252 8.32812 7.62012 8.14355 7.44922L2.81836 2.24023C2.66797 2.08984 2.4834 2.00781 2.25781 2.00781C1.81348 2.00781 1.46484 2.35645 1.46484 2.80078C1.46484 3.0127 1.55371 3.21777 1.7041 3.375L6.50977 8.05762L1.7041 12.7539C1.55371 12.9043 1.46484 13.1094 1.46484 13.3281C1.46484 13.7725 1.81348 14.1211 2.25781 14.1211ZM8.36914 14.1211C8.58789 14.1211 8.77246 14.0391 8.92285 13.8887L14.2549 8.67969C14.4395 8.49512 14.5283 8.29688 14.5283 8.06445C14.5283 7.8252 14.4326 7.62012 14.2549 7.44922L8.92285 2.24023C8.77246 2.08984 8.58789 2.00781 8.36914 2.00781C7.9248 2.00781 7.56934 2.35645 7.56934 2.80078C7.56934 3.0127 7.66504 3.21777 7.81543 3.375L12.6211 8.05762L7.81543 12.7539C7.66504 12.9043 7.56934 13.1094 7.56934 13.3281C7.56934 13.7725 7.9248 14.1211 8.36914 14.1211Z"})})},63261:(e,t,i)=>{i.d(t,{_:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.IU)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},75071:(e,t,i)=>{i.d(t,{f:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.IU)("plusThick",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},84465:(e,t,i)=>{i.d(t,{J9:()=>l,_5:()=>s,gh:()=>a});var r=i(92996),o=i(11002),n=i(98251);const s={suggested:n.sY.suggestedCategory,design:n.sY.designer,eng:n.sY.engineering,product:n.sY.productManagement,marketing:n.sY.marketing,sales:n.sY.sales,support:n.sY.support,hr:n.sY.hr,life:n.sY.life,student:n.sY.student},a={suggested:[r.Ll,r.Yb,r.tt,r.KW,r.r],product:[r.tt],design:[r.Yb],eng:[r.tt],marketing:[r.Yb],hr:[r.Yb],sales:[r.Yb],support:[r.Yb],life:[],student:[]},l={suggested:[o.Y.defaultWiki],product:[o.Y.oneOnOneNotes,o.Y.productWiki,o.Y.productSpec,o.Y.visionAndStrategy,o.Y.presentation,o.Y.investorUpdate,o.Y.userResearch,o.Y.experimentResults,o.Y.brainstorm,o.Y.productLaunchBrief],design:[o.Y.designSprint,o.Y.designSystem,o.Y.designPortfolio,o.Y.userResearch,o.Y.brainstorm],eng:[o.Y.engineeringWiki,o.Y.engineeringTechSpec,o.Y.experimentResults,o.Y.brainstorm],marketing:[o.Y.presentation,o.Y.brandAssets,o.Y.brainstorm,o.Y.contentCalendar,o.Y.blogEditorialCalendar,o.Y.socialMediaCalendar,o.Y.campaignBrief,o.Y.moodBoard,o.Y.mediaList],hr:[o.Y.companyHome,o.Y.newHireOnboarding,o.Y.employeeBenefits,o.Y.interviewGuide,o.Y.recruitingTracker,o.Y.jobBoard,o.Y.applicantTracker,o.Y.peopleDirectory],sales:[o.Y.salesWiki,o.Y.salesCRM,o.Y.salesAssets,o.Y.competitiveAnalysis],support:[o.Y.productFAQs,o.Y.helpCenter],life:[o.Y.readingListV2,o.Y.habitTrackerV2,o.Y.simpleBudgetV2,o.Y.weeklyTodoV2,o.Y.travelPlannerV2,o.Y.journalV2,o.Y.resumeV2,o.Y.personalHomeV3,o.Y.quickNoteV2,o.Y.jobApplicationsV2,o.Y.lifeWikiV2,o.Y.moodBoardV2,o.Y.blogPostV2,o.Y.personalCRMV2],student:[o.Y.studentDashboardV2,o.Y.classNotesV2,o.Y.courseScheduleV2,o.Y.gradeCalculatorV2,o.Y.cornellNotesSystemV2,o.Y.syllabusV2,o.Y.lessonPlansV2,o.Y.classDirectoryV2,o.Y.classroomHomeV2,o.Y.clubHomepageV2]}}}]);