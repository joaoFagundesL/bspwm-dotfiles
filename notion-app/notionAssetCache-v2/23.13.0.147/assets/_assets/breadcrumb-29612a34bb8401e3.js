"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5548],{2517:(e,t,i)=>{i.r(t),i.d(t,{default:()=>se});var r=i(67294),s=i(480),n=i(86628),o=i(24405),a=i(37810),l=i(94841),c=i(80444),d=i(98165),u=i(95697),h=i(6258),x=i(9291),g=i(64921),m=i(31945),f=i(78140),p=i(32163),v=i(40721),j=i(89728),b=i(60709),M=i(87686),y=i(15145),C=i(75754),S=i(11470),k=i(72495),Z=i(73744),W=i(83105),w=i(85893);const P=function(e,t){return[{key:"results",render:e=>(0,w.jsx)(k.Z,{...e}),items:t.map(((t,i)=>({key:t.id,render:e=>(0,w.jsx)(S.Z,{...e,isSubpage:0!==i,store:t,hidePath:!0}),action:i=>{let{event:r}=i;const s=Z.DJ(r);t instanceof h.G&&C._c({environment:e,store:t,openInNew:s,visitType:W.vu.Link,pageVisitSource:y.tY.Breadcrumb})}})))}]};const V=function(e){const{isMobile:t,stores:i}=e,r=(0,s.O7)(),n={display:"flex",alignItems:"center",flexShrink:0};return(0,w.jsx)(m.ZP,{popupType:t?m.Z4.SlideUp:m.Z4.Popup,renderOrigin:e=>t?(0,w.jsxs)(g.Z,{style:{...n},mobileFeedback:!0,...e,children:[(0,w.jsx)(M.f,{}),(0,w.jsx)("div",{style:{marginLeft:8,marginRight:8},children:"..."}),(0,w.jsx)(M.f,{})]}):(0,w.jsxs)("div",{style:n,children:[(0,w.jsx)(j.Z,{isSmall:!0,...e,children:"..."}),(0,w.jsx)(M.f,{})]}),render:e=>{let s;return s=t?{menuType:b.og.Modal,title:(0,w.jsx)(x.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,w.jsx)(v.DoneMenuText,{}),onClickRight:e.close}:{menuType:b.og.Popup,width:240},(0,w.jsx)(f.Z,{...s,children:(0,w.jsx)(p.Z,{type:p.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:P(r,i)})})}})};var R=i(7692),D=i(24946);function K(e){const{ancestorMaxWidth:t,showDivider:i,store:r}=e;return r instanceof h.zX?(0,w.jsx)(D.Z,{store:r,showDivider:i,maxWidth:t}):(0,w.jsx)(R.Z,{store:r,showDivider:i,maxWidth:t})}function T(e){const{ancestorMaxWidth:t,isMobile:i,homeStore:r,store:s,maxAncestorCount:o}=e,[a,c]=(0,n.VK)((()=>{const e=d.uJ(s),t=s.isNavigableBlock()?e.slice(1):[...e];return t.reverse(),e.reverse(),[t,e]}),[s]),x=(0,n.VK)((()=>(0,l.Kj)(s.id)),[s]),g=(0,n.VK)((()=>u.bq()),[]);if(x&&void 0!==r)return(0,w.jsx)(K,{ancestorMaxWidth:t,showDivider:a.length>0,store:r},r.id);if(a.length>o){const[e,r,s]=[a[0],a.slice(1,a.length-o+1),a.slice(a.length-o+1)];if(g)return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(K,{ancestorMaxWidth:t,showDivider:!i,store:e},e.id),(0,w.jsx)(V,{isMobile:i,stores:i?c:r},"pages-popup"),s.map((e=>e instanceof h.zX?(0,w.jsx)(D.Z,{store:e,showDivider:!0,maxWidth:t},e.id):(0,w.jsx)(R.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]});{const e=a.filter((e=>e instanceof h.G)),r=a.filter((e=>e instanceof h.G));return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(R.Z,{store:e[0],showDivider:!i,maxWidth:t},e[0].id),(0,w.jsx)(V,{isMobile:i,stores:i?r:e.slice(1,e.length-o+1)},"pages-popup"),e.slice(e.length-o+1).map((e=>(0,w.jsx)(R.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]})}}return(0,w.jsx)(w.Fragment,{children:a.map((e=>(0,w.jsx)(K,{ancestorMaxWidth:t,showDivider:!0,store:e},e.id)))})}var O=i(36610),F=i(52771),I=i(31278),B=i(76798),L=i(45010),N=i(88923),E=i(25238);const z=function(e){const{ancestorMaxWidth:t,ignoreMaxLength:i,showDivider:r,store:s}=e,n=(0,o.yK)((()=>({homeBreadCrumbWrapper:{marginLeft:-4},wrapper:{display:"flex",alignItems:"center",flexShrink:1,marginLeft:6,minWidth:0,maxWidth:i?void 0:"100%"}})),[i]);return(0,w.jsxs)("div",{style:n.wrapper,children:[(0,w.jsx)(E.Z,{store:s,maxWidth:t,ignoreMaxLength:i}),r&&(0,w.jsx)(M.f,{})]})};function A(e,t,i,s){return(0,r.useCallback)((()=>{const r=N.default.isCenterPeekOpen()?L.Z.PeekViewScroller:L.Z.PageScroller;if(r&&!r.atScrollStart())return r.scrollToTop({animate:!0}),void O.Op(e);const n=s.canEdit(),o=s.isNonEditableState(),a=s.getCollectionViewCollectionStore(),l=null==a?void 0:a.isSyncedCollection(),c=s.isExternalObjectInstancePageBlockStore();if(t||N.default.isCenterPeekOpen()||!i||!n||o||c||l)return;const d=i.current;if(!d)return;if(!(d instanceof Element))return;const u=d.getBoundingClientRect();F.$({blockStore:s,originRect:u}),O.V(e)}),[e,t,i,s])}function U(e,t){const{currentPageMaxWidth:i,isMobile:r,currentPageRef:o,store:a}=e,c=(0,s.O7)(),d=(0,n.VK)((()=>(0,l.Kj)(a.id)),[a]),u=(0,n.VK)((()=>a.isEmptyPage()),[a]),h=(0,n.VK)((()=>a.getIcon()),[a]),x=r?24:20,g=A(c,r,o,a);return(0,w.jsxs)(j.Z,{shouldShrink:!0,onClick:g,isSmall:!0,ref:t,disabled:d,children:[Boolean(h)&&(0,w.jsx)(I.Z,{disabled:!0,icon:h,isEmptyPage:u,size:x,style:{marginRight:6},largeIcon:!0}),(0,w.jsx)(B.Z,{store:a,style:{maxWidth:i},enableHover:!0})]})}const H=(0,r.forwardRef)(U);function _(e){const{ancestorMaxWidth:t,isMobile:i,currentPageRef:r,store:o}=e,a=(0,s.O7)(),{mobileNative:c}=a,u=(0,n.VK)((()=>(0,l.WE)(o)),[o]),h=A(a,i,r,o),x=(0,n.VK)((()=>{const e=d.uJ(o);return 0===(o.isNavigableBlock()?e.slice(1):[...e]).length}),[o]);return u?null:i?(0,w.jsx)(j.Z,{shouldShrink:!0,onClick:h,isSmall:!0,style:null!=c&&c.supportsNativeHomeOnPhone()?{paddingLeft:0}:void 0,children:(0,w.jsx)(z,{store:o,showDivider:!1,ignoreMaxLength:x,ancestorMaxWidth:t})}):(0,w.jsx)(j.Z,{shouldShrink:!0,onClick:h,isSmall:!0,style:{fontSize:"inherit"},children:(0,w.jsx)(z,{store:o,showDivider:!1,ancestorMaxWidth:t})})}function J(e){const{ancestorMaxWidth:t,store:i}=e,r=(0,s.O7)(),o={display:"flex",alignItems:"center",flexShrink:0},a=(0,n.VK)((()=>{const e=d.uJ(i);return e.reverse(),e}),[i]);return(0,w.jsx)(m.ZP,{popupType:m.Z4.SlideUp,renderOrigin:e=>(0,w.jsx)(g.Z,{style:{...o,maxWidth:"100%"},mobileFeedback:!0,...e,children:(0,w.jsx)(z,{store:i,showDivider:!1,ignoreMaxLength:!0,ancestorMaxWidth:t})}),render:e=>{const t={menuType:b.og.Modal,title:(0,w.jsx)(x.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,w.jsx)(v.DoneMenuText,{}),onClickRight:e.close};return(0,w.jsx)(f.Z,{...t,children:(0,w.jsx)(p.Z,{type:p.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:P(r,a)})})}},"pages-popup")}var q=i(73935),G=i(42853),Q=i(16184),X=i(72141),Y=i(73990),$=i(11302),ee=i(26388),te=i(4023),ie=i(35057);function re(e){const{store:t}=e,i=(0,s.O7)(),a=(0,n.VK)((()=>{if(!(0,u.bq)())return!1;if(!(0,ie.mq)())return!1;const{currentSpaceViewStore:e}=c.default.state,r=null==e?void 0:e.getPrivatePages(i);return null==r?void 0:r.some((e=>e.id===t.id))}),[i,t]),l=(0,n.VK)((()=>{const e=i.currentUser.id;return t.getPermissionItems().every((t=>(0,X.jg)(t)&&e===t.user_id))}),[i,t]),d=(0,o.Fg)(),h=(0,r.useRef)(null),g=(0,r.useCallback)((()=>{if(!h)return;const e=q.findDOMNode(h.current);if(!(e&&e instanceof Element))return;const r=e.getBoundingClientRect(),s=new DOMRect(r.x,r.y,r.width,r.height+5);Y.Fo(i),$.bA({environment:i,blocks:[t],originRect:s,moveToContext:"topbar_breadcrumb"})}),[i,h,t]);return a&&l?(0,w.jsx)(ee.ZP,{placement:te.u.Right,renderTooltip:e=>(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{children:(0,w.jsx)(x.FormattedMessage,{defaultMessage:"Only you have access",id:"breadcrumb.moveTo.hasPermission.title"})}),(0,w.jsx)("div",{style:{color:d.mediumInvertedTextColor},children:(0,w.jsx)(x.FormattedMessage,{defaultMessage:"Click to move",id:"breadcrumb.moveTo.hasPermission.subtitle"})})]}),render:e=>(0,w.jsxs)(j.Z,{isSmall:!0,disabled:!1,onClick:g,ref:h,...e,children:[(0,Q.Q)({width:16,fill:d.lightIconColor}),(0,w.jsx)("span",{style:{color:d.lightTextColor,marginLeft:4,marginRight:5},children:(0,w.jsx)(x.FormattedMessage,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})}),(0,G.i)({width:9,fill:d.lightIconColor})]})}):null}const se=function(e){const{ancestorMaxWidth:t,maxAncestorCount:i,currentPageMaxWidth:d,isMobile:u,showCurrentPageControls:h,store:x,style:g}=e,m=(0,r.useRef)(null),f=(0,s.O7)(),p=(0,o.yK)((()=>({container:{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:u?a.Z.fontSize.UIRegular.mobile:a.Z.fontSize.UIRegular.desktop,...g},enforceMaxLength:{maxWidth:"100%"}})),[u,g]),v=(0,n.VK)((()=>{var e;return!(null===(e=x.getTitleStore())||void 0===e||!e.isReady())}),[x]),j=(0,n.VK)((()=>{const{currentSpaceViewStore:e}=c.default.state;let t;return e&&e.isReady()&&(t=(0,l.Al)(e)),t}),[]),b=(0,n.VK)((()=>!(0,l.WE)(x)&&h&&x.isReady()),[h,x]),M=(0,n.VK)((()=>{var e;return null===(e=f.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[f]);return v?M?(0,w.jsx)("div",{style:{...p.container,...p.enforceMaxLength},className:"notranslate",children:(0,w.jsx)(J,{store:x,ancestorMaxWidth:t})}):(0,w.jsxs)("div",{style:p.container,className:"notranslate shadow-cursor-breadcrumb",children:[(0,w.jsx)(T,{ancestorMaxWidth:t,maxAncestorCount:i,isMobile:u,homeStore:j,store:x}),b?(0,w.jsx)(H,{currentPageMaxWidth:d,isMobile:u,currentPageRef:m,ref:m,store:x}):(0,w.jsx)(_,{ancestorMaxWidth:t,isMobile:u,currentPageRef:m,store:x}),(0,w.jsx)(re,{store:x})]}):null}},16184:(e,t,i)=>{i.d(t,{Q:()=>n});i(67294);var r=i(45238),s=i(85893);const n=(0,r.IU)("lockedFilled",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M4.69141 14.6338H11.3018C12.2178 14.6338 12.6689 14.1826 12.6689 13.1914V8.08496C12.6689 7.18945 12.293 6.72461 11.541 6.64941V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.67676C3.74805 6.78613 3.32422 7.2373 3.32422 8.08496V13.1914C3.32422 14.1826 3.77539 14.6338 4.69141 14.6338ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.64258L5.75098 6.64941V4.83105Z"})})}}]);