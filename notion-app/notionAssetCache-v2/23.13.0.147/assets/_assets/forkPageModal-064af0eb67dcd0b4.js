"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[8129,227],{47082:(e,t,o)=>{o.d(t,{U:()=>y,Z:()=>k});var i=o(67294),n=o(83355),r=o(480),s=o(24405),a=o(53465),l=o(53965),d=o(60709),p=o(98742),c=o(34859),u=o(64113),h=o(64921),m=o(37601),g=o(74194),f=o(3386),v=o(53336),x=o(64369),S=o(85893);let y=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}({});class C extends n.Z{constructor(){super(...arguments),this.inputRef=i.createRef(),this.storeTypes={store:u.Z},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleFocused=()=>{this.stores.store.setState({focused:!0})},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleContainerClick=()=>{var e,t,o;this.props.disabled||(null===(e=this.inputRef.current)||void 0===e||e.focusInput(),null===(t=(o=this.props).onClick)||void 0===t||t.call(o))}}UNSAFE_willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}UNSAFE_willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:e}=this.props;return(0,S.jsx)(f.Z,{debugName:"TokenInputMenuItem",capture:!e,onLeft:l.yR,onRight:l.yR,onSelectAll:l.yR,onRedo:l.yR,onUndo:l.yR,onToggleBold:l.yR,onToggleItalics:l.yR,onToggleCode:l.yR,onCut:l.yR,onCopy:l.yR,onPaste:l.yR,onKeypress:l.yR,children:(0,S.jsx)(f.Z,{debugName:"TokenInputMenuItem",capture:!e&&this.props.value.length>0,onDelete:l.yR,onBackspace:l.yR,children:(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:this.props.message?4:void 0},children:[this.renderTokenInput(),this.props.message&&(0,S.jsx)(x.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:e,showClearButton:t}=this.props;return e||t?(0,S.jsxs)(v.Z,{type:c.Z.All,style:{...j(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,S.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,S.jsx)("div",{style:{flexShrink:0},children:(0,S.jsx)(Y,{showClearButton:this.props.showClearButton,right:this.props.right,onClearButtonClick:this.props.onClearButtonClick,tokens:this.props.tokens,value:this.props.value})})]}):this.environment.device.isMobile?(0,S.jsxs)("div",{style:{...j(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,S.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:b(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,S.jsx)(m.Z,{show:this.stores.store.state.focused})]}):(0,S.jsxs)(v.Z,{type:c.Z.All,style:{...j(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderInput(){const e=0===this.props.tokens.length;return(0,S.jsx)(g.Z,{disabled:this.props.disabled,format:g.B.Transparent,...(0,p.Z)({onKeyDown:e=>function(e,t,o,i){"Backspace"===e.key&&0===t.length&&o();i&&i(e)}(e,this.props.value,this.props.onRemoveLastToken,this.props.onKeyDown)},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:(t=this.props.format,o=this.environment,i=this.theme,n=this.props.inputFullWidth,r=this.props.inputDivStyle,{flexGrow:1,flexShrink:1,flexBasis:n?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...o.device.isMobile?{margin:"0 8px 8px 0"}:I(i)[t].inputDivDesktopStyle,...r}),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:b(this.props.format)?20:18},size:1,ref:this.inputRef,type:this.props.type,placeholder:e?this.props.placeholder:"",onSubmit:e=>function(e,t,o,i){0===t.length&&o&&o();i&&i(e)}(e,this.props.value,this.props.onEmptySubmit,this.props.onSubmit),onFocus:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleFocused,onBlur:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete});var t,o,i,n,r}}C.displayName="TokenInputMenuItem",C.contextTypes={...d.mw,...n.w};const k=C;function b(e){return e===y.Group}function T(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function w(e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:16,background:e.popoverBackground}}function I(e){const t={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[y.Select]:t,[y.Person]:t,[y.Relation]:t,[y.Group]:t,[y.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:e.inputBoxShadow,background:e.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[y.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function Y(e){let{showClearButton:t,right:o,onClearButtonClick:i,tokens:n,value:l}=e;const d=(0,s.Fg)(),p=(0,r.O7)(),{isMobile:c}=p.device;return o?(0,S.jsx)(S.Fragment,{children:o}):t&&(n.length>0||l.length>0)?(0,S.jsx)(h.Z,{onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:c?24:20,marginTop:2},children:(0,a.X)({width:c?16:14,height:c?16:14,fill:d.lightIconColor})}):null}function j(e,t,o,i,n,r,s,a){const{WindowSizeStore:l}=e;return{...e.device.isMobile?{...w(t),paddingTop:14,paddingBottom:8,paddingLeft:(null==a?void 0:a.menuType)!==d.og.Popup?l.getSafePaddingLeftCSS(16):16,paddingRight:(null==a?void 0:a.menuType)!==d.og.Popup?l.getSafePaddingRightCSS(16):16,...n&&{borderBottom:"none"}}:{...T(t,r),...I(t)[o].desktopWrapStyle},...s&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...s&&i&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!e.device.isMobile&&i&&I(t)[o].inputDivDesktopFocusStyle}}},78839:(e,t,o)=>{o.r(t),o.d(t,{ForkPageModal:()=>oe,default:()=>ie});var i=o(67294),n=o(480),r=o(86628),s=o(24405),a=o(68965),l=o(9291),d=o(37810),p=o(81193),c=o(50506),u=o(8304),h=o(80444),m=o(15145),g=o(37850),f=o(47307),v=o(3297),x=o(92625),S=o(4617),y=o(75754),C=o(29974),k=o(83105),b=o(33929),T=o(30106);async function w(e){const{open:t,blockStore:o,teamStore:i,spaceStore:n,spaceViewStore:r}=T.Z.state;if(t&&o&&n&&r)return async function(e){const{environment:t,blockStore:o,spaceStore:i,spaceViewStore:n,teamStore:r}=e,s=Date.now();let a=!1;const{blockTitle:l}=v.yR({store:o,spaceStore:i});try{await Promise.all([C.y3({environment:t,spaceViewStore:n,userSettingsStore:h.default.state.currentUserSettingsStore,userRootStore:h.default.state.currentUserRootStore,pageVisitSource:m.tY.DuplicateTemplateSwitchSpace,navigationType:"switchingToOrLoadingSpace"}),(0,g.Vs)(0).then((()=>{T.Z.setState({...T.Z.state,open:!1})}))]);const e={environment:t,item:{id:o.id,name:l,rootId:o.id,previewRootId:o.id,spaceId:i.id},spaceStore:i,spaceViewStore:n,useMinimalTemplates:!1},s=r?await S.rC({...e,type:"inTeam",isPrivate:!1,teamStore:r,from:"fork_page_modal",appendOrPrepend:"append"}):await S.rC({...e,type:"inSpace",isPrivate:!0});a=!0,y._c({environment:t,store:s,visitType:k.vu.Link,pageVisitSource:m.tY.Duplicate})}catch(d){const e=b.default.getIntl();f.showErrorMessage(e.formatMessage({id:"forkPageModalActions.duplicateToHelper.failed",defaultMessage:"Template duplication failed"}))}finally{const e=Date.now()-s;p.Xy(t,{from:"publicPage",success:a,template_name:l,template_block_id:o.id,target_space_id:i.id,context:"public_page_duplicate_multiple_workspace",template_duplication_duration_ms:e,template_duplication_duration_with_minimum_ms:e}),x.x()}}({environment:e,blockStore:o,spaceStore:n,spaceViewStore:r,teamStore:i})}var I=o(16184),Y=o(52275),j=o(32163),M=o(58297),V=o(72495),Z=o(45653),B=o(69464),P=o(14034),R=o(65435),_=o(75071),O=o(85893);const D=(0,l.defineMessages)({addIconButton:{id:"forkPageDestinationSelect.add",defaultMessage:"Add"}});function L(){const e=(0,s.yK)((e=>({container:{display:"flex",alignItems:"center",justifyContent:"center",height:24,borderRadius:100,paddingLeft:8,paddingRight:8,gap:4,backgroundColor:e.outlineBlueButtonHoveredBackground,color:e.blueColor,fontWeight:d.Z.fontWeight.medium,letterSpacing:.5},icon:{width:14,height:14,fill:e.blueColor}})),[]);return(0,O.jsxs)("span",{style:e.container,children:[(0,_.f)(e.icon),(0,O.jsx)(l.FormattedMessage,{...D.addIconButton})]})}function W(e){let{onSelect:t}=e;const o=(0,r.VK)((()=>h.default.state.currentUserStore),[]),{open:n,spaceStore:a}=(0,r.VK)((()=>T.Z.state),[]),p=(0,s.yK)((e=>({menuContainer:{minHeight:60,maxHeight:"30vh",overflowY:"auto"},menuItem:{height:45,paddingTop:6,paddingBottom:4},addToText:{fontSize:12,lineHeight:d.Z.lineHeight.UISmall.desktop,fontWeight:d.Z.fontWeight.medium,color:e.mediumTextColor,marginLeft:8},loadMoreText:{fontSize:d.Z.fontSize.UISmall.desktop,color:e.mediumTextColor},resetMenuItem:{marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,width:"100%"},privateMenuItem:{height:35},privateMenuTitle:{...d.Z.textOverflowStyle,color:e.darkTextColor,fontSize:d.Z.fontSize.UIRegular.desktop,fontWeight:d.Z.fontWeight.medium},privateMenuCaption:{color:e.lightTextColor},privateIconContainer:{position:"relative",width:20,height:20,padding:1},privateLockIcon:{position:"absolute",bottom:-2,right:-2,zIndex:1,width:10,height:10,fill:e.accentColors.red[500]}})),[]),c=(0,P.E)(),u=(0,r.VK)((()=>c.filter((e=>e.canAddOrRemoveTopLevelPages()&&!e.getArchivedBy()))),[c]),m=(0,i.useMemo)((()=>(0,O.jsx)(L,{})),[]),g=(0,i.useMemo)((()=>[{key:"private_or_teams",render:e=>(0,O.jsx)(V.Z,{...e}),items:[{key:"private",action:()=>{},render:e=>(0,O.jsx)(Y.Z,{...e,style:p.menuItem,icon:(0,O.jsxs)("div",{style:p.privateIconContainer,children:[(0,O.jsx)(Z.Z,{hasTooltip:!1,userStore:o}),(0,I.Q)(p.privateLockIcon)]}),title:(0,O.jsx)("div",{style:p.privateMenuTitle,children:(0,O.jsx)(l.FormattedMessage,{...R.cY.addToPrivate})}),caption:(0,O.jsx)("div",{style:p.privateMenuCaption,children:(0,O.jsx)(l.FormattedMessage,{id:"forkPageDestinationSelect.privateTooltip",defaultMessage:"Visible only to you"})}),right:e.focused?m:null,buttonStyle:p.resetMenuItem,onClick:()=>{t({type:"private"})}})},...u.map((e=>({key:e.id,action:()=>{},render:o=>(0,O.jsx)(B.Z,{...o,style:p.menuItem,buttonStyle:p.resetMenuItem,showMemberCount:!0,right:o.focused?m:null,team:e,onAccept:()=>{t({type:"team",teamStore:e})}})})))]}]),[o,u,t,m,p.menuItem,p.resetMenuItem,p.privateIconContainer,p.privateLockIcon,p.privateMenuCaption,p.privateMenuTitle]);return n&&o&&a?u.length?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{style:p.addToText,children:(0,O.jsx)(l.FormattedMessage,{id:"forkPageDestinationSelect.addTo",defaultMessage:"Add to"})}),(0,O.jsx)(j.Z,{style:p.menuContainer,type:j.i.Vertical,initialFocus:void 0,sections:g})]}):(0,O.jsx)(A,{onClick:()=>{t({type:"private"})}}):(0,O.jsx)(O.Fragment,{})}function A(e){const t=(0,s.yK)((()=>({addToPrivatePrimaryButtonContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingLeft:8,paddingRight:8},addToPrivatePrimaryButton:{width:"100%"}})),[]);return(0,O.jsx)("div",{style:t.addToPrivatePrimaryButtonContainer,children:(0,O.jsx)(M.Z,{...e,isLarge:!0,style:t.addToPrivatePrimaryButton,children:(0,O.jsx)(l.FormattedMessage,{id:"forkPageDestinationSelect.addToPrivate",defaultMessage:"Add to Private"})})})}o(57658);var F=o(25942),N=o(19889),H=o(66079),U=o(1898),K=o(31945),z=o(78140),E=o(1101),G=o(60709),J=o(48779),$=o(20306),Q=o(58476),X=o(31194),q=o(6258);function ee(e){let{templateBlockId:t}=e;const o=(0,n.O7)(),i=(0,l.useIntl)(),a=(0,s.yK)((e=>({selectedSpace:{border:`1px solid ${e.regularDividerColor}`,borderRadius:6},expandIcon:{fill:e.mediumIconColor,width:12,marginLeft:"auto"}})),[]),d=(0,r.VK)((()=>o.currentUser.loggedInUserIds),[o]),c=(0,r.VK)((()=>h.default.state.currentUserStore),[]),u=(0,r.VK)((()=>T.Z.state.spaceStore),[]),g=(0,r.VK)((()=>c?d.map((e=>c.getRecordModel({table:N.KJ,id:e}))).filter(U.$K):[]),[c,d]),{spaceIcon:f,spaceName:v,title:x,subtitle:S}=(0,r.VK)((()=>u?{spaceIcon:(0,J.Wd)(o,u),spaceName:(0,J.rn)(o,u),title:(0,Q.bM)(o,i,u),subtitle:(0,Q.rR)(o,i,u)}:{spaceIcon:void 0,spaceName:"",title:"",subtitle:""}),[o,i,u]);return(0,O.jsx)(K.ZP,{popupType:K.Z4.Popup,renderOrigin:e=>(0,O.jsx)("div",{style:a.selectedSpace,children:(0,O.jsx)($.Z,{id:null==u?void 0:u.id,icon:f,spaceName:v,title:x,caption:S,right:(0,F.P)(a.expandIcon),removeDefaultMargin:!0,focused:!1,showDragHandle:!1,disableTooltip:!0,from:"fork_page_modal",...e})}),render:e=>(0,O.jsx)(z.Z,{menuType:G.og.Popup,children:g.map((i=>{const n=i.id;return(0,O.jsx)(te,{userId:n,onSpaceClick:async i=>{let{spaceViewStore:n}=i;p.gI(o,{templateBlockId:t,templateDestinationSpaceId:n.getSpaceId(),numOfUsers:g.length}),e.close(),await async function(e){const{spaceViewStore:t}=e;await C.y3({...e,userSettingsStore:h.default.state.currentUserSettingsStore,userRootStore:h.default.state.currentUserRootStore,pageVisitSource:m.tY.DuplicateTemplateSwitchSpace,navigationType:"switchingToOrLoadingSpace"}),T.Z.setState({...T.Z.state,spaceStore:t.getSpaceStore(),spaceViewStore:t,teamStore:void 0})}({environment:o,spaceViewStore:n,switchCurrentSpace:!1})},selectedSpaceId:null==u?void 0:u.id},n)}))}),onClick:()=>{p.$6(o,{templateBlockId:t,numOfUsers:g.length})},placementToOrigin:X.Iw.Bottom,sameWidthAsOrigin:!0})}function te(e){const{userId:t,onSpaceClick:o,selectedSpaceId:s}=e,a=(0,n.O7)(),d=(0,n.Fy)(),p=(0,r.VK)((()=>h.default.state.currentUserRootStore),[]),c=(0,r.VK)((()=>new q.r9(a,{table:H.dx,id:t},{userId:t}).getSpaceViewStores()),[a,t]),u=(0,r.VK)((()=>new q.U6(a,{table:N.KJ,id:t},{userId:t}).getEmail()),[a,t]),m=(0,l.useIntl)(),g=(0,r.VK)((()=>{if(!p)return[];const e=[];for(const i of c.values()){const n=i.getSpaceStore();if(null!=n&&n.isDefined()&&null!=n&&n.canEdit()){const r=t===p.id&&n.id===s,l=(0,J.rn)(a,n),d=(0,Q.bM)(a,m,n),c=(0,Q.rR)(a,m,n);e.push({key:i.id,render:e=>(0,O.jsx)($.Z,{...e,id:n.id,icon:(0,J.Wd)(a,n),spaceName:l,title:d,caption:c,showDragHandle:!1,disableTooltip:!0,isCheck:r,from:"fork_page_modal"}),action:async e=>{let{event:t}=e;await o({event:t,spaceViewStore:i})}})}}return e}),[p,a,m,o,s,c,t]),f=0===g.length?[]:[{key:"spaces",render:e=>(0,O.jsx)(V.Z,{...e,disableMobilePadding:!0,topBorder:d.isMobile}),items:g}];return f.length>0?(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(E.Z,{emailAddress:u??"",userId:t,disabled:!1,accountActions:[]}),(0,O.jsx)("div",{children:(0,O.jsx)(j.Z,{type:j.i.Vertical,sections:f,initialFocus:void 0})})]},t):null}function oe(){const e=(0,n.O7)(),t=(0,l.useIntl)();(0,i.useEffect)((()=>{var e;T.Z.state.open&&!T.Z.state.spaceStore&&T.Z.setState({...T.Z.state,spaceStore:null===(e=h.default.state.currentSpaceViewStore)||void 0===e?void 0:e.getSpaceStore(),spaceViewStore:h.default.state.currentSpaceViewStore})}),[]);const{open:o,blockStore:m,spaceViewStore:g}=(0,r.VK)((()=>T.Z.state),[]),f=(0,r.VK)((()=>u.M5(m,t)),[m,t]),v=(0,s.yK)((e=>({container:{width:360,paddingTop:20,paddingBottom:16},topContainer:{paddingLeft:20,paddingRight:20},bottomContainer:{paddingLeft:12,paddingRight:12},modalTitle:{display:"flex",flexDirection:"column",alignItems:"center",gap:10},modalTitleIcon:{width:24,height:24,fill:e.mediumTextColor},modalTitleText:{fontSize:17,fontWeight:d.Z.fontWeight.semibold,textAlign:"center"},spaceSwitcher:{marginTop:16,marginBottom:16},spaceSwitcherText:{fontSize:d.Z.fontSize.UISmall.desktop,fontWeight:d.Z.fontWeight.medium,color:e.mediumTextColor,marginBottom:4}})),[]);return(0,O.jsx)(c.Z,{open:o,showCloseIcon:!0,onDismiss:()=>{T.Z.reset(),p.EZ(e,{templateBlockId:null==m?void 0:m.id})},render:()=>m?(0,O.jsxs)("div",{style:v.container,children:[(0,O.jsxs)("div",{style:v.topContainer,children:[(0,O.jsxs)("div",{style:v.modalTitle,children:[(0,a.t)(v.modalTitleIcon),(0,O.jsx)("div",{style:v.modalTitleText,children:(0,O.jsx)(l.FormattedMessage,{...u.sY.whereToDuplicate,values:{blockTitle:f}})})]}),(0,O.jsxs)("div",{style:v.spaceSwitcher,children:[(0,O.jsx)("div",{style:v.spaceSwitcherText,children:(0,O.jsx)(l.FormattedMessage,{...u.sY.selectWorkspace})}),(0,O.jsx)(ee,{templateBlockId:m.id})]})]}),g&&(0,O.jsx)("div",{style:v.bottomContainer,children:(0,O.jsx)(W,{onSelect:t=>{"team"===t.type&&T.Z.setState({...T.Z.state,teamStore:t.teamStore}),w(e)}})})]}):null})}const ie=oe},30106:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(49085);class n extends i.default{getInitialState(){return{open:!1}}}const r=new n},27249:(e,t,o)=>{o.d(t,{CN:()=>d,H_:()=>a,ay:()=>l});var i=o(11002),n=o(84465),r=o(94952),s=o(73314);function a(e){let{persona:t,defaultToLife:o}=e;if(!t)return;if(t in n._5)return t;const i={customer_support:"support",designer:"design",educator:"student",entrepreneur:"hr",freelancer:"design",hr_recruiting:"hr",it:"eng",marketing_sales:"marketing",media:"marketing",operations:"hr",operations_hr:"hr",personal:"life",product_manager:"product",programmer:"eng",other:o?"life":void 0,unfilled:o?"life":void 0,undefined:o?"life":void 0,creative:"design",founderCeo:"hr",internalCommunication:"hr",productDesign:"design",projectProgramMgmt:"product",finance:void 0,itAdmin:"eng",knowledgeManagement:"hr"};return(null==i?void 0:i[t])??void 0}function l(e,t){const o=a({persona:t,defaultToLife:!0});return(o?null==p?void 0:p[o]:[]).filter((t=>(0,r.G)(t,e)))}function d(e,t,o){return function(e,t){const o=a({persona:e,defaultToLife:!1});return(o?null===n.J9||void 0===n.J9?void 0:n.J9[o]:[]).filter((e=>(0,r.G)(e,t)))}(e,t).map((e=>(0,s.G)(e,o)))}const p={...n.J9,design:[i.Y.designSprint,i.Y.designPortfolio],product:[i.Y.productSpec,i.Y.productWiki,i.Y.visionAndStrategy],marketing:[i.Y.blogEditorialCalendar,i.Y.socialMediaCalendar,i.Y.presentation],hr:[i.Y.companyHome,i.Y.employeeBenefits,i.Y.peopleDirectory],sales:[i.Y.salesWiki,i.Y.presentation,i.Y.oneOnOneNotes],support:[],life:[]}},75546:(e,t,o)=>{o.d(t,{o:()=>p});o(67294);var i=o(480),n=o(86628),r=o(24405),s=o(37810),a=o(95697),l=o(43488),d=o(85893);function p(e){let{teamStore:t,withSelectedStyle:o}=e;const p=(0,i.Fy)(),c=(0,n.VK)((()=>{var e;return{teamName:t.getName()??"",shouldShowLock:(0,a.C2)(null==t||null===(e=t.getSettingsStore())||void 0===e?void 0:e.getValue())}}),[t]),u=(0,r.yK)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden"},lockIcon:{width:15,marginLeft:6,marginBottom:1,fill:e.mediumIconColor},labelText:{...s.Z.textOverflowStyle,...o?{color:e.regularTextColor,fontWeight:s.Z.fontWeight.semibold}:{color:e.darkTextColor,fontWeight:s.Z.fontWeight.medium},fontSize:p.isMobile?s.Z.fontSize.UIRegular.mobile:s.Z.fontSize.UIRegular.desktop}})),[p.isMobile,o]);return c?(0,d.jsxs)("div",{style:u.container,children:[(0,d.jsx)("div",{style:u.labelText,children:c.teamName}),c.shouldShowLock&&(0,d.jsx)(l.Z,{iconStyle:u.lockIcon})]}):null}},43488:(e,t,o)=>{o.d(t,{Z:()=>a});o(67294);var i=o(16184),n=o(9291),r=o(26388),s=o(85893);function a(e){let{iconStyle:t}=e;return(0,s.jsx)(r.ZP,{textWrap:!0,style:{width:210},placement:r.ug.Bottom,renderTooltip:()=>(0,s.jsx)(n.FormattedMessage,{id:"teamLockIcon.tooltip",defaultMessage:"Private teamspaces can only be accessed or joined by invitation"}),render:e=>(0,s.jsx)("div",{...e,children:(0,i.Q)(t)})})}},69464:(e,t,o)=>{o.d(t,{C:()=>C,Z:()=>k});o(57658);var i=o(67294),n=o(480),r=o(86628),s=o(24405),a=o(16184),l=o(9291),d=o(52275),p=o(31945),c=o(78140),u=o(32163),h=o(72495),m=o(45653),g=o(60709),f=o(75546),v=o(80444),x=o(14034),S=o(74016),y=o(85893);function C(e){const{renderOrigin:t,onTeamAccept:o,sectionTitle:i,showMemberCount:s,right:f,showPrivate:S,onPrivateAccept:C,captionItem:T}=e,w=(0,n.Fy)().isMobile,I=b(),Y=(0,x.E)(),j=(0,r.VK)((()=>Y.filter((e=>e.canAddOrRemoveTopLevelPages()))),[Y]),M=(0,r.VK)((()=>v.default.state.currentUserStore),[]),V=[];if(T){const e={key:"caption",render:e=>(0,y.jsx)(h.Z,{...e,topBorder:!0}),items:[T]};V.push(e)}const Z=j.map((e=>({key:e.id,action:()=>{o(e)},render:t=>(0,y.jsx)(k,{...t,team:e,onAccept:o,showMemberCount:s,right:f})}))),B={key:"teams",render:e=>(0,y.jsx)(h.Z,{...e,title:i}),items:Z};if(V.push(B),S){const e={key:"private",render:e=>(0,y.jsx)(h.Z,{...e,topBorder:Z.length>0}),items:[{key:"private",action:()=>{},render:e=>(0,y.jsx)(d.Z,{...e,icon:(0,y.jsxs)("div",{style:{position:"relative"},children:[(0,y.jsx)(m.Z,{hasTooltip:!1,userStore:M}),(0,a.Q)(I.privateItemLockIcon)]}),title:(0,y.jsx)(l.FormattedMessage,{id:"teamPickerButton.addToPrivate",defaultMessage:"Add to Private"}),onClick:()=>{null==C||C()}})}]};V.push(e)}return(0,y.jsx)(p.ZP,{...e,popupType:w?p.Z4.SlideUp:p.Z4.Popup,renderOrigin:t,render:e=>{let t;return t=w?{menuType:g.og.ActionSheet}:{menuType:g.og.Popup,width:"100%"},(0,y.jsx)(c.Z,{...t,children:(0,y.jsx)(u.Z,{style:{width:w?void 0:256},type:u.i.Vertical,initialFocus:void 0,sections:V})})}})}const k=i.forwardRef(((e,t)=>{const{team:o,onAccept:i,showMemberCount:n,right:s,...a}=e,p=b(),c=(0,r.VK)((()=>o.getUserIdsInTeam().length),[o]);return(0,y.jsx)(d.Z,{...a,ref:t,onClick:e=>i(o),icon:(0,y.jsx)(S.p,{store:o,size:20,disabled:!0}),title:(0,y.jsx)(f.o,{teamStore:o}),right:a.focused?s:null,caption:n?(0,y.jsx)("div",{style:p.caption,children:(0,y.jsx)(l.FormattedMessage,{defaultMessage:"{numberOfMembers, plural, one {{numberOfMembers} member} other {{numberOfMembers} members}}",id:"teamPickerButton.teamItem.teamMemberCount",values:{numberOfMembers:c}})}):null})}));function b(){return(0,s.yK)((e=>({privateItemLockIcon:{position:"absolute",bottom:-2,right:-2,zIndex:1,width:10,height:10,fill:e.accentColors.red[500]},caption:{color:e.lightTextColor}})),[])}},14034:(e,t,o)=>{o.d(t,{E:()=>s});var i=o(480),n=o(86628),r=o(28020);function s(){var e;const t=(0,i.O7)();return(null===(e=(0,n.Kw)((0,r.k_)(t)))||void 0===e?void 0:e.userJoinedTeamsStores)??[]}},65435:(e,t,o)=>{o.d(t,{D2:()=>y,Io:()=>f,JL:()=>x,cY:()=>h,it:()=>v,oO:()=>m,vY:()=>S});var i=o(84465),n=o(94952),r=o(73314),s=o(9291),a=o(1898),l=o(95477),d=o(33929),p=o(27249),c=o(77080),u=o(59307);const h=(0,s.defineMessages)({addToTeamspace:{id:"templateGalleryHelpers.addToTeamspace",defaultMessage:"Add to a teamspace"},addToPrivate:{id:"teamPickerButton.addToPrivate",defaultMessage:"Add to Private"}});function m(e){var t;const{data:o}=u.Z.state;if(o&&null!==(t=o.topCategories)&&void 0!==t&&t.length)return o.topCategories.find((t=>t.id===e))}const g=Object.keys(i.J9);function f(e){let{userPersona:t,subscriptionTier:o}=e;return[...g].sort(((e,i)=>function(e,t,o,i){const n=void 0!==i&&["free","personal_free","student","personal"].includes(i),r=(0,p.H_)({persona:o,defaultToLife:n});if("suggested"===e||"suggested"===t)return"suggested"===e?-1:1;if(r===e||r===t)return r===e?-1:1;if(("life"===e||"life"===t)&&n)return"life"===e?-1:1;if(("student"===e||"student"===t)&&function(e){let{persona:t,isPersonalishPlan:o}=e;const i=o?["other","unfilled","personal","undefined"]:["personal"];return i.includes(t??"undefined")}({persona:o,isPersonalishPlan:n}))return"student"===e?-1:1;return 0}(e,i,t,o)))}function v(e){let{userPersona:t,subscriptionTier:o}=e;const s=d.default.getIntl();return Object.fromEntries(f({userPersona:t,subscriptionTier:o}).map((e=>[e,[...i.J9[e].filter((e=>(0,n.G)(e,c.default))).map((e=>(0,r.G)(e,s)))]])).filter((e=>{let[t,o]=e;return(null==o?void 0:o.length)>0})))}function x(e){const t=(0,a.Yd)(e).map((e=>[e,!0]));return Object.fromEntries(t)}function S(e){var t;const{data:o}=u.Z.state;if(!o||null===(t=o.topCategories)||void 0===t||!t.length)return;const i=o.topCategories.find((t=>{var o;return null===(o=t.subcategories)||void 0===o?void 0:o.find((t=>{var o;return null===(o=t.templates)||void 0===o?void 0:o.find((t=>"pageTemplate"===t.type&&t.template.rootId===e||"preset"===t.type&&t.uri===e))}))}));return null==i?void 0:i.id}function y(e){return`${l.default.domainBaseUrl}/@${e}`}},59307:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(49085);class n extends i.default{getInitialState(){return{}}getTopTemplateCategories(){var e;const{data:t}=this.state;return t&&null!==(e=t.topCategories)&&void 0!==e&&e.length?Array.from(t.topCategories).filter((e=>{const t=e.subcategories||[];for(const i of t){var o;if(null!==(o=i.templates)&&void 0!==o&&o.length)return!0}return!1})):[]}}const r=new n},68965:(e,t,o)=>{o.d(t,{t:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.IU)("addFilterGroup",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M2.374 12.42h1.293v1.157c0 1.557.787 2.344 2.375 2.344h7.591c1.573 0 2.367-.787 2.367-2.344V5.924c0-1.557-.794-2.344-2.367-2.344h-1.3V2.423C12.333.866 11.539.08 9.966.08H2.374C.786.08 0 .866 0 2.423v7.653c0 1.557.786 2.344 2.374 2.344zm.015-1.218c-.756 0-1.172-.408-1.172-1.194V2.49c0-.786.416-1.194 1.172-1.194h7.554c.749 0 1.172.408 1.172 1.194v1.09H6.042c-1.588 0-2.375.778-2.375 2.343v5.278H2.39zm3.668 3.501c-.749 0-1.172-.408-1.172-1.194V5.991c0-.786.423-1.194 1.172-1.194h7.554c.748 0 1.172.408 1.172 1.194v7.516c0 .787-.424 1.195-1.172 1.195H6.057zm3.773-1.565c.4 0 .643-.272.643-.71v-2.042h2.17c.423 0 .718-.227.718-.628 0-.408-.272-.643-.718-.643h-2.17V6.938c0-.447-.242-.719-.643-.719-.4 0-.628.288-.628.719v2.177h-2.17c-.438 0-.718.235-.718.643 0 .4.295.628.718.628h2.17v2.041c0 .424.227.711.628.711z"})})},25942:(e,t,o)=>{o.d(t,{P:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.IU)("expandThin",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.992.61c.156 0 .3.033.43.1.13.069.27.16.422.274l5.265 4.25a.948.948 0 01.368.774 1 1 0 01-.149.547c-.099.156-.229.28-.39.375a1.013 1.013 0 01-.508.133 1.07 1.07 0 01-.399-.079 1.6 1.6 0 01-.375-.226L7.992 3.016 3.336 6.758a1.74 1.74 0 01-.383.226 1.056 1.056 0 01-.906-.055 1.145 1.145 0 01-.383-.374 1 1 0 01-.148-.547c0-.318.122-.576.367-.774L7.148.984C7.3.87 7.44.78 7.57.711a.9.9 0 01.422-.102zm0 14.85a.901.901 0 01-.422-.1 2.288 2.288 0 01-.422-.274l-5.265-4.25a.962.962 0 01-.367-.774 1.055 1.055 0 01.531-.914 1.01 1.01 0 01.906-.062c.125.052.253.128.383.226l4.656 3.743 4.664-3.742a1.6 1.6 0 01.375-.227c.13-.052.263-.078.399-.078a.97.97 0 01.508.14 1.036 1.036 0 01.539.915c0 .312-.123.57-.368.773l-5.265 4.258a2.512 2.512 0 01-.422.265.917.917 0 01-.43.102z"})})},16184:(e,t,o)=>{o.d(t,{Q:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.IU)("lockedFilled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.69141 14.6338H11.3018C12.2178 14.6338 12.6689 14.1826 12.6689 13.1914V8.08496C12.6689 7.18945 12.293 6.72461 11.541 6.64941V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.67676C3.74805 6.78613 3.32422 7.2373 3.32422 8.08496V13.1914C3.32422 14.1826 3.77539 14.6338 4.69141 14.6338ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.64258L5.75098 6.64941V4.83105Z"})})},22686:(e,t,o)=>{o.d(t,{f:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.IU)("person",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,o)=>{o.d(t,{X:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.IU)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,n.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,n.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},75071:(e,t,o)=>{o.d(t,{f:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.IU)("plusThick",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},84465:(e,t,o)=>{o.d(t,{J9:()=>l,_5:()=>s,gh:()=>a});var i=o(92996),n=o(11002),r=o(98251);const s={suggested:r.sY.suggestedCategory,design:r.sY.designer,eng:r.sY.engineering,product:r.sY.productManagement,marketing:r.sY.marketing,sales:r.sY.sales,support:r.sY.support,hr:r.sY.hr,life:r.sY.life,student:r.sY.student},a={suggested:[i.Ll,i.Yb,i.tt,i.KW,i.r],product:[i.tt],design:[i.Yb],eng:[i.tt],marketing:[i.Yb],hr:[i.Yb],sales:[i.Yb],support:[i.Yb],life:[],student:[]},l={suggested:[n.Y.defaultWiki],product:[n.Y.oneOnOneNotes,n.Y.productWiki,n.Y.productSpec,n.Y.visionAndStrategy,n.Y.presentation,n.Y.investorUpdate,n.Y.userResearch,n.Y.experimentResults,n.Y.brainstorm,n.Y.productLaunchBrief],design:[n.Y.designSprint,n.Y.designSystem,n.Y.designPortfolio,n.Y.userResearch,n.Y.brainstorm],eng:[n.Y.engineeringWiki,n.Y.engineeringTechSpec,n.Y.experimentResults,n.Y.brainstorm],marketing:[n.Y.presentation,n.Y.brandAssets,n.Y.brainstorm,n.Y.contentCalendar,n.Y.blogEditorialCalendar,n.Y.socialMediaCalendar,n.Y.campaignBrief,n.Y.moodBoard,n.Y.mediaList],hr:[n.Y.companyHome,n.Y.newHireOnboarding,n.Y.employeeBenefits,n.Y.interviewGuide,n.Y.recruitingTracker,n.Y.jobBoard,n.Y.applicantTracker,n.Y.peopleDirectory],sales:[n.Y.salesWiki,n.Y.salesCRM,n.Y.salesAssets,n.Y.competitiveAnalysis],support:[n.Y.productFAQs,n.Y.helpCenter],life:[n.Y.readingListV2,n.Y.habitTrackerV2,n.Y.simpleBudgetV2,n.Y.weeklyTodoV2,n.Y.travelPlannerV2,n.Y.journalV2,n.Y.resumeV2,n.Y.personalHomeV3,n.Y.quickNoteV2,n.Y.jobApplicationsV2,n.Y.lifeWikiV2,n.Y.moodBoardV2,n.Y.blogPostV2,n.Y.personalCRMV2],student:[n.Y.studentDashboardV2,n.Y.classNotesV2,n.Y.courseScheduleV2,n.Y.gradeCalculatorV2,n.Y.cornellNotesSystemV2,n.Y.syllabusV2,n.Y.lessonPlansV2,n.Y.classDirectoryV2,n.Y.classroomHomeV2,n.Y.clubHomepageV2]}}}]);