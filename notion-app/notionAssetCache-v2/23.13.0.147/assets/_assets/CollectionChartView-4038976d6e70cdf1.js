(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9308],{83357:(e,t,r)=>{"use strict";r.d(t,{Hk:()=>b,NV:()=>m,Nv:()=>v,OV:()=>g,f5:()=>h,h5:()=>y,hi:()=>c,li:()=>f,s8:()=>p,wh:()=>d,x7:()=>S});r(21703);var o=r(47025),n=r(2032),i=r(9291),a=r(53965),s=r(1898),l=r(51592),u=r(16187);const c="Not implemented",d=(0,i.defineMessages)({chartType:{defaultMessage:"Chart type",id:"database.viewSettings.mainTab.chartType.title"},chartData:{defaultMessage:"Data",id:"database.viewSettings.mainTab.chartData.title"},chartStyle:{defaultMessage:"Style",id:"database.viewSettings.mainTab.chartStyle.title"},chartXAxis:{defaultMessage:"X axis",id:"database.viewSettings.mainTab.axisChart.xAxis"},chartXAxisGroupByUnique:{defaultMessage:"Unique",id:"database.viewSettings.mainTab.axisChart.xAxis.groupBy.unique"},chartAggregateBy:{defaultMessage:"Aggregate by",id:"database.viewSettings.mainTab.axisChart.aggregateBy"},chartAggregateSection:{defaultMessage:"Aggregate",id:"database.viewSettings.mainTab.axisChart.chartAggregateSection"},chartDistinctSection:{defaultMessage:"Distinct count of",id:"database.viewSettings.mainTab.axisChart.chartDistinctSection"},chartGroupBy:{defaultMessage:"Group by",id:"database.viewSettings.mainTab.axisChart.groupBy"},chartSortBy:{defaultMessage:"Sort by",id:"database.viewSettings.mainTab.axisChart.sortBy"},chartYAxis:{defaultMessage:"Y axis",id:"database.viewSettings.mainTab.axisChart.yAxis"},chartHelp:{defaultMessage:"Learn about charts",id:"database.viewSettings.mainTab.charts.learnMoreButton"},chartWhatToShow:{defaultMessage:"What to show",id:"database.viewSettings.mainTab.charts.whatToShow"},chartSliceDonutBy:{defaultMessage:"Slice donut by",id:"database.viewSettings.mainTab.charts.sliceDonutBy"},chartSliceDonutAggregation:{defaultMessage:"Each slice represents",id:"database.viewSettings.mainTab.charts.sliceDonutAggregation"},noneMenuItem:{defaultMessage:"None",id:"database.viewSettings.mainTab.charts.noneMenuItem"}}),g=(0,i.defineMessages)({chartStyleTitle:{defaultMessage:"Style",id:"database.viewSettings.chartStyleTab.title"},chartColor:{defaultMessage:"Color",id:"database.viewSettings.chartStyleTab.chartColor"},chartGroupStyle:{defaultMessage:"Group style",id:"database.viewSettings.chartStyleTab.groupStyle"},chartGridLine:{defaultMessage:"Grid line",id:"database.viewSettings.chartStyleTab.chartGridLine"},chartAxisName:{defaultMessage:"Axis name",id:"database.viewSettings.chartStyleTab.chartAxisName"},chartLegend:{defaultMessage:"Legend",id:"database.viewSettings.chartStyleTab.chartLegend"},chartCaption:{defaultMessage:"Caption",id:"database.viewSettings.chartStyleTab.chartCaption"},chartHideEmptyGroups:{defaultMessage:"Hide empty groups",id:"database.viewSettings.chartStyleTab.chartHideEmptyGroups"}}),p=(0,i.defineMessages)({none:{defaultMessage:"None",id:"database.viewSettings.chartStyleTab.gridOptions.none"},horizontal:{defaultMessage:"Horizontal",id:"database.viewSettings.chartStyleTab.gridOptions.horizontal"},vertical:{defaultMessage:"Vertical",id:"database.viewSettings.chartStyleTab.gridOptions.vertical"},both:{defaultMessage:"Both",id:"database.viewSettings.chartStyleTab.gridOptions.both"}}),y=(0,i.defineMessages)({auto:{id:"database.viewSettings.chartStyleTab.colorTheme.auto",defaultMessage:"Auto"},colorful:{id:"database.viewSettings.chartStyleTab.colorTheme.colorful",defaultMessage:"Colorful"},gray:{id:"database.viewSettings.chartStyleTab.colorTheme.gray",defaultMessage:"Colorless"},blue:{id:"database.viewSettings.chartStyleTab.colorTheme.blue",defaultMessage:"Blue"},yellow:{id:"database.viewSettings.chartStyleTab.colorTheme.yellow",defaultMessage:"Yellow"},green:{id:"database.viewSettings.chartStyleTab.colorTheme.green",defaultMessage:"Green"},purple:{id:"database.viewSettings.chartStyleTab.colorTheme.purple",defaultMessage:"Purple"},red:{id:"database.viewSettings.chartStyleTab.colorTheme.red",defaultMessage:"Red"}}),f=(0,i.defineMessages)({none:{defaultMessage:"None",id:"database.viewSettings.chartStyleTab.axisLabelOptions.none"},x_axis:{defaultMessage:"X axis",id:"database.viewSettings.chartStyleTab.axisLabelOptions.xAxis"},y_axis:{defaultMessage:"Y axis",id:"database.viewSettings.chartStyleTab.axisLabelOptions.yAxis"},both:{defaultMessage:"Both",id:"database.viewSettings.chartStyleTab.axisLabelOptions.both"}}),h=["vertical_bar","horizontal_bar","line","donut","number"],m=(0,i.defineMessages)({vertical_bar:{id:"chartType.bar.vertical",defaultMessage:"Vertical bar"},horizontal_bar:{id:"chartType.bar.horizontal",defaultMessage:"Horizontal bar"},line:{id:"chartType.line",defaultMessage:"Line"},donut:{id:"chartType.donut",defaultMessage:"Donut"},number:{id:"chartType.number",defaultMessage:"Number"}});function v(e){const t=e.type;if("column"===t)return"vertical_bar";if("line"===t)return"line";if("donut"===t)return"donut";if("number"===t)throw new Error("not implemented");if("placeholder"===t)throw new Error("Should not happen");(0,s.t1)(t)}function b(e){let{aggregation:t,databaseType:r,intl:o}=e;const i=(0,a.kC)((0,l.sN)(r));if((0,n.HK)(t))return o.formatMessage({id:"chartYAxis.aggregate.count",defaultMessage:"{value} count"},{value:i});if("unique"===t.aggregator)return o.formatMessage({id:"chartYAxis.aggregate.distinct",defaultMessage:"Distinct"});{const e=(0,n.OV)(t);return u.v6[e]}}function S(e){if("column"===e.type||"line"===e.type){const t=(0,o._z)(e.axisConfig);if(!t)return;return"record_count"===t.type?{aggregator:"count"}:{aggregator:t.aggregator,property:t.property}}if("donut"===e.type){const t=e.donutConfig.dataConfig.aggregation;if(!t)return;return"record_count"===t.type?{aggregator:"count"}:{aggregator:t.aggregator,property:t.property}}}},97372:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>B,j9:()=>k,nJ:()=>T});var o=r(67294),n=r(480),i=r(86628),a=r(24405),s=r(80721),l=r(64275),u=r(12392),c=r(37810),d=r(5149),g=r(64921),p=r(73063),y=r(36488),f=r(3386),h=r(78140),m=r(40721),v=r(12534),b=r(60709),S=r(13273),x=r(25130),C=r(58421),w=r(85893);const T=290,k=400;function M(e){let{children:t,title:r,settingsStackLength:o,handleClose:n,handleBackArrowClick:i,hideDesktopHeader:u}=e;const d=(0,a.yK)((e=>({hiddenDesktopHeaderDiv:{height:6},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:"center",padding:"14px 16px 6px 16px",height:42},arrowButon:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:c.Z.fontWeight.semibold,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.mediumTextColor}})),[]);return(0,w.jsxs)(w.Fragment,{children:[u&&(0,w.jsx)("div",{style:d.hiddenDesktopHeaderDiv}),!u&&(0,w.jsxs)("div",{style:d.nonHiddenDesktopHeaderDiv,children:[o>1&&(0,w.jsx)(p.Z,{icon:s.W,style:d.arrowButon,iconStyle:d.arrowIcon,onClick:i}),(0,w.jsx)("span",{style:d.title,children:r}),(0,w.jsx)(g.Z,{onClick:n,style:d.closeButton,hoveredStyle:d.closeButtonHover,children:(0,l.D)(d.closeIcon)})]}),t]})}const B=function(e){let{children:t,footer:r,header:a,unconstrainedWidth:s,desktopWidth:l,title:c,collectionSettingsStore:g,fullHeight:k,hideDesktopHeader:B,menuScrollerStyle:_,handleBackArrowClick:R,handleClose:A}=e;const L=(0,n.Fy)(),{currentTab:V,settingsStackLength:z}=(0,i.VK)((()=>{const e=g.state;return{currentTab:(0,C.n)(g),settingsStackLength:e.stack.length}}),[g]),D=(0,o.useCallback)((()=>{R?R():d.z$({collectionSettingsStore:g})}),[R,g]),G=(0,o.useCallback)((e=>{A?A(e):(0,v.ZP)({event:e,context:v.Af.CollectionSettingsClick,callback:()=>{d.E3({collectionSettingsStore:g})}})}),[A,g]),K=(0,o.useCallback)((e=>{(0,S.jM)(e.target)||(0,S.al)(e.target)||G(e)}),[G]),{MenuArrowKeysProvider:E,context:F}=(0,x.ZP)();if(!V)return null;let O;if(L.isMobile)O={menuType:b.og.Modal,title:c,left:z>1&&(0,w.jsx)(p.Z,{icon:u.S,onClick:D}),right:(0,w.jsx)(m.DoneMenuText,{}),onClickRight:G,scrollerStyle:{..._}};else{const e=s||l?void 0:T;O={menuType:b.og.Popup,minWidth:T,width:l,maxHeight:k?"calc(100% - 16px)":"50vh",...e&&{maxWidth:e},onClickOutside:K,scrollerStyle:{flexGrow:0,..._},header:(0,w.jsx)(M,{settingsStackLength:z,handleClose:G,handleBackArrowClick:D,hideDesktopHeader:B,title:c,children:a}),footer:r}}const H=(0,w.jsxs)(w.Fragment,{children:[L.isMobile&&a,t,L.isMobile&&r]});return k?(0,w.jsx)(E,{value:F,children:(0,w.jsx)(f.Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:F.onKeyDown,onDown:F.onKeyDown,children:(0,w.jsx)(h.Z,{...O,children:H})})}):(0,w.jsx)(y.Z,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,allowMenuList:!0,render:e=>(0,w.jsx)(E,{value:F,children:(0,w.jsx)(f.Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:F.onKeyDown,onDown:F.onKeyDown,children:(0,w.jsx)(h.Z,{...O,...e,children:H})})})})}},39639:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});r(52262),r(24506);var o=r(67294),n=r(480),i=r(86628),a=r(24405),s=r(47025),l=r(42875),u=r(9291),c=r(83357),d=r(97372),g=(r(57658),r(21703),r(30120)),p=r(66897),y=r(14714),f=r(99036),h=r(23512),m=r(96367),v=r(21202),b=r(1898),S=r(26842),x=r(92918),C=r(37034),w=r(29376),T=r(25044);const k="grouped_chart_results";function M(e){let{isLoading:t,yAxisGroupKey:r,xAxisGroupBy:o,hideEmptyGroups:n,groupResults:i,aggregationResults:a,schema:s,timezone:l,collectionViewBlockStore:u,environment:c,intl:d}=e;const p=[];if(i.forEach(((e,i)=>{const f=e.value,h=(0,y.Hd)(f),m=r?(0,y.Lr)([r,h]):h,v=a[m];if(!v){if(t)return;throw new Error(`Could not find aggregation for the chart group ${m}`)}const b=R({groupBy:o,groupValue:f,schema:s,collectionViewBlockStore:u,environment:c,intl:d,timezone:l}),S=A(v);if(void 0!==b&&void 0!==S){if(n&&0===S)return;if("number"!==o.type&&"date"!==o.type||"number"!=typeof b)p.push({x:i,y:S,name:b.toString()});else{const e="date"===o.type?g.ou.fromMillis(b).toISODate():b.toString();n?p.push({x:i,y:S,name:e}):p.push({x:b,y:S,name:e})}}})),(0,y.ib)(o)&&(0,y.A1)(o.type)&&!n){return function(e){let{groupBy:t,initialDataPoints:r}=e;if("relative"===t)return;const o=function(e){return`${e}s`}(t),n=[];for(let i=0;i<r.length;i++){const e=r[i];if(n.push(e),i===r.length-1)break;const t=r[i].x,a=r[i+1].x;if("number"!=typeof t||"number"!=typeof a)continue;const s=g.ou.fromMillis(t),l=g.ou.fromMillis(a).diff(s,o).toObject()[o],u=Math.round((l||0)-1);if(u<=0)continue;let c=s;for(let r=0;r<u;r++){const e=c.plus({[o]:1}),t=e.toMillis();n.push({x:t,y:0,name:g.ou.fromMillis(t).toISODate()}),c=e}}return n}({groupBy:o.groupBy,initialDataPoints:p})}return p}function B(e,t){return t?"category":(0,y.A1)(e)?"datetime":"number"===e?"linear":"category"}function _(e){let{isLoading:t,donutGroupBy:r,groupResults:o,aggregationResults:n,schema:i,timezone:a,collectionViewBlockStore:l,environment:u,intl:c}=e;const{type:d,property:g}=r;if(!(0,s.Co)(d))return;const p=i[g];if(!p)return;const f=[{name:p.name,data:[]}],m=f[0],v=[];return o.forEach((e=>{const o=e.value,s=(0,y.Hd)(o),d=n[s];if(!d){if(t)return;throw new Error(`Could not find aggregation for the chart group ${s}`)}const g=function(e){var t;let{groupBy:r,groupValue:o,schema:n,collectionViewBlockStore:i,environment:a,intl:s,timezone:l}=e;const u=n[r.property];if((0,y.Mc)(o)&&o.value)return(0,x.fZ)({intl:s,value:o.value});if("number"===o.type&&"number"===(null==u?void 0:u.type)&&o.value){const e=(null==u?void 0:u.number_format)||h.dk;return(0,x.xg)({intl:s,value:o.value,format:e})}if("checkbox"===o.type&&"checkbox"===(null==u?void 0:u.type))return o.value?u.name:s.formatMessage(x.nX.emptyGroupLabel,{name:u.name});return null===(t=R({groupBy:r,groupValue:o,schema:n,collectionViewBlockStore:i,environment:a,intl:s,timezone:l}))||void 0===t?void 0:t.toString()}({groupBy:r,groupValue:o,schema:i,collectionViewBlockStore:l,environment:u,intl:c,timezone:a}),f=A(d);void 0!==f&&v.push({name:g??c.formatMessage(x.nX.emptyGroupLabel,{name:p.name}),y:f})})),m.name="",m.data=v,{seriesData:f}}function R(e){let{groupBy:t,groupValue:r,schema:o,collectionViewBlockStore:n,environment:i,intl:a,timezone:s}=e;const l=o[t.property];var u,c,d,h;if(l)if((0,y.Mc)(r)){if("day"===(null===(u=r.value)||void 0===u?void 0:u.type)||"month"===(null===(c=r.value)||void 0===c?void 0:c.type)||"week"===(null===(d=r.value)||void 0===d?void 0:d.type)||"year"===(null===(h=r.value)||void 0===h?void 0:h.type)){return g.ou.fromISO(r.value.range.start_date,{zone:s}).startOf("day").toMillis()}}else if((0,y.tL)(r)&&(0,f.p_)(l)){const e=r.value;if((0,y.RA)(e)){const t=e.id,r=S.G.createChildStore(n,{id:t,table:v.iU});return(0,C.vU)({environment:i,intl:a,store:r})}if((0,y.t2)(e)){var x;const t=(0,w.ke)(l,n);if(!t)return;const r=null===(x=m.qB[t])||void 0===x||null===(x=x[e.value.variable])||void 0===x?void 0:x.messageDescriptor;return r?a.formatMessage(r):void 0}if(!r.value){const e=n.getAssociatedCollectionStore();return!!e&&(0,T.O)({collectionStore:e,property:t.property,propertySchema:l,parentStore:e})?a.formatMessage(T.u.sprintUncategorizedGroup,{name:null==l?void 0:l.name}):a.formatMessage(L.chartUncategorizedGroup,{name:null==l?void 0:l.name})}}else if((0,y.Rc)(r)){const e=r.value,t=null==e?void 0:e.type;if("by_group"===t)return null==e?void 0:e.group;if("by_option"===t)return null==e?void 0:e.option}else{if("select"===r.type||"multi_select"===r.type)return r.value?r.value:a.formatMessage(L.chartUncategorizedGroup,{name:null==l?void 0:l.name});if("number"===r.type){const e=r.value;if(!e)return;const t=e.type;if("range"===t)return e.start;if("unique"===t)return e.value;if("out_of_range"===t)return;(0,b.t1)(t)}else if("person"===r.type){const e=r.value;if(!e)return;const t=(0,p.Hl)({pointer:e,getRecordModel:n.getRecordModel});if(!t)return;return(0,p.$4)(a,t)}}}function A(e){const t=e.aggregationResult;if("number"===t.type)return t.value}const L=(0,u.defineMessages)({chartUncategorizedGroup:{defaultMessage:"No {name}",id:"database.chartView.uncategorizedGroupLabel"}});function V(e,t){const r=(0,o.useRef)(e);return(0,o.useEffect)((()=>{t||void 0===e||(r.current=e)}),[t,e]),r.current}var z=r(21804),D=r.n(z);const G=60;function K(e,t){const r=(0,a.yK)((e=>({tooltip:{borderColor:e.accentColors.gray[100],borderRadius:5,shadowColor:e.accentColors.gray[200],padding:13},header:{fontSize:"14px",paddingBottom:"5px"},row:{fontSize:"12px",lineHeight:"20px"},square:{height:"7px",width:"7px",borderRadius:"1px",border:"1px solid",marginRight:"15px",marginBottom:"1px",display:"inline-block"},rowLeft:{display:"inline-block",marginRight:"25px",color:e.accentColors.gray[500]},rowRight:{textAlign:"right",color:e.accentColors.gray[300]}})),[]),n=e=>Object.keys(e).reduce(((t,r)=>`${t}${D()(r)}:${e[r]};`),""),{rowStyle:i,squareStyle:s,rowLeftStyles:l,rowRightStyles:u,headerStyles:c}=(0,o.useMemo)((()=>({rowStyle:n(r.row),squareStyle:n(r.square),rowLeftStyles:n(r.rowLeft),rowRightStyles:n(r.rowRight),headerStyles:n(r.header)})),[r]),d=(0,o.useMemo)((()=>({useHTML:!0,shape:"rect",borderColor:r.tooltip.borderColor,borderRadius:r.tooltip.borderRadius,shadow:{color:r.tooltip.shadowColor},padding:r.tooltip.padding})),[r]),g=(0,o.useMemo)((()=>t?{...d,formatter:function(){return`\n\t\t\t\t\t<table>\n\t\t\t\t\t<tr style="${i}">\n\t\t\t\t\t\t<td> \n\t\t\t\t\t\t\t<div style="${s} border-color: ${this.series.color}; background-color: ${this.series.color};">\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t<div style="${l}">\n\t\t\t\t\t\t\t\t${this.point.name}\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style="${u}">\n\t\t\t\t\t\t\t${this.y}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</table> \n\t\t\t\t`}}:d),[t,d,i,s,l,u]),p=(0,o.useMemo)((()=>t?{...d,shared:!0,positioner:function(e,t,r){return{x:r.plotX-e>0?r.plotX-e:r.plotX+G,y:r.plotY-t>0?r.plotY-t/2:r.plotY}},formatter:function(){var e;return`\n\t\t\t\t\t<table>\n\t\t\t\t\t<tr><td colspan="2" style="${c}">${this.point.name}</td></tr>\n\t\t\t\t\t${null===(e=this.points)||void 0===e?void 0:e.map((e=>`\n\t\t\t\t\t\t\t<tr style="${i}">\n\t\t\t\t\t\t\t<td> \n\t\t\t\t\t\t\t<div style="${s} border-color: ${e.series.color}; background-color: ${e.series.color};">\n\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t\t<div style="${l}">\n\t\t\t\t\t\t\t\t\t${e.series.name}\n\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style="${u}">\n\t\t\t\t\t\t\t\t${e.y}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t`)).join("")}\n\t\t\t\t\t</table>\n\t\t\t\t`}}:d),[t,d,i,c,s,l,u]);return e?1===e.length?g:p:d}var E=r(68641),F=r(77907),O=r(34232),H=r(80444),j=r(23063),I=r(48190),$=r(85893);function P(e){var t,r,o;let{collectionContextStore:l,groupedChartReducer:d,chartConfig:g,timezone:p}=e;const f=(0,n.O7)(),h=(0,u.useIntl)(),m=(0,a.Fg)(),{collectionViewBlockStore:v,databaseType:b}=(0,i.VK)((()=>({collectionViewBlockStore:l.collectionViewBlockStore(),databaseType:l.databaseType})),[l]),S=(0,i.VK)((()=>l.normalizedSchemaStore.state),[l.normalizedSchemaStore]),C=(0,I.Z)({id:k,reducer:d,collectionContextStore:l}),w=(0,i.VK)((()=>{var e,t;const r=null==C?void 0:C.results,o=null==C?void 0:C.subGroupResults,n=null==r||null===(e=r.at(0))||void 0===e||null===(e=e.value)||void 0===e?void 0:e.type,i=null==o||null===(t=o.at(0))||void 0===t||null===(t=t.value)||void 0===t?void 0:t.type,a=g.axisConfig.dataConfig.xAxis.groupBy,l=(0,s._z)(g.axisConfig),u=null!=l&&l.stackOptions?l.stackOptions.groupBy.type:void 0;return n!==a.type||i!==u}),[null==C?void 0:C.results,null==C?void 0:C.subGroupResults,g],{useDeepEqual:!0}),T=(0,O.Z)(w,500,0),_=V(g.axisConfig,w),A=(0,i.VK)((()=>w?_:g.axisConfig),[w,_,g.axisConfig],{useDeepEqual:!0}),L=(0,i.VK)((()=>{var e;if(!C||!v)return;const t=C.results,r=C.aggregationResults,o=C.subGroupResults;return r?function(e){var t,r;let{isLoading:o,axisConfig:n,groupResults:i,aggregationResults:a,subGroupResults:l,schema:u,timezone:c,format:d,chartColorTheme:g,theme:p,collectionViewBlockStore:f,environment:h,intl:m}=e;const v=n.dataConfig.xAxis.groupBy,b=(0,s._z)(n);if(!a||!v||!b)return;const{type:S,property:C}=v;if(!(0,s.mk)(S))return;const w=u[C];if(!w)return;const T=[],k=null===(t=b.stackOptions)||void 0===t?void 0:t.groupBy,_=Boolean((null===(r=n.axisFormat)||void 0===r?void 0:r.hideEmptyGroups)&&"record_count"===b.type),A=b.seriesFormat.displayType;if(l&&k){if(!u[k.property])return;l.forEach((e=>{const t=e.value,r=R({groupBy:k,groupValue:t,schema:u,collectionViewBlockStore:f,environment:h,intl:m,timezone:c});if(!r)return;const n={name:r.toString(),type:A,data:[]},s=(0,y.Hd)(t),l=M({isLoading:o,yAxisGroupKey:s,xAxisGroupBy:v,hideEmptyGroups:_,groupResults:i,aggregationResults:a,schema:u,timezone:c,collectionViewBlockStore:f,environment:h,intl:m});if("auto"===g){const e=(0,x.II)({environment:h,groupFormat:{property:k.property,value:t},schema:u,format:d,theme:p,ignoreDisableColorColumns:!0});n.color=(null==e?void 0:e.textColor)??p.selectLightGray[200]}l&&(n.data=l,T.push(n))}))}else{const e={name:w.name.toString(),type:A,data:[]},t=M({isLoading:o,yAxisGroupKey:void 0,xAxisGroupBy:v,hideEmptyGroups:_,groupResults:i,aggregationResults:a,schema:u,timezone:c,collectionViewBlockStore:f,environment:h,intl:m});t&&(e.data=t,T.push(e))}return{seriesData:T,xAxisType:B(S,_),yAxisAllowDecimals:!1}}({isLoading:w,axisConfig:A,groupResults:t,aggregationResults:r,subGroupResults:o,schema:S,timezone:p,collectionViewBlockStore:v,environment:f,intl:h,format:l.normalizedFormatStore.state,chartColorTheme:(null===(e=g.chartFormat)||void 0===e?void 0:e.colorTheme)||"auto",theme:m}):void 0}),[l,w,C,v,A,S,p,f,h,null===(t=g.chartFormat)||void 0===t?void 0:t.colorTheme,m],{useDeepEqual:!0}),z=(0,i.VK)((()=>{const e=A.dataConfig.xAxis.groupBy.property;if(e&&S)return S[e]}),[A,S],{useDeepEqual:!0}),D=(0,i.VK)((()=>{var e;const t=null===(e=A.axisFormat)||void 0===e?void 0:e.axisLabel;if(t&&t!==s.Xg.y_axis&&t!==s.Xg.none)return null==z?void 0:z.name}),[A,z]),G=(0,i.VK)((()=>{var e;const t=null===(e=A.axisFormat)||void 0===e?void 0:e.axisLabel;if(!t)return;if(t===s.Xg.x_axis||t===s.Xg.none)return;const r=(0,s._z)(A);if(!r)return;if("record_count"===r.type)return(0,c.Hk)({aggregation:{aggregator:"count"},databaseType:b,intl:h});const o=(0,c.Hk)({aggregation:{aggregator:r.aggregator,property:r.property},databaseType:b,intl:h}),n=S[r.property];return`${null==n?void 0:n.name} (${o})`}),[A,b,h,S]),E=(0,i.VK)((()=>{const e=(0,s._z)(A);return!(!e||!e.stackOptions)}),[A]),H=(0,i.VK)((()=>{const e=(0,s._z)(A);if(e&&e.stackOptions)return"normal"}),[A]),j=(0,i.VK)((()=>{var e;const t=null===(e=g.axisConfig.axisFormat)||void 0===e?void 0:e.axisGridLine;return!t||("horizontal"===t||"both"===t)}),[g]),P=(0,i.VK)((()=>{var e;const t=null===(e=g.axisConfig.axisFormat)||void 0===e?void 0:e.axisGridLine;return!!t&&("vertical"===t||"both"===t)}),[g]),q=K(null==L?void 0:L.seriesData,null==L?void 0:L.xAxisType);return L?(0,$.jsx)(F.LazyAxisChart,{timezone:p,seriesData:L.seriesData,isLoading:T,xAxisType:L.xAxisType,yAxisAllowDecimals:L.yAxisAllowDecimals,xAxisTitle:D,yAxisTitle:G,seriesColors:(0,s.kJ)((null===(r=g.chartFormat)||void 0===r?void 0:r.colorTheme)||"auto",m),hideLegend:null===(o=g.chartFormat)||void 0===o?void 0:o.hideLegend,showHorizontalGridLines:j,showVerticalGridLines:P,stackLabelsEnabled:E,columnStacking:H,tooltipOptions:q}):null}function q(e){var t,r;let{collectionContextStore:o,groupedChartReducer:l,chartConfig:c,timezone:d}=e;const g=(0,n.O7)(),p=(0,u.useIntl)(),y=(0,a.Fg)(),f=(0,i.VK)((()=>o.collectionViewBlockStore()),[o]),h=(0,i.VK)((()=>o.normalizedSchemaStore.state),[o.normalizedSchemaStore]),m=(0,I.Z)({id:k,reducer:l,collectionContextStore:o}),v=(0,i.VK)((()=>{var e,t;const r=null==m?void 0:m.results,o=null==m?void 0:m.subGroupResults,n=null==r||null===(e=r.at(0))||void 0===e||null===(e=e.value)||void 0===e?void 0:e.type,i=null==o||null===(t=o.at(0))||void 0===t||null===(t=t.value)||void 0===t?void 0:t.type;return n!==c.donutConfig.dataConfig.groupBy.type||void 0!==i}),[null==m?void 0:m.results,null==m?void 0:m.subGroupResults,c],{useDeepEqual:!0}),b=(0,O.Z)(v,500,0),S=V(c.donutConfig,v),x=(0,i.VK)((()=>v?S:c.donutConfig),[v,S,c.donutConfig],{useDeepEqual:!0}),C=(0,i.VK)((()=>{if(!m||!f)return;const e=m.results,t=m.aggregationResults,r=x.dataConfig.groupBy;return t&&r?_({isLoading:v,donutGroupBy:r,groupResults:e,aggregationResults:t,schema:h,timezone:d,collectionViewBlockStore:f,environment:g,intl:p}):void 0}),[v,m,f,x,h,d,g,p],{useDeepEqual:!0}),w=K(null==C?void 0:C.seriesData,void 0);return C?(0,$.jsx)(F.LazyDonutChart,{timezone:d,seriesData:C.seriesData,isLoading:b,seriesColors:(0,s.kJ)((null===(t=c.chartFormat)||void 0===t?void 0:t.colorTheme)||"auto",y),hideLegend:null===(r=c.chartFormat)||void 0===r?void 0:r.hideLegend,tooltipOptions:w}):null}const Z=function(e){const{collectionContextStore:t,paddingLeft:r,paddingRight:o,headingWidth:a=0}=e,u=(0,n.O7)(),g=(0,i.VK)((()=>u.device.isMobile),[u.device]),p=(0,i.VK)((()=>t.settingsStore),[t]),y=(0,i.VK)((()=>"sidebar"===(0,E.F4)(t,g,a)&&p.state.open),[t,p,a,g]),f=(0,i.VK)((()=>t.normalizedFormatStore.state),[t.normalizedFormatStore]),h=(0,i.VK)((()=>t.normalizedSchemaStore.state),[t.normalizedSchemaStore]),{chartConfig:m,error:v}=(0,i.VK)((()=>(0,s.LI)({collectionViewFormat:f,collectionSchema:h})),[f,h]),b=(0,i.VK)((()=>{var e;const t=null===(e=H.default.state.currentUserSettingsStore)||void 0===e?void 0:e.getSettings(),r=null==t?void 0:t.time_zone,o=(0,l.r)();return r||o}),[]),S=(0,i.VK)((()=>"column"===(null==m?void 0:m.type)||"line"===(null==m?void 0:m.type)?m.axisConfig.dataConfig.xAxis.groupBy:"donut"===(null==m?void 0:m.type)?m.donutConfig.dataConfig.groupBy:void 0),[m]),x=(0,i.VK)((()=>{if("column"===(null==m?void 0:m.type)||"line"===(null==m?void 0:m.type)){var e;const t=(0,s._z)(m.axisConfig);return null==t||null===(e=t.stackOptions)||void 0===e?void 0:e.groupBy}}),[m]),C=(0,i.VK)((()=>{if(v||!m||!S)return;const e=(0,c.x7)(m);if(!e)return;if(x){return{type:"groups",groupBy:S,limit:1e3,groupSortPreference:[],subGroup:{groupBy:x,limit:1e3,groupSortPreference:[]},aggregation:{type:"intersection",aggregation:e}}}return{type:"groups",limit:1e3,groupBy:S,groupSortPreference:[],aggregation:{type:"independent",groupAggregation:e}}}),[m,v,S,x],{useDeepEqual:!0});return(0,$.jsx)("div",{style:{paddingLeft:r,paddingRight:o,paddingTop:20},children:(0,$.jsx)(j.Z,{isVisible:!0,animationStyle:{width:y?`calc(100% - ${d.nJ}px)`:"100%"},render:()=>v?(0,$.jsx)("div",{children:v.type}):C?(0,$.jsxs)($.Fragment,{children:[("column"===(null==m?void 0:m.type)||"line"===(null==m?void 0:m.type))&&(0,$.jsx)(P,{timezone:b,chartConfig:m,collectionContextStore:t,groupedChartReducer:C}),"donut"===(null==m?void 0:m.type)&&(0,$.jsx)(q,{timezone:b,chartConfig:m,collectionContextStore:t,groupedChartReducer:C})]}):null})})}},48190:(e,t,r)=>{"use strict";r.d(t,{P:()=>d,Z:()=>c});var o=r(67294),n=r(1302),i=r(86628),a=r(28155),s=r(40107),l=r(53965),u=r(75330);function c(e){const{id:t,reducer:r,collectionContextStore:a,groupsPointer:c}=e,g=(0,i.VK)((()=>c),[c],{useDeepEqual:!0}),p=(0,i.VK)((()=>r),[r],{useDeepEqual:!0}),y=(0,i.VK)((()=>a.collectionViewStore()),[a]),f=(0,i.VK)((()=>{var e;return null==y||null===(e=y.getFormatStore())||void 0===e?void 0:e.getKeyStore("collection_view_source").getValue()}),[y]),h=(0,o.useRef)(!1),m=(0,s.S)(),[v,b]=(0,o.useReducer)(((e,t)=>l.Xy(e,t)?e:t),void 0),S=(0,o.useCallback)((()=>{const e=a.localResultStore.state,r=a.remoteResult.state,o=e&&"reducer"===e.type?e.reducerResults[t]:void 0,n=r&&"reducer"===r.type?r.reducerResults[t]:void 0;return d({reducerId:t,collectionContextStore:a,reducer:p,localReducerResult:o,remoteReducerResult:n})}),[a,p,t]),x=(0,o.useCallback)((()=>{h.current=!1,m()||b(S())}),[S,m]),C=(0,o.useCallback)((()=>{h.current||(h.current=!0,n.default.afterNextFlush(x))}),[x]);return(0,o.useEffect)((()=>(a.remoteResult.addListener(C),a.localResultStore.addListener(C),()=>{a.remoteResult.removeListener(C),a.localResultStore.removeListener(C)})),[a,C]),(0,o.useEffect)((()=>(u.$D({reducerId:t,instanceId:void 0,reducer:p,collectionContextStore:a,groupsPointer:g}),()=>{u.$D({reducerId:t,instanceId:void 0,reducer:void 0,collectionContextStore:a,groupsPointer:g})})),[a,y,f,g,p,t]),(0,o.useEffect)((()=>{C()}),[]),v}function d(e){const{reducerId:t,localReducerResult:r,remoteReducerResult:o,collectionContextStore:n,reducer:i}=e,s=n.reducers.state,u=n.remoteResult.state;if(n.isClientModeEnabled.state)return r;if("aggregation"===i.type||"groups"===i.type){if(null!=u&&u.reducerResults[t])return u.reducerResults[t];const e=Boolean(u&&"reducer"===u.type&&l.sE(u.reducerResults,((e,t)=>{const r=s[t];return Boolean(r&&"results"===r.reducer.type&&!r.reducer.searchQuery&&"results"===e.type&&e.hasMore&&l.Xy(i.filter,r.reducer.filter))})));return e?r:o}if("results"===i.type){var c;const e=n.wasCreatedThisSession.state,i=Boolean(u&&"reducer"===u.type&&u.reducerResults[t]),s=(0,a.nx)(null===(c=n.collectionViewStore())||void 0===c?void 0:c.getCollectionSource());if((i||e)&&!s&&r&&"results"===r.type){return{...r,hasMore:o&&"results"===o.type?o.hasMore:r.hasMore}}return o}}},68641:(e,t,r)=>{"use strict";r.d(t,{F4:()=>c,HV:()=>i,WY:()=>s,jI:()=>a,vw:()=>l});r(21703);var o=r(6695),n=r(88923);let i=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.ViewBlock=4]="ViewBlock",e}({});function a(e){const{timelineViewTab:t,collectionContextStore:r}=e,n=s({collectionContextStore:r}),i=l({collectionContextStore:r});return"timeline"===n?"timeline"===t?"timeline_properties":i?"timeline_table_properties":void 0:(0,o.oz)(s({collectionContextStore:r}))}function s(e){var t;const{collectionContextStore:r}=e,o=null===(t=r.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function l(e){const{collectionContextStore:t}=e,r=t.normalizedFormatStore.state;return Boolean(r.timeline_show_table)}const u=600;function c(e,t,r,o){const i=r||0,a=e.settingsStore.state;if(a.open&&!0!==a.hideSettingsPopup)return o||(t||n.default.isSidePeekOpen()||e.isCompactView.state||i<=u?"popup":"sidebar")}},25044:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,u:()=>a});var o=r(92996),n=r(9291),i=r(29376);const a=(0,n.defineMessages)({sprintUncategorizedGroup:{defaultMessage:"Backlog (No {name})",id:"database.sprintDatabaseView.uncategorizedGroupLabel"}});function s(e){const{collectionStore:t,property:r,propertySchema:n,parentStore:a}=e;let s=!1;if(null!=t&&t.isDefined()){const e=t.getPropertyMapping();s=(null==e?void 0:e[o.Es.TaskToSprintRelation])===r}return(0,i.ke)(n,a)===o.p$||s}},25130:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>c,nq:()=>u,o$:()=>l});var o=r(67294),n=r(55010);const i=(0,o.createContext)({menuItemRefs:{current:new Set},activeRef:void 0,setActiveRef:()=>{},onKeyDown:()=>{}});function a(e){const t=new Map(Array.from(e).filter((e=>e.current)).map((e=>[e.current,e])));return{sortedElements:Array.from(t.keys()).sort(n.Z),nodeToRef:t}}function s(){return(0,o.useContext)(i)}function l(){const{menuItemRefs:e,activeRef:t,setActiveRef:r}=s(),n=(0,o.useRef)(null),i=(0,o.useCallback)((o=>{var i,a;function s(){t||r(n),null==o||o.removeEventListener("focus",s)}(n.current&&(null==o||o.removeEventListener("focus",s)),o)&&(0===(null===(a=e.current)||void 0===a?void 0:a.size)&&o.addEventListener("focus",s));n.current=o,null===(i=e.current)||void 0===i||i.add(n)}),[e,n,t,r]);return(0,o.useEffect)((()=>{const t=e.current;return()=>{null==t||t.delete(n)}}),[e]),(0,o.useEffect)((()=>{const o=e.current;return()=>{if(null===(null==t?void 0:t.current)&&t===n&&o){const{sortedElements:e,nodeToRef:t}=a(o),n=e[0];n&&t.has(n)&&r(t.get(n))}}}),[t,r,e]),[i,n]}function u(e){const{activeRef:t}=s();return t===e||void 0===t}const c=function(){let{direction:e="vertical"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,o.useRef)(new Set),[r,n]=(0,o.useState)(void 0),s=(0,o.useCallback)((o=>{let{code:i}=o;if("vertical"===e&&!["ArrowUp","ArrowDown"].includes(i)||"horizontal"===e&&!["ArrowLeft","ArrowRight"].includes(i))return;const{nodeToRef:s,sortedElements:l}=a(t.current),u=l.findIndex((e=>e===(null==r?void 0:r.current)));let c;if("vertical"===e&&"ArrowDown"===i||"horizontal"===e&&"ArrowRight"===i?c=u+1>=t.current.size?0:u+1:("vertical"===e&&"ArrowUp"===i||"horizontal"===e&&"ArrowLeft"===i)&&(c=u-1<0?t.current.size-1:u-1),void 0!==c){const e=l[c];e&&(n(s.get(e)),e.focus())}}),[r,e]);return{MenuArrowKeysProvider:i.Provider,context:{menuItemRefs:t,activeRef:r,setActiveRef:n,onKeyDown:s}}}},34232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(67294);function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[i,a]=(0,o.useState)(n),s=(0,o.useRef)(null),l=(0,o.useRef)(null);return(0,o.useLayoutEffect)((()=>{null!==l.current&&window.clearTimeout(l.current),null!==s.current&&window.clearTimeout(s.current),l.current=null,s.current=null,e?0===t?a(!0):s.current=window.setTimeout((()=>{s.current=null,a(!0)}),t):0===r?a(!1):l.current=window.setTimeout((()=>{l.current=null,a(!1)}),r)}),[e,t,r]),i}},47025:(e,t,r)=>{"use strict";r.d(t,{BU:()=>M,CT:()=>x,Co:()=>f,II:()=>w,LI:()=>T,PL:()=>C,QJ:()=>h,Xg:()=>g,Xm:()=>p,_z:()=>k,b6:()=>u,fI:()=>b,h_:()=>m,iR:()=>c,kJ:()=>d,kT:()=>v,mk:()=>l.mk,qV:()=>S});var o=r(1898),n=r(2032),i=r(14714),a=r(80951),s=r(68626),l=r(7289);const u=["blue","yellow","green","purple","red"],c=["auto","colorful","gray"];function d(e,t){switch(e){case"auto":return;case"colorful":return["#2383E2","#DEA128","#4FAA79","#9065CC","#00A1C0","#E17634","#D25390","#D44C47"];case"gray":return[t.accentColors.gray[500],t.accentColors.gray[400],t.accentColors.gray[300],t.accentColors.gray[200],t.accentColors.gray[100]];case"blue":return[t.accentColors.uiBlue[600],t.accentColors.uiBlue[500],t.accentColors.uiBlue[400],t.accentColors.uiBlue[300],t.accentColors.uiBlue[200]];case"yellow":return[t.accentColors.yellow[300],t.accentColors.yellow[200],t.accentColors.yellow[100],t.accentColors.yellow[50],t.accentColors.yellow[30]];case"green":return[t.accentColors.green[500],t.accentColors.green[400],t.accentColors.green[300],t.accentColors.green[200],t.accentColors.green[100]];case"purple":return[t.accentColors.purple[500],t.accentColors.purple[400],t.accentColors.purple[300],t.accentColors.purple[200],t.accentColors.purple[100]];case"red":return[t.accentColors.red[500],t.accentColors.red[400],t.accentColors.red[300],t.accentColors.red[200],t.accentColors.red[100]];default:(0,o.t1)(e)}}let g=function(e){return e.none="none",e.x_axis="x_axis",e.y_axis="y_axis",e.both="both",e}({}),p=function(e){return e.none="none",e.horizontal="horizontal",e.vertical="vertical",e.both="both",e}({});const y=["date","created_time","last_edited_time","last_visited_time","relation","status","select","multi_select","number","title","text","url","email","phone_number","checkbox","person","created_by","last_edited_by"];function f(e){return y.includes(e)}function h(e){if(!e)return!1;return i.vu.includes(e)}function m(e){if(!e)return!1;return i.z8.includes(e)}function v(e){let{collectionSchema:t}=e;return Object.keys(t).filter((e=>{const r=(0,a.Qm)({schema:t,property:e});return!!r&&f(r.type)}))[0]}function b(e){let{property:t,collectionSchema:r}=e;const n=(0,a.Qm)({schema:r,property:t});if(n&&f(n.type))return(0,i.A1)(n.type)?{type:n.type,property:t,groupBy:"day",sort:{type:"ascending"}}:"relation"===n.type||"select"===n.type||"multi_select"===n.type?{type:n.type,property:t,sort:{type:"ascending"}}:"status"===n.type?{type:n.type,property:t,groupBy:"group",sort:{type:"ascending"}}:"number"===n.type?{type:n.type,property:t,groupBy:{type:"unique"},start:-1,end:-1,size:-1,sort:{type:"ascending"}}:(0,i.HB)(n.type)||"checkbox"===n.type||(0,i.pd)(n.type)?{type:n.type,property:t,groupBy:{type:"unique"},sort:{type:"ascending"}}:void(0,o.t1)(n.type)}function S(e){let{property:t,propertySchema:r,groupByOption:o}=e;const n=r.type;if((0,l.mk)(n))if((0,i.A1)(n)){if(o&&m(o))return{type:n,property:t,groupBy:o,sort:{type:"ascending"}}}else{if((0,i.zb)(n)||"select"===n||"multi_select"===n)return{type:n,property:t,sort:{type:"ascending"}};if((0,i.H1)(n)){if(o&&h(o))return{type:n,property:t,groupBy:o,sort:{type:"ascending"}}}else{if("number"===n)return{type:n,property:t,groupBy:{type:"unique"},start:-1,end:-1,size:-1,sort:{type:"ascending"}};if("person"===n)return{type:n,property:t,sort:{type:"manual"}}}}}function x(e){return"status"===e.type||"multi_select"===e.type||"select"===e.type||"relation"===e.type||"number"===e.type||"date"===e.type||"person"===e.type}function C(e){return(0,i.ib)(e)||(0,i.TD)(e)?e.groupBy:void 0}function w(e){let{collectionSchema:t,property:r}=e;const o=(0,a.Qm)({schema:t,property:r});if(!o)return[];const n=o.type;return(0,l.mk)(n)?"number"===n?[{aggregator:"count"},{aggregator:"sum",property:r},{aggregator:"average",property:r},{aggregator:"min",property:r},{aggregator:"max",property:r},{aggregator:"median",property:r}]:[{aggregator:"count"}]:[]}function T(e){let{collectionSchema:t,collectionViewFormat:r}=e;const o=(0,l.K0)({collectionSchema:t});if(!o)return{chartConfig:void 0,error:{type:"no_valid_properties_in_schema"}};if(!r.chart_config)return{chartConfig:o,error:void 0};const{chartConfig:n,error:u}=function(e){let{chartConfig:t,collectionSchema:r}=e;if("placeholder"===t.type)return{chartConfig:t,error:void 0};if("column"===t.type||"line"===t.type){if(void 0===t.axisConfig)return{chartConfig:void 0,error:{type:"dev_data_model_incorrect"}};const e=t.axisConfig.dataConfig.xAxis;if(!e)return{chartConfig:t,error:{type:"no_xAxis_configured"}};const o=(0,a.Qm)({schema:r,property:e.groupBy.property});if(!o)return{chartConfig:t,error:{type:"xAxis_deleted_from_schema"}};if(!(0,l.mk)(o.type))return{chartConfig:t,error:{type:"invalid_xAxis_propertyType"}};if(!(0,i.LG)(o))return{chartConfig:t,error:{type:"property_is_not_groupable"}};const n=w({collectionSchema:r,property:e.groupBy.property}).map((e=>e.aggregator)),s=k(t.axisConfig);return s?"record_count"!==s.type||n.includes("count")?{chartConfig:t,error:void 0}:{chartConfig:t,error:{type:"invalid_aggregation"}}:{chartConfig:t,error:{type:"no_yAxis_configured"}}}if("donut"===t.type){if(void 0===t.donutConfig)return{chartConfig:void 0,error:{type:"dev_data_model_incorrect"}};const e=t.donutConfig.dataConfig.groupBy;if(!e)return{chartConfig:t,error:{type:"no_slice_configured"}};const o=(0,a.Qm)({schema:r,property:e.property});if(!o)return{chartConfig:t,error:{type:"slice_deleted_from_schema"}};if(!f(o.type))return{chartConfig:t,error:{type:"invalid_slice_propertyType"}};if(!(0,i.LG)(o))return{chartConfig:t,error:{type:"property_is_not_groupable"}};return t.donutConfig.dataConfig.aggregation||(t.donutConfig.dataConfig.aggregation=(0,l.kR)({})),{chartConfig:t,error:void 0}}return{chartConfig:void 0,error:{type:"dev_data_model_incorrect"}}}({chartConfig:r.chart_config,collectionSchema:t});return u&&s.log({level:"error",from:"CollectionChartView",type:"ChartConfigError",error:{miscDataString:u.type}}),{chartConfig:n??o,error:u}}function k(e){const t=null==e?void 0:e.dataConfig.yAxis;if(t&&t[0])return t[0]}function M(e,t){if((0,n.HK)(t))return{type:"record_count",seriesFormat:{displayType:e.seriesFormat.displayType},stackOptions:e.stackOptions};if((0,n.nC)(t)||"unique"===t.aggregator){if("range"===t.aggregator)return;return{type:"property_aggregation",seriesFormat:{displayType:e.seriesFormat.displayType},stackOptions:e.stackOptions,aggregator:t.aggregator,property:t.property}}}},80721:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});r(67294);var o=r(45238),n=r(85893);const i=(0,o.IU)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},64275:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});r(67294);var o=r(45238),n=r(85893);const i=(0,o.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},12392:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});r(67294);var o=r(45238),n=r(85893);const i=(0,o.IU)("historyBack",{viewBox:"0 0 14 14",svg:(0,n.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})},21804:(e,t,r)=>{var o=r(35393)((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}));e.exports=o}}]);